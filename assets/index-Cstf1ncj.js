var bP=Object.defineProperty;var xP=(t,e,r)=>e in t?bP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var cr=(t,e,r)=>xP(t,typeof e!="symbol"?e+"":e,r);function EP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P6={exports:{}},Kg={},L6={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),SP=Symbol.for("react.portal"),TP=Symbol.for("react.fragment"),NP=Symbol.for("react.strict_mode"),kP=Symbol.for("react.profiler"),IP=Symbol.for("react.provider"),CP=Symbol.for("react.context"),RP=Symbol.for("react.forward_ref"),PP=Symbol.for("react.suspense"),LP=Symbol.for("react.memo"),OP=Symbol.for("react.lazy"),rx=Symbol.iterator;function DP(t){return t===null||typeof t!="object"?null:(t=rx&&t[rx]||t["@@iterator"],typeof t=="function"?t:null)}var O6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D6=Object.assign,j6={};function Lh(t,e,r){this.props=t,this.context=e,this.refs=j6,this.updater=r||O6}Lh.prototype.isReactComponent={};Lh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F6(){}F6.prototype=Lh.prototype;function r5(t,e,r){this.props=t,this.context=e,this.refs=j6,this.updater=r||O6}var n5=r5.prototype=new F6;n5.constructor=r5;D6(n5,Lh.prototype);n5.isPureReactComponent=!0;var nx=Array.isArray,M6=Object.prototype.hasOwnProperty,i5={current:null},B6={key:!0,ref:!0,__self:!0,__source:!0};function U6(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)M6.call(e,n)&&!B6.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:jd,type:t,key:s,ref:a,props:i,_owner:i5.current}}function jP(t,e){return{$$typeof:jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s5(t){return typeof t=="object"&&t!==null&&t.$$typeof===jd}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ix=/\/+/g;function d1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function bm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jd:case SP:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+d1(a,0):n,nx(i)?(r="",t!=null&&(r=t.replace(ix,"$&/")+"/"),bm(i,e,r,"",function(u){return u})):i!=null&&(s5(i)&&(i=jP(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ix,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",nx(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+d1(s,o);a+=bm(s,e,r,l,i)}else if(l=DP(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+d1(s,o++),a+=bm(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ip(t,e,r){if(t==null)return t;var n=[],i=0;return bm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function MP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vi={current:null},xm={transition:null},BP={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:xm,ReactCurrentOwner:i5};function V6(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Ip,forEach:function(t,e,r){Ip(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ip(t,function(){e++}),e},toArray:function(t){return Ip(t,function(e){return e})||[]},only:function(t){if(!s5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Lh;Wt.Fragment=TP;Wt.Profiler=kP;Wt.PureComponent=r5;Wt.StrictMode=NP;Wt.Suspense=PP;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;Wt.act=V6;Wt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=D6({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=i5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)M6.call(e,l)&&!B6.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:jd,type:t.type,key:i,ref:s,props:n,_owner:a}};Wt.createContext=function(t){return t={$$typeof:CP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IP,_context:t},t.Consumer=t};Wt.createElement=U6;Wt.createFactory=function(t){var e=U6.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:RP,render:t}};Wt.isValidElement=s5;Wt.lazy=function(t){return{$$typeof:OP,_payload:{_status:-1,_result:t},_init:MP}};Wt.memo=function(t,e){return{$$typeof:LP,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=xm.transition;xm.transition={};try{t()}finally{xm.transition=e}};Wt.unstable_act=V6;Wt.useCallback=function(t,e){return vi.current.useCallback(t,e)};Wt.useContext=function(t){return vi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return vi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return vi.current.useEffect(t,e)};Wt.useId=function(){return vi.current.useId()};Wt.useImperativeHandle=function(t,e,r){return vi.current.useImperativeHandle(t,e,r)};Wt.useInsertionEffect=function(t,e){return vi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return vi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return vi.current.useMemo(t,e)};Wt.useReducer=function(t,e,r){return vi.current.useReducer(t,e,r)};Wt.useRef=function(t){return vi.current.useRef(t)};Wt.useState=function(t){return vi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,r){return vi.current.useSyncExternalStore(t,e,r)};Wt.useTransition=function(){return vi.current.useTransition()};Wt.version="18.3.1";L6.exports=Wt;var Ge=L6.exports;const z6=AP(Ge),UP=EP({__proto__:null,default:z6},[Ge]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=Ge,zP=Symbol.for("react.element"),qP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,WP=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$P={key:!0,ref:!0,__self:!0,__source:!0};function q6(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)HP.call(e,n)&&!$P.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:zP,type:t,key:s,ref:a,props:i,_owner:WP.current}}Kg.Fragment=qP;Kg.jsx=q6;Kg.jsxs=q6;P6.exports=Kg;var S=P6.exports,c2={},H6={exports:{}},as={},W6={exports:{}},$6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(oe,he){var Ae=oe.length;oe.push(he);e:for(;0<Ae;){var fe=Ae-1>>>1,D=oe[fe];if(0<i(D,he))oe[fe]=he,oe[Ae]=D,Ae=fe;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var he=oe[0],Ae=oe.pop();if(Ae!==he){oe[0]=Ae;e:for(var fe=0,D=oe.length,X=D>>>1;fe<X;){var Q=2*(fe+1)-1,le=oe[Q],ee=Q+1,M=oe[ee];if(0>i(le,Ae))ee<D&&0>i(M,le)?(oe[fe]=M,oe[ee]=Ae,fe=ee):(oe[fe]=le,oe[Q]=Ae,fe=Q);else if(ee<D&&0>i(M,Ae))oe[fe]=M,oe[ee]=Ae,fe=ee;else break e}}return he}function i(oe,he){var Ae=oe.sortIndex-he.sortIndex;return Ae!==0?Ae:oe.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,m=3,h=!1,x=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(oe){for(var he=r(u);he!==null;){if(he.callback===null)n(u);else if(he.startTime<=oe)n(u),he.sortIndex=he.expirationTime,e(l,he);else break;he=r(u)}}function w(oe){if(_=!1,v(oe),!x)if(r(l)!==null)x=!0,ve(I);else{var he=r(u);he!==null&&se(w,he.startTime-oe)}}function I(oe,he){x=!1,_&&(_=!1,d(P),P=-1),h=!0;var Ae=m;try{for(v(he),f=r(l);f!==null&&(!(f.expirationTime>he)||oe&&!j());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,m=f.priorityLevel;var D=fe(f.expirationTime<=he);he=t.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),v(he)}else n(l);f=r(l)}if(f!==null)var X=!0;else{var Q=r(u);Q!==null&&se(w,Q.startTime-he),X=!1}return X}finally{f=null,m=Ae,h=!1}}var q=!1,R=null,P=-1,E=5,H=-1;function j(){return!(t.unstable_now()-H<E)}function T(){if(R!==null){var oe=t.unstable_now();H=oe;var he=!0;try{he=R(!0,oe)}finally{he?L():(q=!1,R=null)}}else q=!1}var L;if(typeof y=="function")L=function(){y(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=T,L=function(){ie.postMessage(null)}}else L=function(){A(T,0)};function ve(oe){R=oe,q||(q=!0,L())}function se(oe,he){P=A(function(){oe(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,ve(I))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(oe){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var Ae=m;m=he;try{return oe()}finally{m=Ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ae=m;m=oe;try{return he()}finally{m=Ae}},t.unstable_scheduleCallback=function(oe,he,Ae){var fe=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?fe+Ae:fe):Ae=fe,oe){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Ae+D,oe={id:c++,callback:he,priorityLevel:oe,startTime:Ae,expirationTime:D,sortIndex:-1},Ae>fe?(oe.sortIndex=Ae,e(u,oe),r(l)===null&&oe===r(u)&&(_?(d(P),P=-1):_=!0,se(w,Ae-fe))):(oe.sortIndex=D,e(l,oe),x||h||(x=!0,ve(I))),oe},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(oe){var he=m;return function(){var Ae=m;m=he;try{return oe.apply(this,arguments)}finally{m=Ae}}}})($6);W6.exports=$6;var GP=W6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=Ge,ss=GP;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G6=new Set,id={};function Xu(t,e){ph(t,e),ph(t+"Capture",e)}function ph(t,e){for(id[t]=e,t=0;t<e.length;t++)G6.add(e[t])}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h2=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sx={},ax={};function YP(t){return h2.call(ax,t)?!0:h2.call(sx,t)?!1:XP.test(t)?ax[t]=!0:(sx[t]=!0,!1)}function QP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JP(t,e,r,n){if(e===null||typeof e>"u"||QP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var a5=/[\-:]([a-z])/g;function o5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a5,o5);Un[e]=new wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a5,o5);Un[e]=new wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a5,o5);Un[e]=new wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new wi(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function l5(t,e,r,n){var i=Un.hasOwnProperty(e)?Un[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JP(e,r,i,n)&&(r=null),n||i===null?YP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var No=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),u5=Symbol.for("react.strict_mode"),f2=Symbol.for("react.profiler"),K6=Symbol.for("react.provider"),X6=Symbol.for("react.context"),c5=Symbol.for("react.forward_ref"),d2=Symbol.for("react.suspense"),p2=Symbol.for("react.suspense_list"),h5=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),Y6=Symbol.for("react.offscreen"),ox=Symbol.iterator;function ff(t){return t===null||typeof t!="object"?null:(t=ox&&t[ox]||t["@@iterator"],typeof t=="function"?t:null)}var Ur=Object.assign,p1;function kf(t){if(p1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);p1=e&&e[1]||""}return`
`+p1+t}var m1=!1;function g1(t,e){if(!t||m1)return"";m1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{m1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kf(t):""}function ZP(t){switch(t.tag){case 5:return kf(t.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return t=g1(t.type,!1),t;case 11:return t=g1(t.type.render,!1),t;case 1:return t=g1(t.type,!0),t;default:return""}}function m2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jc:return"Fragment";case Dc:return"Portal";case f2:return"Profiler";case u5:return"StrictMode";case d2:return"Suspense";case p2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X6:return(t.displayName||"Context")+".Consumer";case K6:return(t._context.displayName||"Context")+".Provider";case c5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h5:return e=t.displayName||null,e!==null?e:m2(t.type)||"Memo";case rl:e=t._payload,t=t._init;try{return m2(t(e))}catch{}}return null}function eL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m2(e);case 8:return e===u5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tL(t){var e=Q6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rp(t){t._valueTracker||(t._valueTracker=tL(t))}function J6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Q6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ym(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g2(t,e){var r=e.checked;return Ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z6(t,e){e=e.checked,e!=null&&l5(t,"checked",e,!1)}function y2(t,e){Z6(t,e);var r=Rl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?v2(t,e.type,r):e.hasOwnProperty("defaultValue")&&v2(t,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ux(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function v2(t,e,r){(e!=="number"||Ym(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var If=Array.isArray;function Qc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Ur({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(If(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rl(r)}}function eT(t,e){var r=Rl(e.value),n=Rl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function hx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pp,rT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pp=Pp||document.createElement("div"),Pp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rL=["Webkit","ms","Moz","O"];Object.keys(Ff).forEach(function(t){rL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ff[e]=Ff[t]})});function nT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ff.hasOwnProperty(t)&&Ff[t]?(""+e).trim():e+"px"}function iT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=nT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var nL=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b2(t,e){if(e){if(nL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function x2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E2=null;function f5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A2=null,Jc=null,Zc=null;function fx(t){if(t=Bd(t)){if(typeof A2!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=Zg(e),A2(t.stateNode,t.type,e))}}function sT(t){Jc?Zc?Zc.push(t):Zc=[t]:Jc=t}function aT(){if(Jc){var t=Jc,e=Zc;if(Zc=Jc=null,fx(t),e)for(t=0;t<e.length;t++)fx(e[t])}}function oT(t,e){return t(e)}function lT(){}var y1=!1;function uT(t,e,r){if(y1)return t(e,r);y1=!0;try{return oT(t,e,r)}finally{y1=!1,(Jc!==null||Zc!==null)&&(lT(),aT())}}function ad(t,e){var r=t.stateNode;if(r===null)return null;var n=Zg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var S2=!1;if(vo)try{var df={};Object.defineProperty(df,"passive",{get:function(){S2=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{S2=!1}function iL(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Mf=!1,Qm=null,Jm=!1,T2=null,sL={onError:function(t){Mf=!0,Qm=t}};function aL(t,e,r,n,i,s,a,o,l){Mf=!1,Qm=null,iL.apply(sL,arguments)}function oL(t,e,r,n,i,s,a,o,l){if(aL.apply(this,arguments),Mf){if(Mf){var u=Qm;Mf=!1,Qm=null}else throw Error(tt(198));Jm||(Jm=!0,T2=u)}}function Yu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dx(t){if(Yu(t)!==t)throw Error(tt(188))}function lL(t){var e=t.alternate;if(!e){if(e=Yu(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dx(i),t;if(s===n)return dx(i),e;s=s.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function hT(t){return t=lL(t),t!==null?fT(t):null}function fT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fT(t);if(e!==null)return e;t=t.sibling}return null}var dT=ss.unstable_scheduleCallback,px=ss.unstable_cancelCallback,uL=ss.unstable_shouldYield,cL=ss.unstable_requestPaint,nn=ss.unstable_now,hL=ss.unstable_getCurrentPriorityLevel,d5=ss.unstable_ImmediatePriority,pT=ss.unstable_UserBlockingPriority,Zm=ss.unstable_NormalPriority,fL=ss.unstable_LowPriority,mT=ss.unstable_IdlePriority,Xg=null,Pa=null;function dL(t){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Xg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ks=Math.clz32?Math.clz32:gL,pL=Math.log,mL=Math.LN2;function gL(t){return t>>>=0,t===0?32:31-(pL(t)/mL|0)|0}var Lp=64,Op=4194304;function Cf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Cf(o):(s&=a,s!==0&&(n=Cf(s)))}else a=r&~i,a!==0?n=Cf(a):s!==0&&(n=Cf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ks(e),i=1<<r,n|=t[r],e&=~i;return n}function yL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ks(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=yL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function N2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gT(){var t=Lp;return Lp<<=1,!(Lp&4194240)&&(Lp=64),t}function v1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ks(e),t[e]=r}function wL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ks(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function p5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ks(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var fr=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vT,m5,wT,_T,bT,k2=!1,Dp=[],gl=null,yl=null,vl=null,od=new Map,ld=new Map,il=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(t,e){switch(t){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function pf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bd(e),e!==null&&m5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bL(t,e,r,n,i){switch(e){case"focusin":return gl=pf(gl,t,e,r,n,i),!0;case"dragenter":return yl=pf(yl,t,e,r,n,i),!0;case"mouseover":return vl=pf(vl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return od.set(s,pf(od.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ld.set(s,pf(ld.get(s)||null,t,e,r,n,i)),!0}return!1}function xT(t){var e=xu(t.target);if(e!==null){var r=Yu(e);if(r!==null){if(e=r.tag,e===13){if(e=cT(r),e!==null){t.blockedOn=e,bT(t.priority,function(){wT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Em(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=I2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);E2=n,r.target.dispatchEvent(n),E2=null}else return e=Bd(r),e!==null&&m5(e),t.blockedOn=r,!1;e.shift()}return!0}function gx(t,e,r){Em(t)&&r.delete(e)}function xL(){k2=!1,gl!==null&&Em(gl)&&(gl=null),yl!==null&&Em(yl)&&(yl=null),vl!==null&&Em(vl)&&(vl=null),od.forEach(gx),ld.forEach(gx)}function mf(t,e){t.blockedOn===e&&(t.blockedOn=null,k2||(k2=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,xL)))}function ud(t){function e(i){return mf(i,t)}if(0<Dp.length){mf(Dp[0],t);for(var r=1;r<Dp.length;r++){var n=Dp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(gl!==null&&mf(gl,t),yl!==null&&mf(yl,t),vl!==null&&mf(vl,t),od.forEach(e),ld.forEach(e),r=0;r<il.length;r++)n=il[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<il.length&&(r=il[0],r.blockedOn===null);)xT(r),r.blockedOn===null&&il.shift()}var eh=No.ReactCurrentBatchConfig,tg=!0;function EL(t,e,r,n){var i=fr,s=eh.transition;eh.transition=null;try{fr=1,g5(t,e,r,n)}finally{fr=i,eh.transition=s}}function AL(t,e,r,n){var i=fr,s=eh.transition;eh.transition=null;try{fr=4,g5(t,e,r,n)}finally{fr=i,eh.transition=s}}function g5(t,e,r,n){if(tg){var i=I2(t,e,r,n);if(i===null)k1(t,e,n,rg,r),mx(t,n);else if(bL(i,t,e,r,n))n.stopPropagation();else if(mx(t,n),e&4&&-1<_L.indexOf(t)){for(;i!==null;){var s=Bd(i);if(s!==null&&vT(s),s=I2(t,e,r,n),s===null&&k1(t,e,n,rg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else k1(t,e,n,null,r)}}var rg=null;function I2(t,e,r,n){if(rg=null,t=f5(n),t=xu(t),t!==null)if(e=Yu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rg=t,null}function ET(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hL()){case d5:return 1;case pT:return 4;case Zm:case fL:return 16;case mT:return 536870912;default:return 16}default:return 16}}var hl=null,y5=null,Am=null;function AT(){if(Am)return Am;var t,e=y5,r=e.length,n,i="value"in hl?hl.value:hl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Am=i.slice(t,1<n?1-n:void 0)}function Sm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jp(){return!0}function yx(){return!1}function os(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jp:yx,this.isPropagationStopped=yx,this}return Ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jp)},persist:function(){},isPersistent:jp}),e}var Oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v5=os(Oh),Md=Ur({},Oh,{view:0,detail:0}),SL=os(Md),w1,_1,gf,Yg=Ur({},Md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gf&&(gf&&t.type==="mousemove"?(w1=t.screenX-gf.screenX,_1=t.screenY-gf.screenY):_1=w1=0,gf=t),w1)},movementY:function(t){return"movementY"in t?t.movementY:_1}}),vx=os(Yg),TL=Ur({},Yg,{dataTransfer:0}),NL=os(TL),kL=Ur({},Md,{relatedTarget:0}),b1=os(kL),IL=Ur({},Oh,{animationName:0,elapsedTime:0,pseudoElement:0}),CL=os(IL),RL=Ur({},Oh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PL=os(RL),LL=Ur({},Oh,{data:0}),wx=os(LL),OL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jL[t])?!!e[t]:!1}function w5(){return FL}var ML=Ur({},Md,{key:function(t){if(t.key){var e=OL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w5,charCode:function(t){return t.type==="keypress"?Sm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BL=os(ML),UL=Ur({},Yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=os(UL),VL=Ur({},Md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w5}),zL=os(VL),qL=Ur({},Oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),HL=os(qL),WL=Ur({},Yg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$L=os(WL),GL=[9,13,27,32],_5=vo&&"CompositionEvent"in window,Bf=null;vo&&"documentMode"in document&&(Bf=document.documentMode);var KL=vo&&"TextEvent"in window&&!Bf,ST=vo&&(!_5||Bf&&8<Bf&&11>=Bf),bx=" ",xx=!1;function TT(t,e){switch(t){case"keyup":return GL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fc=!1;function XL(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(xx=!0,bx);case"textInput":return t=e.data,t===bx&&xx?null:t;default:return null}}function YL(t,e){if(Fc)return t==="compositionend"||!_5&&TT(t,e)?(t=AT(),Am=y5=hl=null,Fc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ST&&e.locale!=="ko"?null:e.data;default:return null}}var QL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QL[t.type]:e==="textarea"}function kT(t,e,r,n){sT(n),e=ng(e,"onChange"),0<e.length&&(r=new v5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uf=null,cd=null;function JL(t){BT(t,0)}function Qg(t){var e=Uc(t);if(J6(e))return t}function ZL(t,e){if(t==="change")return e}var IT=!1;if(vo){var x1;if(vo){var E1="oninput"in document;if(!E1){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),E1=typeof Ax.oninput=="function"}x1=E1}else x1=!1;IT=x1&&(!document.documentMode||9<document.documentMode)}function Sx(){Uf&&(Uf.detachEvent("onpropertychange",CT),cd=Uf=null)}function CT(t){if(t.propertyName==="value"&&Qg(cd)){var e=[];kT(e,cd,t,f5(t)),uT(JL,e)}}function e7(t,e,r){t==="focusin"?(Sx(),Uf=e,cd=r,Uf.attachEvent("onpropertychange",CT)):t==="focusout"&&Sx()}function t7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qg(cd)}function r7(t,e){if(t==="click")return Qg(e)}function n7(t,e){if(t==="input"||t==="change")return Qg(e)}function i7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ea=typeof Object.is=="function"?Object.is:i7;function hd(t,e){if(ea(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h2.call(e,i)||!ea(t[i],e[i]))return!1}return!0}function Tx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nx(t,e){var r=Tx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tx(r)}}function RT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PT(){for(var t=window,e=Ym();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ym(t.document)}return e}function b5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s7(t){var e=PT(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&RT(r.ownerDocument.documentElement,r)){if(n!==null&&b5(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Nx(r,s);var a=Nx(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a7=vo&&"documentMode"in document&&11>=document.documentMode,Mc=null,C2=null,Vf=null,R2=!1;function kx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R2||Mc==null||Mc!==Ym(n)||(n=Mc,"selectionStart"in n&&b5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vf&&hd(Vf,n)||(Vf=n,n=ng(C2,"onSelect"),0<n.length&&(e=new v5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mc)))}function Fp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bc={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},A1={},LT={};vo&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Jg(t){if(A1[t])return A1[t];if(!Bc[t])return t;var e=Bc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LT)return A1[t]=e[r];return t}var OT=Jg("animationend"),DT=Jg("animationiteration"),jT=Jg("animationstart"),FT=Jg("transitionend"),MT=new Map,Ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(t,e){MT.set(t,e),Xu(e,[t])}for(var S1=0;S1<Ix.length;S1++){var T1=Ix[S1],o7=T1.toLowerCase(),l7=T1[0].toUpperCase()+T1.slice(1);zl(o7,"on"+l7)}zl(OT,"onAnimationEnd");zl(DT,"onAnimationIteration");zl(jT,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(FT,"onTransitionEnd");ph("onMouseEnter",["mouseout","mouseover"]);ph("onMouseLeave",["mouseout","mouseover"]);ph("onPointerEnter",["pointerout","pointerover"]);ph("onPointerLeave",["pointerout","pointerover"]);Xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function Cx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oL(n,e,void 0,t),t.currentTarget=null}function BT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Cx(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Cx(i,o,u),s=l}}}if(Jm)throw t=T2,Jm=!1,T2=null,t}function Pr(t,e){var r=e[j2];r===void 0&&(r=e[j2]=new Set);var n=t+"__bubble";r.has(n)||(UT(e,t,2,!1),r.add(n))}function N1(t,e,r){var n=0;e&&(n|=4),UT(r,t,n,e)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[Mp]){t[Mp]=!0,G6.forEach(function(r){r!=="selectionchange"&&(u7.has(r)||N1(r,!1,t),N1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mp]||(e[Mp]=!0,N1("selectionchange",!1,e))}}function UT(t,e,r,n){switch(ET(e)){case 1:var i=EL;break;case 4:i=AL;break;default:i=g5}r=i.bind(null,e,r,t),i=void 0,!S2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function k1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xu(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}uT(function(){var u=s,c=f5(r),f=[];e:{var m=MT.get(t);if(m!==void 0){var h=v5,x=t;switch(t){case"keypress":if(Sm(r)===0)break e;case"keydown":case"keyup":h=BL;break;case"focusin":x="focus",h=b1;break;case"focusout":x="blur",h=b1;break;case"beforeblur":case"afterblur":h=b1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zL;break;case OT:case DT:case jT:h=CL;break;case FT:h=HL;break;case"scroll":h=SL;break;case"wheel":h=$L;break;case"copy":case"cut":case"paste":h=PL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_x}var _=(e&4)!==0,A=!_&&t==="scroll",d=_?m!==null?m+"Capture":null:m;_=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,d!==null&&(w=ad(y,d),w!=null&&_.push(dd(y,w,v)))),A)break;y=y.return}0<_.length&&(m=new h(m,x,null,r,c),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==E2&&(x=r.relatedTarget||r.fromElement)&&(xu(x)||x[wo]))break e;if((h||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=u,x=x?xu(x):null,x!==null&&(A=Yu(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=u),h!==x)){if(_=vx,w="onMouseLeave",d="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=_x,w="onPointerLeave",d="onPointerEnter",y="pointer"),A=h==null?m:Uc(h),v=x==null?m:Uc(x),m=new _(w,y+"leave",h,r,c),m.target=A,m.relatedTarget=v,w=null,xu(c)===u&&(_=new _(d,y+"enter",x,r,c),_.target=v,_.relatedTarget=A,w=_),A=w,h&&x)t:{for(_=h,d=x,y=0,v=_;v;v=bc(v))y++;for(v=0,w=d;w;w=bc(w))v++;for(;0<y-v;)_=bc(_),y--;for(;0<v-y;)d=bc(d),v--;for(;y--;){if(_===d||d!==null&&_===d.alternate)break t;_=bc(_),d=bc(d)}_=null}else _=null;h!==null&&Rx(f,m,h,_,!1),x!==null&&A!==null&&Rx(f,A,x,_,!0)}}e:{if(m=u?Uc(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var I=ZL;else if(Ex(m))if(IT)I=n7;else{I=t7;var q=e7}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=r7);if(I&&(I=I(t,u))){kT(f,I,r,c);break e}q&&q(t,m,u),t==="focusout"&&(q=m._wrapperState)&&q.controlled&&m.type==="number"&&v2(m,"number",m.value)}switch(q=u?Uc(u):window,t){case"focusin":(Ex(q)||q.contentEditable==="true")&&(Mc=q,C2=u,Vf=null);break;case"focusout":Vf=C2=Mc=null;break;case"mousedown":R2=!0;break;case"contextmenu":case"mouseup":case"dragend":R2=!1,kx(f,r,c);break;case"selectionchange":if(a7)break;case"keydown":case"keyup":kx(f,r,c)}var R;if(_5)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fc?TT(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(ST&&r.locale!=="ko"&&(Fc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fc&&(R=AT()):(hl=c,y5="value"in hl?hl.value:hl.textContent,Fc=!0)),q=ng(u,P),0<q.length&&(P=new wx(P,t,null,r,c),f.push({event:P,listeners:q}),R?P.data=R:(R=NT(r),R!==null&&(P.data=R)))),(R=KL?XL(t,r):YL(t,r))&&(u=ng(u,"onBeforeInput"),0<u.length&&(c=new wx("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=R))}BT(f,e)})}function dd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ng(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ad(t,r),s!=null&&n.unshift(dd(t,s,i)),s=ad(t,e),s!=null&&n.push(dd(t,s,i))),t=t.return}return n}function bc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rx(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ad(r,s),l!=null&&a.unshift(dd(r,l,o))):i||(l=ad(r,s),l!=null&&a.push(dd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var c7=/\r\n?/g,h7=/\u0000|\uFFFD/g;function Px(t){return(typeof t=="string"?t:""+t).replace(c7,`
`).replace(h7,"")}function Bp(t,e,r){if(e=Px(e),Px(t)!==e&&r)throw Error(tt(425))}function ig(){}var P2=null,L2=null;function O2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D2=typeof setTimeout=="function"?setTimeout:void 0,f7=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,d7=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(t){return Lx.resolve(null).then(t).catch(p7)}:D2;function p7(t){setTimeout(function(){throw t})}function I1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ud(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ud(e)}function wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dh=Math.random().toString(36).slice(2),ka="__reactFiber$"+Dh,pd="__reactProps$"+Dh,wo="__reactContainer$"+Dh,j2="__reactEvents$"+Dh,m7="__reactListeners$"+Dh,g7="__reactHandles$"+Dh;function xu(t){var e=t[ka];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wo]||r[ka]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ox(t);t!==null;){if(r=t[ka])return r;t=Ox(t)}return e}t=r,r=t.parentNode}return null}function Bd(t){return t=t[ka]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function Zg(t){return t[pd]||null}var F2=[],Vc=-1;function ql(t){return{current:t}}function Or(t){0>Vc||(t.current=F2[Vc],F2[Vc]=null,Vc--)}function Ir(t,e){Vc++,F2[Vc]=t.current,t.current=e}var Pl={},ti=ql(Pl),ji=ql(!1),Du=Pl;function mh(t,e){var r=t.type.contextTypes;if(!r)return Pl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(t){return t=t.childContextTypes,t!=null}function sg(){Or(ji),Or(ti)}function Dx(t,e,r){if(ti.current!==Pl)throw Error(tt(168));Ir(ti,e),Ir(ji,r)}function VT(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(tt(108,eL(t)||"Unknown",i));return Ur({},r,n)}function ag(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pl,Du=ti.current,Ir(ti,t),Ir(ji,ji.current),!0}function jx(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=VT(t,e,Du),n.__reactInternalMemoizedMergedChildContext=t,Or(ji),Or(ti),Ir(ti,t)):Or(ji),Ir(ji,r)}var oo=null,e0=!1,C1=!1;function zT(t){oo===null?oo=[t]:oo.push(t)}function y7(t){e0=!0,zT(t)}function Hl(){if(!C1&&oo!==null){C1=!0;var t=0,e=fr;try{var r=oo;for(fr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}oo=null,e0=!1}catch(i){throw oo!==null&&(oo=oo.slice(t+1)),dT(d5,Hl),i}finally{fr=e,C1=!1}}return null}var zc=[],qc=0,og=null,lg=0,xs=[],Es=0,ju=null,uo=1,co="";function yu(t,e){zc[qc++]=lg,zc[qc++]=og,og=t,lg=e}function qT(t,e,r){xs[Es++]=uo,xs[Es++]=co,xs[Es++]=ju,ju=t;var n=uo;t=co;var i=32-Ks(n)-1;n&=~(1<<i),r+=1;var s=32-Ks(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,uo=1<<32-Ks(e)+i|r<<i|n,co=s+t}else uo=1<<s|r<<i|n,co=t}function x5(t){t.return!==null&&(yu(t,1),qT(t,1,0))}function E5(t){for(;t===og;)og=zc[--qc],zc[qc]=null,lg=zc[--qc],zc[qc]=null;for(;t===ju;)ju=xs[--Es],xs[Es]=null,co=xs[--Es],xs[Es]=null,uo=xs[--Es],xs[Es]=null}var is=null,es=null,Fr=!1,Ws=null;function HT(t,e){var r=Ss(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Fx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,is=t,es=wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,is=t,es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ju!==null?{id:uo,overflow:co}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ss(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,is=t,es=null,!0):!1;default:return!1}}function M2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function B2(t){if(Fr){var e=es;if(e){var r=e;if(!Fx(t,e)){if(M2(t))throw Error(tt(418));e=wl(r.nextSibling);var n=is;e&&Fx(t,e)?HT(n,r):(t.flags=t.flags&-4097|2,Fr=!1,is=t)}}else{if(M2(t))throw Error(tt(418));t.flags=t.flags&-4097|2,Fr=!1,is=t}}}function Mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;is=t}function Up(t){if(t!==is)return!1;if(!Fr)return Mx(t),Fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!O2(t.type,t.memoizedProps)),e&&(e=es)){if(M2(t))throw WT(),Error(tt(418));for(;e;)HT(t,e),e=wl(e.nextSibling)}if(Mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){es=wl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}es=null}}else es=is?wl(t.stateNode.nextSibling):null;return!0}function WT(){for(var t=es;t;)t=wl(t.nextSibling)}function gh(){es=is=null,Fr=!1}function A5(t){Ws===null?Ws=[t]:Ws.push(t)}var v7=No.ReactCurrentBatchConfig;function yf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function Vp(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bx(t){var e=t._init;return e(t._payload)}function $T(t){function e(d,y){if(t){var v=d.deletions;v===null?(d.deletions=[y],d.flags|=16):v.push(y)}}function r(d,y){if(!t)return null;for(;y!==null;)e(d,y),y=y.sibling;return null}function n(d,y){for(d=new Map;y!==null;)y.key!==null?d.set(y.key,y):d.set(y.index,y),y=y.sibling;return d}function i(d,y){return d=El(d,y),d.index=0,d.sibling=null,d}function s(d,y,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<y?(d.flags|=2,y):v):(d.flags|=2,y)):(d.flags|=1048576,y)}function a(d){return t&&d.alternate===null&&(d.flags|=2),d}function o(d,y,v,w){return y===null||y.tag!==6?(y=F1(v,d.mode,w),y.return=d,y):(y=i(y,v),y.return=d,y)}function l(d,y,v,w){var I=v.type;return I===jc?c(d,y,v.props.children,w,v.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rl&&Bx(I)===y.type)?(w=i(y,v.props),w.ref=yf(d,y,v),w.return=d,w):(w=Pm(v.type,v.key,v.props,null,d.mode,w),w.ref=yf(d,y,v),w.return=d,w)}function u(d,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=M1(v,d.mode,w),y.return=d,y):(y=i(y,v.children||[]),y.return=d,y)}function c(d,y,v,w,I){return y===null||y.tag!==7?(y=Cu(v,d.mode,w,I),y.return=d,y):(y=i(y,v),y.return=d,y)}function f(d,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=F1(""+y,d.mode,v),y.return=d,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cp:return v=Pm(y.type,y.key,y.props,null,d.mode,v),v.ref=yf(d,null,y),v.return=d,v;case Dc:return y=M1(y,d.mode,v),y.return=d,y;case rl:var w=y._init;return f(d,w(y._payload),v)}if(If(y)||ff(y))return y=Cu(y,d.mode,v,null),y.return=d,y;Vp(d,y)}return null}function m(d,y,v,w){var I=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:o(d,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cp:return v.key===I?l(d,y,v,w):null;case Dc:return v.key===I?u(d,y,v,w):null;case rl:return I=v._init,m(d,y,I(v._payload),w)}if(If(v)||ff(v))return I!==null?null:c(d,y,v,w,null);Vp(d,v)}return null}function h(d,y,v,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return d=d.get(v)||null,o(y,d,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cp:return d=d.get(w.key===null?v:w.key)||null,l(y,d,w,I);case Dc:return d=d.get(w.key===null?v:w.key)||null,u(y,d,w,I);case rl:var q=w._init;return h(d,y,v,q(w._payload),I)}if(If(w)||ff(w))return d=d.get(v)||null,c(y,d,w,I,null);Vp(y,w)}return null}function x(d,y,v,w){for(var I=null,q=null,R=y,P=y=0,E=null;R!==null&&P<v.length;P++){R.index>P?(E=R,R=null):E=R.sibling;var H=m(d,R,v[P],w);if(H===null){R===null&&(R=E);break}t&&R&&H.alternate===null&&e(d,R),y=s(H,y,P),q===null?I=H:q.sibling=H,q=H,R=E}if(P===v.length)return r(d,R),Fr&&yu(d,P),I;if(R===null){for(;P<v.length;P++)R=f(d,v[P],w),R!==null&&(y=s(R,y,P),q===null?I=R:q.sibling=R,q=R);return Fr&&yu(d,P),I}for(R=n(d,R);P<v.length;P++)E=h(R,d,P,v[P],w),E!==null&&(t&&E.alternate!==null&&R.delete(E.key===null?P:E.key),y=s(E,y,P),q===null?I=E:q.sibling=E,q=E);return t&&R.forEach(function(j){return e(d,j)}),Fr&&yu(d,P),I}function _(d,y,v,w){var I=ff(v);if(typeof I!="function")throw Error(tt(150));if(v=I.call(v),v==null)throw Error(tt(151));for(var q=I=null,R=y,P=y=0,E=null,H=v.next();R!==null&&!H.done;P++,H=v.next()){R.index>P?(E=R,R=null):E=R.sibling;var j=m(d,R,H.value,w);if(j===null){R===null&&(R=E);break}t&&R&&j.alternate===null&&e(d,R),y=s(j,y,P),q===null?I=j:q.sibling=j,q=j,R=E}if(H.done)return r(d,R),Fr&&yu(d,P),I;if(R===null){for(;!H.done;P++,H=v.next())H=f(d,H.value,w),H!==null&&(y=s(H,y,P),q===null?I=H:q.sibling=H,q=H);return Fr&&yu(d,P),I}for(R=n(d,R);!H.done;P++,H=v.next())H=h(R,d,P,H.value,w),H!==null&&(t&&H.alternate!==null&&R.delete(H.key===null?P:H.key),y=s(H,y,P),q===null?I=H:q.sibling=H,q=H);return t&&R.forEach(function(T){return e(d,T)}),Fr&&yu(d,P),I}function A(d,y,v,w){if(typeof v=="object"&&v!==null&&v.type===jc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Cp:e:{for(var I=v.key,q=y;q!==null;){if(q.key===I){if(I=v.type,I===jc){if(q.tag===7){r(d,q.sibling),y=i(q,v.props.children),y.return=d,d=y;break e}}else if(q.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rl&&Bx(I)===q.type){r(d,q.sibling),y=i(q,v.props),y.ref=yf(d,q,v),y.return=d,d=y;break e}r(d,q);break}else e(d,q);q=q.sibling}v.type===jc?(y=Cu(v.props.children,d.mode,w,v.key),y.return=d,d=y):(w=Pm(v.type,v.key,v.props,null,d.mode,w),w.ref=yf(d,y,v),w.return=d,d=w)}return a(d);case Dc:e:{for(q=v.key;y!==null;){if(y.key===q)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(d,y.sibling),y=i(y,v.children||[]),y.return=d,d=y;break e}else{r(d,y);break}else e(d,y);y=y.sibling}y=M1(v,d.mode,w),y.return=d,d=y}return a(d);case rl:return q=v._init,A(d,y,q(v._payload),w)}if(If(v))return x(d,y,v,w);if(ff(v))return _(d,y,v,w);Vp(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(d,y.sibling),y=i(y,v),y.return=d,d=y):(r(d,y),y=F1(v,d.mode,w),y.return=d,d=y),a(d)):r(d,y)}return A}var yh=$T(!0),GT=$T(!1),ug=ql(null),cg=null,Hc=null,S5=null;function T5(){S5=Hc=cg=null}function N5(t){var e=ug.current;Or(ug),t._currentValue=e}function U2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function th(t,e){cg=t,S5=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function Ns(t){var e=t._currentValue;if(S5!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(cg===null)throw Error(tt(308));Hc=t,cg.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var Eu=null;function k5(t){Eu===null?Eu=[t]:Eu.push(t)}function KT(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,k5(e)):(r.next=i.next,i.next=r),e.interleaved=r,_o(t,n)}function _o(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var nl=!1;function I5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _l(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,_o(t,r)}return i=n.interleaved,i===null?(e.next=e,k5(n)):(e.next=i.next,i.next=e),n.interleaved=e,_o(t,r)}function Tm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p5(t,r)}}function Ux(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hg(t,e,r,n){var i=t.updateQueue;nl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var m=o.lane,h=o.eventTime;if((n&m)===m){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,_=o;switch(m=e,h=r,_.tag){case 1:if(x=_.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=Ur({},f,m);break e;case 2:nl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mu|=a,t.lanes=a,t.memoizedState=f}}function Vx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var Ud={},La=ql(Ud),md=ql(Ud),gd=ql(Ud);function Au(t){if(t===Ud)throw Error(tt(174));return t}function C5(t,e){switch(Ir(gd,e),Ir(md,t),Ir(La,Ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_2(e,t)}Or(La),Ir(La,e)}function vh(){Or(La),Or(md),Or(gd)}function YT(t){Au(gd.current);var e=Au(La.current),r=_2(e,t.type);e!==r&&(Ir(md,t),Ir(La,r))}function R5(t){md.current===t&&(Or(La),Or(md))}var Mr=ql(0);function fg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var R1=[];function P5(){for(var t=0;t<R1.length;t++)R1[t]._workInProgressVersionPrimary=null;R1.length=0}var Nm=No.ReactCurrentDispatcher,P1=No.ReactCurrentBatchConfig,Fu=0,Br=null,bn=null,kn=null,dg=!1,zf=!1,yd=0,w7=0;function Wn(){throw Error(tt(321))}function L5(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ea(t[r],e[r]))return!1;return!0}function O5(t,e,r,n,i,s){if(Fu=s,Br=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nm.current=t===null||t.memoizedState===null?E7:A7,t=r(n,i),zf){s=0;do{if(zf=!1,yd=0,25<=s)throw Error(tt(301));s+=1,kn=bn=null,e.updateQueue=null,Nm.current=S7,t=r(n,i)}while(zf)}if(Nm.current=pg,e=bn!==null&&bn.next!==null,Fu=0,kn=bn=Br=null,dg=!1,e)throw Error(tt(300));return t}function D5(){var t=yd!==0;return yd=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Br.memoizedState=kn=t:kn=kn.next=t,kn}function ks(){if(bn===null){var t=Br.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=kn===null?Br.memoizedState:kn.next;if(e!==null)kn=e,bn=t;else{if(t===null)throw Error(tt(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},kn===null?Br.memoizedState=kn=t:kn=kn.next=t}return kn}function vd(t,e){return typeof e=="function"?e(t):e}function L1(t){var e=ks(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=bn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Fu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Br.lanes|=c,Mu|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ea(n,e.memoizedState)||(Di=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Br.lanes|=s,Mu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function O1(t){var e=ks(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ea(s,e.memoizedState)||(Di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function QT(){}function JT(t,e){var r=Br,n=ks(),i=e(),s=!ea(n.memoizedState,i);if(s&&(n.memoizedState=i,Di=!0),n=n.queue,j5(tN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||kn!==null&&kn.memoizedState.tag&1){if(r.flags|=2048,wd(9,eN.bind(null,r,n,i,e),void 0,null),Rn===null)throw Error(tt(349));Fu&30||ZT(r,e,i)}return i}function ZT(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Br.updateQueue,e===null?(e={lastEffect:null,stores:null},Br.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eN(t,e,r,n){e.value=r,e.getSnapshot=n,rN(e)&&nN(t)}function tN(t,e,r){return r(function(){rN(e)&&nN(t)})}function rN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ea(t,r)}catch{return!0}}function nN(t){var e=_o(t,1);e!==null&&Xs(e,t,1,-1)}function zx(t){var e=Aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=x7.bind(null,Br,t),[e.memoizedState,t]}function wd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Br.updateQueue,e===null?(e={lastEffect:null,stores:null},Br.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function iN(){return ks().memoizedState}function km(t,e,r,n){var i=Aa();Br.flags|=t,i.memoizedState=wd(1|e,r,void 0,n===void 0?null:n)}function t0(t,e,r,n){var i=ks();n=n===void 0?null:n;var s=void 0;if(bn!==null){var a=bn.memoizedState;if(s=a.destroy,n!==null&&L5(n,a.deps)){i.memoizedState=wd(e,r,s,n);return}}Br.flags|=t,i.memoizedState=wd(1|e,r,s,n)}function qx(t,e){return km(8390656,8,t,e)}function j5(t,e){return t0(2048,8,t,e)}function sN(t,e){return t0(4,2,t,e)}function aN(t,e){return t0(4,4,t,e)}function oN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lN(t,e,r){return r=r!=null?r.concat([t]):null,t0(4,4,oN.bind(null,e,t),r)}function F5(){}function uN(t,e){var r=ks();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&L5(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function cN(t,e){var r=ks();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&L5(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hN(t,e,r){return Fu&21?(ea(r,e)||(r=gT(),Br.lanes|=r,Mu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Di=!0),t.memoizedState=r)}function _7(t,e){var r=fr;fr=r!==0&&4>r?r:4,t(!0);var n=P1.transition;P1.transition={};try{t(!1),e()}finally{fr=r,P1.transition=n}}function fN(){return ks().memoizedState}function b7(t,e,r){var n=xl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dN(t))pN(e,r);else if(r=KT(t,e,r,n),r!==null){var i=yi();Xs(r,t,n,i),mN(r,e,n)}}function x7(t,e,r){var n=xl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dN(t))pN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ea(o,a)){var l=e.interleaved;l===null?(i.next=i,k5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=KT(t,e,i,n),r!==null&&(i=yi(),Xs(r,t,n,i),mN(r,e,n))}}function dN(t){var e=t.alternate;return t===Br||e!==null&&e===Br}function pN(t,e){zf=dg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function mN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p5(t,r)}}var pg={readContext:Ns,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},E7={readContext:Ns,useCallback:function(t,e){return Aa().memoizedState=[t,e===void 0?null:e],t},useContext:Ns,useEffect:qx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,km(4194308,4,oN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return km(4194308,4,t,e)},useInsertionEffect:function(t,e){return km(4,2,t,e)},useMemo:function(t,e){var r=Aa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Aa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=b7.bind(null,Br,t),[n.memoizedState,t]},useRef:function(t){var e=Aa();return t={current:t},e.memoizedState=t},useState:zx,useDebugValue:F5,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=zx(!1),e=t[0];return t=_7.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Br,i=Aa();if(Fr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),Rn===null)throw Error(tt(349));Fu&30||ZT(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,qx(tN.bind(null,n,s,t),[t]),n.flags|=2048,wd(9,eN.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Aa(),e=Rn.identifierPrefix;if(Fr){var r=co,n=uo;r=(n&~(1<<32-Ks(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w7++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A7={readContext:Ns,useCallback:uN,useContext:Ns,useEffect:j5,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:aN,useMemo:cN,useReducer:L1,useRef:iN,useState:function(){return L1(vd)},useDebugValue:F5,useDeferredValue:function(t){var e=ks();return hN(e,bn.memoizedState,t)},useTransition:function(){var t=L1(vd)[0],e=ks().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:JT,useId:fN,unstable_isNewReconciler:!1},S7={readContext:Ns,useCallback:uN,useContext:Ns,useEffect:j5,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:aN,useMemo:cN,useReducer:O1,useRef:iN,useState:function(){return O1(vd)},useDebugValue:F5,useDeferredValue:function(t){var e=ks();return bn===null?e.memoizedState=t:hN(e,bn.memoizedState,t)},useTransition:function(){var t=O1(vd)[0],e=ks().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:JT,useId:fN,unstable_isNewReconciler:!1};function qs(t,e){if(t&&t.defaultProps){e=Ur({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function V2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ur({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var r0={isMounted:function(t){return(t=t._reactInternals)?Yu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yi(),i=xl(t),s=go(n,i);s.payload=e,r!=null&&(s.callback=r),e=_l(t,s,i),e!==null&&(Xs(e,t,i,n),Tm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yi(),i=xl(t),s=go(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=_l(t,s,i),e!==null&&(Xs(e,t,i,n),Tm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yi(),n=xl(t),i=go(r,n);i.tag=2,e!=null&&(i.callback=e),e=_l(t,i,n),e!==null&&(Xs(e,t,n,r),Tm(e,t,n))}};function Hx(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!hd(r,n)||!hd(i,s):!0}function gN(t,e,r){var n=!1,i=Pl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ns(s):(i=Fi(e)?Du:ti.current,n=e.contextTypes,s=(n=n!=null)?mh(t,i):Pl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&r0.enqueueReplaceState(e,e.state,null)}function z2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},I5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ns(s):(s=Fi(e)?Du:ti.current,i.context=mh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(V2(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&r0.enqueueReplaceState(i,i.state,null),hg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wh(t,e){try{var r="",n=e;do r+=ZP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function D1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function q2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var T7=typeof WeakMap=="function"?WeakMap:Map;function yN(t,e,r){r=go(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){gg||(gg=!0,Z2=n),q2(t,e)},r}function vN(t,e,r){r=go(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){q2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){q2(t,e),typeof n!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function $x(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new T7;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=U7.bind(null,t,e,r),e.then(t,t))}function Gx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=go(-1,1),e.tag=2,_l(r,e,1))),r.lanes|=1),t)}var N7=No.ReactCurrentOwner,Di=!1;function gi(t,e,r,n){e.child=t===null?GT(e,null,r,n):yh(e,t.child,r,n)}function Xx(t,e,r,n,i){r=r.render;var s=e.ref;return th(e,i),n=O5(t,e,r,n,s,i),r=D5(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bo(t,e,i)):(Fr&&r&&x5(e),e.flags|=1,gi(t,e,n,i),e.child)}function Yx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!W5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,wN(t,e,s,n,i)):(t=Pm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:hd,r(a,n)&&t.ref===e.ref)return bo(t,e,i)}return e.flags|=1,t=El(s,n),t.ref=e.ref,t.return=e,e.child=t}function wN(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(hd(s,n)&&t.ref===e.ref)if(Di=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Di=!0);else return e.lanes=t.lanes,bo(t,e,i)}return H2(t,e,r,n,i)}function _N(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir($c,Ji),Ji|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ir($c,Ji),Ji|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ir($c,Ji),Ji|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ir($c,Ji),Ji|=n;return gi(t,e,i,r),e.child}function bN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function H2(t,e,r,n,i){var s=Fi(r)?Du:ti.current;return s=mh(e,s),th(e,i),r=O5(t,e,r,n,s,i),n=D5(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bo(t,e,i)):(Fr&&n&&x5(e),e.flags|=1,gi(t,e,r,i),e.child)}function Qx(t,e,r,n,i){if(Fi(r)){var s=!0;ag(e)}else s=!1;if(th(e,i),e.stateNode===null)Im(t,e),gN(e,r,n),z2(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ns(u):(u=Fi(r)?Du:ti.current,u=mh(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Wx(e,a,n,u),nl=!1;var m=e.memoizedState;a.state=m,hg(e,n,a,i),l=e.memoizedState,o!==n||m!==l||ji.current||nl?(typeof c=="function"&&(V2(e,r,c,n),l=e.memoizedState),(o=nl||Hx(e,r,o,n,m,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,XT(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:qs(e.type,o),a.props=u,f=e.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ns(l):(l=Fi(r)?Du:ti.current,l=mh(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||m!==l)&&Wx(e,a,n,l),nl=!1,m=e.memoizedState,a.state=m,hg(e,n,a,i);var x=e.memoizedState;o!==f||m!==x||ji.current||nl?(typeof h=="function"&&(V2(e,r,h,n),x=e.memoizedState),(u=nl||Hx(e,r,u,n,m,x,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return W2(t,e,r,n,s,i)}function W2(t,e,r,n,i,s){bN(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&jx(e,r,!1),bo(t,e,s);n=e.stateNode,N7.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=yh(e,t.child,null,s),e.child=yh(e,null,o,s)):gi(t,e,o,s),e.memoizedState=n.state,i&&jx(e,r,!0),e.child}function xN(t){var e=t.stateNode;e.pendingContext?Dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dx(t,e.context,!1),C5(t,e.containerInfo)}function Jx(t,e,r,n,i){return gh(),A5(i),e.flags|=256,gi(t,e,r,n),e.child}var $2={dehydrated:null,treeContext:null,retryLane:0};function G2(t){return{baseLanes:t,cachePool:null,transitions:null}}function EN(t,e,r){var n=e.pendingProps,i=Mr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ir(Mr,i&1),t===null)return B2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=s0(a,n,0,null),t=Cu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=G2(r),e.memoizedState=$2,t):M5(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return k7(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=El(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=El(o,s):(s=Cu(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?G2(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=$2,n}return s=t.child,t=s.sibling,n=El(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function M5(t,e){return e=s0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zp(t,e,r,n){return n!==null&&A5(n),yh(e,t.child,null,r),t=M5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k7(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=D1(Error(tt(422))),zp(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=s0({mode:"visible",children:n.children},i,0,null),s=Cu(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&yh(e,t.child,null,a),e.child.memoizedState=G2(a),e.memoizedState=$2,s);if(!(e.mode&1))return zp(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(tt(419)),n=D1(s,n,void 0),zp(t,e,a,n)}if(o=(a&t.childLanes)!==0,Di||o){if(n=Rn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_o(t,i),Xs(n,t,i,-1))}return H5(),n=D1(Error(tt(421))),zp(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,es=wl(i.nextSibling),is=e,Fr=!0,Ws=null,t!==null&&(xs[Es++]=uo,xs[Es++]=co,xs[Es++]=ju,uo=t.id,co=t.overflow,ju=e),e=M5(e,n.children),e.flags|=4096,e)}function Zx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),U2(t.return,e,r)}function j1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function AN(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(gi(t,e,n.children,r),n=Mr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zx(t,r,e);else if(t.tag===19)Zx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ir(Mr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),j1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}j1(e,!0,r,null,s);break;case"together":j1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Im(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=El(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=El(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function I7(t,e,r){switch(e.tag){case 3:xN(e),gh();break;case 5:YT(e);break;case 1:Fi(e.type)&&ag(e);break;case 4:C5(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ir(ug,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ir(Mr,Mr.current&1),e.flags|=128,null):r&e.child.childLanes?EN(t,e,r):(Ir(Mr,Mr.current&1),t=bo(t,e,r),t!==null?t.sibling:null);Ir(Mr,Mr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return AN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ir(Mr,Mr.current),n)break;return null;case 22:case 23:return e.lanes=0,_N(t,e,r)}return bo(t,e,r)}var SN,K2,TN,NN;SN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};K2=function(){};TN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Au(La.current);var s=null;switch(r){case"input":i=g2(t,i),n=g2(t,n),s=[];break;case"select":i=Ur({},i,{value:void 0}),n=Ur({},n,{value:void 0}),s=[];break;case"textarea":i=w2(t,i),n=w2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ig)}b2(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(id.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(id.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NN=function(t,e,r,n){r!==n&&(e.flags|=4)};function vf(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function C7(t,e,r){var n=e.pendingProps;switch(E5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return Fi(e.type)&&sg(),$n(e),null;case 3:return n=e.stateNode,vh(),Or(ji),Or(ti),P5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Up(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(rw(Ws),Ws=null))),K2(t,e),$n(e),null;case 5:R5(e);var i=Au(gd.current);if(r=e.type,t!==null&&e.stateNode!=null)TN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return $n(e),null}if(t=Au(La.current),Up(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ka]=e,n[pd]=s,t=(e.mode&1)!==0,r){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(i=0;i<Rf.length;i++)Pr(Rf[i],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":lx(n,s),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",n);break;case"textarea":cx(n,s),Pr("invalid",n)}b2(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Bp(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Bp(n.textContent,o,t),i=["children",""+o]):id.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Pr("scroll",n)}switch(r){case"input":Rp(n),ux(n,s,!0);break;case"textarea":Rp(n),hx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ig)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ka]=e,t[pd]=n,SN(t,e,!1,!1),e.stateNode=t;e:{switch(a=x2(r,n),r){case"dialog":Pr("cancel",t),Pr("close",t),i=n;break;case"iframe":case"object":case"embed":Pr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Rf.length;i++)Pr(Rf[i],t);i=n;break;case"source":Pr("error",t),i=n;break;case"img":case"image":case"link":Pr("error",t),Pr("load",t),i=n;break;case"details":Pr("toggle",t),i=n;break;case"input":lx(t,n),i=g2(t,n),Pr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ur({},n,{value:void 0}),Pr("invalid",t);break;case"textarea":cx(t,n),i=w2(t,n),Pr("invalid",t);break;default:i=n}b2(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?iT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rT(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&sd(t,l):typeof l=="number"&&sd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pr("scroll",t):l!=null&&l5(t,s,l,a))}switch(r){case"input":Rp(t),ux(t,n,!1);break;case"textarea":Rp(t),hx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Qc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Qc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ig)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)NN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=Au(gd.current),Au(La.current),Up(e)){if(n=e.stateNode,r=e.memoizedProps,n[ka]=e,(s=n.nodeValue!==r)&&(t=is,t!==null))switch(t.tag){case 3:Bp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ka]=e,e.stateNode=n}return $n(e),null;case 13:if(Or(Mr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fr&&es!==null&&e.mode&1&&!(e.flags&128))WT(),gh(),e.flags|=98560,s=!1;else if(s=Up(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(tt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(tt(317));s[ka]=e}else gh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else Ws!==null&&(rw(Ws),Ws=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Mr.current&1?xn===0&&(xn=3):H5())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return vh(),K2(t,e),t===null&&fd(e.stateNode.containerInfo),$n(e),null;case 10:return N5(e.type._context),$n(e),null;case 17:return Fi(e.type)&&sg(),$n(e),null;case 19:if(Or(Mr),s=e.memoizedState,s===null)return $n(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)vf(s,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fg(t),a!==null){for(e.flags|=128,vf(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ir(Mr,Mr.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>_h&&(e.flags|=128,n=!0,vf(s,!1),e.lanes=4194304)}else{if(!n)if(t=fg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Fr)return $n(e),null}else 2*nn()-s.renderingStartTime>_h&&r!==1073741824&&(e.flags|=128,n=!0,vf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,r=Mr.current,Ir(Mr,n?r&1|2:r&1),e):($n(e),null);case 22:case 23:return q5(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ji&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function R7(t,e){switch(E5(e),e.tag){case 1:return Fi(e.type)&&sg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vh(),Or(ji),Or(ti),P5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R5(e),null;case 13:if(Or(Mr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));gh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Or(Mr),null;case 4:return vh(),null;case 10:return N5(e.type._context),null;case 22:case 23:return q5(),null;case 24:return null;default:return null}}var qp=!1,Zn=!1,P7=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Wc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kr(t,e,n)}else r.current=null}function X2(t,e,r){try{r()}catch(n){Kr(t,e,n)}}var eE=!1;function L7(t,e){if(P2=tg,t=PT(),b5(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===i&&(o=a),m===s&&++c===n&&(l=a),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(L2={focusedElem:t,selectionRange:r},tg=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){e=dt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,A=x.memoizedState,d=e.stateNode,y=d.getSnapshotBeforeUpdate(e.elementType===e.type?_:qs(e.type,_),A);d.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(w){Kr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}return x=eE,eE=!1,x}function qf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&X2(e,r,s)}i=i.next}while(i!==n)}}function n0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Y2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kN(t){var e=t.alternate;e!==null&&(t.alternate=null,kN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ka],delete e[pd],delete e[j2],delete e[m7],delete e[g7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IN(t){return t.tag===5||t.tag===3||t.tag===4}function tE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ig));else if(n!==4&&(t=t.child,t!==null))for(Q2(t,e,r),t=t.sibling;t!==null;)Q2(t,e,r),t=t.sibling}function J2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(J2(t,e,r),t=t.sibling;t!==null;)J2(t,e,r),t=t.sibling}var Fn=null,Hs=!1;function Qo(t,e,r){for(r=r.child;r!==null;)CN(t,e,r),r=r.sibling}function CN(t,e,r){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Xg,r)}catch{}switch(r.tag){case 5:Zn||Wc(r,e);case 6:var n=Fn,i=Hs;Fn=null,Qo(t,e,r),Fn=n,Hs=i,Fn!==null&&(Hs?(t=Fn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fn.removeChild(r.stateNode));break;case 18:Fn!==null&&(Hs?(t=Fn,r=r.stateNode,t.nodeType===8?I1(t.parentNode,r):t.nodeType===1&&I1(t,r),ud(t)):I1(Fn,r.stateNode));break;case 4:n=Fn,i=Hs,Fn=r.stateNode.containerInfo,Hs=!0,Qo(t,e,r),Fn=n,Hs=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&X2(r,e,a),i=i.next}while(i!==n)}Qo(t,e,r);break;case 1:if(!Zn&&(Wc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Kr(r,e,o)}Qo(t,e,r);break;case 21:Qo(t,e,r);break;case 22:r.mode&1?(Zn=(n=Zn)||r.memoizedState!==null,Qo(t,e,r),Zn=n):Qo(t,e,r);break;default:Qo(t,e,r)}}function rE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new P7),e.forEach(function(n){var i=z7.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Us(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,Hs=!1;break e;case 3:Fn=o.stateNode.containerInfo,Hs=!0;break e;case 4:Fn=o.stateNode.containerInfo,Hs=!0;break e}o=o.return}if(Fn===null)throw Error(tt(160));CN(s,a,i),Fn=null,Hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Kr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RN(e,t),e=e.sibling}function RN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Us(e,t),wa(t),n&4){try{qf(3,t,t.return),n0(3,t)}catch(_){Kr(t,t.return,_)}try{qf(5,t,t.return)}catch(_){Kr(t,t.return,_)}}break;case 1:Us(e,t),wa(t),n&512&&r!==null&&Wc(r,r.return);break;case 5:if(Us(e,t),wa(t),n&512&&r!==null&&Wc(r,r.return),t.flags&32){var i=t.stateNode;try{sd(i,"")}catch(_){Kr(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Z6(i,s),x2(o,a);var u=x2(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?iT(i,f):c==="dangerouslySetInnerHTML"?rT(i,f):c==="children"?sd(i,f):l5(i,c,f,u)}switch(o){case"input":y2(i,s);break;case"textarea":eT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Qc(i,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?Qc(i,!!s.multiple,s.defaultValue,!0):Qc(i,!!s.multiple,s.multiple?[]:"",!1))}i[pd]=s}catch(_){Kr(t,t.return,_)}}break;case 6:if(Us(e,t),wa(t),n&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Kr(t,t.return,_)}}break;case 3:if(Us(e,t),wa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(_){Kr(t,t.return,_)}break;case 4:Us(e,t),wa(t);break;case 13:Us(e,t),wa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(V5=nn())),n&4&&rE(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Zn=(u=Zn)||c,Us(e,t),Zn=u):Us(e,t),wa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(dt=t,c=t.child;c!==null;){for(f=dt=c;dt!==null;){switch(m=dt,h=m.child,m.tag){case 0:case 11:case 14:case 15:qf(4,m,m.return);break;case 1:Wc(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){Kr(n,r,_)}}break;case 5:Wc(m,m.return);break;case 22:if(m.memoizedState!==null){iE(f);continue}}h!==null?(h.return=m,dt=h):iE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=nT("display",a))}catch(_){Kr(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Kr(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Us(e,t),wa(t),n&4&&rE(t);break;case 21:break;default:Us(e,t),wa(t)}}function wa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IN(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(sd(i,""),n.flags&=-33);var s=tE(t);J2(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=tE(t);Q2(t,o,a);break;default:throw Error(tt(161))}}catch(l){Kr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O7(t,e,r){dt=t,PN(t)}function PN(t,e,r){for(var n=(t.mode&1)!==0;dt!==null;){var i=dt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||qp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Zn;o=qp;var u=Zn;if(qp=a,(Zn=l)&&!u)for(dt=i;dt!==null;)a=dt,l=a.child,a.tag===22&&a.memoizedState!==null?sE(i):l!==null?(l.return=a,dt=l):sE(i);for(;s!==null;)dt=s,PN(s),s=s.sibling;dt=i,qp=o,Zn=u}nE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,dt=s):nE(t)}}function nE(t){for(;dt!==null;){var e=dt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||n0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Zn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:qs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vx(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Vx(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ud(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Zn||e.flags&512&&Y2(e)}catch(m){Kr(e,e.return,m)}}if(e===t){dt=null;break}if(r=e.sibling,r!==null){r.return=e.return,dt=r;break}dt=e.return}}function iE(t){for(;dt!==null;){var e=dt;if(e===t){dt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,dt=r;break}dt=e.return}}function sE(t){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{n0(4,e)}catch(l){Kr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Kr(e,i,l)}}var s=e.return;try{Y2(e)}catch(l){Kr(e,s,l)}break;case 5:var a=e.return;try{Y2(e)}catch(l){Kr(e,a,l)}}}catch(l){Kr(e,e.return,l)}if(e===t){dt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,dt=o;break}dt=e.return}}var D7=Math.ceil,mg=No.ReactCurrentDispatcher,B5=No.ReactCurrentOwner,Ts=No.ReactCurrentBatchConfig,rr=0,Rn=null,fn=null,Bn=0,Ji=0,$c=ql(0),xn=0,_d=null,Mu=0,i0=0,U5=0,Hf=null,Li=null,V5=0,_h=1/0,ao=null,gg=!1,Z2=null,bl=null,Hp=!1,fl=null,yg=0,Wf=0,ew=null,Cm=-1,Rm=0;function yi(){return rr&6?nn():Cm!==-1?Cm:Cm=nn()}function xl(t){return t.mode&1?rr&2&&Bn!==0?Bn&-Bn:v7.transition!==null?(Rm===0&&(Rm=gT()),Rm):(t=fr,t!==0||(t=window.event,t=t===void 0?16:ET(t.type)),t):1}function Xs(t,e,r,n){if(50<Wf)throw Wf=0,ew=null,Error(tt(185));Fd(t,r,n),(!(rr&2)||t!==Rn)&&(t===Rn&&(!(rr&2)&&(i0|=r),xn===4&&sl(t,Bn)),Mi(t,n),r===1&&rr===0&&!(e.mode&1)&&(_h=nn()+500,e0&&Hl()))}function Mi(t,e){var r=t.callbackNode;vL(t,e);var n=eg(t,t===Rn?Bn:0);if(n===0)r!==null&&px(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&px(r),e===1)t.tag===0?y7(aE.bind(null,t)):zT(aE.bind(null,t)),d7(function(){!(rr&6)&&Hl()}),r=null;else{switch(yT(n)){case 1:r=d5;break;case 4:r=pT;break;case 16:r=Zm;break;case 536870912:r=mT;break;default:r=Zm}r=UN(r,LN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function LN(t,e){if(Cm=-1,Rm=0,rr&6)throw Error(tt(327));var r=t.callbackNode;if(rh()&&t.callbackNode!==r)return null;var n=eg(t,t===Rn?Bn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=vg(t,n);else{e=n;var i=rr;rr|=2;var s=DN();(Rn!==t||Bn!==e)&&(ao=null,_h=nn()+500,Iu(t,e));do try{M7();break}catch(o){ON(t,o)}while(!0);T5(),mg.current=s,rr=i,fn!==null?e=0:(Rn=null,Bn=0,e=xn)}if(e!==0){if(e===2&&(i=N2(t),i!==0&&(n=i,e=tw(t,i))),e===1)throw r=_d,Iu(t,0),sl(t,n),Mi(t,nn()),r;if(e===6)sl(t,n);else{if(i=t.current.alternate,!(n&30)&&!j7(i)&&(e=vg(t,n),e===2&&(s=N2(t),s!==0&&(n=s,e=tw(t,s))),e===1))throw r=_d,Iu(t,0),sl(t,n),Mi(t,nn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:vu(t,Li,ao);break;case 3:if(sl(t,n),(n&130023424)===n&&(e=V5+500-nn(),10<e)){if(eg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=D2(vu.bind(null,t,Li,ao),e);break}vu(t,Li,ao);break;case 4:if(sl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ks(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D7(n/1960))-n,10<n){t.timeoutHandle=D2(vu.bind(null,t,Li,ao),n);break}vu(t,Li,ao);break;case 5:vu(t,Li,ao);break;default:throw Error(tt(329))}}}return Mi(t,nn()),t.callbackNode===r?LN.bind(null,t):null}function tw(t,e){var r=Hf;return t.current.memoizedState.isDehydrated&&(Iu(t,e).flags|=256),t=vg(t,e),t!==2&&(e=Li,Li=r,e!==null&&rw(e)),t}function rw(t){Li===null?Li=t:Li.push.apply(Li,t)}function j7(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ea(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sl(t,e){for(e&=~U5,e&=~i0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ks(e),n=1<<r;t[r]=-1,e&=~n}}function aE(t){if(rr&6)throw Error(tt(327));rh();var e=eg(t,0);if(!(e&1))return Mi(t,nn()),null;var r=vg(t,e);if(t.tag!==0&&r===2){var n=N2(t);n!==0&&(e=n,r=tw(t,n))}if(r===1)throw r=_d,Iu(t,0),sl(t,e),Mi(t,nn()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vu(t,Li,ao),Mi(t,nn()),null}function z5(t,e){var r=rr;rr|=1;try{return t(e)}finally{rr=r,rr===0&&(_h=nn()+500,e0&&Hl())}}function Bu(t){fl!==null&&fl.tag===0&&!(rr&6)&&rh();var e=rr;rr|=1;var r=Ts.transition,n=fr;try{if(Ts.transition=null,fr=1,t)return t()}finally{fr=n,Ts.transition=r,rr=e,!(rr&6)&&Hl()}}function q5(){Ji=$c.current,Or($c)}function Iu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,f7(r)),fn!==null)for(r=fn.return;r!==null;){var n=r;switch(E5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sg();break;case 3:vh(),Or(ji),Or(ti),P5();break;case 5:R5(n);break;case 4:vh();break;case 13:Or(Mr);break;case 19:Or(Mr);break;case 10:N5(n.type._context);break;case 22:case 23:q5()}r=r.return}if(Rn=t,fn=t=El(t.current,null),Bn=Ji=e,xn=0,_d=null,U5=i0=Mu=0,Li=Hf=null,Eu!==null){for(e=0;e<Eu.length;e++)if(r=Eu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Eu=null}return t}function ON(t,e){do{var r=fn;try{if(T5(),Nm.current=pg,dg){for(var n=Br.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dg=!1}if(Fu=0,kn=bn=Br=null,zf=!1,yd=0,B5.current=null,r===null||r.return===null){xn=1,_d=e,fn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Bn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Gx(a);if(h!==null){h.flags&=-257,Kx(h,a,o,s,e),h.mode&1&&$x(s,u,e),e=h,l=u;var x=e.updateQueue;if(x===null){var _=new Set;_.add(l),e.updateQueue=_}else x.add(l);break e}else{if(!(e&1)){$x(s,u,e),H5();break e}l=Error(tt(426))}}else if(Fr&&o.mode&1){var A=Gx(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Kx(A,a,o,s,e),A5(wh(l,o));break e}}s=l=wh(l,o),xn!==4&&(xn=2),Hf===null?Hf=[s]:Hf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var d=yN(s,l,e);Ux(s,d);break e;case 1:o=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bl===null||!bl.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=vN(s,o,e);Ux(s,w);break e}}s=s.return}while(s!==null)}FN(r)}catch(I){e=I,fn===r&&r!==null&&(fn=r=r.return);continue}break}while(!0)}function DN(){var t=mg.current;return mg.current=pg,t===null?pg:t}function H5(){(xn===0||xn===3||xn===2)&&(xn=4),Rn===null||!(Mu&268435455)&&!(i0&268435455)||sl(Rn,Bn)}function vg(t,e){var r=rr;rr|=2;var n=DN();(Rn!==t||Bn!==e)&&(ao=null,Iu(t,e));do try{F7();break}catch(i){ON(t,i)}while(!0);if(T5(),rr=r,mg.current=n,fn!==null)throw Error(tt(261));return Rn=null,Bn=0,xn}function F7(){for(;fn!==null;)jN(fn)}function M7(){for(;fn!==null&&!uL();)jN(fn)}function jN(t){var e=BN(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,e===null?FN(t):fn=e,B5.current=null}function FN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=R7(r,e),r!==null){r.flags&=32767,fn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,fn=null;return}}else if(r=C7(r,e,Ji),r!==null){fn=r;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);xn===0&&(xn=5)}function vu(t,e,r){var n=fr,i=Ts.transition;try{Ts.transition=null,fr=1,B7(t,e,r,n)}finally{Ts.transition=i,fr=n}return null}function B7(t,e,r,n){do rh();while(fl!==null);if(rr&6)throw Error(tt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(wL(t,s),t===Rn&&(fn=Rn=null,Bn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hp||(Hp=!0,UN(Zm,function(){return rh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ts.transition,Ts.transition=null;var a=fr;fr=1;var o=rr;rr|=4,B5.current=null,L7(t,r),RN(r,t),s7(L2),tg=!!P2,L2=P2=null,t.current=r,O7(r),cL(),rr=o,fr=a,Ts.transition=s}else t.current=r;if(Hp&&(Hp=!1,fl=t,yg=i),s=t.pendingLanes,s===0&&(bl=null),dL(r.stateNode),Mi(t,nn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gg)throw gg=!1,t=Z2,Z2=null,t;return yg&1&&t.tag!==0&&rh(),s=t.pendingLanes,s&1?t===ew?Wf++:(Wf=0,ew=t):Wf=0,Hl(),null}function rh(){if(fl!==null){var t=yT(yg),e=Ts.transition,r=fr;try{if(Ts.transition=null,fr=16>t?16:t,fl===null)var n=!1;else{if(t=fl,fl=null,yg=0,rr&6)throw Error(tt(331));var i=rr;for(rr|=4,dt=t.current;dt!==null;){var s=dt,a=s.child;if(dt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(dt=u;dt!==null;){var c=dt;switch(c.tag){case 0:case 11:case 15:qf(8,c,s)}var f=c.child;if(f!==null)f.return=c,dt=f;else for(;dt!==null;){c=dt;var m=c.sibling,h=c.return;if(kN(c),c===u){dt=null;break}if(m!==null){m.return=h,dt=m;break}dt=h}}}var x=s.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}dt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,dt=a;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qf(9,s,s.return)}var d=s.sibling;if(d!==null){d.return=s.return,dt=d;break e}dt=s.return}}var y=t.current;for(dt=y;dt!==null;){a=dt;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,dt=v;else e:for(a=y;dt!==null;){if(o=dt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:n0(9,o)}}catch(I){Kr(o,o.return,I)}if(o===a){dt=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,dt=w;break e}dt=o.return}}if(rr=i,Hl(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Xg,t)}catch{}n=!0}return n}finally{fr=r,Ts.transition=e}}return!1}function oE(t,e,r){e=wh(r,e),e=yN(t,e,1),t=_l(t,e,1),e=yi(),t!==null&&(Fd(t,1,e),Mi(t,e))}function Kr(t,e,r){if(t.tag===3)oE(t,t,r);else for(;e!==null;){if(e.tag===3){oE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bl===null||!bl.has(n))){t=wh(r,t),t=vN(e,t,1),e=_l(e,t,1),t=yi(),e!==null&&(Fd(e,1,t),Mi(e,t));break}}e=e.return}}function U7(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yi(),t.pingedLanes|=t.suspendedLanes&r,Rn===t&&(Bn&r)===r&&(xn===4||xn===3&&(Bn&130023424)===Bn&&500>nn()-V5?Iu(t,0):U5|=r),Mi(t,e)}function MN(t,e){e===0&&(t.mode&1?(e=Op,Op<<=1,!(Op&130023424)&&(Op=4194304)):e=1);var r=yi();t=_o(t,e),t!==null&&(Fd(t,e,r),Mi(t,r))}function V7(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MN(t,r)}function z7(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),MN(t,r)}var BN;BN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ji.current)Di=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Di=!1,I7(t,e,r);Di=!!(t.flags&131072)}else Di=!1,Fr&&e.flags&1048576&&qT(e,lg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Im(t,e),t=e.pendingProps;var i=mh(e,ti.current);th(e,r),i=O5(null,e,n,t,i,r);var s=D5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(n)?(s=!0,ag(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I5(e),i.updater=r0,e.stateNode=i,i._reactInternals=e,z2(e,n,t,r),e=W2(null,e,n,!0,s,r)):(e.tag=0,Fr&&s&&x5(e),gi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Im(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=H7(n),t=qs(n,t),i){case 0:e=H2(null,e,n,t,r);break e;case 1:e=Qx(null,e,n,t,r);break e;case 11:e=Xx(null,e,n,t,r);break e;case 14:e=Yx(null,e,n,qs(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qs(n,i),H2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qs(n,i),Qx(t,e,n,i,r);case 3:e:{if(xN(e),t===null)throw Error(tt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,XT(t,e),hg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wh(Error(tt(423)),e),e=Jx(t,e,n,r,i);break e}else if(n!==i){i=wh(Error(tt(424)),e),e=Jx(t,e,n,r,i);break e}else for(es=wl(e.stateNode.containerInfo.firstChild),is=e,Fr=!0,Ws=null,r=GT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gh(),n===i){e=bo(t,e,r);break e}gi(t,e,n,r)}e=e.child}return e;case 5:return YT(e),t===null&&B2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,O2(n,i)?a=null:s!==null&&O2(n,s)&&(e.flags|=32),bN(t,e),gi(t,e,a,r),e.child;case 6:return t===null&&B2(e),null;case 13:return EN(t,e,r);case 4:return C5(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yh(e,null,n,r):gi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qs(n,i),Xx(t,e,n,i,r);case 7:return gi(t,e,e.pendingProps,r),e.child;case 8:return gi(t,e,e.pendingProps.children,r),e.child;case 12:return gi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ir(ug,n._currentValue),n._currentValue=a,s!==null)if(ea(s.value,a)){if(s.children===i.children&&!ji.current){e=bo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=go(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),U2(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(tt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),U2(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,th(e,r),i=Ns(i),n=n(i),e.flags|=1,gi(t,e,n,r),e.child;case 14:return n=e.type,i=qs(n,e.pendingProps),i=qs(n.type,i),Yx(t,e,n,i,r);case 15:return wN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qs(n,i),Im(t,e),e.tag=1,Fi(n)?(t=!0,ag(e)):t=!1,th(e,r),gN(e,n,i),z2(e,n,i,r),W2(null,e,n,!0,t,r);case 19:return AN(t,e,r);case 22:return _N(t,e,r)}throw Error(tt(156,e.tag))};function UN(t,e){return dT(t,e)}function q7(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,r,n){return new q7(t,e,r,n)}function W5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H7(t){if(typeof t=="function")return W5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c5)return 11;if(t===h5)return 14}return 2}function El(t,e){var r=t.alternate;return r===null?(r=Ss(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Pm(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")W5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case jc:return Cu(r.children,i,s,e);case u5:a=8,i|=8;break;case f2:return t=Ss(12,r,e,i|2),t.elementType=f2,t.lanes=s,t;case d2:return t=Ss(13,r,e,i),t.elementType=d2,t.lanes=s,t;case p2:return t=Ss(19,r,e,i),t.elementType=p2,t.lanes=s,t;case Y6:return s0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K6:a=10;break e;case X6:a=9;break e;case c5:a=11;break e;case h5:a=14;break e;case rl:a=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=Ss(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Cu(t,e,r,n){return t=Ss(7,t,n,e),t.lanes=r,t}function s0(t,e,r,n){return t=Ss(22,t,n,e),t.elementType=Y6,t.lanes=r,t.stateNode={isHidden:!1},t}function F1(t,e,r){return t=Ss(6,t,null,e),t.lanes=r,t}function M1(t,e,r){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W7(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v1(0),this.expirationTimes=v1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $5(t,e,r,n,i,s,a,o,l){return t=new W7(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I5(s),t}function $7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function VN(t){if(!t)return Pl;t=t._reactInternals;e:{if(Yu(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(Fi(r))return VT(t,r,e)}return e}function zN(t,e,r,n,i,s,a,o,l){return t=$5(r,n,!0,t,i,s,a,o,l),t.context=VN(null),r=t.current,n=yi(),i=xl(r),s=go(n,i),s.callback=e??null,_l(r,s,i),t.current.lanes=i,Fd(t,i,n),Mi(t,n),t}function a0(t,e,r,n){var i=e.current,s=yi(),a=xl(i);return r=VN(r),e.context===null?e.context=r:e.pendingContext=r,e=go(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_l(i,e,a),t!==null&&(Xs(t,i,a,s),Tm(t,i,a)),a}function wg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function G5(t,e){lE(t,e),(t=t.alternate)&&lE(t,e)}function G7(){return null}var qN=typeof reportError=="function"?reportError:function(t){console.error(t)};function K5(t){this._internalRoot=t}o0.prototype.render=K5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));a0(t,e,null,null)};o0.prototype.unmount=K5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bu(function(){a0(null,t,null,null)}),e[wo]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var e=_T();t={blockedOn:null,target:t,priority:e};for(var r=0;r<il.length&&e!==0&&e<il[r].priority;r++);il.splice(r,0,t),r===0&&xT(t)}};function X5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uE(){}function K7(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=wg(a);s.call(u)}}var a=zN(e,n,t,0,null,!1,!1,"",uE);return t._reactRootContainer=a,t[wo]=a.current,fd(t.nodeType===8?t.parentNode:t),Bu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=wg(l);o.call(u)}}var l=$5(t,0,!1,null,null,!1,!1,"",uE);return t._reactRootContainer=l,t[wo]=l.current,fd(t.nodeType===8?t.parentNode:t),Bu(function(){a0(e,l,r,n)}),l}function u0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=wg(a);o.call(l)}}a0(e,a,t,i)}else a=K7(r,e,t,i,n);return wg(a)}vT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cf(e.pendingLanes);r!==0&&(p5(e,r|1),Mi(e,nn()),!(rr&6)&&(_h=nn()+500,Hl()))}break;case 13:Bu(function(){var n=_o(t,1);if(n!==null){var i=yi();Xs(n,t,1,i)}}),G5(t,1)}};m5=function(t){if(t.tag===13){var e=_o(t,134217728);if(e!==null){var r=yi();Xs(e,t,134217728,r)}G5(t,134217728)}};wT=function(t){if(t.tag===13){var e=xl(t),r=_o(t,e);if(r!==null){var n=yi();Xs(r,t,e,n)}G5(t,e)}};_T=function(){return fr};bT=function(t,e){var r=fr;try{return fr=t,e()}finally{fr=r}};A2=function(t,e,r){switch(e){case"input":if(y2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Zg(n);if(!i)throw Error(tt(90));J6(n),y2(n,i)}}}break;case"textarea":eT(t,r);break;case"select":e=r.value,e!=null&&Qc(t,!!r.multiple,e,!1)}};oT=z5;lT=Bu;var X7={usingClientEntryPoint:!1,Events:[Bd,Uc,Zg,sT,aT,z5]},wf={findFiberByHostInstance:xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y7={bundleType:wf.bundleType,version:wf.version,rendererPackageName:wf.rendererPackageName,rendererConfig:wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hT(t),t===null?null:t.stateNode},findFiberByHostInstance:wf.findFiberByHostInstance||G7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{Xg=Wp.inject(Y7),Pa=Wp}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X7;as.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X5(e))throw Error(tt(200));return $7(t,e,null,r)};as.createRoot=function(t,e){if(!X5(t))throw Error(tt(299));var r=!1,n="",i=qN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$5(t,1,!1,null,null,r,!1,n,i),t[wo]=e.current,fd(t.nodeType===8?t.parentNode:t),new K5(e)};as.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=hT(e),t=t===null?null:t.stateNode,t};as.flushSync=function(t){return Bu(t)};as.hydrate=function(t,e,r){if(!l0(e))throw Error(tt(200));return u0(null,t,e,!0,r)};as.hydrateRoot=function(t,e,r){if(!X5(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=qN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=zN(e,null,t,1,r??null,i,!1,s,a),t[wo]=e.current,fd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new o0(e)};as.render=function(t,e,r){if(!l0(e))throw Error(tt(200));return u0(null,t,e,!1,r)};as.unmountComponentAtNode=function(t){if(!l0(t))throw Error(tt(40));return t._reactRootContainer?(Bu(function(){u0(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};as.unstable_batchedUpdates=z5;as.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!l0(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return u0(t,e,r,!1,n)};as.version="18.3.1-next-f1338f8080-20240426";function HN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HN)}catch(t){console.error(t)}}HN(),H6.exports=as;var Q7=H6.exports,cE=Q7;c2.createRoot=cE.createRoot,c2.hydrateRoot=cE.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bd.apply(this,arguments)}var dl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dl||(dl={}));const hE="popstate";function J7(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Qu(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),nw("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:_g(s))}function n(i,s){c0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return eO(e,r,n,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z7(){return Math.random().toString(36).substr(2,8)}function fE(t,e){return{usr:t.state,key:t.key,idx:e}}function nw(t,e,r,n){return r===void 0&&(r=null),bd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qu(e):e,{state:r,key:e&&e.key||n||Z7()})}function _g(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function eO(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=dl.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(bd({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=dl.Pop;let A=c(),d=A==null?null:A-u;u=A,l&&l({action:o,location:_.location,delta:d})}function m(A,d){o=dl.Push;let y=nw(_.location,A,d);r&&r(y,A),u=c()+1;let v=fE(y,u),w=_.createHref(y);try{a.pushState(v,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:o,location:_.location,delta:1})}function h(A,d){o=dl.Replace;let y=nw(_.location,A,d);r&&r(y,A),u=c();let v=fE(y,u),w=_.createHref(y);a.replaceState(v,"",w),s&&l&&l({action:o,location:_.location,delta:0})}function x(A){let d=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof A=="string"?A:_g(A);return y=y.replace(/ $/,"%20"),mn(d,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,d)}let _={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hE,f),l=A,()=>{i.removeEventListener(hE,f),l=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let d=x(A);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:m,replace:h,go(A){return a.go(A)}};return _}var dE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dE||(dE={}));function tO(t,e,r){return r===void 0&&(r="/"),rO(t,e,r)}function rO(t,e,r,n){let i=typeof e=="string"?Qu(e):e,s=Y5(i.pathname||"/",r);if(s==null)return null;let a=WN(t);nO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=mO(s);o=fO(a[l],u)}return o}function WN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(mn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Al([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WN(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:cO(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of $N(s.path))i(s,a,l)}),e}function $N(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=$N(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function nO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:hO(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iO=/^:[\w-]+$/,sO=3,aO=2,oO=1,lO=10,uO=-2,pE=t=>t==="*";function cO(t,e){let r=t.split("/"),n=r.length;return r.some(pE)&&(n+=uO),e&&(n+=aO),r.filter(i=>!pE(i)).reduce((i,s)=>i+(iO.test(s)?sO:s===""?oO:lO),n)}function hO(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function fO(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=dO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Al([s,f.pathname]),pathnameBase:_O(Al([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Al([s,f.pathnameBase]))}return a}function dO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=pO(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:m,isOptional:h}=c;if(m==="*"){let _=o[f]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const x=o[f];return h&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function pO(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),c0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function mO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return c0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const gO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yO=t=>gO.test(t);function vO(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Qu(t):t,s;if(r)if(yO(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),c0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=mE(r.substring(1),"/"):s=mE(r,e)}else s=e;return{pathname:s,search:bO(n),hash:xO(i)}}function mE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function B1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wO(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function GN(t,e){let r=wO(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KN(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Qu(t):(i=bd({},t),mn(!i.pathname||!i.pathname.includes("?"),B1("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),B1("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),B1("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=vO(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Al=t=>t.join("/").replace(/\/\/+/g,"/"),_O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XN=["post","put","patch","delete"];new Set(XN);const AO=["get",...XN];new Set(AO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}const Q5=Ge.createContext(null),SO=Ge.createContext(null),Ju=Ge.createContext(null),h0=Ge.createContext(null),Zu=Ge.createContext({outlet:null,matches:[],isDataRoute:!1}),YN=Ge.createContext(null);function TO(t,e){let{relative:r}=e===void 0?{}:e;Vd()||mn(!1);let{basename:n,navigator:i}=Ge.useContext(Ju),{hash:s,pathname:a,search:o}=ZN(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Al([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Vd(){return Ge.useContext(h0)!=null}function zd(){return Vd()||mn(!1),Ge.useContext(h0).location}function QN(t){Ge.useContext(Ju).static||Ge.useLayoutEffect(t)}function JN(){let{isDataRoute:t}=Ge.useContext(Zu);return t?BO():NO()}function NO(){Vd()||mn(!1);let t=Ge.useContext(Q5),{basename:e,future:r,navigator:n}=Ge.useContext(Ju),{matches:i}=Ge.useContext(Zu),{pathname:s}=zd(),a=JSON.stringify(GN(i,r.v7_relativeSplatPath)),o=Ge.useRef(!1);return QN(()=>{o.current=!0}),Ge.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=KN(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Al([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,s,t])}function ZN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Ge.useContext(Ju),{matches:i}=Ge.useContext(Zu),{pathname:s}=zd(),a=JSON.stringify(GN(i,n.v7_relativeSplatPath));return Ge.useMemo(()=>KN(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function kO(t,e){return IO(t,e)}function IO(t,e,r,n){Vd()||mn(!1);let{navigator:i}=Ge.useContext(Ju),{matches:s}=Ge.useContext(Zu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=zd(),c;if(e){var f;let A=typeof e=="string"?Qu(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||mn(!1),c=A}else c=u;let m=c.pathname||"/",h=m;if(l!=="/"){let A=l.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=tO(t,{pathname:h}),_=OO(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Al([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Al([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n);return e&&_?Ge.createElement(h0.Provider,{value:{location:xd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dl.Pop}},_):_}function CO(){let t=MO(),e=EO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ge.createElement(Ge.Fragment,null,Ge.createElement("h2",null,"Unexpected Application Error!"),Ge.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ge.createElement("pre",{style:i},r):null,null)}const RO=Ge.createElement(CO,null);class PO extends Ge.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Ge.createElement(Zu.Provider,{value:this.props.routeContext},Ge.createElement(YN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LO(t){let{routeContext:e,match:r,children:n}=t,i=Ge.useContext(Q5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ge.createElement(Zu.Provider,{value:e},n)}function OO(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||mn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,m)=>{let h,x=!1,_=null,A=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||RO,l&&(u<0&&m===0?(UO("route-fallback"),x=!0,A=null):u===m&&(x=!0,A=f.route.hydrateFallbackElement||null)));let d=e.concat(a.slice(0,m+1)),y=()=>{let v;return h?v=_:x?v=A:f.route.Component?v=Ge.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,Ge.createElement(LO,{match:f,routeContext:{outlet:c,matches:d,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?Ge.createElement(PO,{location:r.location,revalidation:r.revalidation,component:_,error:h,children:y(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):y()},null)}var ek=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ek||{}),tk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tk||{});function DO(t){let e=Ge.useContext(Q5);return e||mn(!1),e}function jO(t){let e=Ge.useContext(SO);return e||mn(!1),e}function FO(t){let e=Ge.useContext(Zu);return e||mn(!1),e}function rk(t){let e=FO(),r=e.matches[e.matches.length-1];return r.route.id||mn(!1),r.route.id}function MO(){var t;let e=Ge.useContext(YN),r=jO(),n=rk();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function BO(){let{router:t}=DO(ek.UseNavigateStable),e=rk(tk.UseNavigateStable),r=Ge.useRef(!1);return QN(()=>{r.current=!0}),Ge.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xd({fromRouteId:e},s)))},[t,e])}const gE={};function UO(t,e,r){gE[t]||(gE[t]=!0)}function VO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nc(t){mn(!1)}function zO(t){let{basename:e="/",children:r=null,location:n,navigationType:i=dl.Pop,navigator:s,static:a=!1,future:o}=t;Vd()&&mn(!1);let l=e.replace(/^\/*/,"/"),u=Ge.useMemo(()=>({basename:l,navigator:s,static:a,future:xd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Qu(n));let{pathname:c="/",search:f="",hash:m="",state:h=null,key:x="default"}=n,_=Ge.useMemo(()=>{let A=Y5(c,l);return A==null?null:{location:{pathname:A,search:f,hash:m,state:h,key:x},navigationType:i}},[l,c,f,m,h,x,i]);return _==null?null:Ge.createElement(Ju.Provider,{value:u},Ge.createElement(h0.Provider,{children:r,value:_}))}function qO(t){let{children:e,location:r}=t;return kO(iw(e),r)}new Promise(()=>{});function iw(t,e){e===void 0&&(e=[]);let r=[];return Ge.Children.forEach(t,(n,i)=>{if(!Ge.isValidElement(n))return;let s=[...e,i];if(n.type===Ge.Fragment){r.push.apply(r,iw(n.props.children,s));return}n.type!==Nc&&mn(!1),!n.props.index||!n.props.children||mn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=iw(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function HO(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function WO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $O(t,e){return t.button===0&&(!e||e==="_self")&&!WO(t)}const GO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KO="6";try{window.__reactRouterVersion=KO}catch{}const XO="startTransition",yE=UP[XO];function YO(t){let{basename:e,children:r,future:n,window:i}=t,s=Ge.useRef();s.current==null&&(s.current=J7({window:i,v5Compat:!0}));let a=s.current,[o,l]=Ge.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=Ge.useCallback(f=>{u&&yE?yE(()=>l(f)):l(f)},[l,u]);return Ge.useLayoutEffect(()=>a.listen(c),[a,c]),Ge.useEffect(()=>VO(n),[n]),Ge.createElement(zO,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const QO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Su=Ge.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,m=HO(e,GO),{basename:h}=Ge.useContext(Ju),x,_=!1;if(typeof u=="string"&&JO.test(u)&&(x=u,QO))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),I=Y5(w.pathname,h);w.origin===v.origin&&I!=null?u=I+w.search+w.hash:_=!0}catch{}let A=TO(u,{relative:i}),d=ZO(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||d(v)}return Ge.createElement("a",sw({},m,{href:x||A,onClick:_||s?n:y,ref:r,target:l}))});var vE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vE||(vE={}));var wE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));function ZO(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=JN(),u=zd(),c=ZN(t,{relative:a});return Ge.useCallback(f=>{if($O(f,r)){f.preventDefault();let m=n!==void 0?n:_g(u)===_g(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zt=(t,e)=>{const r=Ge.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>Ge.createElement("svg",{ref:c,...eD,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${tD(t)}`,o].join(" "),...u},[...e.map(([f,m])=>Ge.createElement(f,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=zt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=zt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=zt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=zt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=zt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=zt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=zt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=zt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=zt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=zt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=zt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=zt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=zt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=zt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=zt("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=zt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=zt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function bD({testDocuments:t,requirements:e}){const r=t.filter(I=>I.status==="pendente").length,n=t.filter(I=>I.status==="aprovado").length,i=t.filter(I=>I.status==="reprovado").length,s=t.filter(I=>I.status==="melhoria").length,a=t.length,o=t.filter(I=>I.category==="regra_negocio").length,l=t.filter(I=>I.category==="bug").length,u=t.filter(I=>I.category==="melhoria").length,c=a>0?Math.round((n+i)/a*100):0,f=a>0?Math.round(n/a*100):0,m=t.reduce((I,q)=>{const R=q.module||q.feature||"Sem mdulo";return I[R]||(I[R]={total:0,approved:0,failed:0,pending:0}),I[R].total++,q.status==="aprovado"?I[R].approved++:q.status==="reprovado"?I[R].failed++:I[R].pending++,I},{}),h=t.filter(I=>I.status==="reprovado"),x=[...t].sort((I,q)=>new Date(q.createdAt)-new Date(I.createdAt)).slice(0,8),A=(I=>{const q={},R=new Date().toDateString(),P=new Date(Date.now()-864e5).toDateString();return I.forEach(E=>{const H=new Date(E.createdAt).toDateString();let j=new Date(E.createdAt).toLocaleDateString("pt-BR");H===R?j="Hoje":H===P&&(j="Ontem"),q[j]||(q[j]=[]),q[j].push(E)}),q})(x),d=[{label:"Total de Testes",value:t.length,color:"bg-blue-500"},{label:"Aprovados",value:n,color:"bg-green-500"},{label:"Reprovados",value:i,color:"bg-red-500"},{label:"Pendentes",value:r,color:"bg-yellow-500"},{label:"Requisitos",value:e.length,color:"bg-purple-500"}],y=[{label:"Regra de Negcio",value:o,color:"bg-indigo-500",icon:iD},{label:"Bug",value:l,color:"bg-red-500",icon:sD},{label:"Melhoria",value:u,color:"bg-emerald-500",icon:gD}],v=[{title:"Registrar Teste",description:"Colaboradora registra um novo teste de homologao",icon:lw,path:"/registro",color:"bg-blue-100 text-blue-600"},{title:"Ver Documentos",description:"Visualizar e gerenciar documentos de teste",icon:f0,path:"/documentos",color:"bg-green-100 text-green-600"},{title:"Gerar Gherkin",description:"Converter testes para formato Gherkin + Playwright",icon:Gc,path:"/gherkin",color:"bg-purple-100 text-purple-600"},{title:"Tabela de Partio",description:"Gerenciar requisitos com tabela de partio",icon:J5,path:"/particao",color:"bg-orange-100 text-orange-600"}],w=t.slice(-5).reverse();return S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocSimples Reports"}),S.jsx("p",{className:"mt-2 text-gray-600",children:"Sistema de documentao de testes de homologao com gerao automtica de Gherkin e Playwright"})]}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:d.map(I=>S.jsxs("div",{className:"card",children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${I.color} mb-2`}),S.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.value}),S.jsx("p",{className:"text-sm text-gray-600",children:I.label})]},I.label))}),S.jsxs("div",{className:"card",children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Testes por Categoria"}),S.jsx("div",{className:"grid grid-cols-3 gap-4",children:y.map(I=>{const q=I.icon;return S.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:`p-2 rounded-lg ${I.color.replace("bg-","bg-").replace("-500","-100")}`,children:S.jsx(q,{className:`w-5 h-5 ${I.color.replace("bg-","text-")}`})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xl font-bold text-gray-900",children:I.value}),S.jsx("p",{className:"text-xs text-gray-600",children:I.label})]})]},I.label)})})]}),a>0&&S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[S.jsx(wD,{className:"w-5 h-5 text-primary-600"}),"Progresso da Homologao"]}),S.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[c,"%"]})]}),S.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-4",children:S.jsxs("div",{className:"h-full flex",children:[S.jsx("div",{className:"bg-green-500 transition-all duration-500",style:{width:`${a>0?n/a*100:0}%`}}),S.jsx("div",{className:"bg-red-500 transition-all duration-500",style:{width:`${a>0?i/a*100:0}%`}})]})}),S.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[S.jsxs("div",{className:"p-2 bg-green-50 rounded-lg",children:[S.jsx(bg,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),S.jsx("p",{className:"text-lg font-bold text-green-700",children:n}),S.jsx("p",{className:"text-xs text-green-600",children:"Aprovados"})]}),S.jsxs("div",{className:"p-2 bg-red-50 rounded-lg",children:[S.jsx(Lm,{className:"w-5 h-5 text-red-600 mx-auto mb-1"}),S.jsx("p",{className:"text-lg font-bold text-red-700",children:i}),S.jsx("p",{className:"text-xs text-red-600",children:"Reprovados"})]}),S.jsxs("div",{className:"p-2 bg-yellow-50 rounded-lg",children:[S.jsx(ow,{className:"w-5 h-5 text-yellow-600 mx-auto mb-1"}),S.jsx("p",{className:"text-lg font-bold text-yellow-700",children:r}),S.jsx("p",{className:"text-xs text-yellow-600",children:"Pendentes"})]}),S.jsxs("div",{className:"p-2 bg-cyan-50 rounded-lg",children:[S.jsx(EE,{className:"w-5 h-5 text-cyan-600 mx-auto mb-1"}),S.jsx("p",{className:"text-lg font-bold text-cyan-700",children:s}),S.jsx("p",{className:"text-xs text-cyan-600",children:"Melhorias"})]})]}),f>0&&S.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Taxa de aprovao: ",S.jsxs("span",{className:"font-semibold text-green-600",children:[f,"%"]})]})]}),S.jsxs("div",{className:"card",children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Progresso por Mdulo"}),S.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(m).map(([I,q])=>(Math.round((q.approved+q.failed)/q.total*100),q.total>0&&Math.round(q.approved/q.total*100),S.jsxs("div",{className:"group",children:[S.jsxs("div",{className:"flex items-center justify-between mb-1",children:[S.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-[60%]",title:I,children:I}),S.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[S.jsx("span",{className:"text-green-600",children:q.approved}),S.jsx("span",{className:"text-gray-400",children:"/"}),S.jsx("span",{className:"text-gray-600",children:q.total})]})]}),S.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:S.jsxs("div",{className:"h-full flex",children:[S.jsx("div",{className:"bg-green-500 transition-all",style:{width:`${q.approved/q.total*100}%`}}),S.jsx("div",{className:"bg-red-500 transition-all",style:{width:`${q.failed/q.total*100}%`}})]})})]},I)))})]})]}),h.length>0&&S.jsxs("div",{className:"card border-l-4 border-l-red-500 bg-red-50",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx(rD,{className:"w-5 h-5 text-red-600"}),S.jsx("h3",{className:"font-semibold text-red-800",children:"Testes Reprovados - Ateno Necessria"})]}),S.jsx("div",{className:"space-y-2",children:h.slice(0,5).map(I=>S.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded-lg",children:[S.jsx(Lm,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"font-medium text-gray-900 text-sm",children:I.title}),S.jsx("p",{className:"text-xs text-gray-500",children:I.feature}),I.observations&&S.jsxs("p",{className:"text-xs text-red-600 mt-1 truncate",title:I.observations,children:["Obs: ",I.observations]})]})]},I.id))}),h.length>5&&S.jsxs(Su,{to:"/documentos?status=reprovado",className:"text-sm text-red-600 font-medium mt-3 inline-block hover:underline",children:["Ver todos os ",h.length," reprovados "]})]}),x.length>0&&S.jsxs("div",{className:"card",children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Timeline de Atividades"}),S.jsx("div",{className:"space-y-4",children:Object.entries(A).map(([I,q])=>S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:I}),S.jsx("div",{className:"space-y-2 border-l-2 border-gray-200 pl-4",children:q.map(R=>S.jsxs("div",{className:"flex items-center gap-3 relative",children:[S.jsx("div",{className:`absolute -left-[21px] w-3 h-3 rounded-full border-2 border-white ${R.status==="aprovado"?"bg-green-500":R.status==="reprovado"?"bg-red-500":R.status==="melhoria"?"bg-cyan-500":"bg-yellow-500"}`}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("p",{className:"text-sm text-gray-900",children:[S.jsx("span",{className:"font-medium",children:R.title}),S.jsx("span",{className:`ml-2 text-xs ${R.status==="aprovado"?"text-green-600":R.status==="reprovado"?"text-red-600":R.status==="melhoria"?"text-cyan-600":"text-yellow-600"}`,children:R.status})]}),S.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(R.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),R.tester&&`  ${R.tester}`]})]})]},R.id))})]},I))})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),S.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map(I=>{const q=I.icon;return S.jsxs(Su,{to:I.path,className:"card hover:shadow-md transition-shadow group",children:[S.jsx("div",{className:`w-12 h-12 rounded-lg ${I.color} flex items-center justify-center mb-4`,children:S.jsx(q,{className:"w-6 h-6"})}),S.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:I.title}),S.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.description}),S.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium mt-3",children:[S.jsx("span",{children:"Acessar"}),S.jsx(nD,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]},I.path)})})]}),w.length>0&&S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Testes Recentes"}),S.jsx(Su,{to:"/documentos",className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:"Ver todos "})]}),S.jsx("div",{className:"card",children:S.jsx("div",{className:"divide-y divide-gray-200",children:w.map(I=>S.jsxs("div",{className:"py-3 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[I.status==="aprovado"?S.jsx(bg,{className:"w-5 h-5 text-green-500"}):I.status==="reprovado"?S.jsx(Lm,{className:"w-5 h-5 text-red-500"}):I.status==="melhoria"?S.jsx(EE,{className:"w-5 h-5 text-cyan-500"}):S.jsx(ow,{className:"w-5 h-5 text-yellow-500"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-gray-900",children:I.title}),S.jsx("p",{className:"text-sm text-gray-500",children:I.feature})]})]}),S.jsx("span",{className:`badge ${I.status==="aprovado"?"badge-success":I.status==="reprovado"?"badge-error":I.status==="melhoria"?"bg-cyan-100 text-cyan-700":"badge-warning"}`,children:I.status})]},I.id))})})]}),t.length===0&&S.jsxs("div",{className:"card text-center py-12",children:[S.jsx(lw,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),S.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum teste registrado"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Comece registrando seu primeiro teste de homologao"}),S.jsx(Su,{to:"/registro",className:"btn-primary inline-block mt-4",children:"Registrar Teste"})]})]})}const xD="modulepreload",ED=function(t){return"/DocSimplesReports/"+t},NE={},$f=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=ED(l),l in NE)return;NE[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xD,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},AD=()=>{};var kE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},SD=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|o>>4;let m=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(m=64)),n.push(r[c],r[f],r[m],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new TD;const m=s<<2|o>>4;if(n.push(m),u!==64){const h=o<<4&240|u>>2;if(n.push(h),f!==64){const x=u<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ND=function(t){const e=ik(t);return sk.encodeByteArray(e,!0)},Ag=function(t){return ND(t).replace(/\./g,"")},ak=function(t){try{return sk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=()=>kD().__FIREBASE_DEFAULTS__,CD=()=>{if(typeof process>"u"||typeof kE>"u")return;const t=kE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ak(t[1]);return e&&JSON.parse(e)},d0=()=>{try{return AD()||ID()||CD()||RD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ok=t=>{var e,r;return(r=(e=d0())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},lk=t=>{const e=ok(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},uk=()=>{var t;return(t=d0())==null?void 0:t.config},ck=t=>{var e;return(e=d0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ag(JSON.stringify(r)),Ag(JSON.stringify(a)),""].join(".")}const Gf={};function LD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gf))Gf[e]?t.emulator.push(e):t.prod.push(e);return t}function OD(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let IE=!1;function e_(t,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Gf[t]===e||Gf[t]||IE)return;Gf[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=LD().prod.length>0;function a(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,h){m.setAttribute("width","24"),m.setAttribute("id",h),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{IE=!0,a()},m}function c(m,h){m.setAttribute("id",h),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=OD(n),h=r("text"),x=document.getElementById(h)||document.createElement("span"),_=r("learnmore"),A=document.getElementById(_)||document.createElement("a"),d=r("preprendIcon"),y=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;o(v),c(A,_);const w=u();l(y,d),v.append(y,x,A,w),document.body.appendChild(v)}s?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function jD(){var e;const t=(e=d0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){const t=ri();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VD(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zD(){try{return typeof indexedDB=="object"}catch{return!1}}function qD(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class Ua extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=HD,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?WD(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ua(i,o,n)}}function WD(t,e){return t.replace($D,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const $D=/\{\$([^}]+)}/g;function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(CE(s)&&CE(a)){if(!Uu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Pf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function KD(t,e){const r=new XD(t,e);return r.subscribe.bind(r)}class XD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");YD(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=U1),i.error===void 0&&(i.error=U1),i.complete===void 0&&(i.complete=U1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function U1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return t&&t._delegate?t._delegate:t}class Ll{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new PD;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:wu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=wu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wu){return this.instances.has(e)}getOptions(e=wu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:JD(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wu){return this.component?this.component.multipleInstances?e:wu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(t){return t===wu?void 0:t}function ZD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new QD(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const t9={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},r9=Xt.INFO,n9={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},i9=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=n9[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=r9,this._logHandler=i9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const s9=(t,e)=>e.some(r=>t instanceof r);let RE,PE;function a9(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o9(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fk=new WeakMap,uw=new WeakMap,dk=new WeakMap,V1=new WeakMap,r_=new WeakMap;function l9(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Sl(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&fk.set(r,t)}).catch(()=>{}),r_.set(e,t),e}function u9(t){if(uw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});uw.set(t,e)}let cw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Sl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c9(t){cw=t(cw)}function h9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(z1(this),e,...r);return dk.set(n,e.sort?e.sort():[e]),Sl(n)}:o9().includes(t)?function(...e){return t.apply(z1(this),e),Sl(fk.get(this))}:function(...e){return Sl(t.apply(z1(this),e))}}function f9(t){return typeof t=="function"?h9(t):(t instanceof IDBTransaction&&u9(t),s9(t,a9())?new Proxy(t,cw):t)}function Sl(t){if(t instanceof IDBRequest)return l9(t);if(V1.has(t))return V1.get(t);const e=f9(t);return e!==t&&(V1.set(t,e),r_.set(e,t)),e}const z1=t=>r_.get(t);function d9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Sl(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Sl(a.result),l.oldVersion,l.newVersion,Sl(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const p9=["get","getKey","getAll","getAllKeys","count"],m9=["put","add","delete","clear"],q1=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q1.get(e))return q1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=m9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||p9.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return q1.set(e,s),s}c9(t=>({...t,get:(e,r,n)=>LE(e,r)||t.get(e,r,n),has:(e,r)=>!!LE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(y9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function y9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hw="@firebase/app",OE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new t_("@firebase/app"),v9="@firebase/app-compat",w9="@firebase/analytics-compat",_9="@firebase/analytics",b9="@firebase/app-check-compat",x9="@firebase/app-check",E9="@firebase/auth",A9="@firebase/auth-compat",S9="@firebase/database",T9="@firebase/data-connect",N9="@firebase/database-compat",k9="@firebase/functions",I9="@firebase/functions-compat",C9="@firebase/installations",R9="@firebase/installations-compat",P9="@firebase/messaging",L9="@firebase/messaging-compat",O9="@firebase/performance",D9="@firebase/performance-compat",j9="@firebase/remote-config",F9="@firebase/remote-config-compat",M9="@firebase/storage",B9="@firebase/storage-compat",U9="@firebase/firestore",V9="@firebase/ai",z9="@firebase/firestore-compat",q9="firebase",H9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="[DEFAULT]",W9={[hw]:"fire-core",[v9]:"fire-core-compat",[_9]:"fire-analytics",[w9]:"fire-analytics-compat",[x9]:"fire-app-check",[b9]:"fire-app-check-compat",[E9]:"fire-auth",[A9]:"fire-auth-compat",[S9]:"fire-rtdb",[T9]:"fire-data-connect",[N9]:"fire-rtdb-compat",[k9]:"fire-fn",[I9]:"fire-fn-compat",[C9]:"fire-iid",[R9]:"fire-iid-compat",[P9]:"fire-fcm",[L9]:"fire-fcm-compat",[O9]:"fire-perf",[D9]:"fire-perf-compat",[j9]:"fire-rc",[F9]:"fire-rc-compat",[M9]:"fire-gcs",[B9]:"fire-gcs-compat",[U9]:"fire-fst",[z9]:"fire-fst-compat",[V9]:"fire-vertex","fire-js":"fire-js",[q9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map,$9=new Map,dw=new Map;function DE(t,e){try{t.container.addComponent(e)}catch(r){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Vu(t){const e=t.name;if(dw.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;dw.set(e,t);for(const r of Sg.values())DE(r,t);for(const r of $9.values())DE(r,t);return!0}function p0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function As(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tl=new qd("app","Firebase",G9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=H9;function pk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:fw,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Tl.create("bad-app-name",{appName:String(i)});if(r||(r=uk()),!r)throw Tl.create("no-options");const s=Sg.get(i);if(s){if(Uu(r,s.options)&&Uu(n,s.config))return s;throw Tl.create("duplicate-app",{appName:i})}const a=new e9(i);for(const l of dw.values())a.addComponent(l);const o=new K9(r,n,a);return Sg.set(i,o),o}function n_(t=fw){const e=Sg.get(t);if(!e&&t===fw&&uk())return pk();if(!e)throw Tl.create("no-app",{appName:t});return e}function Oa(t,e,r){let n=W9[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(a.join(" "));return}Vu(new Ll(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="firebase-heartbeat-database",Y9=1,Sd="firebase-heartbeat-store";let H1=null;function mk(){return H1||(H1=d9(X9,Y9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Tl.create("idb-open",{originalErrorMessage:t.message})})),H1}async function Q9(t){try{const r=(await mk()).transaction(Sd),n=await r.objectStore(Sd).get(gk(t));return await r.done,n}catch(e){if(e instanceof Ua)xo.warn(e.message);else{const r=Tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(r.message)}}}async function jE(t,e){try{const n=(await mk()).transaction(Sd,"readwrite");await n.objectStore(Sd).put(e,gk(t)),await n.done}catch(r){if(r instanceof Ua)xo.warn(r.message);else{const n=Tl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xo.warn(n.message)}}}function gk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1024,Z9=30;class ej{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new rj(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Z9){const a=nj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=FE(),{heartbeatsToSend:n,unsentEntries:i}=tj(this._heartbeatsCache.heartbeats),s=Ag(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return xo.warn(r),""}}}function FE(){return new Date().toISOString().substring(0,10)}function tj(t,e=J9){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ME(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ME(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zD()?qD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Q9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ME(t){return Ag(JSON.stringify({version:2,heartbeats:t})).length}function nj(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){Vu(new Ll("platform-logger",e=>new g9(e),"PRIVATE")),Vu(new Ll("heartbeat",e=>new ej(e),"PRIVATE")),Oa(hw,OE,t),Oa(hw,OE,"esm2020"),Oa("fire-js","")}ij("");var sj="firebase",aj="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(sj,aj,"app");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,yk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,P){function E(){}E.prototype=P.prototype,R.F=P.prototype,R.prototype=new E,R.prototype.constructor=R,R.D=function(H,j,T){for(var L=Array(arguments.length-2),C=2;C<arguments.length;C++)L[C-2]=arguments[C];return P.prototype[j].apply(H,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,P,E){E||(E=0);const H=Array(16);if(typeof P=="string")for(var j=0;j<16;++j)H[j]=P.charCodeAt(E++)|P.charCodeAt(E++)<<8|P.charCodeAt(E++)<<16|P.charCodeAt(E++)<<24;else for(j=0;j<16;++j)H[j]=P[E++]|P[E++]<<8|P[E++]<<16|P[E++]<<24;P=R.g[0],E=R.g[1],j=R.g[2];let T=R.g[3],L;L=P+(T^E&(j^T))+H[0]+3614090360&4294967295,P=E+(L<<7&4294967295|L>>>25),L=T+(j^P&(E^j))+H[1]+3905402710&4294967295,T=P+(L<<12&4294967295|L>>>20),L=j+(E^T&(P^E))+H[2]+606105819&4294967295,j=T+(L<<17&4294967295|L>>>15),L=E+(P^j&(T^P))+H[3]+3250441966&4294967295,E=j+(L<<22&4294967295|L>>>10),L=P+(T^E&(j^T))+H[4]+4118548399&4294967295,P=E+(L<<7&4294967295|L>>>25),L=T+(j^P&(E^j))+H[5]+1200080426&4294967295,T=P+(L<<12&4294967295|L>>>20),L=j+(E^T&(P^E))+H[6]+2821735955&4294967295,j=T+(L<<17&4294967295|L>>>15),L=E+(P^j&(T^P))+H[7]+4249261313&4294967295,E=j+(L<<22&4294967295|L>>>10),L=P+(T^E&(j^T))+H[8]+1770035416&4294967295,P=E+(L<<7&4294967295|L>>>25),L=T+(j^P&(E^j))+H[9]+2336552879&4294967295,T=P+(L<<12&4294967295|L>>>20),L=j+(E^T&(P^E))+H[10]+4294925233&4294967295,j=T+(L<<17&4294967295|L>>>15),L=E+(P^j&(T^P))+H[11]+2304563134&4294967295,E=j+(L<<22&4294967295|L>>>10),L=P+(T^E&(j^T))+H[12]+1804603682&4294967295,P=E+(L<<7&4294967295|L>>>25),L=T+(j^P&(E^j))+H[13]+4254626195&4294967295,T=P+(L<<12&4294967295|L>>>20),L=j+(E^T&(P^E))+H[14]+2792965006&4294967295,j=T+(L<<17&4294967295|L>>>15),L=E+(P^j&(T^P))+H[15]+1236535329&4294967295,E=j+(L<<22&4294967295|L>>>10),L=P+(j^T&(E^j))+H[1]+4129170786&4294967295,P=E+(L<<5&4294967295|L>>>27),L=T+(E^j&(P^E))+H[6]+3225465664&4294967295,T=P+(L<<9&4294967295|L>>>23),L=j+(P^E&(T^P))+H[11]+643717713&4294967295,j=T+(L<<14&4294967295|L>>>18),L=E+(T^P&(j^T))+H[0]+3921069994&4294967295,E=j+(L<<20&4294967295|L>>>12),L=P+(j^T&(E^j))+H[5]+3593408605&4294967295,P=E+(L<<5&4294967295|L>>>27),L=T+(E^j&(P^E))+H[10]+38016083&4294967295,T=P+(L<<9&4294967295|L>>>23),L=j+(P^E&(T^P))+H[15]+3634488961&4294967295,j=T+(L<<14&4294967295|L>>>18),L=E+(T^P&(j^T))+H[4]+3889429448&4294967295,E=j+(L<<20&4294967295|L>>>12),L=P+(j^T&(E^j))+H[9]+568446438&4294967295,P=E+(L<<5&4294967295|L>>>27),L=T+(E^j&(P^E))+H[14]+3275163606&4294967295,T=P+(L<<9&4294967295|L>>>23),L=j+(P^E&(T^P))+H[3]+4107603335&4294967295,j=T+(L<<14&4294967295|L>>>18),L=E+(T^P&(j^T))+H[8]+1163531501&4294967295,E=j+(L<<20&4294967295|L>>>12),L=P+(j^T&(E^j))+H[13]+2850285829&4294967295,P=E+(L<<5&4294967295|L>>>27),L=T+(E^j&(P^E))+H[2]+4243563512&4294967295,T=P+(L<<9&4294967295|L>>>23),L=j+(P^E&(T^P))+H[7]+1735328473&4294967295,j=T+(L<<14&4294967295|L>>>18),L=E+(T^P&(j^T))+H[12]+2368359562&4294967295,E=j+(L<<20&4294967295|L>>>12),L=P+(E^j^T)+H[5]+4294588738&4294967295,P=E+(L<<4&4294967295|L>>>28),L=T+(P^E^j)+H[8]+2272392833&4294967295,T=P+(L<<11&4294967295|L>>>21),L=j+(T^P^E)+H[11]+1839030562&4294967295,j=T+(L<<16&4294967295|L>>>16),L=E+(j^T^P)+H[14]+4259657740&4294967295,E=j+(L<<23&4294967295|L>>>9),L=P+(E^j^T)+H[1]+2763975236&4294967295,P=E+(L<<4&4294967295|L>>>28),L=T+(P^E^j)+H[4]+1272893353&4294967295,T=P+(L<<11&4294967295|L>>>21),L=j+(T^P^E)+H[7]+4139469664&4294967295,j=T+(L<<16&4294967295|L>>>16),L=E+(j^T^P)+H[10]+3200236656&4294967295,E=j+(L<<23&4294967295|L>>>9),L=P+(E^j^T)+H[13]+681279174&4294967295,P=E+(L<<4&4294967295|L>>>28),L=T+(P^E^j)+H[0]+3936430074&4294967295,T=P+(L<<11&4294967295|L>>>21),L=j+(T^P^E)+H[3]+3572445317&4294967295,j=T+(L<<16&4294967295|L>>>16),L=E+(j^T^P)+H[6]+76029189&4294967295,E=j+(L<<23&4294967295|L>>>9),L=P+(E^j^T)+H[9]+3654602809&4294967295,P=E+(L<<4&4294967295|L>>>28),L=T+(P^E^j)+H[12]+3873151461&4294967295,T=P+(L<<11&4294967295|L>>>21),L=j+(T^P^E)+H[15]+530742520&4294967295,j=T+(L<<16&4294967295|L>>>16),L=E+(j^T^P)+H[2]+3299628645&4294967295,E=j+(L<<23&4294967295|L>>>9),L=P+(j^(E|~T))+H[0]+4096336452&4294967295,P=E+(L<<6&4294967295|L>>>26),L=T+(E^(P|~j))+H[7]+1126891415&4294967295,T=P+(L<<10&4294967295|L>>>22),L=j+(P^(T|~E))+H[14]+2878612391&4294967295,j=T+(L<<15&4294967295|L>>>17),L=E+(T^(j|~P))+H[5]+4237533241&4294967295,E=j+(L<<21&4294967295|L>>>11),L=P+(j^(E|~T))+H[12]+1700485571&4294967295,P=E+(L<<6&4294967295|L>>>26),L=T+(E^(P|~j))+H[3]+2399980690&4294967295,T=P+(L<<10&4294967295|L>>>22),L=j+(P^(T|~E))+H[10]+4293915773&4294967295,j=T+(L<<15&4294967295|L>>>17),L=E+(T^(j|~P))+H[1]+2240044497&4294967295,E=j+(L<<21&4294967295|L>>>11),L=P+(j^(E|~T))+H[8]+1873313359&4294967295,P=E+(L<<6&4294967295|L>>>26),L=T+(E^(P|~j))+H[15]+4264355552&4294967295,T=P+(L<<10&4294967295|L>>>22),L=j+(P^(T|~E))+H[6]+2734768916&4294967295,j=T+(L<<15&4294967295|L>>>17),L=E+(T^(j|~P))+H[13]+1309151649&4294967295,E=j+(L<<21&4294967295|L>>>11),L=P+(j^(E|~T))+H[4]+4149444226&4294967295,P=E+(L<<6&4294967295|L>>>26),L=T+(E^(P|~j))+H[11]+3174756917&4294967295,T=P+(L<<10&4294967295|L>>>22),L=j+(P^(T|~E))+H[2]+718787259&4294967295,j=T+(L<<15&4294967295|L>>>17),L=E+(T^(j|~P))+H[9]+3951481745&4294967295,R.g[0]=R.g[0]+P&4294967295,R.g[1]=R.g[1]+(j+(L<<21&4294967295|L>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+T&4294967295}n.prototype.v=function(R,P){P===void 0&&(P=R.length);const E=P-this.blockSize,H=this.C;let j=this.h,T=0;for(;T<P;){if(j==0)for(;T<=E;)i(this,R,T),T+=this.blockSize;if(typeof R=="string"){for(;T<P;)if(H[j++]=R.charCodeAt(T++),j==this.blockSize){i(this,H),j=0;break}}else for(;T<P;)if(H[j++]=R[T++],j==this.blockSize){i(this,H),j=0;break}}this.h=j,this.o+=P},n.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var P=1;P<R.length-8;++P)R[P]=0;P=this.o*8;for(var E=R.length-8;E<R.length;++E)R[E]=P&255,P/=256;for(this.v(R),R=Array(16),P=0,E=0;E<4;++E)for(let H=0;H<32;H+=8)R[P++]=this.g[E]>>>H&255;return R};function s(R,P){var E=o;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=P(R)}function a(R,P){this.h=P;const E=[];let H=!0;for(let j=R.length-1;j>=0;j--){const T=R[j]|0;H&&T==P||(E[j]=T,H=!1)}this.g=E}var o={};function l(R){return-128<=R&&R<128?s(R,function(P){return new a([P|0],P<0?-1:0)}):new a([R|0],R<0?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return f;if(R<0)return A(u(-R));const P=[];let E=1;for(let H=0;R>=E;H++)P[H]=R/E|0,E*=4294967296;return new a(P,0)}function c(R,P){if(R.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(R.charAt(0)=="-")return A(c(R.substring(1),P));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(P,8));let H=f;for(let T=0;T<R.length;T+=8){var j=Math.min(8,R.length-T);const L=parseInt(R.substring(T,T+j),P);j<8?(j=u(Math.pow(P,j)),H=H.j(j).add(u(L))):(H=H.j(E),H=H.add(u(L)))}return H}var f=l(0),m=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(_(this))return-A(this).m();let R=0,P=1;for(let E=0;E<this.g.length;E++){const H=this.i(E);R+=(H>=0?H:4294967296+H)*P,P*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(_(this))return"-"+A(this).toString(R);const P=u(Math.pow(R,6));var E=this;let H="";for(;;){const j=w(E,P).g;E=d(E,j.j(P));let T=((E.g.length>0?E.g[0]:E.h)>>>0).toString(R);if(E=j,x(E))return T+H;for(;T.length<6;)T="0"+T;H=T+H}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(let P=0;P<R.g.length;P++)if(R.g[P]!=0)return!1;return!0}function _(R){return R.h==-1}t.l=function(R){return R=d(this,R),_(R)?-1:x(R)?0:1};function A(R){const P=R.g.length,E=[];for(let H=0;H<P;H++)E[H]=~R.g[H];return new a(E,~R.h).add(m)}t.abs=function(){return _(this)?A(this):this},t.add=function(R){const P=Math.max(this.g.length,R.g.length),E=[];let H=0;for(let j=0;j<=P;j++){let T=H+(this.i(j)&65535)+(R.i(j)&65535),L=(T>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);H=L>>>16,T&=65535,L&=65535,E[j]=L<<16|T}return new a(E,E[E.length-1]&-2147483648?-1:0)};function d(R,P){return R.add(A(P))}t.j=function(R){if(x(this)||x(R))return f;if(_(this))return _(R)?A(this).j(A(R)):A(A(this).j(R));if(_(R))return A(this.j(A(R)));if(this.l(h)<0&&R.l(h)<0)return u(this.m()*R.m());const P=this.g.length+R.g.length,E=[];for(var H=0;H<2*P;H++)E[H]=0;for(H=0;H<this.g.length;H++)for(let j=0;j<R.g.length;j++){const T=this.i(H)>>>16,L=this.i(H)&65535,C=R.i(j)>>>16,ie=R.i(j)&65535;E[2*H+2*j]+=L*ie,y(E,2*H+2*j),E[2*H+2*j+1]+=T*ie,y(E,2*H+2*j+1),E[2*H+2*j+1]+=L*C,y(E,2*H+2*j+1),E[2*H+2*j+2]+=T*C,y(E,2*H+2*j+2)}for(R=0;R<P;R++)E[R]=E[2*R+1]<<16|E[2*R];for(R=P;R<2*P;R++)E[R]=0;return new a(E,0)};function y(R,P){for(;(R[P]&65535)!=R[P];)R[P+1]+=R[P]>>>16,R[P]&=65535,P++}function v(R,P){this.g=R,this.h=P}function w(R,P){if(x(P))throw Error("division by zero");if(x(R))return new v(f,f);if(_(R))return P=w(A(R),P),new v(A(P.g),A(P.h));if(_(P))return P=w(R,A(P)),new v(A(P.g),P.h);if(R.g.length>30){if(_(R)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var E=m,H=P;H.l(R)<=0;)E=I(E),H=I(H);var j=q(E,1),T=q(H,1);for(H=q(H,2),E=q(E,2);!x(H);){var L=T.add(H);L.l(R)<=0&&(j=j.add(E),T=L),H=q(H,1),E=q(E,1)}return P=d(R,j.j(P)),new v(j,P)}for(j=f;R.l(P)>=0;){for(E=Math.max(1,Math.floor(R.m()/P.m())),H=Math.ceil(Math.log(E)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),T=u(E),L=T.j(P);_(L)||L.l(R)>0;)E-=H,T=u(E),L=T.j(P);x(T)&&(T=m),j=j.add(T),R=d(R,L)}return new v(j,R)}t.B=function(R){return w(this,R).h},t.and=function(R){const P=Math.max(this.g.length,R.g.length),E=[];for(let H=0;H<P;H++)E[H]=this.i(H)&R.i(H);return new a(E,this.h&R.h)},t.or=function(R){const P=Math.max(this.g.length,R.g.length),E=[];for(let H=0;H<P;H++)E[H]=this.i(H)|R.i(H);return new a(E,this.h|R.h)},t.xor=function(R){const P=Math.max(this.g.length,R.g.length),E=[];for(let H=0;H<P;H++)E[H]=this.i(H)^R.i(H);return new a(E,this.h^R.h)};function I(R){const P=R.g.length+1,E=[];for(let H=0;H<P;H++)E[H]=R.i(H)<<1|R.i(H-1)>>>31;return new a(E,R.h)}function q(R,P){const E=P>>5;P%=32;const H=R.g.length-E,j=[];for(let T=0;T<H;T++)j[T]=P>0?R.i(T+E)>>>P|R.i(T+E+1)<<32-P:R.i(T+E);return new a(j,R.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,yk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Nl=a}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vk,Of,wk,Om,pw,_k,bk,xk;(function(){var t,e=Object.defineProperty;function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var V=0;V<g.length;++V){var G=g[V];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(g,V){if(V)e:{var G=n;g=g.split(".");for(var pe=0;pe<g.length-1;pe++){var Re=g[pe];if(!(Re in G))break e;G=G[Re]}g=g[g.length-1],pe=G[g],V=V(pe),V!=pe&&V!=null&&e(G,g,{configurable:!0,writable:!0,value:V})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(V){var G=[],pe;for(pe in V)Object.prototype.hasOwnProperty.call(V,pe)&&G.push([pe,V[pe]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(g){var V=typeof g;return V=="object"&&g!=null||V=="function"}function l(g,V,G){return g.call.apply(g.bind,arguments)}function u(g,V,G){return u=l,u.apply(null,arguments)}function c(g,V){var G=Array.prototype.slice.call(arguments,1);return function(){var pe=G.slice();return pe.push.apply(pe,arguments),g.apply(this,pe)}}function f(g,V){function G(){}G.prototype=V.prototype,g.Z=V.prototype,g.prototype=new G,g.prototype.constructor=g,g.Ob=function(pe,Re,je){for(var rt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)rt[Ot-2]=arguments[Ot];return V.prototype[Re].apply(pe,rt)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function h(g){const V=g.length;if(V>0){const G=Array(V);for(let pe=0;pe<V;pe++)G[pe]=g[pe];return G}return[]}function x(g,V){for(let pe=1;pe<arguments.length;pe++){const Re=arguments[pe];var G=typeof Re;if(G=G!="object"?G:Re?Array.isArray(Re)?"array":G:"null",G=="array"||G=="object"&&typeof Re.length=="number"){G=g.length||0;const je=Re.length||0;g.length=G+je;for(let rt=0;rt<je;rt++)g[G+rt]=Re[rt]}else g.push(Re)}}class _{constructor(V,G){this.i=V,this.j=G,this.h=0,this.g=null}get(){let V;return this.h>0?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function A(g){a.setTimeout(()=>{throw g},0)}function d(){var g=R;let V=null;return g.g&&(V=g.g,g.g=g.g.next,g.g||(g.h=null),V.next=null),V}class y{constructor(){this.h=this.g=null}add(V,G){const pe=v.get();pe.set(V,G),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var v=new _(()=>new w,g=>g.reset());class w{constructor(){this.next=this.g=this.h=null}set(V,G){this.h=V,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let I,q=!1,R=new y,P=()=>{const g=Promise.resolve(void 0);I=()=>{g.then(E)}};function E(){for(var g;g=d();){try{g.h.call(g.g)}catch(G){A(G)}var V=v;V.j(g),V.h<100&&(V.h++,g.next=V.g,V.g=g)}q=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,V){this.type=g,this.g=this.target=V,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,V=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const G=()=>{};a.addEventListener("test",G,V),a.removeEventListener("test",G,V)}catch{}return g}();function L(g){return/^[\s\xa0]*$/.test(g)}function C(g,V){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,V)}f(C,j),C.prototype.init=function(g,V){const G=this.type=g.type,pe=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=V,V=g.relatedTarget,V||(G=="mouseover"?V=g.fromElement:G=="mouseout"&&(V=g.toElement)),this.relatedTarget=V,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),ve=0;function se(g,V,G,pe,Re){this.listener=g,this.proxy=null,this.src=V,this.type=G,this.capture=!!pe,this.ha=Re,this.key=++ve,this.da=this.fa=!1}function oe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function he(g,V,G){for(const pe in g)V.call(G,g[pe],pe,g)}function Ae(g,V){for(const G in g)V.call(void 0,g[G],G,g)}function fe(g){const V={};for(const G in g)V[G]=g[G];return V}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(g,V){let G,pe;for(let Re=1;Re<arguments.length;Re++){pe=arguments[Re];for(G in pe)g[G]=pe[G];for(let je=0;je<D.length;je++)G=D[je],Object.prototype.hasOwnProperty.call(pe,G)&&(g[G]=pe[G])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,V,G,pe,Re){const je=g.toString();g=this.g[je],g||(g=this.g[je]=[],this.h++);const rt=ee(g,V,pe,Re);return rt>-1?(V=g[rt],G||(V.fa=!1)):(V=new se(V,this.src,je,!!pe,Re),V.fa=G,g.push(V)),V};function le(g,V){const G=V.type;if(G in g.g){var pe=g.g[G],Re=Array.prototype.indexOf.call(pe,V,void 0),je;(je=Re>=0)&&Array.prototype.splice.call(pe,Re,1),je&&(oe(V),g.g[G].length==0&&(delete g.g[G],g.h--))}}function ee(g,V,G,pe){for(let Re=0;Re<g.length;++Re){const je=g[Re];if(!je.da&&je.listener==V&&je.capture==!!G&&je.ha==pe)return Re}return-1}var M="closure_lm_"+(Math.random()*1e6|0),U={};function ne(g,V,G,pe,Re){if(Array.isArray(V)){for(let je=0;je<V.length;je++)ne(g,V[je],G,pe,Re);return null}return G=k(G),g&&g[ie]?g.J(V,G,o(pe)?!!pe.capture:!1,Re):te(g,V,G,!1,pe,Re)}function te(g,V,G,pe,Re,je){if(!V)throw Error("Invalid event type");const rt=o(Re)?!!Re.capture:!!Re;let Ot=W(g);if(Ot||(g[M]=Ot=new Q(g)),G=Ot.add(V,G,pe,rt,je),G.proxy)return G;if(pe=Y(),G.proxy=pe,pe.src=g,pe.listener=G,g.addEventListener)T||(Re=rt),Re===void 0&&(Re=!1),g.addEventListener(V.toString(),pe,Re);else if(g.attachEvent)g.attachEvent(z(V.toString()),pe);else if(g.addListener&&g.removeListener)g.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Y(){function g(G){return V.call(g.src,g.listener,G)}const V=K;return g}function re(g,V,G,pe,Re){if(Array.isArray(V))for(var je=0;je<V.length;je++)re(g,V[je],G,pe,Re);else pe=o(pe)?!!pe.capture:!!pe,G=k(G),g&&g[ie]?(g=g.i,je=String(V).toString(),je in g.g&&(V=g.g[je],G=ee(V,G,pe,Re),G>-1&&(oe(V[G]),Array.prototype.splice.call(V,G,1),V.length==0&&(delete g.g[je],g.h--)))):g&&(g=W(g))&&(V=g.g[V.toString()],g=-1,V&&(g=ee(V,G,pe,Re)),(G=g>-1?V[g]:null)&&Ee(G))}function Ee(g){if(typeof g!="number"&&g&&!g.da){var V=g.src;if(V&&V[ie])le(V.i,g);else{var G=g.type,pe=g.proxy;V.removeEventListener?V.removeEventListener(G,pe,g.capture):V.detachEvent?V.detachEvent(z(G),pe):V.addListener&&V.removeListener&&V.removeListener(pe),(G=W(V))?(le(G,g),G.h==0&&(G.src=null,V[M]=null)):oe(g)}}}function z(g){return g in U?U[g]:U[g]="on"+g}function K(g,V){if(g.da)g=!0;else{V=new C(V,this);const G=g.listener,pe=g.ha||g.src;g.fa&&Ee(g),g=G.call(pe,V)}return g}function W(g){return g=g[M],g instanceof Q?g:null}var N="__closure_events_fn_"+(Math.random()*1e9>>>0);function k(g){return typeof g=="function"?g:(g[N]||(g[N]=function(V){return g.handleEvent(V)}),g[N])}function F(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}f(F,H),F.prototype[ie]=!0,F.prototype.removeEventListener=function(g,V,G,pe){re(this,g,V,G,pe)};function ue(g,V){var G,pe=g.G;if(pe)for(G=[];pe;pe=pe.G)G.push(pe);if(g=g.M,pe=V.type||V,typeof V=="string")V=new j(V,g);else if(V instanceof j)V.target=V.target||g;else{var Re=V;V=new j(pe,g),X(V,Re)}Re=!0;let je,rt;if(G)for(rt=G.length-1;rt>=0;rt--)je=V.g=G[rt],Re=we(je,pe,!0,V)&&Re;if(je=V.g=g,Re=we(je,pe,!0,V)&&Re,Re=we(je,pe,!1,V)&&Re,G)for(rt=0;rt<G.length;rt++)je=V.g=G[rt],Re=we(je,pe,!1,V)&&Re}F.prototype.N=function(){if(F.Z.N.call(this),this.i){var g=this.i;for(const V in g.g){const G=g.g[V];for(let pe=0;pe<G.length;pe++)oe(G[pe]);delete g.g[V],g.h--}}this.G=null},F.prototype.J=function(g,V,G,pe){return this.i.add(String(g),V,!1,G,pe)},F.prototype.K=function(g,V,G,pe){return this.i.add(String(g),V,!0,G,pe)};function we(g,V,G,pe){if(V=g.i.g[String(V)],!V)return!0;V=V.concat();let Re=!0;for(let je=0;je<V.length;++je){const rt=V[je];if(rt&&!rt.da&&rt.capture==G){const Ot=rt.listener,Er=rt.ha||rt.src;rt.fa&&le(g.i,rt),Re=Ot.call(Er,pe)!==!1&&Re}}return Re&&!pe.defaultPrevented}function ge(g,V){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=u(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(V)>2147483647?-1:a.setTimeout(g,V||0)}function ke(g){g.g=ge(()=>{g.g=null,g.i&&(g.i=!1,ke(g))},g.l);const V=g.h;g.h=null,g.m.apply(null,V)}class Fe extends H{constructor(V,G){super(),this.m=V,this.l=G,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(g){H.call(this),this.h=g,this.g={}}f(Le,H);var Ue=[];function Qe(g){he(g.g,function(V,G){this.g.hasOwnProperty(G)&&Ee(V)},g),g.g={}}Le.prototype.N=function(){Le.Z.N.call(this),Qe(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=a.JSON.stringify,it=a.JSON.parse,me=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function Te(){}function Me(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function at(){j.call(this,"d")}f(at,j);function ct(){j.call(this,"c")}f(ct,j);var ot={},lt=null;function Bt(){return lt=lt||new F}ot.Ia="serverreachability";function At(g){j.call(this,ot.Ia,g)}f(At,j);function Nt(g){const V=Bt();ue(V,new At(V))}ot.STAT_EVENT="statevent";function nr(g,V){j.call(this,ot.STAT_EVENT,g),this.stat=V}f(nr,j);function _t(g){const V=Bt();ue(V,new nr(V,g))}ot.Ja="timingevent";function bt(g,V){j.call(this,ot.Ja,g),this.size=V}f(bt,j);function $t(g,V){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},V)}function Vi(){this.g=!0}Vi.prototype.ua=function(){this.g=!1};function An(g,V,G,pe,Re,je){g.info(function(){if(g.g)if(je){var rt="",Ot=je.split("&");for(let Kt=0;Kt<Ot.length;Kt++){var Er=Ot[Kt].split("=");if(Er.length>1){const Ar=Er[0];Er=Er[1];const Tn=Ar.split("_");rt=Tn.length>=2&&Tn[1]=="type"?rt+(Ar+"="+Er+"&"):rt+(Ar+"=redacted&")}}}else rt=null;else rt=je;return"XMLHTTP REQ ("+pe+") [attempt "+Re+"]: "+V+`
`+G+`
`+rt})}function Cs(g,V,G,pe,Re,je,rt){g.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Re+"]: "+V+`
`+G+`
`+je+" "+rt})}function Ln(g,V,G,pe){g.info(function(){return"XMLHTTP TEXT ("+V+"): "+Rs(g,G)+(pe?" "+pe:"")})}function kt(g,V){g.info(function(){return"TIMEOUT: "+V})}Vi.prototype.info=function(){};function Rs(g,V){if(!g.g)return V;if(!V)return null;try{const je=JSON.parse(V);if(je){for(g=0;g<je.length;g++)if(Array.isArray(je[g])){var G=je[g];if(!(G.length<2)){var pe=G[1];if(Array.isArray(pe)&&!(pe.length<1)){var Re=pe[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(let rt=1;rt<pe.length;rt++)pe[rt]=""}}}}return nt(je)}catch{return V}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ni={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ii;function wr(){}f(wr,Te),wr.prototype.g=function(){return new XMLHttpRequest},ii=new wr;function Dr(g){return encodeURIComponent(String(g))}function gn(g){var V=1;g=g.split(":");const G=[];for(;V>0&&g.length;)G.push(g.shift()),V--;return g.length&&G.push(g.join(":")),G}function Vn(g,V,G,pe){this.j=g,this.i=V,this.l=G,this.S=pe||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var bi={},xi={};function si(g,V,G){g.M=1,g.A=$a(Si(V)),g.u=G,g.R=!0,Ei(g,null)}function Ei(g,V){g.F=Date.now(),us(g),g.B=Si(g.A);var G=g.B,pe=g.S;Array.isArray(pe)||(pe=[String(pe)]),fc(G.i,"t",pe),g.C=0,G=g.j.L,g.h=new Ps,g.g=ft(g.j,G?V:null,!g.u),g.P>0&&(g.O=new Fe(u(g.Y,g,g.g),g.P)),V=g.V,G=g.g,pe=g.ba;var Re="readystatechange";Array.isArray(Re)||(Re&&(Ue[0]=Re.toString()),Re=Ue);for(let je=0;je<Re.length;je++){const rt=ne(G,Re[je],pe||V.handleEvent,!1,V.h||V);if(!rt)break;V.g[rt.key]=rt}V=g.J?fe(g.J):{},g.u?(g.v||(g.v="POST"),V["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,V)):(g.v="GET",g.g.ea(g.B,g.v,null,V)),Nt(),An(g.i,g.v,g.B,g.l,g.S,g.u)}Vn.prototype.ba=function(g){g=g.target;const V=this.O;V&&Ii(g)==3?V.j():this.Y(g)},Vn.prototype.Y=function(g){try{if(g==this.g)e:{const Ot=Ii(this.g),Er=this.g.ya(),Kt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Do(this.g)))){this.K||Ot!=4||Er==7||(Er==8||Kt<=0?Nt(3):Nt(2)),oa(this);var V=this.g.ca();this.X=V;var G=Ai(this);if(this.o=V==200,Cs(this.i,this.v,this.B,this.l,this.S,Ot,V),this.o){if(this.U&&!this.L){t:{if(this.g){var pe,Re=this.g;if((pe=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(pe)){var je=pe;break t}}je=null}if(g=je)Ln(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ha(this,g);else{this.o=!1,this.m=3,_t(12),Ls(this),cs(this);break e}}if(this.R){g=!0;let Ar;for(;!this.K&&this.C<G.length;)if(Ar=ls(this,G),Ar==xi){Ot==4&&(this.m=4,_t(14),g=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==bi){this.m=4,_t(15),Ln(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Ln(this.i,this.l,Ar,null),Ha(this,Ar);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||G.length!=0||this.h.h||(this.m=1,_t(16),g=!1),this.o=this.o&&g,!g)Ln(this.i,this.l,G,"[Invalid Chunked Response]"),Ls(this),cs(this);else if(G.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Fo(rt),rt.P=!0,_t(11))}}else Ln(this.i,this.l,G,null),Ha(this,G);Ot==4&&Ls(this),this.o&&!this.K&&(Ot==4?_e(this.j,this):(this.o=!1,us(this)))}else mc(this.g),V==400&&G.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Ls(this),cs(this)}}}catch{}finally{}};function Ai(g){if(!aa(g))return g.g.la();const V=Do(g.g);if(V==="")return"";let G="";const pe=V.length,Re=Ii(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ls(g),cs(g),"";g.h.i=new a.TextDecoder}for(let je=0;je<pe;je++)g.h.h=!0,G+=g.h.i.decode(V[je],{stream:!(Re&&je==pe-1)});return V.length=0,g.h.g+=G,g.C=0,g.h.g}function aa(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ls(g,V){var G=g.C,pe=V.indexOf(`
`,G);return pe==-1?xi:(G=Number(V.substring(G,pe)),isNaN(G)?bi:(pe+=1,pe+G>V.length?xi:(V=V.slice(pe,pe+G),g.C=pe+G,V)))}Vn.prototype.cancel=function(){this.K=!0,Ls(this)};function us(g){g.T=Date.now()+g.H,qa(g,g.H)}function qa(g,V){if(g.D!=null)throw Error("WatchDog timer not null");g.D=$t(u(g.aa,g),V)}function oa(g){g.D&&(a.clearTimeout(g.D),g.D=null)}Vn.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(kt(this.i,this.B),this.M!=2&&(Nt(),_t(17)),Ls(this),this.m=2,cs(this)):qa(this,this.T-g)};function cs(g){g.j.I==0||g.K||_e(g.j,g)}function Ls(g){oa(g);var V=g.O;V&&typeof V.dispose=="function"&&V.dispose(),g.O=null,Qe(g.V),g.g&&(V=g.g,g.g=null,V.abort(),V.dispose())}function Ha(g,V){try{var G=g.j;if(G.I!=0&&(G.g==g||Co(G.h,g))){if(!g.L&&Co(G.h,g)&&G.I==3){try{var pe=G.Ba.g.parse(V)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var Re=pe;if(Re[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<g.F)J(G),da(G);else break e;js(G),_t(18)}}else G.xa=Re[1],0<G.xa-G.K&&Re[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=$t(u(G.Va,G),6e3));Io(G.h)<=1&&G.ta&&(G.ta=void 0)}else Ce(G,11)}else if((g.L||G.g==g)&&J(G),!L(V))for(Re=G.Ba.g.parse(V),V=0;V<Re.length;V++){let Kt=Re[V];const Ar=Kt[0];if(!(Ar<=G.K))if(G.K=Ar,Kt=Kt[1],G.I==2)if(Kt[0]=="c"){G.M=Kt[1],G.ba=Kt[2];const Tn=Kt[3];Tn!=null&&(G.ka=Tn,G.j.info("VER="+G.ka));const zn=Kt[4];zn!=null&&(G.za=zn,G.j.info("SVER="+G.za));const Sr=Kt[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(pe=1.5*Sr,G.O=pe,G.j.info("backChannelRequestTimeoutMs_="+pe)),pe=G;const qn=g.g;if(qn){const gs=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var je=pe.h;je.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(Wa(je,je.h),je.h=null))}if(pe.G){const Xa=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(pe.wa=Xa,ir(pe.J,pe.G,Xa))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-g.F,G.j.info("Handshake RTT: "+G.T+"ms")),pe=G;var rt=g;if(pe.na=Xe(pe,pe.L?pe.ba:null,pe.W),rt.L){tu(pe.h,rt);var Ot=rt,Er=pe.O;Er&&(Ot.H=Er),Ot.D&&(oa(Ot),us(Ot)),pe.g=rt}else lu(pe);G.i.length>0&&ma(G)}else Kt[0]!="stop"&&Kt[0]!="close"||Ce(G,7);else G.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ce(G,7):fa(G):Kt[0]!="noop"&&G.l&&G.l.qa(Kt),G.A=0)}}Nt(4)}catch{}}var lc=class{constructor(g,V){this.g=g,this.map=V}};function eu(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ai(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Io(g){return g.h?1:g.g?g.g.size:0}function Co(g,V){return g.h?g.h==V:g.g?g.g.has(V):!1}function Wa(g,V){g.g?g.g.add(V):g.h=V}function tu(g,V){g.h&&g.h==V?g.h=null:g.g&&g.g.has(V)&&g.g.delete(V)}eu.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ru(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let V=g.i;for(const G of g.g.values())V=V.concat(G.G);return V}return h(g.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hs(g,V){if(g){g=g.split("&");for(let G=0;G<g.length;G++){const pe=g[G].indexOf("=");let Re,je=null;pe>=0?(Re=g[G].substring(0,pe),je=g[G].substring(pe+1)):Re=g[G],V(Re,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function oi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let V;g instanceof oi?(this.l=g.l,_r(this,g.j),this.o=g.o,this.g=g.g,la(this,g.u),this.h=g.h,Ti(this,Ro(g.i)),this.m=g.m):g&&(V=String(g).match(nu))?(this.l=!1,_r(this,V[1]||"",!0),this.o=Sn(V[2]||""),this.g=Sn(V[3]||"",!0),la(this,V[4]),this.h=Sn(V[5]||"",!0),Ti(this,V[6]||"",!0),this.m=Sn(V[7]||"")):(this.l=!1,this.i=new ua(null,this.l))}oi.prototype.toString=function(){const g=[];var V=this.j;V&&g.push(Cr(V,iu,!0),":");var G=this.g;return(G||V=="file")&&(g.push("//"),(V=this.o)&&g.push(Cr(V,iu,!0),"@"),g.push(Dr(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&g.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&g.push("/"),g.push(Cr(G,G.charAt(0)=="/"?$h:Wh,!0))),(G=this.i.toString())&&g.push("?",G),(G=this.m)&&g.push("#",Cr(G,uc)),g.join("")},oi.prototype.resolve=function(g){const V=Si(this);let G=!!g.j;G?_r(V,g.j):G=!!g.o,G?V.o=g.o:G=!!g.g,G?V.g=g.g:G=g.u!=null;var pe=g.h;if(G)la(V,g.u);else if(G=!!g.h){if(pe.charAt(0)!="/")if(this.g&&!this.h)pe="/"+pe;else{var Re=V.h.lastIndexOf("/");Re!=-1&&(pe=V.h.slice(0,Re+1)+pe)}if(Re=pe,Re==".."||Re==".")pe="";else if(Re.indexOf("./")!=-1||Re.indexOf("/.")!=-1){pe=Re.lastIndexOf("/",0)==0,Re=Re.split("/");const je=[];for(let rt=0;rt<Re.length;){const Ot=Re[rt++];Ot=="."?pe&&rt==Re.length&&je.push(""):Ot==".."?((je.length>1||je.length==1&&je[0]!="")&&je.pop(),pe&&rt==Re.length&&je.push("")):(je.push(Ot),pe=!0)}pe=je.join("/")}else pe=Re}return G?V.h=pe:G=g.i.toString()!=="",G?Ti(V,Ro(g.i)):G=!!g.m,G&&(V.m=g.m),V};function Si(g){return new oi(g)}function _r(g,V,G){g.j=G?Sn(V,!0):V,g.j&&(g.j=g.j.replace(/:$/,""))}function la(g,V){if(V){if(V=Number(V),isNaN(V)||V<0)throw Error("Bad port number "+V);g.u=V}else g.u=null}function Ti(g,V,G){V instanceof ua?(g.i=V,zi(g.i,g.l)):(G||(V=Cr(V,fs)),g.i=new ua(V,g.l))}function ir(g,V,G){g.i.set(V,G)}function $a(g){return ir(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Sn(g,V){return g?V?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Cr(g,V,G){return typeof g=="string"?(g=encodeURI(g).replace(V,Os),G&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Os(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var iu=/[#\/\?@]/g,Wh=/[#\?:]/g,$h=/[#\?]/g,fs=/[#\?@]/g,uc=/#/g;function ua(g,V){this.h=this.g=null,this.i=g||null,this.j=!!V}function Ni(g){g.g||(g.g=new Map,g.h=0,g.i&&hs(g.i,function(V,G){g.add(decodeURIComponent(V.replace(/\+/g," ")),G)}))}t=ua.prototype,t.add=function(g,V){Ni(this),this.i=null,g=Ds(this,g);let G=this.g.get(g);return G||this.g.set(g,G=[]),G.push(V),this.h+=1,this};function ca(g,V){Ni(g),V=Ds(g,V),g.g.has(V)&&(g.i=null,g.h-=g.g.get(V).length,g.g.delete(V))}function cc(g,V){return Ni(g),V=Ds(g,V),g.g.has(V)}t.forEach=function(g,V){Ni(this),this.g.forEach(function(G,pe){G.forEach(function(Re){g.call(V,Re,pe,this)},this)},this)};function hc(g,V){Ni(g);let G=[];if(typeof V=="string")cc(g,V)&&(G=G.concat(g.g.get(Ds(g,V))));else for(g=Array.from(g.g.values()),V=0;V<g.length;V++)G=G.concat(g[V]);return G}t.set=function(g,V){return Ni(this),this.i=null,g=Ds(this,g),cc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[V]),this.h+=1,this},t.get=function(g,V){return g?(g=hc(this,g),g.length>0?String(g[0]):V):V};function fc(g,V,G){ca(g,V),G.length>0&&(g.i=null,g.g.set(Ds(g,V),h(G)),g.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],V=Array.from(this.g.keys());for(let pe=0;pe<V.length;pe++){var G=V[pe];const Re=Dr(G);G=hc(this,G);for(let je=0;je<G.length;je++){let rt=Re;G[je]!==""&&(rt+="="+Dr(G[je])),g.push(rt)}}return this.i=g.join("&")};function Ro(g){const V=new ua;return V.i=g.i,g.g&&(V.g=new Map(g.g),V.h=g.h),V}function Ds(g,V){return V=String(V),g.j&&(V=V.toLowerCase()),V}function zi(g,V){V&&!g.j&&(Ni(g),g.i=null,g.g.forEach(function(G,pe){const Re=pe.toLowerCase();pe!=Re&&(ca(this,pe),fc(this,Re,G))},g)),g.j=V}function Gh(g,V){const G=new Vi;if(a.Image){const pe=new Image;pe.onload=c(ki,G,"TestLoadImage: loaded",!0,V,pe),pe.onerror=c(ki,G,"TestLoadImage: error",!1,V,pe),pe.onabort=c(ki,G,"TestLoadImage: abort",!1,V,pe),pe.ontimeout=c(ki,G,"TestLoadImage: timeout",!1,V,pe),a.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=g}else V(!1)}function Ga(g,V){const G=new Vi,pe=new AbortController,Re=setTimeout(()=>{pe.abort(),ki(G,"TestPingServer: timeout",!1,V)},1e4);fetch(g,{signal:pe.signal}).then(je=>{clearTimeout(Re),je.ok?ki(G,"TestPingServer: ok",!0,V):ki(G,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Re),ki(G,"TestPingServer: error",!1,V)})}function ki(g,V,G,pe,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),pe(G)}catch{}}function Kh(){this.g=new me}function Ct(g){this.i=g.Sb||null,this.h=g.ab||!1}f(Ct,Te),Ct.prototype.g=function(){return new Po(this.i,this.h)};function Po(g,V){F.call(this),this.H=g,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Po,F),t=Po.prototype,t.open=function(g,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=V,this.readyState=1,li(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const V={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(V.body=g),(this.H||a).fetch(new Request(this.D,V)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function dc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var V=g.value?g.value:new Uint8Array(0);(V=this.B.decode(V,{stream:!g.done}))&&(this.response=this.responseText+=V)}g.done?Ka(this):li(this),this.readyState==3&&dc(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ka(this))},t.Na=function(g){this.g&&(this.response=g,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(g){g.readyState=4,g.l=null,g.j=null,g.B=null,li(g)}t.setRequestHeader=function(g,V){this.A.append(g,V)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],V=this.h.entries();for(var G=V.next();!G.done;)G=G.value,g.push(G[0]+": "+G[1]),G=V.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ds(g){let V="";return he(g,function(G,pe){V+=pe,V+=":",V+=G,V+=`\r
`}),V}function su(g,V,G){e:{for(pe in G){var pe=!1;break e}pe=!0}pe||(G=ds(G),typeof g=="string"?G!=null&&Dr(G):ir(g,V,G))}function br(g){F.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(br,F);var Lo=/^https?$/i,au=["POST","PUT"];t=br.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,V,G,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);V=V?V.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ii.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(V,String(g),!0),this.B=!1}catch(je){ha(this,je);return}if(g=G||"",G=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var Re in pe)G.set(Re,pe[Re]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const je of pe.keys())G.set(je,pe.get(je));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(G.keys()).find(je=>je.toLowerCase()=="content-type"),Re=a.FormData&&g instanceof a.FormData,!(Array.prototype.indexOf.call(au,V,void 0)>=0)||pe||Re||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,rt]of G)this.g.setRequestHeader(je,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(je){ha(this,je)}};function ha(g,V){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=V,g.o=5,pc(g),Oo(g)}function pc(g){g.A||(g.A=!0,ue(g,"complete"),ue(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ue(this,"complete"),ue(this,"abort"),Oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oo(this,!0)),br.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},t.Xa=function(){ps(this)};function ps(g){if(g.h&&typeof s<"u"){if(g.v&&Ii(g)==4)setTimeout(g.Ca.bind(g),0);else if(ue(g,"readystatechange"),Ii(g)==4){g.h=!1;try{const je=g.ca();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var G;if(!(G=V)){var pe;if(pe=je===0){let rt=String(g.D).match(nu)[1]||null;!rt&&a.self&&a.self.location&&(rt=a.self.location.protocol.slice(0,-1)),pe=!Lo.test(rt?rt.toLowerCase():"")}G=pe}if(G)ue(g,"complete"),ue(g,"success");else{g.o=6;try{var Re=Ii(g)>2?g.g.statusText:""}catch{Re=""}g.l=Re+" ["+g.ca()+"]",pc(g)}}finally{Oo(g)}}}}function Oo(g,V){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const G=g.g;g.g=null,V||ue(g,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var V=this.g.responseText;return g&&V.indexOf(g)==0&&(V=V.substring(g.length)),it(V)}};function Do(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function mc(g){const V={};g=(g.g&&Ii(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<g.length;pe++){if(L(g[pe]))continue;var G=gn(g[pe]);const Re=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const je=V[Re]||[];V[Re]=je,je.push(G)}Ae(V,function(pe){return pe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(g,V,G){return G&&G.internalChannelParams&&G.internalChannelParams[g]||V}function jo(g){this.za=0,this.i=[],this.j=new Vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,g),this.Za=ui("retryDelaySeedMs",1e4,g),this.Ta=ui("forwardChannelMaxRetries",2,g),this.va=ui("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new eu(g&&g.concurrentRequestLimit),this.Ba=new Kh,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jo.prototype,t.ka=8,t.I=1,t.connect=function(g,V,G,pe){_t(0),this.W=g,this.H=V||{},G&&pe!==void 0&&(this.H.OSID=G,this.H.OAID=pe),this.F=this.X,this.J=Xe(this,null,this.W),ma(this)};function fa(g){if(pa(g),g.I==3){var V=g.V++,G=Si(g.J);if(ir(G,"SID",g.M),ir(G,"RID",V),ir(G,"TYPE","terminate"),ci(g,G),V=new Vn(g,g.j,V),V.M=2,V.A=$a(Si(G)),G=!1,a.navigator&&a.navigator.sendBeacon)try{G=a.navigator.sendBeacon(V.A.toString(),"")}catch{}!G&&a.Image&&(new Image().src=V.A,G=!0),G||(V.g=ft(V.j,null),V.g.ea(V.A)),V.F=Date.now(),us(V)}qe(g)}function da(g){g.g&&(Fo(g),g.g.cancel(),g.g=null)}function pa(g){da(g),g.v&&(a.clearTimeout(g.v),g.v=null),J(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&a.clearTimeout(g.m),g.m=null)}function ma(g){if(!ai(g.h)&&!g.m){g.m=!0;var V=g.Ea;I||P(),q||(I(),q=!0),R.add(V,g),g.D=0}}function gc(g,V){return Io(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=V.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=$t(u(g.Ea,g,V),Se(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Re=new Vn(this,this.j,g);let je=this.o;if(this.U&&(je?(je=fe(je),X(je,this.U)):je=this.U),this.u!==null||this.R||(Re.J=je,je=null),this.S)e:{for(var V=0,G=0;G<this.i.length;G++){t:{var pe=this.i[G];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if(V+=pe,V>4096){V=G;break e}if(V===4096||G===this.i.length-1){V=G+1;break e}}V=1e3}else V=1e3;V=ms(this,Re,V),G=Si(this.J),ir(G,"RID",g),ir(G,"CVER",22),this.G&&ir(G,"X-HTTP-Session-Id",this.G),ci(this,G),je&&(this.R?V="headers="+Dr(ds(je))+"&"+V:this.u&&su(G,this.u,je)),Wa(this.h,Re),this.Ra&&ir(G,"TYPE","init"),this.S?(ir(G,"$req",V),ir(G,"SID","null"),Re.U=!0,si(Re,G,null)):si(Re,G,V),this.I=2}}else this.I==3&&(g?ou(this,g):this.i.length==0||ai(this.h)||ou(this))};function ou(g,V){var G;V?G=V.l:G=g.V++;const pe=Si(g.J);ir(pe,"SID",g.M),ir(pe,"RID",G),ir(pe,"AID",g.K),ci(g,pe),g.u&&g.o&&su(pe,g.u,g.o),G=new Vn(g,g.j,G,g.D+1),g.u===null&&(G.J=g.o),V&&(g.i=V.G.concat(g.i)),V=ms(g,G,1e3),G.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Wa(g.h,G),si(G,pe,V)}function ci(g,V){g.H&&he(g.H,function(G,pe){ir(V,pe,G)}),g.l&&he({},function(G,pe){ir(V,pe,G)})}function ms(g,V,G){G=Math.min(g.i.length,G);const pe=g.l?u(g.l.Ka,g.l,g):null;e:{var Re=g.i;let Ot=-1;for(;;){const Er=["count="+G];Ot==-1?G>0?(Ot=Re[0].g,Er.push("ofs="+Ot)):Ot=0:Er.push("ofs="+Ot);let Kt=!0;for(let Ar=0;Ar<G;Ar++){var je=Re[Ar].g;const Tn=Re[Ar].map;if(je-=Ot,je<0)Ot=Math.max(0,Re[Ar].g-100),Kt=!1;else try{je="req"+je+"_"||"";try{var rt=Tn instanceof Map?Tn:Object.entries(Tn);for(const[zn,Sr]of rt){let qn=Sr;o(Sr)&&(qn=nt(Sr)),Er.push(je+zn+"="+encodeURIComponent(qn))}}catch(zn){throw Er.push(je+"type="+encodeURIComponent("_badmap")),zn}}catch{pe&&pe(Tn)}}if(Kt){rt=Er.join("&");break e}}rt=void 0}return g=g.i.splice(0,G),V.G=g,rt}function lu(g){if(!g.g&&!g.v){g.Y=1;var V=g.Da;I||P(),q||(I(),q=!0),R.add(V,g),g.A=0}}function js(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=$t(u(g.Da,g),Se(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=$t(u(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),da(this),O(this))};function Fo(g){g.B!=null&&(a.clearTimeout(g.B),g.B=null)}function O(g){g.g=new Vn(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var V=Si(g.na);ir(V,"RID","rpc"),ir(V,"SID",g.M),ir(V,"AID",g.K),ir(V,"CI",g.F?"0":"1"),!g.F&&g.ia&&ir(V,"TO",g.ia),ir(V,"TYPE","xmlhttp"),ci(g,V),g.u&&g.o&&su(V,g.u,g.o),g.O&&(g.g.H=g.O);var G=g.g;g=g.ba,G.M=1,G.A=$a(Si(V)),G.u=null,G.R=!0,Ei(G,g)}t.Va=function(){this.C!=null&&(this.C=null,da(this),js(this),_t(19))};function J(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function _e(g,V){var G=null;if(g.g==V){J(g),Fo(g),g.g=null;var pe=2}else if(Co(g.h,V))G=V.G,tu(g.h,V),pe=1;else return;if(g.I!=0){if(V.o)if(pe==1){G=V.u?V.u.length:0,V=Date.now()-V.F;var Re=g.D;pe=Bt(),ue(pe,new bt(pe,G)),ma(g)}else lu(g);else if(Re=V.m,Re==3||Re==0&&V.X>0||!(pe==1&&gc(g,V)||pe==2&&js(g)))switch(G&&G.length>0&&(V=g.h,V.i=V.i.concat(G)),Re){case 1:Ce(g,5);break;case 4:Ce(g,10);break;case 3:Ce(g,6);break;default:Ce(g,2)}}}function Se(g,V){let G=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(G*=2),G*V}function Ce(g,V){if(g.j.info("Error code "+V),V==2){var G=u(g.bb,g),pe=g.Ua;const Re=!pe;pe=new oi(pe||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_r(pe,"https"),$a(pe),Re?Gh(pe.toString(),G):Ga(pe.toString(),G)}else _t(2);g.I=0,g.l&&g.l.pa(V),qe(g),pa(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function qe(g){if(g.I=0,g.ja=[],g.l){const V=ru(g.h);(V.length!=0||g.i.length!=0)&&(x(g.ja,V),x(g.ja,g.i),g.h.i.length=0,h(g.i),g.i.length=0),g.l.oa()}}function Xe(g,V,G){var pe=G instanceof oi?Si(G):new oi(G);if(pe.g!="")V&&(pe.g=V+"."+pe.g),la(pe,pe.u);else{var Re=a.location;pe=Re.protocol,V=V?V+"."+Re.hostname:Re.hostname,Re=+Re.port;const je=new oi(null);pe&&_r(je,pe),V&&(je.g=V),Re&&la(je,Re),G&&(je.h=G),pe=je}return G=g.G,V=g.wa,G&&V&&ir(pe,G,V),ir(pe,"VER",g.ka),ci(g,pe),pe}function ft(g,V,G){if(V&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return V=g.Aa&&!g.ma?new br(new Ct({ab:G})):new br(g.ma),V.Fa(g.L),V}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gt(){}t=gt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function It(){}It.prototype.g=function(g,V){return new St(g,V)};function St(g,V){F.call(this),this.g=new jo(V),this.l=g,this.h=V&&V.messageUrlParams||null,g=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(g?g["X-WebChannel-Content-Type"]=V.messageContentType:g={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.sa&&(g?g["X-WebChannel-Client-Profile"]=V.sa:g={"X-WebChannel-Client-Profile":V.sa}),this.g.U=g,(g=V&&V.Qb)&&!L(g)&&(this.g.u=g),this.A=V&&V.supportsCrossDomainXhr||!1,this.v=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!L(V)&&(this.g.G=V,g=this.h,g!==null&&V in g&&(g=this.h,V in g&&delete g[V])),this.j=new mr(this)}f(St,F),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){fa(this.g)},St.prototype.o=function(g){var V=this.g;if(typeof g=="string"){var G={};G.__data__=g,g=G}else this.v&&(G={},G.__data__=nt(g),g=G);V.i.push(new lc(V.Ya++,g)),V.I==3&&ma(V)},St.prototype.N=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,St.Z.N.call(this)};function Gt(g){at.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var V=g.__sm__;if(V){e:{for(const G in V){g=G;break e}g=void 0}(this.i=g)&&(g=this.i,V=V!==null&&g in V?V[g]:void 0),this.data=V}else this.data=g}f(Gt,at);function xr(){ct.call(this),this.status=1}f(xr,ct);function mr(g){this.g=g}f(mr,gt),mr.prototype.ra=function(){ue(this.g,"a")},mr.prototype.qa=function(g){ue(this.g,new Gt(g))},mr.prototype.pa=function(g){ue(this.g,new xr)},mr.prototype.oa=function(){ue(this.g,"b")},It.prototype.createWebChannel=It.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,xk=function(){return new It},bk=function(){return Bt()},_k=ot,pw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Om=_i,ni.COMPLETE="complete",wk=ni,Me.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",F.prototype.listen=F.prototype.J,Of=Me,br.prototype.listenOnce=br.prototype.K,br.prototype.getLastError=br.prototype.Ha,br.prototype.getLastErrorCode=br.prototype.ya,br.prototype.getStatus=br.prototype.ca,br.prototype.getResponseJson=br.prototype.La,br.prototype.getResponseText=br.prototype.la,br.prototype.send=br.prototype.ea,br.prototype.setWithCredentials=br.prototype.Fa,vk=br}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",VE="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new t_("@firebase/firestore");function kc(){return zu.logLevel}function ht(t,...e){if(zu.logLevel<=Xt.DEBUG){const r=e.map(i_);zu.debug(`Firestore (${jh}): ${t}`,...r)}}function Eo(t,...e){if(zu.logLevel<=Xt.ERROR){const r=e.map(i_);zu.error(`Firestore (${jh}): ${t}`,...r)}}function qu(t,...e){if(zu.logLevel<=Xt.WARN){const r=e.map(i_);zu.warn(`Firestore (${jh}): ${t}`,...r)}}function i_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Ek(t,n,r)}function Ek(t,e,r){let n=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Eo(n),new Error(n)}function or(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Ek(e,i,n)}function Ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ua{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Jn.UNAUTHENTICATED))}shutdown(){}}class oj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class lj{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){or(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kl)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(or(typeof n.accessToken=="string",31837,{l:n}),new Ak(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return or(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class uj{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cj{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new uj(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hj{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){or(this.o===void 0,3512);const n=s=>{s.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(or(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new zE(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=fj(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Yt(t,e){return t<e?-1:t>e?1:0}function mw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return W1(i)===W1(s)?Yt(i,s):W1(i)?1:-1}return Yt(t.length,e.length)}const dj=55296,pj=57343;function W1(t){const e=t.charCodeAt(0);return e>=dj&&e<=pj}function bh(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Sa{constructor(e,r,n){r===void 0?r=0:r>e.length&&Pt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Pt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Sa.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Yt(e.length,r.length)}static compareSegments(e,r){const n=Sa.isNumericId(e),i=Sa.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Sa.extractNumericId(e).compare(Sa.extractNumericId(r)):mw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nl.fromString(e.substring(4,e.length-2))}}class Nr extends Sa{construct(e,r,n){return new Nr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut($e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Nr(r)}static emptyPath(){return new Nr([])}}const mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Sa{construct(e,r,n){return new Cn(e,r,n)}static isValidIdentifier(e){return mj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Cn([qE])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new ut($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ut($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new ut($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(r)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Nr.fromString(e))}static fromName(e){return new Tt(Nr.fromString(e).popFirst(5))}static empty(){return new Tt(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Nr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e,r){if(!r)throw new ut($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nk(t,e,r,n){if(e===!0&&n===!0)throw new ut($e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function HE(t){if(!Tt.isDocumentKey(t))throw new ut($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WE(t){if(Tt.isDocumentKey(t))throw new ut($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function g0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pt(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=g0(t);throw new ut($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){const r={typeString:t};return e&&(r.value=e),r}function Wd(t,e){if(!kk(t))throw new ut($e.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new ut($e.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,GE=1e6;class kr{static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*GE);return new kr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ut($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ut($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<$E)throw new ut($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,kr._jsonSchema))return new kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kr._jsonSchemaVersion="firestore/timestamp/1.0",kr._jsonSchema={type:pn("string",kr._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new kr(0,0))}static max(){return new Dt(new kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function gj(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(n===1e9?new kr(r+1,0):new kr(r,n));return new Ol(i,Tt.empty(),e)}function yj(t){return new Ol(t.readTime,t.key,Td)}class Ol{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ol(Dt.min(),Tt.empty(),Td)}static max(){return new Ol(Dt.max(),Tt.empty(),Td)}}function vj(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Tt.comparator(t.documentKey,e.documentKey),r!==0?r:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==wj)throw t;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,n)=>{r(e)})}static reject(e){return new Ke((r,n)=>{n(e)})}static waitFor(e){return new Ke((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=Ke.resolve(!1);for(const n of e)r=r.next(i=>i?Ke.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Ke((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new Ke((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function bj(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Mh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}y0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-1;function v0(t){return t==null}function Tg(t){return t===0&&1/t==-1/0}function xj(t){return typeof t=="number"&&Number.isInteger(t)&&!Tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="";function Ej(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=KE(e)),e=Aj(t.get(r),e);return KE(e)}function Aj(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case Ik:r+="";break;default:r+=s}}return r}function KE(t){return t+Ik+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $l(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,r){this.comparator=e,this.root=r||Mn.EMPTY}insert(e,r){return new zr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Mn.RED,this.left=i??Mn.EMPTY,this.right=s??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Mn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Mn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pt(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Mn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new En(this.comparator);return r.data=e,r}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new ts([])}unionWith(e){let r=new En(Cn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ts(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Rk("Invalid base64 string: "+s):s}}(e);return new Pn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Pn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(t){if(or(!!t,39018),typeof t=="string"){let e=0;const r=Sj.exec(t);if(or(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jl(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="server_timestamp",Lk="__type__",Ok="__previous_value__",Dk="__local_write_time__";function a_(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Lk])==null?void 0:n.stringValue)===Pk}function w0(t){const e=t.mapValue.fields[Ok];return a_(e)?w0(e):e}function Nd(t){const e=Dl(t.mapValue.fields[Dk].timestampValue);return new kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,r,n,i,s,a,o,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ng="(default)";class xh{constructor(e,r){this.projectId=e,this.database=r||Ng}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===Ng}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="__type__",Nj="__max__",Kp={mapValue:{}},Fk="__vector__",kg="value";function Fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:Ij(t)?9007199254740991:kj(t)?10:11:Pt(28295,{value:t})}function Ba(t,e){if(t===e)return!0;const r=Fl(t);if(r!==Fl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nd(t).isEqual(Nd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Dl(i.timestampValue),o=Dl(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jl(i.bytesValue).isEqual(jl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rn(i.geoPointValue.latitude)===rn(s.geoPointValue.latitude)&&rn(i.geoPointValue.longitude)===rn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rn(i.integerValue)===rn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=rn(i.doubleValue),o=rn(s.doubleValue);return a===o?Tg(a)===Tg(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return bh(t.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(XE(a)!==XE(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ba(a[l],o[l])))return!1;return!0}(t,e);default:return Pt(52216,{left:t})}}function kd(t,e){return(t.values||[]).find(r=>Ba(r,e))!==void 0}function Eh(t,e){if(t===e)return 0;const r=Fl(t),n=Fl(e);if(r!==n)return Yt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=rn(s.integerValue||s.doubleValue),l=rn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return QE(t.timestampValue,e.timestampValue);case 4:return QE(Nd(t),Nd(e));case 5:return mw(t.stringValue,e.stringValue);case 6:return function(s,a){const o=jl(s),l=jl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Yt(o[u],l[u]);if(c!==0)return c}return Yt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Yt(rn(s.latitude),rn(a.latitude));return o!==0?o:Yt(rn(s.longitude),rn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JE(t.arrayValue,e.arrayValue);case 10:return function(s,a){var m,h,x,_;const o=s.fields||{},l=a.fields||{},u=(m=o[kg])==null?void 0:m.arrayValue,c=(h=l[kg])==null?void 0:h.arrayValue,f=Yt(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((_=c==null?void 0:c.values)==null?void 0:_.length)||0);return f!==0?f:JE(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Kp.mapValue&&a===Kp.mapValue)return 0;if(s===Kp.mapValue)return 1;if(a===Kp.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const m=mw(l[f],c[f]);if(m!==0)return m;const h=Eh(o[l[f]],u[c[f]]);if(h!==0)return h}return Yt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Pt(23264,{he:r})}}function QE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const r=Dl(t),n=Dl(e),i=Yt(r.seconds,n.seconds);return i!==0?i:Yt(r.nanos,n.nanos)}function JE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Eh(r[i],n[i]);if(s)return s}return Yt(r.length,n.length)}function Ah(t){return gw(t)}function gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Dl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return jl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Tt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=gw(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${gw(r.fields[a])}`;return i+"}"}(t.mapValue):Pt(61005,{value:t})}function Dm(t){switch(Fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=w0(t);return e?16+Dm(e):16;case 5:return 2*t.stringValue.length;case 6:return jl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+Dm(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return $l(n.fields,(s,a)=>{i+=s.length+Dm(a)}),i}(t.mapValue);default:throw Pt(13486,{value:t})}}function ZE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yw(t){return!!t&&"integerValue"in t}function o_(t){return!!t&&"arrayValue"in t}function e4(t){return!!t&&"nullValue"in t}function t4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function kj(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[jk])==null?void 0:n.stringValue)===Fk}function Kf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Kf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Kf(t.arrayValue.values[r]);return e}return{...t}}function Ij(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Nj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!jm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(r)}setAll(e){let r=Cn.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Kf(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());jm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){$l(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Oi(Kf(this.value))}}function Mk(t){const e=[];return $l(t.fields,(r,n)=>{const i=new Cn([r]);if(jm(n)){const s=Mk(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ei(e,0,Dt.min(),Dt.min(),Dt.min(),Oi.empty(),0)}static newFoundDocument(e,r,n,i){return new ei(e,1,r,Dt.min(),n,i,0)}static newNoDocument(e,r){return new ei(e,2,r,Dt.min(),Dt.min(),Oi.empty(),0)}static newUnknownDocument(e,r){return new ei(e,3,r,Dt.min(),Dt.min(),Oi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,r){this.position=e,this.inclusive=r}}function r4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Tt.comparator(Tt.fromName(a.referenceValue),r.key):n=Eh(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function n4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ba(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,r="asc"){this.field=e,this.dir=r}}function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{}class dn extends Bk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Pj(e,r,n):r==="array-contains"?new Dj(e,n):r==="in"?new jj(e,n):r==="not-in"?new Fj(e,n):r==="array-contains-any"?new Mj(e,n):new dn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Lj(e,n):new Oj(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Eh(r,this.value)):r!==null&&Fl(this.value)===Fl(r)&&this.matchesComparison(Eh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends Bk{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ta(e,r)}matches(e){return Uk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uk(t){return t.op==="and"}function Vk(t){return Rj(t)&&Uk(t)}function Rj(t){for(const e of t.filters)if(e instanceof ta)return!1;return!0}function vw(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Ah(t.value);if(Vk(t))return t.filters.map(e=>vw(e)).join(",");{const e=t.filters.map(r=>vw(r)).join(",");return`${t.op}(${e})`}}function zk(t,e){return t instanceof dn?function(n,i){return i instanceof dn&&n.op===i.op&&n.field.isEqual(i.field)&&Ba(n.value,i.value)}(t,e):t instanceof ta?function(n,i){return i instanceof ta&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&zk(a,i.filters[o]),!0):!1}(t,e):void Pt(19439)}function qk(t){return t instanceof dn?function(r){return`${r.field.canonicalString()} ${r.op} ${Ah(r.value)}`}(t):t instanceof ta?function(r){return r.op.toString()+" {"+r.getFilters().map(qk).join(" ,")+"}"}(t):"Filter"}class Pj extends dn{constructor(e,r,n){super(e,r,n),this.key=Tt.fromName(n.referenceValue)}matches(e){const r=Tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Lj extends dn{constructor(e,r){super(e,"in",r),this.keys=Hk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Oj extends dn{constructor(e,r){super(e,"not-in",r),this.keys=Hk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hk(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Tt.fromName(n.referenceValue))}class Dj extends dn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return o_(r)&&kd(r.arrayValue,this.value)}}class jj extends dn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&kd(this.value.arrayValue,r)}}class Fj extends dn{constructor(e,r){super(e,"not-in",r)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!kd(this.value.arrayValue,r)}}class Mj extends dn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!o_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>kd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function i4(t,e=null,r=[],n=[],i=null,s=null,a=null){return new Bj(t,e,r,n,i,s,a)}function l_(t){const e=Ft(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>vw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),v0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ah(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ah(n)).join(",")),e.Te=r}return e.Te}function u_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Cj(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!zk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n4(t.startAt,e.startAt)&&n4(t.endAt,e.endAt)}function ww(t){return Tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Uj(t,e,r,n,i,s,a,o){return new Bh(t,e,r,n,i,s,a,o)}function _0(t){return new Bh(t)}function s4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Wk(t){return t.collectionGroup!==null}function Xf(t){const e=Ft(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new En(Cn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Id(s,n))}),r.has(Cn.keyField().canonicalString())||e.Ie.push(new Id(Cn.keyField(),n))}return e.Ie}function Da(t){const e=Ft(t);return e.Ee||(e.Ee=Vj(e,Xf(t))),e.Ee}function Vj(t,e){if(t.limitType==="F")return i4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Id(i.field,s)});const r=t.endAt?new Ig(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ig(t.startAt.position,t.startAt.inclusive):null;return i4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function _w(t,e){const r=t.filters.concat([e]);return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function bw(t,e,r){return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function b0(t,e){return u_(Da(t),Da(e))&&t.limitType===e.limitType}function $k(t){return`${l_(Da(t))}|lt:${t.limitType}`}function Ic(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>qk(i)).join(", ")}]`),v0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ah(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ah(i)).join(",")),`Target(${n})`}(Da(t))}; limitType=${t.limitType})`}function x0(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Tt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Xf(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=r4(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,Xf(n),i)||n.endAt&&!function(a,o,l){const u=r4(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,Xf(n),i))}(t,e)}function zj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gk(t){return(e,r)=>{let n=!1;for(const i of Xf(t)){const s=qj(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function qj(t,e,r){const n=t.field.isKeyField()?Tt.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Eh(l,u):Pt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Pt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return Ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new zr(Tt.comparator);function Ao(){return Hj}const Kk=new zr(Tt.comparator);function Df(...t){let e=Kk;for(const r of t)e=e.insert(r.key,r);return e}function Xk(t){let e=Kk;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Tu(){return Yf()}function Yk(){return Yf()}function Yf(){return new tc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wj=new zr(Tt.comparator),$j=new En(Tt.comparator);function Qt(...t){let e=$j;for(const r of t)e=e.add(r);return e}const Gj=new En(Yt);function Kj(){return Gj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(e)?"-0":e}}function Qk(t){return{integerValue:""+t}}function Xj(t,e){return xj(e)?Qk(e):c_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this._=void 0}}function Yj(t,e,r){return t instanceof Cg?function(i,s){const a={fields:{[Lk]:{stringValue:Pk},[Dk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a_(s)&&(s=w0(s)),s&&(a.fields[Ok]=s),{mapValue:a}}(r,e):t instanceof Cd?Zk(t,e):t instanceof Rd?eI(t,e):function(i,s){const a=Jk(i,s),o=a4(a)+a4(i.Ae);return yw(a)&&yw(i.Ae)?Qk(o):c_(i.serializer,o)}(t,e)}function Qj(t,e,r){return t instanceof Cd?Zk(t,e):t instanceof Rd?eI(t,e):r}function Jk(t,e){return t instanceof Rg?function(n){return yw(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Cg extends E0{}class Cd extends E0{constructor(e){super(),this.elements=e}}function Zk(t,e){const r=tI(e);for(const n of t.elements)r.some(i=>Ba(i,n))||r.push(n);return{arrayValue:{values:r}}}class Rd extends E0{constructor(e){super(),this.elements=e}}function eI(t,e){let r=tI(e);for(const n of t.elements)r=r.filter(i=>!Ba(i,n));return{arrayValue:{values:r}}}class Rg extends E0{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function a4(t){return rn(t.integerValue||t.doubleValue)}function tI(t){return o_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jj(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Cd&&i instanceof Cd||n instanceof Rd&&i instanceof Rd?bh(n.elements,i.elements,Ba):n instanceof Rg&&i instanceof Rg?Ba(n.Ae,i.Ae):n instanceof Cg&&i instanceof Cg}(t.transform,e.transform)}class Zj{constructor(e,r){this.version=e,this.transformResults=r}}class Qs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A0{}function rI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h_(t.key,Qs.none()):new $d(t.key,t.data,Qs.none());{const r=t.data,n=Oi.empty();let i=new En(Cn.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Gl(t.key,n,new ts(i.toArray()),Qs.none())}}function eF(t,e,r){t instanceof $d?function(i,s,a){const o=i.value.clone(),l=l4(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Gl?function(i,s,a){if(!Fm(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=l4(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(nI(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Qf(t,e,r,n){return t instanceof $d?function(s,a,o,l){if(!Fm(s.precondition,a))return o;const u=s.value.clone(),c=u4(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Gl?function(s,a,o,l){if(!Fm(s.precondition,a))return o;const u=u4(s.fieldTransforms,l,a),c=a.data;return c.setAll(nI(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return Fm(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function tF(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=Jk(n.transform,i||null);s!=null&&(r===null&&(r=Oi.empty()),r.set(n.field,s))}return r||null}function o4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bh(n,i,(s,a)=>Jj(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends A0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gl extends A0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function l4(t,e,r){const n=new Map;or(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,Qj(a,o,r[i]))}return n}function u4(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,Yj(s,a,e))}return n}class h_ extends A0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rF extends A0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eF(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Qf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Qf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Yk();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=rI(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Dt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Qt())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(r,n)=>o4(r,n))&&bh(this.baseMutations,e.baseMutations,(r,n)=>o4(r,n))}}class f_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){or(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Wj}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new f_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,er;function aF(t){switch(t){case $e.OK:return Pt(64938);case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0;default:return Pt(15467,{code:t})}}function iI(t){if(t===void 0)return Eo("GRPC error has no .code"),$e.UNKNOWN;switch(t){case hn.OK:return $e.OK;case hn.CANCELLED:return $e.CANCELLED;case hn.UNKNOWN:return $e.UNKNOWN;case hn.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case hn.INTERNAL:return $e.INTERNAL;case hn.UNAVAILABLE:return $e.UNAVAILABLE;case hn.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case hn.NOT_FOUND:return $e.NOT_FOUND;case hn.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case hn.ABORTED:return $e.ABORTED;case hn.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case hn.DATA_LOSS:return $e.DATA_LOSS;default:return Pt(39323,{code:t})}}(er=hn||(hn={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new Nl([4294967295,4294967295],0);function c4(t){const e=oF().encode(t),r=new yk;return r.update(e),new Uint8Array(r.digest())}function h4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nl([r,n],0),new Nl([i,s],0)]}class d_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new jf(`Invalid padding: ${r}`);if(n<0)throw new jf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new jf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new jf(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Nl.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Nl.fromNumber(n)));return i.compare(lF)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=c4(e),[n,i]=h4(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new d_(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const r=c4(e),[n,i]=h4(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class jf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new S0(Dt.min(),i,new zr(Yt),Ao(),Qt())}}class Gd{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Gd(n,r,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class sI{constructor(e,r){this.targetId=e,this.Ce=r}}class aI{constructor(e,r,n=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class f4{constructor(){this.ve=0,this.Fe=d4(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qt(),r=Qt(),n=Qt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Pt(38017,{changeType:s})}}),new Gd(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=d4()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,or(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ao(),this.Je=Xp(),this.He=Xp(),this.Ye=new zr(Yt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Pt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(ww(s))if(n===0){const a=new Tt(s.path);this.et(r,a,ei.newNoDocument(a,Dt.min()))}else or(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=jl(n).toUint8Array()}catch(l){if(l instanceof Rk)return qu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new d_(a,i,s)}catch(l){return qu(l instanceof jf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&ww(o.target)){const l=new Tt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,ei.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=Qt();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new S0(e,r,this.Ye,this.je,n);return this.je=Ao(),this.Je=Xp(),this.He=Xp(),this.Ye=new zr(Yt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new f4,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new En(Yt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new En(Yt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ht("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f4),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Xp(){return new zr(Tt.comparator)}function d4(){return new zr(Tt.comparator)}const cF={asc:"ASCENDING",desc:"DESCENDING"},hF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fF={and:"AND",or:"OR"};class dF{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xw(t,e){return t.useProto3Json||v0(e)?e:{value:e}}function Pg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pF(t,e){return Pg(t,e.toTimestamp())}function ja(t){return or(!!t,49232),Dt.fromTimestamp(function(r){const n=Dl(r);return new kr(n.seconds,n.nanos)}(t))}function p_(t,e){return Ew(t,e).canonicalString()}function Ew(t,e){const r=function(i){return new Nr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function lI(t){const e=Nr.fromString(t);return or(dI(e),10190,{key:e.toString()}),e}function Aw(t,e){return p_(t.databaseId,e.path)}function $1(t,e){const r=lI(e);if(r.get(1)!==t.databaseId.projectId)throw new ut($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ut($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Tt(cI(r))}function uI(t,e){return p_(t.databaseId,e)}function mF(t){const e=lI(t);return e.length===4?Nr.emptyPath():cI(e)}function Sw(t){return new Nr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cI(t){return or(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p4(t,e,r){return{name:Aw(t,e),fields:r.value.mapValue.fields}}function gF(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(or(c===void 0||typeof c=="string",58123),Pn.fromBase64String(c||"")):(or(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?$e.UNKNOWN:iI(u.code);return new ut(c,u.message||"")}(a);r=new aI(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$1(t,n.document.name),s=ja(n.document.updateTime),a=n.document.createTime?ja(n.document.createTime):Dt.min(),o=new Oi({mapValue:{fields:n.document.fields}}),l=ei.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Mm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$1(t,n.document),s=n.readTime?ja(n.readTime):Dt.min(),a=ei.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Mm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$1(t,n.document),s=n.removedTargetIds||[];r=new Mm([],s,i,null)}else{if(!("filter"in e))return Pt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new sF(i,s),o=n.targetId;r=new sI(o,a)}}return r}function yF(t,e){let r;if(e instanceof $d)r={update:p4(t,e.key,e.value)};else if(e instanceof h_)r={delete:Aw(t,e.key)};else if(e instanceof Gl)r={update:p4(t,e.key,e.data),updateMask:TF(e.fieldMask)};else{if(!(e instanceof rF))return Pt(16599,{Vt:e.type});r={verify:Aw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Cg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Rd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rg)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Pt(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pt(27497)}(t,e.precondition)),r}function vF(t,e){return t&&t.length>0?(or(e!==void 0,14353),t.map(r=>function(i,s){let a=i.updateTime?ja(i.updateTime):ja(s);return a.isEqual(Dt.min())&&(a=ja(s)),new Zj(a,i.transformResults||[])}(r,e))):[]}function wF(t,e){return{documents:[uI(t,e.path)]}}function _F(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=uI(t,i);const s=function(u){if(u.length!==0)return fI(ta.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:Cc(m.field),direction:EF(m.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=xw(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function bF(t){let e=mF(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){or(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(f){const m=hI(f);return m instanceof ta&&Vk(m)?m.getFilters():[m]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(m=>function(x){return new Id(Rc(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(r.orderBy));let o=null;r.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,v0(m)?null:m}(r.limit));let l=null;r.startAt&&(l=function(f){const m=!!f.before,h=f.values||[];return new Ig(h,m)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const m=!f.before,h=f.values||[];return new Ig(h,m)}(r.endAt)),Uj(e,i,a,s,o,"F",l,u)}function xF(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function hI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Rc(r.unaryFilter.field);return dn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Rc(r.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rc(r.unaryFilter.field);return dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rc(r.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}}(t):t.fieldFilter!==void 0?function(r){return dn.create(Rc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ta.create(r.compositeFilter.filters.map(n=>hI(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}}(r.compositeFilter.op))}(t):Pt(30097,{filter:t})}function EF(t){return cF[t]}function AF(t){return hF[t]}function SF(t){return fF[t]}function Cc(t){return{fieldPath:t.canonicalString()}}function Rc(t){return Cn.fromServerFormat(t.fieldPath)}function fI(t){return t instanceof dn?function(r){if(r.op==="=="){if(t4(r.value))return{unaryFilter:{field:Cc(r.field),op:"IS_NAN"}};if(e4(r.value))return{unaryFilter:{field:Cc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(t4(r.value))return{unaryFilter:{field:Cc(r.field),op:"IS_NOT_NAN"}};if(e4(r.value))return{unaryFilter:{field:Cc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(r.field),op:AF(r.op),value:r.value}}}(t):t instanceof ta?function(r){const n=r.getFilters().map(i=>fI(i));return n.length===1?n[0]:{compositeFilter:{op:SF(r.op),filters:n}}}(t):Pt(54877,{filter:t})}function TF(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function dI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,r,n,i,s=Dt.min(),a=Dt.min(),o=Pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.yt=e}}function kF(t){const e=bF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.Cn=new CF}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r){return Ke.resolve(null)}getIndexType(e,r){return Ke.resolve(0)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,r){return Ke.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,r){return Ke.resolve(Ol.min())}updateCollectionGroup(e,r,n){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class CF{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new En(Nr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new En(Nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pI=41943040;class Pi{static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(pI,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sh(0)}static cr(){return new Sh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="LruGarbageCollector",RF=1048576;function y4([t,e],[r,n]){const i=Yt(t,r);return i===0?Yt(e,n):i}class PF{constructor(e){this.Ir=e,this.buffer=new En(y4),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();y4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class LF{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(g4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Mh(r)?ht(g4,"Ignoring IndexedDB error during garbage collection: ",r):await Fh(r)}await this.Vr(3e5)})}}class OF{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ke.resolve(y0.ce);const n=new PF(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(m4)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m4):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),kc()<=Xt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function DF(t,e){return new OF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.changes=new tc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ke.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Qf(n.mutation,i,ts.empty(),kr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Qt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Qt()){const i=Tu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Df();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Tu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Qt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Ao();const a=Yf(),o=function(){return Yf()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Gl)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Qf(c.mutation,u,c.mutation.getFieldMask(),kr.now())):a.set(u.key,ts.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>o.set(u,new FF(c,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=Yf();let i=new zr((a,o)=>a-o),s=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||ts.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||Qt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=Yk();c.forEach(m=>{if(!s.has(m)){const h=rI(r.get(m),n.get(m));h!==null&&f.set(m,h),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Ke.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Wk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Ke.resolve(Tu());let o=Td,l=s;return a.next(u=>Ke.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(c)?Ke.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Qt())).next(c=>({batchId:o,changes:Xk(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Tt(r)).next(n=>{let i=Df();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Df();return this.indexManager.getCollectionParents(e,s).next(o=>Ke.forEach(o,l=>{const u=function(f,m){return new Bh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,ei.newInvalidDocument(c)))});let o=Df();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Qf(c.mutation,u,ts.empty(),kr.now()),x0(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ke.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ja(i.createTime)}}(r)),Ke.resolve()}getNamedQuery(e,r){return Ke.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:kF(i.bundledQuery),readTime:ja(i.readTime)}}(r)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.overlays=new zr(Tt.comparator),this.qr=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Tu();return Ke.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),Ke.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),Ke.resolve()}getOverlaysForCollection(e,r,n){const i=Tu(),s=r.length+1,a=new Tt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ke.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new zr((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=Tu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Tu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Ke.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new iF(r,n));let s=this.qr.get(r);s===void 0&&(s=Qt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Qr=new En(Nn.$r),this.Ur=new En(Nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Nn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Nn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Tt(new Nr([])),n=new Nn(r,e),i=new Nn(r,e+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Tt(new Nr([])),n=new Nn(r,e),i=new Nn(r,e+1);let s=Qt();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Nn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Nn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Tt.comparator(e.key,r.key)||Yt(e.Yr,r.Yr)}static Kr(e,r){return Yt(e.Yr,r.Yr)||Tt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new En(Nn.$r)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nF(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Nn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ke.resolve(a)}lookupMutationBatch(e,r){return Ke.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return Ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?s_:this.tr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Nn(r,0),i=new Nn(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),Ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new En(Yt);return r.forEach(i=>{const s=new Nn(i,0),a=new Nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{n=n.add(o.Yr)})}),Ke.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Tt.isDocumentKey(s)||(s=s.child(""));const a=new Nn(new Tt(s),0);let o=new En(Yt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),Ke.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){or(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ke.forEach(r.mutations,i=>{const s=new Nn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Nn(r,0),i=this.Zr.firstAfterOrEqual(n);return Ke.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.ri=e,this.docs=function(){return new zr(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ke.resolve(n?n.document.mutableCopy():ei.newInvalidDocument(r))}getEntries(e,r){let n=Ao();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ei.newInvalidDocument(i))}),Ke.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ao();const a=r.path,o=new Tt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||vj(yj(c),n)<=0||(i.has(c.key)||x0(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ke.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Pt(9500)}ii(e,r){return Ke.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new HF(this)}getSize(e){return Ke.resolve(this.size)}}class HF extends jF{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ke.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.persistence=e,this.si=new tc(r=>l_(r),u_),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=Sh.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ke.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Sh(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.Pr(r),Ke.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ke.waitFor(s).next(()=>i)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ke.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ke.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ke.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ke.resolve(n)}containsKey(e,r){return Ke.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,r){this.ui={},this.overlays={},this.ci=new y0(0),this.li=!1,this.li=!0,this.hi=new VF,this.referenceDelegate=e(this),this.Pi=new WF(this),this.indexManager=new IF,this.remoteDocumentCache=function(i){return new qF(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new NF(r),this.Ii=new BF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new UF,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new zF(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ht("MemoryPersistence","Starting transaction:",e);const i=new $F(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return Ke.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class $F extends _j{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw Pt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ke.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.fi,n=>{const i=Tt.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,Dt.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Lg{constructor(e,r){this.persistence=e,this.pi=new tc(n=>Ej(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=DF(this,r)}static mi(e,r){return new Lg(e,r)}Ei(){}di(e){return Ke.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Ke.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?Ke.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(o=>{o||(n++,s.removeEntry(a,Dt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ke.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Dm(e.data.value)),r}br(e,r,n){return Ke.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ke.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Qt(),i=Qt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return VD()?8:bj(ri())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new GF;return this.Ss(e,r,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(kc()<=Xt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ic(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ke.resolve()):(kc()<=Xt.DEBUG&&ht("QueryEngine","Query:",Ic(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(kc()<=Xt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ic(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Da(r))):Ke.resolve())}ys(e,r){if(s4(r))return Ke.resolve(null);let n=Da(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=bw(r,null,"F"),n=Da(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Qt(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,a,l.readTime)?this.ys(e,bw(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return s4(r)||i.isEqual(Dt.min())?Ke.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?Ke.resolve(null):(kc()<=Xt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ic(r)),this.vs(e,a,r,gj(i,Td)).next(o=>o))})}Ds(e,r){let n=new En(Gk(e));return r.forEach((i,s)=>{x0(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return kc()<=Xt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ic(r)),this.ps.getDocumentsMatchingQuery(e,r,Ol.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LocalStore",XF=3e8;class YF{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new zr(Yt),this.xs=new tc(s=>l_(s),u_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function QF(t,e,r,n){return new YF(t,e,r,n)}async function gI(t,e){const r=Ft(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Qt();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function JF(t,e){const r=Ft(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,m=f.keys();let h=Ke.resolve();return m.forEach(x=>{h=h.next(()=>c.getEntry(l,x)).next(_=>{const A=u.docVersions.get(x);or(A!==null,48541),_.version.compareTo(A)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Qt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yI(t){const e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function ZF(t,e){const r=Ft(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((c,f)=>{const m=i.get(f);if(!m)return;o.push(r.Pi.removeMatchingKeys(s,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,c.addedDocuments,f)));let h=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Pn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,n)),i=i.insert(f,h),function(_,A,d){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=XF?!0:d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0}(m,h,c)&&o.push(r.Pi.updateTargetData(s,h))});let l=Ao(),u=Qt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(eM(s,a,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(Dt.min())){const c=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return Ke.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=i,s))}function eM(t,e,r){let n=Qt(),i=Qt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Ao();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Dt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ht(v_,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function tM(t,e){const r=Ft(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=s_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function rM(t,e){const r=Ft(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,Ke.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new pl(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Tw(t,e,r){const n=Ft(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Mh(a))throw a;ht(v_,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function v4(t,e,r){const n=Ft(t);let i=Dt.min(),s=Qt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=Ft(l),m=f.xs.get(c);return m!==void 0?Ke.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,c)}(n,a,Da(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Dt.min(),r?s:Qt())).next(o=>(nM(n,zj(e),o),{documents:o,Qs:s})))}function nM(t,e,r){let n=t.Os.get(e)||Dt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class w4{constructor(){this.activeTargetIds=Kj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iM{constructor(){this.Mo=new w4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="ConnectivityMonitor";class b4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(_4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(_4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp=null;function Nw(){return Yp===null?Yp=function(){return 268435456+Math.round(2147483648*Math.random())}():Yp++,"0x"+Yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="RestConnection",aM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Ng?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=Nw(),o=this.zo(e,r.toUriEncodedString());ht(G1,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),c=Wl(u);return this.Jo(e,o,l,n,c).then(f=>(ht(G1,`Received RPC '${e}' ${a}: `,f),f),f=>{throw qu(G1,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=aM[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class uM extends oM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=Nw();return new Promise((o,l)=>{const u=new vk;u.setWithCredentials(!0),u.listenOnce(wk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Om.NO_ERROR:const f=u.getResponseJson();ht(Gn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case Om.TIMEOUT:ht(Gn,`RPC '${e}' ${a} timed out`),l(new ut($e.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const m=u.getStatus();if(ht(Gn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const _=function(d){const y=d.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(y)>=0?y:$e.UNKNOWN}(x.status);l(new ut(_,x.message))}else l(new ut($e.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ut($e.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ht(Gn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ht(Gn,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(e,r,n){const i=Nw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xk(),o=bk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");ht(Gn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let m=!1,h=!1;const x=new lM({Yo:A=>{h?ht(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(ht(Gn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ht(Gn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Zo:()=>f.close()}),_=(A,d,y)=>{A.listen(d,v=>{try{y(v)}catch(w){setTimeout(()=>{throw w},0)}})};return _(f,Of.EventType.OPEN,()=>{h||(ht(Gn,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),_(f,Of.EventType.CLOSE,()=>{h||(h=!0,ht(Gn,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),_(f,Of.EventType.ERROR,A=>{h||(h=!0,qu(Gn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),x.a_(new ut($e.UNAVAILABLE,"The operation could not be completed")))}),_(f,Of.EventType.MESSAGE,A=>{var d;if(!h){const y=A.data[0];or(!!y,16349);const v=y,w=(v==null?void 0:v.error)||((d=v[0])==null?void 0:d.error);if(w){ht(Gn,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let q=function(E){const H=hn[E];if(H!==void 0)return iI(H)}(I),R=w.message;q===void 0&&(q=$e.INTERNAL,R="Unknown error status: "+I+" with message "+w.message),h=!0,x.a_(new ut(q,R)),f.close()}else ht(Gn,`RPC '${e}' stream ${i} received:`,y),x.u_(y)}}),_(o,_k.STAT_EVENT,A=>{A.stat===pw.PROXY?ht(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===pw.NOPROXY&&ht(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function K1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){return new dF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="PersistentStream";class wI{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vI(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===$e.RESOURCE_EXHAUSTED?(Eo(r.toString()),Eo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ut($e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ht(x4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ht(x4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cM extends wI{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=gF(this.serializer,e),n=function(s){if(!("targetChange"in s))return Dt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?ja(a.readTime):Dt.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Sw(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=ww(l)?{documents:wF(s,l)}:{query:_F(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=oI(s,a.resumeToken);const u=xw(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Dt.min())>0){o.readTime=Pg(s,a.snapshotVersion.toTimestamp());const u=xw(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=xF(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Sw(this.serializer),r.removeTarget=e,this.q_(r)}}class hM extends wI{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return or(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,or(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){or(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=vF(e.writeResults,e.commitTime),n=ja(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Sw(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>yF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{}class dM extends fM{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut($e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Ew(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut($e.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Ew(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut($e.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pM{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eo(r),this.aa=!1):ht("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="RemoteStore";class mM{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{rc(this)&&(ht(Hu,"Restarting streams for network reachability change."),await async function(l){const u=Ft(l);u.Ea.add(4),await Kd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await N0(u)}(this))})}),this.Ra=new pM(n,i)}}async function N0(t){if(rc(t))for(const e of t.da)await e(!0)}async function Kd(t){for(const e of t.da)await e(!1)}function _I(t,e){const r=Ft(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),x_(r)?b_(r):Uh(r).O_()&&__(r,e))}function w_(t,e){const r=Ft(t),n=Uh(r);r.Ia.delete(e),n.O_()&&bI(r,e),r.Ia.size===0&&(n.O_()?n.L_():rc(r)&&r.Ra.set("Unknown"))}function __(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Uh(t).Y_(e)}function bI(t,e){t.Va.Ue(e),Uh(t).Z_(e)}function b_(t){t.Va=new uF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uh(t).start(),t.Ra.ua()}function x_(t){return rc(t)&&!Uh(t).x_()&&t.Ia.size>0}function rc(t){return Ft(t).Ea.size===0}function xI(t){t.Va=void 0}async function gM(t){t.Ra.set("Online")}async function yM(t){t.Ia.forEach((e,r)=>{__(t,e)})}async function vM(t,e){xI(t),x_(t)?(t.Ra.ha(e),b_(t)):t.Ra.set("Unknown")}async function wM(t,e,r){if(t.Ra.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ht(Hu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Og(t,n)}else if(e instanceof Mm?t.Va.Ze(e):e instanceof sI?t.Va.st(e):t.Va.tt(e),!r.isEqual(Dt.min()))try{const n=await yI(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Pn.EMPTY_BYTE_STRING,c.snapshotVersion)),bI(s,l);const f=new pl(c.target,l,u,c.sequenceNumber);__(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ht(Hu,"Failed to raise snapshot:",n),await Og(t,n)}}async function Og(t,e,r){if(!Mh(e))throw e;t.Ea.add(1),await Kd(t),t.Ra.set("Offline"),r||(r=()=>yI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ht(Hu,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await N0(t)})}function EI(t,e){return e().catch(r=>Og(t,r,e))}async function k0(t){const e=Ft(t),r=Ml(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s_;for(;_M(e);)try{const i=await tM(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,bM(e,i)}catch(i){await Og(e,i)}AI(e)&&SI(e)}function _M(t){return rc(t)&&t.Ta.length<10}function bM(t,e){t.Ta.push(e);const r=Ml(t);r.O_()&&r.X_&&r.ea(e.mutations)}function AI(t){return rc(t)&&!Ml(t).x_()&&t.Ta.length>0}function SI(t){Ml(t).start()}async function xM(t){Ml(t).ra()}async function EM(t){const e=Ml(t);for(const r of t.Ta)e.ea(r.mutations)}async function AM(t,e,r){const n=t.Ta.shift(),i=f_.from(n,e,r);await EI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await k0(t)}async function SM(t,e){e&&Ml(t).X_&&await async function(n,i){if(function(a){return aF(a)&&a!==$e.ABORTED}(i.code)){const s=n.Ta.shift();Ml(n).B_(),await EI(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await k0(n)}}(t,e),AI(t)&&SI(t)}async function E4(t,e){const r=Ft(t);r.asyncQueue.verifyOperationInProgress(),ht(Hu,"RemoteStore received new credentials");const n=rc(r);r.Ea.add(3),await Kd(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await N0(r)}async function TM(t,e){const r=Ft(t);e?(r.Ea.delete(2),await N0(r)):e||(r.Ea.add(2),await Kd(r),r.Ra.set("Unknown"))}function Uh(t){return t.ma||(t.ma=function(r,n,i){const s=Ft(r);return s.sa(),new cM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:gM.bind(null,t),t_:yM.bind(null,t),r_:vM.bind(null,t),H_:wM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),x_(t)?b_(t):t.Ra.set("Unknown")):(await t.ma.stop(),xI(t))})),t.ma}function Ml(t){return t.fa||(t.fa=function(r,n,i){const s=Ft(r);return s.sa(),new hM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,t),r_:SM.bind(null,t),ta:EM.bind(null,t),na:AM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await k0(t)):(await t.fa.stop(),t.Ta.length>0&&(ht(Hu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new E_(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(Eo("AsyncQueue",`${e}: ${t}`),Mh(t))return new ut($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{static emptySet(e){return new nh(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Tt.comparator(r.key,n.key):(r,n)=>Tt.comparator(r.key,n.key),this.keyedMap=Df(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.ga=new zr(Tt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Pt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Th{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Th(e,r,nh.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class kM{constructor(){this.queries=S4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ft(r),s=i.queries;i.queries=S4(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new ut($e.ABORTED,"Firestore shutting down"))}}function S4(){return new tc(t=>$k(t),b0)}async function TI(t,e){const r=Ft(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new NM,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=A_(a,`Initialization of query '${Ic(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&S_(r)}async function NI(t,e){const r=Ft(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function IM(t,e){const r=Ft(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&S_(r)}function CM(t,e,r){const n=Ft(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function S_(t){t.Ca.forEach(e=>{e.next()})}var kw,T4;(T4=kw||(kw={})).Ma="default",T4.Cache="cache";class kI{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Th(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.key=e}}class CI{constructor(e){this.key=e}}class RM{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=Gk(e),this.tu=new nh(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new A4,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const m=i.get(c),h=x0(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),_=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let A=!1;m&&h?m.data.isEqual(h.data)?x!==_&&(n.track({type:3,doc:h}),A=!0):this.su(m,h)||(n.track({type:2,doc:h}),A=!0,(l&&this.eu(h,l)>0||u&&this.eu(h,u)<0)&&(o=!0)):!m&&h?(n.track({type:0,doc:h}),A=!0):m&&!h&&(n.track({type:1,doc:m}),A=!0,(l||u)&&(o=!0)),A&&(h?(a=a.add(h),s=_?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(h,x){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{Rt:A})}};return _(h)-_(x)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Th(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new CI(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new II(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Qt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Th.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const T_="SyncEngine";class PM{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class LM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new tc(o=>$k(o),b0),this.Iu=new Map,this.Eu=new Set,this.du=new zr(Tt.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=Sh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DM(t,e,r=!0){const n=jI(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await RI(n,e,r,!0),i}async function jM(t,e){const r=jI(t);await RI(r,e,!0,!1)}async function RI(t,e,r,n){const i=await rM(t.localStore,Da(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await FM(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&_I(t.remoteStore,i),o}async function FM(t,e,r,n,i){t.pu=(f,m,h)=>async function(_,A,d,y){let v=A.view.ru(d);v.Cs&&(v=await v4(_.localStore,A.query,!1).then(({documents:R})=>A.view.ru(R,v)));const w=y&&y.targetChanges.get(A.targetId),I=y&&y.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(v,_.isPrimaryClient,w,I);return k4(_,A.targetId,q.au),q.snapshot}(t,f,m,h);const s=await v4(t.localStore,e,!0),a=new RM(e,s.Qs),o=a.ru(s.documents),l=Gd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);k4(t,r,u.au);const c=new PM(e,r,a);return t.Tu.set(e,c),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function MM(t,e,r){const n=Ft(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!b0(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Tw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&w_(n.remoteStore,i.targetId),Iw(n,i.targetId)}).catch(Fh)):(Iw(n,i.targetId),await Tw(n.localStore,i.targetId,!0))}async function BM(t,e){const r=Ft(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),w_(r.remoteStore,n.targetId))}async function UM(t,e,r){const n=GM(t);try{const i=await function(a,o){const l=Ft(a),u=kr.now(),c=o.reduce((h,x)=>h.add(x.key),Qt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let x=Ao(),_=Qt();return l.Ns.getEntries(h,c).next(A=>{x=A,x.forEach((d,y)=>{y.isValidDocument()||(_=_.add(d))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,x)).next(A=>{f=A;const d=[];for(const y of o){const v=tF(y,f.get(y.key).overlayedDocument);v!=null&&d.push(new Gl(y.key,v,Mk(v.value.mapValue),Qs.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,d,o)}).next(A=>{m=A;const d=A.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(h,A.batchId,d)})}).then(()=>({batchId:m.batchId,changes:Xk(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new zr(Yt)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(n,i.batchId,r),await Xd(n,i.changes),await k0(n.remoteStore)}catch(i){const s=A_(i,"Failed to persist write");r.reject(s)}}async function PI(t,e){const r=Ft(t);try{const n=await ZF(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&(or(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?or(a.hu,14607):i.removedDocuments.size>0&&(or(a.hu,42227),a.hu=!1))}),await Xd(r,n,e)}catch(n){await Fh(n)}}function N4(t,e,r){const n=Ft(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ft(a);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const m of f.Sa)m.va(o)&&(u=!0)}),u&&S_(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function VM(t,e,r){const n=Ft(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new zr(Tt.comparator);a=a.insert(s,ei.newNoDocument(s,Dt.min()));const o=Qt().add(s),l=new S0(Dt.min(),new Map,new zr(Yt),a,o);await PI(n,l),n.du=n.du.remove(s),n.Au.delete(e),N_(n)}else await Tw(n.localStore,e,!1).then(()=>Iw(n,e,r)).catch(Fh)}async function zM(t,e){const r=Ft(t),n=e.batch.batchId;try{const i=await JF(r.localStore,e);OI(r,n,null),LI(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Xd(r,i)}catch(i){await Fh(i)}}async function qM(t,e,r){const n=Ft(t);try{const i=await function(a,o){const l=Ft(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(or(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);OI(n,e,r),LI(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Xd(n,i)}catch(i){await Fh(i)}}function LI(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function OI(t,e,r){const n=Ft(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Iw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||DI(t,n)})}function DI(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(w_(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),N_(t))}function k4(t,e,r){for(const n of r)n instanceof II?(t.Ru.addReference(n.key,e),HM(t,n)):n instanceof CI?(ht(T_,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||DI(t,n.key)):Pt(19791,{wu:n})}function HM(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ht(T_,"New document in limbo: "+r),t.Eu.add(n),N_(t))}function N_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Tt(Nr.fromString(e)),n=t.fu.next();t.Au.set(n,new LM(r)),t.du=t.du.insert(r,n),_I(t.remoteStore,new pl(Da(_0(r.path)),n,"TargetPurposeLimboResolution",y0.ce))}}async function Xd(t,e,r){const n=Ft(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=y_.As(l.targetId,u);s.push(f)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,u){const c=Ft(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ke.forEach(u,m=>Ke.forEach(m.Es,h=>c.persistence.referenceDelegate.addReference(f,m.targetId,h)).next(()=>Ke.forEach(m.ds,h=>c.persistence.referenceDelegate.removeReference(f,m.targetId,h)))))}catch(f){if(!Mh(f))throw f;ht(v_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const h=c.Ms.get(m),x=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(x);c.Ms=c.Ms.insert(m,_)}}}(n.localStore,s))}async function WM(t,e){const r=Ft(t);if(!r.currentUser.isEqual(e)){ht(T_,"User change. New user:",e.toKey());const n=await gI(r.localStore,e);r.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new ut($e.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Xd(r,n.Ls)}}function $M(t,e){const r=Ft(t),n=r.Au.get(e);if(n&&n.hu)return Qt().add(n.key);{let i=Qt();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function jI(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VM.bind(null,e),e.Pu.H_=IM.bind(null,e.eventManager),e.Pu.yu=CM.bind(null,e.eventManager),e}function GM(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qM.bind(null,e),e}class Dg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=T0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return QF(this.persistence,new KF,e.initialUser,this.serializer)}Cu(e){return new mI(g_.mi,this.serializer)}Du(e){return new iM}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dg.provider={build:()=>new Dg};class KM extends Dg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){or(this.persistence.referenceDelegate instanceof Lg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new LF(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new mI(n=>Lg.mi(n,r),this.serializer)}}class Cw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>N4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=WM.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kM}()}createDatastore(e){const r=T0(e.databaseInfo.databaseId),n=function(s){return new uM(s)}(e.databaseInfo);return function(s,a,o,l){return new dM(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new mM(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>N4(this.syncEngine,r,0),function(){return b4.v()?new b4:new sM}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const f=new OM(i,s,a,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ft(i);ht(Hu,"RemoteStore shutting down."),s.Ea.add(5),await Kd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Cw.provider={build:()=>new Cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Eo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="FirestoreClient";class XM{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{ht(Bl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ht(Bl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=A_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function X1(t,e){t.asyncQueue.verifyOperationInProgress(),ht(Bl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await gI(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await YM(t);ht(Bl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>E4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>E4(e.remoteStore,i)),t._onlineComponents=e}async function YM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ht(Bl,"Using user provided OfflineComponentProvider");try{await X1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;qu("Error using user provided cache. Falling back to memory cache: "+r),await X1(t,new Dg)}}else ht(Bl,"Using default OfflineComponentProvider"),await X1(t,new KM(void 0));return t._offlineComponents}async function MI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ht(Bl,"Using user provided OnlineComponentProvider"),await I4(t,t._uninitializedComponentsProvider._online)):(ht(Bl,"Using default OnlineComponentProvider"),await I4(t,new Cw))),t._onlineComponents}function QM(t){return MI(t).then(e=>e.syncEngine)}async function Rw(t){const e=await MI(t),r=e.eventManager;return r.onListen=DM.bind(null,e.syncEngine),r.onUnlisten=MM.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=jM.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=BM.bind(null,e.syncEngine),r}function JM(t,e,r={}){const n=new kl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new FI({next:m=>{c.Nu(),a.enqueueAndForget(()=>NI(s,f));const h=m.docs.has(o);!h&&m.fromCache?u.reject(new ut($e.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&m.fromCache&&l&&l.source==="server"?u.reject(new ut($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new kI(_0(o.path),c,{includeMetadataChanges:!0,qa:!0});return TI(s,f)}(await Rw(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firestore.googleapis.com",R4=!0;class P4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UI,this.ssl=R4}else this.host=e.host,this.ssl=e.ssl??R4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RF)throw new ut($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BI(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Sk;switch(n.type){case"firstParty":return new cj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=C4.get(r);n&&(ht("ComponentProvider","Removing Datastore"),C4.delete(r),n.terminate())}(this),Promise.resolve()}}function VI(t,e,r,n={}){var u;t=Ys(t,I0);const i=Wl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(Z5(`https://${o}`),e_("Firestore",!0)),s.host!==UI&&s.host!==o&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!Uu(l,a)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=Jn.MOCK_USER;else{c=hk(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new ut($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jn(m)}t._authCredentials=new oj(new Ak(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class Xr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}toJSON(){return{type:Xr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Wd(r,Xr._jsonSchema))return new Xr(e,n||null,new Tt(Nr.fromString(r.referencePath)))}}Xr._jsonSchemaVersion="firestore/documentReference/1.0",Xr._jsonSchema={type:pn("string",Xr._jsonSchemaVersion),referencePath:pn("string")};class yo extends Kl{constructor(e,r,n){super(e,r,_0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new Tt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function k_(t,e,...r){if(t=Vr(t),Tk("collection","path",e),t instanceof I0){const n=Nr.fromString(e,...r);return WE(n),new yo(t,null,n)}{if(!(t instanceof Xr||t instanceof yo))throw new ut($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return WE(n),new yo(t.firestore,null,n)}}function Xl(t,e,...r){if(t=Vr(t),arguments.length===1&&(e=m0.newId()),Tk("doc","path",e),t instanceof I0){const n=Nr.fromString(e,...r);return HE(n),new Xr(t,null,new Tt(n))}{if(!(t instanceof Xr||t instanceof yo))throw new ut($e.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return HE(n),new Xr(t.firestore,t instanceof yo?t.converter:null,new Tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="AsyncQueue";class O4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vI(this,"async_queue_retry"),this._c=()=>{const n=K1();n&&ht(L4,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=K1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=K1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new kl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mh(e))throw e;ht(L4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Eo("INTERNAL UNHANDLED ERROR: ",D4(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=E_.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Pt(47125,{Pc:D4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function D4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ul extends I0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new O4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O4(e),this._firestoreClient=void 0,await e}}}function zI(t,e){const r=typeof t=="object"?t:n_(),n=typeof t=="string"?t:Ng,i=p0(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=lk("firestore");s&&VI(i,...s)}return i}function C0(t){if(t._terminated)throw new ut($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZM(t),t._firestoreClient}function ZM(t){var n,i,s;const e=t._freezeSettings(),r=function(o,l,u,c){return new Tj(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XM(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(Pn.fromBase64String(e))}catch(r){throw new ut($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Zi(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,Zi._jsonSchema))return Zi.fromBase64String(e.bytes)}}Zi._jsonSchemaVersion="firestore/bytes/1.0",Zi._jsonSchema={type:pn("string",Zi._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ut($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ut($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ut($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:pn("string",Js._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,Zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Zs(e.vectorValues);throw new ut($e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zs._jsonSchemaVersion="firestore/vectorValue/1.0",Zs._jsonSchema={type:pn("string",Zs._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=/^__.*__$/;class tB{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms):new $d(e,this.data,r,this.fieldTransforms)}}class qI{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{Ac:t})}}class I_{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new I_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HI(this.Ac)&&eB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rB{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||T0(e)}Cc(e,r,n,i=!1){return new I_({Ac:e,methodName:r,Dc:n,path:Cn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C_(t){const e=t._freezeSettings(),r=T0(t._databaseId);return new rB(t._databaseId,!!e.ignoreUndefinedProperties,r)}function nB(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);R_("Data must be an object, but it was:",a,n);const o=WI(n,a);let l,u;if(s.merge)l=new ts(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const m=Pw(e,f,r);if(!a.contains(m))throw new ut($e.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);GI(c,m)||c.push(m)}l=new ts(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new tB(new Oi(o),l,u)}class P0 extends R0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P0}}function iB(t,e,r,n){const i=t.Cc(1,e,r);R_("Data must be an object, but it was:",i,n);const s=[],a=Oi.empty();$l(n,(l,u)=>{const c=P_(e,l,r);u=Vr(u);const f=i.yc(c);if(u instanceof P0)s.push(c);else{const m=Qd(u,f);m!=null&&(s.push(c),a.set(c,m))}});const o=new ts(s);return new qI(a,o,i.fieldTransforms)}function sB(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[Pw(e,n,r)],l=[i];if(s.length%2!=0)throw new ut($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(Pw(e,s[m])),l.push(s[m+1]);const u=[],c=Oi.empty();for(let m=o.length-1;m>=0;--m)if(!GI(u,o[m])){const h=o[m];let x=l[m];x=Vr(x);const _=a.yc(h);if(x instanceof P0)u.push(h);else{const A=Qd(x,_);A!=null&&(u.push(h),c.set(h,A))}}const f=new ts(u);return new qI(c,f,a.fieldTransforms)}function aB(t,e,r,n=!1){return Qd(r,t.Cc(n?4:3,e))}function Qd(t,e){if($I(t=Vr(t)))return R_("Unsupported field value:",e,t),WI(t,e);if(t instanceof R0)return function(n,i){if(!HI(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Qd(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Vr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xj(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=kr.fromDate(n);return{timestampValue:Pg(i.serializer,s)}}if(n instanceof kr){const s=new kr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pg(i.serializer,s)}}if(n instanceof Js)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zi)return{bytesValue:oI(i.serializer,n._byteString)};if(n instanceof Xr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Zs)return function(a,o){return{mapValue:{fields:{[jk]:{stringValue:Fk},[kg]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return c_(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${g0(n)}`)}(t,e)}function WI(t,e){const r={};return Ck(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(n,i)=>{const s=Qd(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function $I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kr||t instanceof Js||t instanceof Zi||t instanceof Xr||t instanceof R0||t instanceof Zs)}function R_(t,e,r){if(!$I(r)||!kk(r)){const n=g0(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Pw(t,e,r){if((e=Vr(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return P_(t,e);throw jg("Field path arguments must be of type string or ",t,!1,void 0,r)}const oB=new RegExp("[~\\*/\\[\\]]");function P_(t,e,r){if(e.search(oB)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Yd(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function jg(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new ut($e.INVALID_ARGUMENT,o+t+l)}function GI(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(L_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class lB extends KI{data(){return super.data()}}function L_(t,e){return typeof e=="string"?P_(t,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ut($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{}class D_ extends O_{}function XI(t,e,...r){let n=[];e instanceof O_&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof O0).length,o=s.filter(l=>l instanceof L0).length;if(a>1||a>0&&o>0)throw new ut($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class L0 extends D_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new L0(e,r,n)}_apply(e){const r=this._parse(e);return QI(e._query,r),new Kl(e.firestore,e.converter,_w(e._query,r))}_parse(e){const r=C_(e.firestore);return function(s,a,o,l,u,c,f){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ut($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){M4(f,c);const x=[];for(const _ of f)x.push(F4(l,s,_));m={arrayValue:{values:x}}}else m=F4(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||M4(f,c),m=aB(o,a,f,c==="in"||c==="not-in");return dn.create(u,c,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class O0 extends O_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new O0(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ta.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)QI(a,l),a=_w(a,l)}(e._query,r),new Kl(e.firestore,e.converter,_w(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D0 extends D_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new D0(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new ut($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ut($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Id(s,a)}(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Bh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function YI(t,e="asc"){const r=e,n=L_("orderBy",t);return D0._create(n,r)}function F4(t,e,r){if(typeof(r=Vr(r))=="string"){if(r==="")throw new ut($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wk(e)&&r.indexOf("/")!==-1)throw new ut($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nr.fromString(r));if(!Tt.isDocumentKey(n))throw new ut($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ZE(t,new Tt(n))}if(r instanceof Xr)return ZE(t,r._key);throw new ut($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g0(r)}.`)}function M4(t,e){if(!Array.isArray(t)||t.length===0)throw new ut($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QI(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ut($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class JI{convertValue(e,r="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $l(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[kg].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>rn(a.doubleValue));return new Zs(r)}convertGeoPoint(e){return new Js(rn(e.latitude),rn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=w0(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const r=Dl(e);return new kr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nr.fromString(e);or(dI(n),9688,{name:e});const i=new xh(n.get(1),n.get(3)),s=new Tt(n.popFirst(5));return i.isEqual(r)||Eo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Kc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Il extends KI{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(L_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Il._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:pn("string",Il._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class Jf extends Il{data(e={}){return super.data(e)}}class Pu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Kc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Jf(this._firestore,this._userDataWriter,n.key,n,new Kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ut($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Jf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Jf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:hB(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){t=Ys(t,Xr);const e=Ys(t.firestore,Ul);return JM(C0(e),t._key).then(r=>eC(e,t,r))}Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:pn("string",Pu._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class ZI extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,r)}}function Jd(t,e,r,...n){t=Ys(t,Xr);const i=Ys(t.firestore,Ul),s=C_(i);let a;return a=typeof(e=Vr(e))=="string"||e instanceof Yd?sB(s,"updateDoc",t._key,e,r,n):iB(s,"updateDoc",t._key,e),j0(i,[a.toMutation(t._key,Qs.exists(!0))])}function j_(t){return j0(Ys(t.firestore,Ul),[new h_(t._key,Qs.none())])}function F_(t,e){const r=Ys(t.firestore,Ul),n=Xl(t),i=cB(t.converter,e);return j0(r,[nB(C_(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Qs.exists(!1))]).then(()=>n)}function M_(t,...e){var l,u,c;t=Vr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||j4(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(j4(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(u=f.error)==null?void 0:u.bind(f),e[n+2]=(c=f.complete)==null?void 0:c.bind(f)}let s,a,o;if(t instanceof Xr)a=Ys(t.firestore,Ul),o=_0(t._key.path),s={next:f=>{e[n]&&e[n](eC(a,t,f))},error:e[n+1],complete:e[n+2]};else{const f=Ys(t,Kl);a=Ys(f.firestore,Ul),o=f._query;const m=new ZI(a);s={next:h=>{e[n]&&e[n](new Pu(a,m,f,h))},error:e[n+1],complete:e[n+2]},uB(t._query)}return function(m,h,x,_){const A=new FI(_),d=new kI(h,A,x);return m.asyncQueue.enqueueAndForget(async()=>TI(await Rw(m),d)),()=>{A.Nu(),m.asyncQueue.enqueueAndForget(async()=>NI(await Rw(m),d))}}(C0(a),o,i,s)}function j0(t,e){return function(n,i){const s=new kl;return n.asyncQueue.enqueueAndForget(async()=>UM(await QM(n),i,s)),s.promise}(C0(t),e)}function eC(t,e,r){const n=r.docs.get(e._key),i=new ZI(t);return new Il(t,i,e._key,n,new Kc(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){jh=i})(ec),Vu(new Ll("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Ul(new lj(n.getProvider("auth-internal")),new hj(a,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ut($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(u.options.projectId,c)}(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Oa(UE,VE,e),Oa(UE,VE,"esm2020")})();const tC=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:JI,Bytes:Zi,CollectionReference:yo,DocumentReference:Xr,DocumentSnapshot:Il,FieldPath:Yd,FieldValue:R0,Firestore:Ul,FirestoreError:ut,GeoPoint:Js,Query:Kl,QueryCompositeFilterConstraint:O0,QueryConstraint:D_,QueryDocumentSnapshot:Jf,QueryFieldFilterConstraint:L0,QueryOrderByConstraint:D0,QuerySnapshot:Pu,SnapshotMetadata:Kc,Timestamp:kr,VectorValue:Zs,_AutoId:m0,_ByteString:Pn,_DatabaseId:xh,_DocumentKey:Tt,_EmptyAuthCredentialsProvider:Sk,_FieldPath:Cn,_cast:Ys,_logWarn:qu,_validateIsNotUsedTogether:Nk,addDoc:F_,collection:k_,connectFirestoreEmulator:VI,deleteDoc:j_,doc:Xl,ensureFirestoreConfigured:C0,executeWrite:j0,getDoc:fB,getFirestore:zI,onSnapshot:M_,orderBy:YI,query:XI,updateDoc:Jd},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebasestorage.googleapis.com",nC="storageBucket",dB=2*60*1e3,pB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ua{constructor(e,r,n=0){super(Y1(e),`Firebase Storage: ${r} (${Y1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Y1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yr||(Yr={}));function Y1(t){return"storage/"+t}function B_(){const t="An unknown error occurred, please check the error payload for server response.";return new Qr(Yr.UNKNOWN,t)}function mB(t){return new Qr(Yr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gB(t){return new Qr(Yr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qr(Yr.UNAUTHENTICATED,t)}function vB(){return new Qr(Yr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wB(t){return new Qr(Yr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _B(){return new Qr(Yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bB(){return new Qr(Yr.CANCELED,"User canceled the upload/download.")}function xB(t){return new Qr(Yr.INVALID_URL,"Invalid URL '"+t+"'.")}function EB(t){return new Qr(Yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function AB(){return new Qr(Yr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nC+"' property when initializing the app?")}function SB(){return new Qr(Yr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TB(){return new Qr(Yr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NB(t){return new Qr(Yr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lw(t){return new Qr(Yr.INVALID_ARGUMENT,t)}function iC(){return new Qr(Yr.APP_DELETED,"The Firebase app was deleted.")}function kB(t){return new Qr(Yr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zf(t,e){return new Qr(Yr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _f(t){throw new Qr(Yr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=rs.makeFromUrl(e,r)}catch{return new rs(e,"")}if(n.path==="")return n;throw EB(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${m}`,"i"),x={bucket:1,path:3},_=r===rC?"(?:storage.googleapis.com|storage.cloud.google.com)":r,A="([^?#]*)",d=new RegExp(`^https?://${_}/${i}/${A}`,"i"),v=[{regex:o,indices:l,postModify:s},{regex:h,indices:x,postModify:u},{regex:d,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<v.length;w++){const I=v[w],q=I.regex.exec(e);if(q){const R=q[I.indices.bucket];let P=q[I.indices.path];P||(P=""),n=new rs(R,P),I.postModify(n);break}}if(n==null)throw xB(e);return n}}class IB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(h,l())},A)}function m(){s&&clearTimeout(s)}function h(A,...d){if(u){m();return}if(A){m(),c.call(null,A,...d);return}if(l()||a){m(),c.call(null,A,...d);return}n<64&&(n*=2);let v;o===1?(o=2,v=0):v=(n+Math.random())*1e3,f(v)}let x=!1;function _(A){x||(x=!0,m(),!u&&(i!==null?(A||(o=2),clearTimeout(i),f(0)):A||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,_(!0)},r),_}function RB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){return t!==void 0}function LB(t){return typeof t=="object"&&!Array.isArray(t)}function U_(t){return typeof t=="string"||t instanceof String}function B4(t){return V_()&&t instanceof Blob}function V_(){return typeof Blob<"u"}function U4(t,e,r,n){if(n<e)throw Lw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Lw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function sC(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Lu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lu||(Lu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,r,n,i,s,a,o,l,u,c,f,m=!0,h=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,_)=>{this.resolve_=x,this.reject_=_,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Qp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Lu.NO_ERROR,l=s.getStatus();if(!o||OB(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Lu.ABORT;n(!1,new Qp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Qp(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());PB(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=B_();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?iC():bB();a(l)}else{const l=_B();a(l)}};this.canceled_?r(!1,new Qp(!1,null,!0)):this.backoffId_=CB(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function jB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UB(t,e,r,n,i,s,a=!0,o=!1){const l=sC(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return MB(c,e),jB(c,r),FB(c,s),BB(c,n),new DB(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zB(...t){const e=VB();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(V_())return new Blob(t);throw new Qr(Yr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qB(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){if(typeof atob>"u")throw NB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Q1{constructor(e,r){this.data=e,this.contentType=r||null}}function WB(t,e){switch(t){case Ia.RAW:return new Q1(aC(e));case Ia.BASE64:case Ia.BASE64URL:return new Q1(oC(t,e));case Ia.DATA_URL:return new Q1(GB(e),KB(e))}throw B_()}function aC(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=t.charCodeAt(++r);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function $B(t){let e;try{e=decodeURIComponent(t)}catch{throw Zf(Ia.DATA_URL,"Malformed data URL.")}return aC(e)}function oC(t,e){switch(t){case Ia.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ia.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=HB(e)}catch(i){throw i.message.includes("polyfill")?i:Zf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class lC{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Zf(Ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=XB(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function GB(t){const e=new lC(t);return e.base64?oC(Ia.BASE64,e.rest):$B(e.rest)}function KB(t){return new lC(t).contentType}function XB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r){let n=0,i="";B4(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(B4(this.data_)){const n=this.data_,i=qB(n,e,r);return i===null?null:new al(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new al(n,!0)}}static getBlob(...e){if(V_()){const r=e.map(n=>n instanceof al?n.data_:n);return new al(zB.apply(null,r))}else{const r=e.map(a=>U_(a)?WB(Ia.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new al(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){let e;try{e=JSON.parse(t)}catch{return null}return LB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QB(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function cC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){return e}class mi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||JB}}let Jp=null;function ZB(t){return!U_(t)||t.length<2?t:cC(t)}function hC(){if(Jp)return Jp;const t=[];t.push(new mi("bucket")),t.push(new mi("generation")),t.push(new mi("metageneration")),t.push(new mi("name","fullPath",!0));function e(s,a){return ZB(a)}const r=new mi("name");r.xform=e,t.push(r);function n(s,a){return a!==void 0?Number(a):a}const i=new mi("size");return i.xform=n,t.push(i),t.push(new mi("timeCreated")),t.push(new mi("updated")),t.push(new mi("md5Hash",null,!0)),t.push(new mi("cacheControl",null,!0)),t.push(new mi("contentDisposition",null,!0)),t.push(new mi("contentEncoding",null,!0)),t.push(new mi("contentLanguage",null,!0)),t.push(new mi("contentType",null,!0)),t.push(new mi("metadata","customMetadata",!0)),Jp=t,Jp}function eU(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new rs(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function tU(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const a=r[s];n[a.local]=a.xform(n,e[a.server])}return eU(n,t),n}function fC(t,e,r){const n=uC(e);return n===null?null:tU(t,n,r)}function rU(t,e,r,n){const i=uC(e);if(i===null||!U_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,m="/b/"+a(c)+"/o/"+a(f),h=z_(m,r,n),x=sC({alt:"media",token:u});return h+x})[0]}function nU(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class dC{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(!t)throw B_()}function iU(t,e){function r(n,i){const s=fC(t,i,e);return pC(s!==null),s}return r}function sU(t,e){function r(n,i){const s=fC(t,i,e);return pC(s!==null),rU(s,i,t.host,t._protocol)}return r}function mC(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=vB():i=yB():r.getStatus()===402?i=gB(t.bucket):r.getStatus()===403?i=wB(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function aU(t){const e=mC(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=mB(t.path)),s.serverResponse=i.serverResponse,s}return r}function oU(t,e,r){const n=e.fullServerUrl(),i=z_(n,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new dC(i,s,sU(t,r),a);return o.errorHandler=aU(e),o}function lU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uU(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=lU(null,e)),n}function cU(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let v="";for(let w=0;w<2;w++)v=v+Math.random().toString().slice(2);return v}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const u=uU(e,n,i),c=nU(u,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",h=al.getBlob(f,n,m);if(h===null)throw SB();const x={name:u.fullPath},_=z_(s,t.host,t._protocol),A="POST",d=t.maxUploadRetryTime,y=new dC(_,A,iU(t,r),d);return y.urlParams=x,y.headers=a,y.body=h.uploadData(),y.errorHandler=mC(e),y}class hU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,s){if(this.sent_)throw _f("cannot .send() more than once");if(Wl(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _f("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _f("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _f("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _f("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fU extends hU{initXhr(){this.xhr_.responseType="text"}}function gC(){return new fU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this._service=e,r instanceof rs?this._location=r:this._location=rs.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Wu(e,r)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cC(this._location.path)}get storage(){return this._service}get parent(){const e=YB(this._location.path);if(e===null)return null;const r=new rs(this._location.bucket,e);return new Wu(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw kB(e)}}function dU(t,e,r){t._throwIfRoot("uploadBytes");const n=cU(t.storage,t._location,hC(),new al(e,!0),r);return t.storage.makeRequestWithTokens(n,gC).then(i=>({metadata:i,ref:t}))}function pU(t){t._throwIfRoot("getDownloadURL");const e=oU(t.storage,t._location,hC());return t.storage.makeRequestWithTokens(e,gC).then(r=>{if(r===null)throw TB();return r})}function mU(t,e){const r=QB(t._location.path,e),n=new rs(t._location.bucket,r);return new Wu(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return/^[A-Za-z]+:\/\//.test(t)}function yU(t,e){return new Wu(t,e)}function yC(t,e){if(t instanceof q_){const r=t;if(r._bucket==null)throw AB();const n=new Wu(r,r._bucket);return e!=null?yC(n,e):n}else return e!==void 0?mU(t,e):t}function vU(t,e){if(e&&gU(e)){if(t instanceof q_)return yU(t,e);throw Lw("To use ref(service, url), the first argument must be a Storage instance.")}else return yC(t,e)}function V4(t,e){const r=e==null?void 0:e[nC];return r==null?null:rs.makeFromBucketSpec(r,t)}function wU(t,e,r,n={}){t.host=`${e}:${r}`;const i=Wl(e);i&&(Z5(`https://${t.host}/b`),e_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:hk(s,t.app.options.projectId))}class q_{constructor(e,r,n,i,s,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=rC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dB,this._maxUploadRetryTime=pB,this._requests=new Set,i!=null?this._bucket=rs.makeFromBucketSpec(i,this._host):this._bucket=V4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rs.makeFromBucketSpec(this._url,e):this._bucket=V4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wu(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new IB(iC());{const a=UB(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const z4="@firebase/storage",q4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="storage";function _U(t,e,r){return t=Vr(t),dU(t,e,r)}function bU(t){return t=Vr(t),pU(t)}function xU(t,e){return t=Vr(t),vU(t,e)}function EU(t=n_(),e){t=Vr(t);const n=p0(t,vC).getImmediate({identifier:e}),i=lk("storage");return i&&AU(n,...i),n}function AU(t,e,r,n={}){wU(t,e,r,n)}function SU(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q_(r,n,i,e,ec)}function TU(){Vu(new Ll(vC,SU,"PUBLIC").setMultipleInstances(!0)),Oa(z4,q4,""),Oa(z4,q4,"esm2020")}TU();function wC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NU=wC,_C=new qd("auth","Firebase",wC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new t_("@firebase/auth");function kU(t,...e){Fg.logLevel<=Xt.WARN&&Fg.warn(`Auth (${ec}): ${t}`,...e)}function Bm(t,...e){Fg.logLevel<=Xt.ERROR&&Fg.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,...e){throw H_(t,...e)}function Fa(t,...e){return H_(t,...e)}function bC(t,e,r){const n={...NU(),[e]:r};return new qd("auth","Firebase",n).create(e,{appName:t.name})}function Cl(t){return bC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return _C.create(t,...e)}function Rt(t,e,...r){if(!t)throw H_(e,...r)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bm(e),new Error(e)}function So(t,e){t||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function IU(){return H4()==="http:"||H4()==="https:"}function H4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IU()||MD()||"connection"in navigator)?navigator.onLine:!0}function RU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r){this.shortDelay=e,this.longDelay=r,So(r>e,"Short delay should be less than long delay!"),this.isMobile=DD()||BD()}get(){return CU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e){So(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OU=new Zd(3e4,6e4);function nc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yl(t,e,r,n,i={}){return EC(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Hd({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return FD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(u.credentials="include"),xC.fetch()(await AC(t,t.config.apiHost,r,o),u)})}async function EC(t,e,r){t._canInitEmulator=!1;const n={...PU,...e};try{const i=new jU(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Zp(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Zp(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bC(t,c,u);ra(t,c)}}catch(i){if(i instanceof Ua)throw i;ra(t,"network-request-failed",{message:String(i)})}}async function F0(t,e,r,n,i={}){const s=await Yl(t,e,r,n,i);return"mfaPendingCredential"in s&&ra(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function AC(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?W_(t.config,i):`${t.config.apiScheme}://${i}`;return LU.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function DU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fa(this.auth,"network-request-failed")),OU.get())})}}function Zp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Fa(t,e,n);return i.customData._tokenResponse=r,i}function W4(t){return t!==void 0&&t.enterprise!==void 0}class FU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return DU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MU(t,e){return Yl(t,"GET","/v2/recaptchaConfig",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e){return Yl(t,"POST","/v1/accounts:delete",e)}async function Mg(t,e){return Yl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UU(t,e=!1){const r=Vr(t),n=await r.getIdToken(e),i=$_(n);Rt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:ed(J1(i.auth_time)),issuedAtTime:ed(J1(i.iat)),expirationTime:ed(J1(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function J1(t){return Number(t)*1e3}function $_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const i=ak(r);return i?JSON.parse(i):(Bm("Failed to decode base64 JWT payload"),null)}catch(i){return Bm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $4(t){const e=$_(t);return Rt(e,"internal-error"),Rt(typeof e.exp<"u","internal-error"),Rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ua&&VU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function VU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t){var f;const e=t.auth,r=await t.getIdToken(),n=await Pd(t,Mg(e,{idToken:r}));Rt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?SC(i.providerUserInfo):[],a=HU(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function qU(t){const e=Vr(t);await Bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function SC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){const r=await EC(t,{},async()=>{const n=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await AC(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(l.credentials="include"),xC.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function $U(t,e){return Yl(t,"POST","/v2/accounts:revokeToken",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rt(e.idToken,"internal-error"),Rt(typeof e.idToken<"u","internal-error"),Rt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Rt(e.length!==0,"internal-error");const r=$4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await WU(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new ih;return n&&(Rt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Rt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Rt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ih,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){Rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new zU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Pd(this,this.stsTokenManager.getToken(this.auth,e));return Rt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return UU(this,e)}reload(){return qU(this)}_assign(e){this!==e&&(Rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Bg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(Cl(this.auth));const e=await this.getIdToken();return await Pd(this,BU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,c=r.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:h,providerData:x,stsTokenManager:_}=r;Rt(f&&_,e,"internal-error");const A=ih.fromJSON(this.name,_);Rt(typeof f=="string",e,"internal-error"),Jo(n,e.name),Jo(i,e.name),Rt(typeof m=="boolean",e,"internal-error"),Rt(typeof h=="boolean",e,"internal-error"),Jo(s,e.name),Jo(a,e.name),Jo(o,e.name),Jo(l,e.name),Jo(u,e.name),Jo(c,e.name);const d=new Gs({uid:f,auth:e,email:i,emailVerified:m,displayName:n,isAnonymous:h,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:A,createdAt:u,lastLoginAt:c});return x&&Array.isArray(x)&&(d.providerData=x.map(y=>({...y}))),l&&(d._redirectEventId=l),d}static async _fromIdTokenResponse(e,r,n=!1){const i=new ih;i.updateFromServerResponse(r);const s=new Gs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Bg(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Rt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?SC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new ih;o.updateFromIdToken(n);const l=new Gs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Map;function po(t){So(t instanceof Function,"Expected a class definition");let e=G4.get(t);return e?(So(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}TC.type="NONE";const K4=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,r){return`firebase:${t}:${e}:${r}`}class sh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Um(this.userKey,i.apiKey,s),this.fullPersistenceKey=Um("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Mg(this.auth,{idToken:e}).catch(()=>{});return r?Gs._fromGetAccountInfoResponse(this.auth,r,e):null}return Gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new sh(po(K4),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||po(K4);const a=Um(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const m=await Mg(e,{idToken:c}).catch(()=>{});if(!m)break;f=await Gs._fromGetAccountInfoResponse(e,m,c)}else f=Gs._fromJSON(e,c);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new sh(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new sh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PC(e))return"Blackberry";if(LC(e))return"Webos";if(kC(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(RC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function NC(t=ri()){return/firefox\//i.test(t)}function kC(t=ri()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(t=ri()){return/crios\//i.test(t)}function CC(t=ri()){return/iemobile/i.test(t)}function RC(t=ri()){return/android/i.test(t)}function PC(t=ri()){return/blackberry/i.test(t)}function LC(t=ri()){return/webos/i.test(t)}function G_(t=ri()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GU(t=ri()){var e;return G_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function KU(){return UD()&&document.documentMode===10}function OC(t=ri()){return G_(t)||RC(t)||LC(t)||PC(t)||/windows phone/i.test(t)||CC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e=[]){let r;switch(t){case"Browser":r=X4(ri());break;case"Worker":r=`${X4(ri())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ec}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e={}){return Yl(t,"GET","/v2/passwordPolicy",nc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=6;class JU{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??QU,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y4(this),this.idTokenSubscription=new Y4(this),this.beforeStateQueue=new XU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=po(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await sh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Mg(this,{idToken:e}),n=await Gs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(As(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Bg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(Cl(this));const r=e?Vr(e):null;return r&&Rt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(Cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(Cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YU(this),r=new JU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await $U(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&po(e)||this._popupRedirectResolver;Rt(r,this,"argument-error"),this.redirectPersistenceManager=await sh.create(this,[po(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&kU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vh(t){return Vr(t)}class Y4{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(r=>this.observer=r)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eV(t){M0=t}function jC(t){return M0.loadJS(t)}function tV(){return M0.recaptchaEnterpriseScript}function rV(){return M0.gapiScript}function nV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iV{constructor(){this.enterprise=new sV}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class sV{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const aV="recaptcha-enterprise",FC="NO_RECAPTCHA";class oV{constructor(e){this.type=aV,this.auth=Vh(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{MU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new FU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;W4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(FC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iV().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&W4(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tV();l.length!==0&&(l+=o),jC(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function Q4(t,e,r,n=!1,i=!1){const s=new oV(t);let a;if(i)a=FC;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function J4(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Q4(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Q4(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){const r=p0(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Uu(s,e??{}))return i;ra(i,"already-initialized")}return r.initialize({options:e})}function uV(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function cV(t,e,r){const n=Vh(t);Rt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=MC(e),{host:a,port:o}=hV(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Rt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Rt(Uu(u,n.config.emulator)&&Uu(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,Wl(a)?(Z5(`${s}//${a}${l}`),e_("Auth",!0)):fV()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hV(t){const e=MC(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Z4(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:Z4(a)}}}function Z4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,r){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}async function dV(t,e){return Yl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return F0(t,"POST","/v1/accounts:signInWithPassword",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return F0(t,"POST","/v1/accounts:signInWithEmailLink",nc(t,e))}async function gV(t,e){return F0(t,"POST","/v1/accounts:signInWithEmailLink",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends K_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ld(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ld(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J4(e,r,"signInWithPassword",pV);case"emailLink":return mV(e,{email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J4(e,n,"signUpPassword",dV);case"emailLink":return gV(e,{idToken:r,email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t,e){return F0(t,"POST","/v1/accounts:signInWithIdp",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="http://localhost";class $u extends K_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new $u(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ra("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new $u(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return ah(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ah(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ah(e,r)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wV(t){const e=Pf(Lf(t)).link,r=e?Pf(Lf(e)).deep_link_id:null,n=Pf(Lf(t)).deep_link_id;return(n?Pf(Lf(n)).link:null)||n||r||e||t}class X_{constructor(e){const r=Pf(Lf(e)),n=r.apiKey??null,i=r.oobCode??null,s=vV(r.mode??null);Rt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=wV(e);try{return new X_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.providerId=zh.PROVIDER_ID}static credential(e,r){return Ld._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=X_.parseLink(r);return Rt(n,"argument-error"),Ld._fromEmailAndCode(e,n.code,n.tenantId)}}zh.PROVIDER_ID="password";zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends BC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends ep{constructor(){super("facebook.com")}static credential(e){return $u._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.FACEBOOK_SIGN_IN_METHOD="facebook.com";ol.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return $u._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ll.credential(r,n)}catch{return null}}}ll.GOOGLE_SIGN_IN_METHOD="google.com";ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends ep{constructor(){super("github.com")}static credential(e){return $u._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.GITHUB_SIGN_IN_METHOD="github.com";ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends ep{constructor(){super("twitter.com")}static credential(e,r){return $u._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return cl.credential(r,n)}catch{return null}}}cl.TWITTER_SIGN_IN_METHOD="twitter.com";cl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Gs._fromIdTokenResponse(e,n,i),a=e3(n);return new Nh({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=e3(n);return new Nh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function e3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Ua{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Ug(e,r,n,i)}}function UC(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ug._fromErrorAndOperation(t,s,e,n):s})}async function _V(t,e,r=!1){const n=await Pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e,r=!1){const{auth:n}=t;if(As(n.app))return Promise.reject(Cl(n));const i="reauthenticate";try{const s=await Pd(t,UC(n,i,e,t),r);Rt(s.idToken,n,"internal-error");const a=$_(s.idToken);Rt(a,n,"internal-error");const{sub:o}=a;return Rt(t.uid===o,n,"user-mismatch"),Nh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ra(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e,r=!1){if(As(t.app))return Promise.reject(Cl(t));const n="signIn",i=await UC(t,n,e),s=await Nh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function xV(t,e){return VC(Vh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t){const e=Vh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function AV(t,e,r){return As(t.app)?Promise.reject(Cl(t)):xV(Vr(t),zh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&EV(t),n})}function SV(t,e,r,n){return Vr(t).onIdTokenChanged(e,r,n)}function TV(t,e,r){return Vr(t).beforeAuthStateChanged(e,r)}function NV(t,e,r,n){return Vr(t).onAuthStateChanged(e,r,n)}function kV(t){return Vr(t).signOut()}const Vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Vg,"1"),this.storage.removeItem(Vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=1e3,CV=10;class qC extends zC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);KU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CV):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}qC.type="LOCAL";const RV=qC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends zC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}HC.type="SESSION";const WC=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new B0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await PV(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}B0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=Y_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return window}function OV(t){Ma().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof Ma().WorkerGlobalScope<"u"&&typeof Ma().importScripts=="function"}async function DV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function FV(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",MV=1,zg="firebaseLocalStorage",KC="fbase_key";class tp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function U0(t,e){return t.transaction([zg],e?"readwrite":"readonly").objectStore(zg)}function BV(){const t=indexedDB.deleteDatabase(GC);return new tp(t).toPromise()}function jw(){const t=indexedDB.open(GC,MV);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(zg,{keyPath:KC})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(zg)?e(n):(n.close(),await BV(),e(await jw()))})})}async function t3(t,e,r){const n=U0(t,!0).put({[KC]:e,value:r});return new tp(n).toPromise()}async function UV(t,e){const r=U0(t,!1).get(e),n=await new tp(r).toPromise();return n===void 0?null:n.value}function r3(t,e){const r=U0(t,!0).delete(e);return new tp(r).toPromise()}const VV=800,zV=3;class XC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>zV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=B0._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new LV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jw();return await t3(e,Vg,"1"),await r3(e,Vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>t3(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>UV(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>r3(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=U0(i,!1).getAll();return new tp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XC.type="LOCAL";const qV=XC;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){return e?po(e):(Rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends K_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ah(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ah(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ah(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function WV(t){return VC(t.auth,new Q_(t),t.bypassAuthState)}function $V(t){const{auth:e,user:r}=t;return Rt(r,e,"internal-error"),bV(r,new Q_(t),t.bypassAuthState)}async function GV(t){const{auth:e,user:r}=t;return Rt(r,e,"internal-error"),_V(r,new Q_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WV;case"linkViaPopup":case"linkViaRedirect":return GV;case"reauthViaPopup":case"reauthViaRedirect":return $V;default:ra(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new Zd(2e3,1e4);class Xc extends YC{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Xc.currentPopupAction&&Xc.currentPopupAction.cancel(),Xc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rt(e,this.auth,"internal-error"),e}async onExecution(){So(this.filter.length===1,"Popup operations only handle one event");const e=Y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}Xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="pendingRedirect",Vm=new Map;class YV extends YC{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const n=await QV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QV(t,e){const r=ez(e),n=ZV(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function JV(t,e){Vm.set(t._key(),e)}function ZV(t){return po(t._redirectPersistence)}function ez(t){return Um(XV,t.config.apiKey,t.name)}async function tz(t,e,r=!1){if(As(t.app))return Promise.reject(Cl(t));const n=Vh(t),i=HV(n,e),a=await new YV(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=10*60*1e3;class nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iz(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!QC(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(n3(e))}saveEventToCache(e){this.cachedEventUids.add(n3(e)),this.lastProcessedEventTime=Date.now()}}function n3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e={}){return Yl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oz=/^https?/;async function lz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sz(t);for(const r of e)try{if(uz(r))return}catch{}ra(t,"unauthorized-domain")}function uz(t){const e=Ow(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!oz.test(r))return!1;if(az.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new Zd(3e4,6e4);function i3(){const t=Ma().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hz(t){return new Promise((e,r)=>{var i,s,a;function n(){i3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i3(),r(Fa(t,"network-request-failed"))},timeout:cz.get()})}if((s=(i=Ma().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Ma().gapi)!=null&&a.load)n();else{const o=nV("iframefcb");return Ma()[o]=()=>{gapi.load?n():r(Fa(t,"network-request-failed"))},jC(`${rV()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw zm=null,e})}let zm=null;function fz(t){return zm=zm||hz(t),zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new Zd(5e3,15e3),pz="__/auth/iframe",mz="emulator/auth/iframe",gz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vz(t){const e=t.config;Rt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?W_(e,mz):`https://${t.config.authDomain}/${pz}`,n={apiKey:e.apiKey,appName:t.name,v:ec},i=yz.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Hd(n).slice(1)}`}async function wz(t){const e=await fz(t),r=Ma().gapi;return Rt(r,t,"internal-error"),e.open({where:document.body,url:vz(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gz,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Fa(t,"network-request-failed"),o=Ma().setTimeout(()=>{s(a)},dz.get());function l(){Ma().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bz=500,xz=600,Ez="_blank",Az="http://localhost";class s3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sz(t,e,r,n=bz,i=xz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={..._z,width:n.toString(),height:i.toString(),top:s,left:a},u=ri().toLowerCase();r&&(o=IC(u)?Ez:r),NC(u)&&(e=e||Az,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[h,x])=>`${m}${h}=${x},`,"");if(GU(u)&&o!=="_self")return Tz(e||"",o),new s3(null);const f=window.open(e||"",o,c);Rt(f,t,"popup-blocked");try{f.focus()}catch{}return new s3(f)}function Tz(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="__/auth/handler",kz="emulator/auth/handler",Iz=encodeURIComponent("fac");async function a3(t,e,r,n,i,s){Rt(t.config.authDomain,t,"auth-domain-config-required"),Rt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ec,eventId:i};if(e instanceof BC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",GD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof ep){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${Iz}=${encodeURIComponent(l)}`:"";return`${Cz(t)}?${Hd(o).slice(1)}${u}`}function Cz({config:t}){return t.emulator?W_(t,kz):`https://${t.authDomain}/${Nz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class Rz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WC,this._completeRedirectFn=tz,this._overrideRedirectResult=JV}async _openPopup(e,r,n,i){var a;So((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await a3(e,r,n,Ow(),i);return Sz(e,s,Y_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await a3(e,r,n,Ow(),i);return OV(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(So(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await wz(e),n=new nz(e);return r.register("authEvent",i=>(Rt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Z1,{type:Z1},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[Z1];s!==void 0&&r(!!s),ra(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=lz(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return OC()||kC()||G_()}}const Pz=Rz;var o3="@firebase/auth",l3="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dz(t){Vu(new Ll("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Rt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DC(t)},u=new ZU(n,i,s,l);return uV(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Vu(new Ll("auth-internal",e=>{const r=Vh(e.getProvider("auth").getImmediate());return(n=>new Lz(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(o3,l3,Oz(t)),Oa(o3,l3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=5*60,Fz=ck("authIdTokenMaxAge")||jz;let u3=null;const Mz=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Fz)return;const i=r==null?void 0:r.token;u3!==i&&(u3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bz(t=n_()){const e=p0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=lV(t,{popupRedirectResolver:Pz,persistence:[qV,RV,WC]}),n=ck("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Mz(s.toString());TV(r,a,()=>a(r.currentUser)),SV(r,o=>a(o))}}const i=ok("auth");return i&&cV(r,`http://${i}`),r}function Uz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Fa("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Uz().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dz("Browser");const Vz={apiKey:"AIzaSyC7OMYC7enoEkTsBzliRWiyHklQ9H92EKk",authDomain:"docsimplesreports.firebaseapp.com",projectId:"docsimplesreports",storageBucket:"docsimplesreports.firebasestorage.app",messagingSenderId:"37293480302",appId:"1:37293480302:web:ffac0bdc2f2e69985a897f",measurementId:"G-S9FLRP8T6N"},J_=pk(Vz),Ql=zI(J_),zz=EU(J_),Z_=Bz(J_),JC=k_(Ql,"testDocuments"),ZC=k_(Ql,"requirements"),qz=async t=>{const e={...t,createdAt:new Date().toISOString()};return{id:(await F_(JC,e)).id,...e}},Hz=async(t,e)=>{const r=Xl(Ql,"testDocuments",t);await Jd(r,e)},Wz=async(t,e)=>{var o;const r=Xl(Ql,"testDocuments",t),n={...e,id:Date.now().toString(),createdAt:new Date().toISOString()},{getDoc:i}=await $f(async()=>{const{getDoc:l}=await Promise.resolve().then(()=>tC);return{getDoc:l}},void 0),a=((o=(await i(r)).data())==null?void 0:o.comments)||[];return await Jd(r,{comments:[...a,n]}),n},$z=async(t,e,r)=>{var l;const n=Xl(Ql,"testDocuments",t),{getDoc:i}=await $f(async()=>{const{getDoc:u}=await Promise.resolve().then(()=>tC);return{getDoc:u}},void 0),o=(((l=(await i(n)).data())==null?void 0:l.comments)||[]).map(u=>u.id===e?{...u,...r,updatedAt:new Date().toISOString()}:u);await Jd(n,{comments:o})},Gz=async t=>{const e=Xl(Ql,"testDocuments",t);await j_(e)},Kz=(t,e)=>{const r=XI(JC,YI("createdAt","desc"));return M_(r,n=>{const i=n.docs.map(s=>({id:s.id,...s.data()}));console.log("[Firebase] Documentos carregados:",i.length),t(i)},n=>{console.error("[Firebase] Erro ao carregar documentos:",n),e&&e(n)})},Xz=async t=>({id:(await F_(ZC,t)).id,...t}),Yz=async(t,e)=>{const r=Xl(Ql,"requirements",t);await Jd(r,e)},Qz=async t=>{const e=Xl(Ql,"requirements",t);await j_(e)},Jz=(t,e)=>M_(ZC,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));console.log("[Firebase] Requirements carregados:",n.length),t(n)},r=>{console.error("[Firebase] Erro ao carregar requirements:",r),e&&e(r)}),Fw=async(t,e)=>{const r=Date.now(),n=`screenshots/${e}/${r}_${t.name}`,i=xU(zz,n);return await _U(i,t),{url:await bU(i),path:n,name:t.name,uploadedAt:new Date().toISOString()}},Zz=async(t,e)=>(await AV(Z_,t,e)).user,eq=async()=>{await kV(Z_)},tq=t=>NV(Z_,t),rq="https://us-central1-docsimplesreports.cloudfunctions.net",nq=async t=>{try{const e=await fetch(`${rq}/createJiraIssue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw console.error("Erro ao criar issue no Jira:",n),new Error(n.error||"Erro ao criar issue no Jira")}const r=await e.json();return{key:r.key,id:r.id,url:r.url}}catch(e){throw console.error("Erro na integrao com Jira:",e),e}};function iq({onSave:t}){const e=JN(),[r,n]=Ge.useState(!1),[i,s]=Ge.useState(null),[a,o]=Ge.useState(!1),[l,u]=Ge.useState(null),[c,f]=Ge.useState([]),[m,h]=Ge.useState(!1),[x,_]=Ge.useState(null),[A,d]=Ge.useState({title:"",requirement:"",requirementDescription:"",feature:"",module:"",testType:"funcional",priority:"media",status:"pendente",tester:"",environment:"",category:"",errorType:"",improvement:"",improvementJustification:"",preconditions:"",steps:[{action:"",expectedResult:"",actualResult:"",status:"pendente"}],observations:"",evidences:"",elements:[{name:"",selector:"",type:"button"}]}),y=T=>{const{name:L,value:C}=T.target;d({...A,[L]:C})},v=(T,L,C)=>{const ie=[...A.steps];ie[T][L]=C,d({...A,steps:ie})},w=()=>{d({...A,steps:[...A.steps,{action:"",expectedResult:"",actualResult:"",status:"pendente"}]})},I=T=>{if(A.steps.length>1){const L=A.steps.filter((C,ie)=>ie!==T);d({...A,steps:L})}},q=(T,L,C)=>{const ie=[...A.elements];ie[T][L]=C,d({...A,elements:ie})},R=()=>{d({...A,elements:[...A.elements,{name:"",selector:"",type:"button"}]})},P=T=>{if(A.elements.length>1){const L=A.elements.filter((C,ie)=>ie!==T);d({...A,elements:L})}},E=async T=>{const L=Array.from(T.target.files);if(L.length!==0){h(!0),_(null);try{const C=Date.now().toString(),ie=L.map(se=>Fw(se,C)),ve=await Promise.all(ie);f([...c,...ve])}catch(C){console.error("Erro ao fazer upload:",C),_("Erro ao fazer upload das imagens. Verifique se o Firebase Storage est configurado.")}finally{h(!1)}}},H=T=>{f(c.filter((L,C)=>C!==T))},j=async T=>{T.preventDefault(),o(!0),u(null);const L={...A,screenshots:c};try{const C=await nq(L);s(C);const ie={...L,jiraKey:C.key,jiraUrl:C.url};await t(ie),n(!0),setTimeout(()=>{e("/documentos")},2500)}catch(C){console.error("Erro ao criar issue no Jira:",C),u(C.message),await t(L),n(!0),setTimeout(()=>{e("/documentos")},2500)}finally{o(!1)}};return r?S.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[S.jsx(aw,{className:"w-16 h-16 text-green-500 mb-4"}),S.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Teste Registrado!"}),i&&S.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:S.jsxs("p",{className:"text-blue-800 font-medium flex items-center gap-2",children:[S.jsx(aD,{className:"w-4 h-4"}),"Issue criada no Jira:",S.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:i.key})]})}),l&&S.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:S.jsx("p",{className:"text-yellow-800 text-sm",children:" Teste salvo, mas no foi possvel criar issue no Jira"})}),S.jsx("p",{className:"text-gray-600 mt-2",children:"Redirecionando para documentos..."})]}):S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registrar Teste de Homologao"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha os dados do teste realizado"})]}),S.jsxs("form",{onSubmit:j,className:"space-y-6",children:[S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Teste *"}),S.jsx("input",{type:"text",name:"title",value:A.title,onChange:y,className:"input-field",placeholder:"Ex: Validar login com credenciais vlidas",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requisito"}),S.jsx("input",{type:"text",name:"requirement",value:A.requirement,onChange:y,className:"input-field",placeholder:"Ex: REQ-001"})]}),S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio do Requisito"}),S.jsx("textarea",{name:"requirementDescription",value:A.requirementDescription,onChange:y,className:"textarea-field",rows:"2",placeholder:"Descreva o requisito em detalhes..."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature/Funcionalidade *"}),S.jsx("input",{type:"text",name:"feature",value:A.feature,onChange:y,className:"input-field",placeholder:"Ex: Autenticao",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdulo"}),S.jsx("input",{type:"text",name:"module",value:A.module,onChange:y,className:"input-field",placeholder:"Ex: Usurios"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Testador *"}),S.jsx("input",{type:"text",name:"tester",value:A.tester,onChange:y,className:"input-field",placeholder:"Nome do testador",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Teste"}),S.jsxs("select",{name:"testType",value:A.testType,onChange:y,className:"input-field",children:[S.jsx("option",{value:"funcional",children:"Funcional"}),S.jsx("option",{value:"exploratorio",children:"Exploratrio"}),S.jsx("option",{value:"regressao",children:"Regresso"}),S.jsx("option",{value:"integracao",children:"Integrao"}),S.jsx("option",{value:"usabilidade",children:"Usabilidade"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),S.jsxs("select",{name:"priority",value:A.priority,onChange:y,className:"input-field",children:[S.jsx("option",{value:"baixa",children:"Baixa"}),S.jsx("option",{value:"media",children:"Mdia"}),S.jsx("option",{value:"alta",children:"Alta"}),S.jsx("option",{value:"critica",children:"Crtica"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),S.jsxs("select",{name:"status",value:A.status,onChange:y,className:"input-field",children:[S.jsx("option",{value:"pendente",children:"Pendente"}),S.jsx("option",{value:"aprovado",children:"Aprovado"}),S.jsx("option",{value:"reprovado",children:"Reprovado"}),S.jsx("option",{value:"bloqueado",children:"Bloqueado"}),S.jsx("option",{value:"melhoria",children:"Melhoria"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ambiente"}),S.jsx("input",{type:"text",name:"environment",value:A.environment,onChange:y,className:"input-field",placeholder:"Ex: Homologao, Staging"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),S.jsxs("select",{name:"category",value:A.category,onChange:y,className:"input-field",required:!0,children:[S.jsx("option",{value:"",children:"Selecione a categoria..."}),S.jsx("option",{value:"regra_negocio",children:"Regra de Negcio"}),S.jsx("option",{value:"bug",children:"Bug"}),S.jsx("option",{value:"melhoria",children:"Melhoria"})]})]})]})]}),A.category==="melhoria"&&S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da Melhoria"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio da Melhoria *"}),S.jsx("input",{type:"text",name:"improvement",value:A.improvement,onChange:y,className:"input-field",placeholder:"Descreva a melhoria sugerida...",required:A.category==="melhoria"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Justificativa da Melhoria"}),S.jsx("textarea",{name:"improvementJustification",value:A.improvementJustification,onChange:y,className:"textarea-field",rows:"3",placeholder:"Justifique por que essa melhoria  importante..."})]})]})]}),A.category==="bug"&&S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes do Bug"}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Erro"}),S.jsxs("select",{name:"errorType",value:A.errorType,onChange:y,className:"input-field",children:[S.jsx("option",{value:"",children:"Selecione..."}),S.jsx("option",{value:"erro_500",children:"Erro 500 (Servidor)"}),S.jsx("option",{value:"erro_400",children:"Erro 400 (Requisio)"}),S.jsx("option",{value:"erro_404",children:"Erro 404 (No encontrado)"}),S.jsx("option",{value:"erro_interface",children:"Erro de Interface"}),S.jsx("option",{value:"erro_funcional",children:"Erro Funcional"}),S.jsx("option",{value:"erro_performance",children:"Erro de Performance"}),S.jsx("option",{value:"outro",children:"Outro"})]})]})]}),S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pr-condies"}),S.jsx("textarea",{name:"preconditions",value:A.preconditions,onChange:y,className:"textarea-field",rows:"3",placeholder:"Descreva as pr-condies necessrias para executar o teste..."})]}),S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Passos do Teste"}),S.jsxs("button",{type:"button",onClick:w,className:"btn-secondary flex items-center space-x-1 text-sm",children:[S.jsx(xg,{className:"w-4 h-4"}),S.jsx("span",{children:"Adicionar Passo"})]})]}),S.jsx("div",{className:"space-y-4",children:A.steps.map((T,L)=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 relative",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Passo ",L+1]}),A.steps.length>1&&S.jsx("button",{type:"button",onClick:()=>I(L),className:"text-red-500 hover:text-red-700",children:S.jsx(Ru,{className:"w-4 h-4"})})]}),S.jsxs("div",{className:"grid gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Ao"}),S.jsx("input",{type:"text",value:T.action,onChange:C=>v(L,"action",C.target.value),className:"input-field",placeholder:"Descreva a ao executada"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Resultado Esperado"}),S.jsx("input",{type:"text",value:T.expectedResult,onChange:C=>v(L,"expectedResult",C.target.value),className:"input-field",placeholder:"O que deveria acontecer"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Resultado Obtido"}),S.jsx("input",{type:"text",value:T.actualResult,onChange:C=>v(L,"actualResult",C.target.value),className:"input-field",placeholder:"O que realmente aconteceu"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status do Passo"}),S.jsxs("select",{value:T.status,onChange:C=>v(L,"status",C.target.value),className:"input-field",children:[S.jsx("option",{value:"pendente",children:"Pendente"}),S.jsx("option",{value:"passou",children:"Passou"}),S.jsx("option",{value:"falhou",children:"Falhou"})]})]})]})]},L))})]}),S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Elementos da Interface"}),S.jsx("p",{className:"text-sm text-gray-500",children:"Registre os elementos interagidos para gerao de selectors Playwright"})]}),S.jsxs("button",{type:"button",onClick:R,className:"btn-secondary flex items-center space-x-1 text-sm",children:[S.jsx(xg,{className:"w-4 h-4"}),S.jsx("span",{children:"Adicionar Elemento"})]})]}),S.jsx("div",{className:"space-y-3",children:A.elements.map((T,L)=>S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("input",{type:"text",value:T.name,onChange:C=>q(L,"name",C.target.value),className:"input-field flex-1",placeholder:"Nome do elemento (ex: Boto Login)"}),S.jsx("input",{type:"text",value:T.selector,onChange:C=>q(L,"selector",C.target.value),className:"input-field flex-1 font-mono text-sm",placeholder:"Selector (ex: #btn-login, .submit-btn)"}),S.jsxs("select",{value:T.type,onChange:C=>q(L,"type",C.target.value),className:"input-field w-32",children:[S.jsx("option",{value:"button",children:"Boto"}),S.jsx("option",{value:"input",children:"Input"}),S.jsx("option",{value:"link",children:"Link"}),S.jsx("option",{value:"select",children:"Select"}),S.jsx("option",{value:"checkbox",children:"Checkbox"}),S.jsx("option",{value:"radio",children:"Radio"}),S.jsx("option",{value:"text",children:"Texto"}),S.jsx("option",{value:"other",children:"Outro"})]}),A.elements.length>1&&S.jsx("button",{type:"button",onClick:()=>P(L),className:"text-red-500 hover:text-red-700",children:S.jsx(Ru,{className:"w-4 h-4"})})]},L))})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"flex items-center justify-between mb-4",children:S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Screenshots / Prints"}),S.jsx("p",{className:"text-sm text-gray-500",children:"Adicione prints de erros ou evidncias do teste"})]})}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors",children:[S.jsx("input",{type:"file",id:"screenshot-upload",multiple:!0,accept:"image/*",onChange:E,className:"hidden",disabled:m}),S.jsx("label",{htmlFor:"screenshot-upload",className:"cursor-pointer flex flex-col items-center",children:m?S.jsxs(S.Fragment,{children:[S.jsx(ho,{className:"w-10 h-10 text-primary-500 animate-spin mb-2"}),S.jsx("span",{className:"text-sm text-gray-600",children:"Fazendo upload..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(_D,{className:"w-10 h-10 text-gray-400 mb-2"}),S.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Clique para selecionar imagens"}),S.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF at 10MB"})]})})]}),x&&S.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[S.jsx(nk,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),S.jsx("p",{className:"text-sm text-red-700",children:x})]}),c.length>0&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map((T,L)=>S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:T.url,alt:T.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),S.jsx("button",{type:"button",onClick:()=>H(L),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx(Ad,{className:"w-4 h-4"})}),S.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:T.name})]},L))})]})]}),S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observaes"}),S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),S.jsx("textarea",{name:"observations",value:A.observations,onChange:y,className:"textarea-field",rows:"3",placeholder:"Observaes adicionais sobre o teste..."})]})})]}),S.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[S.jsx("button",{type:"button",onClick:()=>e("/"),className:"btn-secondary",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"btn-primary flex items-center space-x-2",disabled:a,children:a?S.jsxs(S.Fragment,{children:[S.jsx(ho,{className:"w-4 h-4 animate-spin"}),S.jsx("span",{children:"Salvando e criando issue no Jira..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(Eg,{className:"w-4 h-4"}),S.jsx("span",{children:"Salvar Teste"})]})})]})]})]})}var sq=Object.defineProperty,aq=Object.defineProperties,oq=Object.getOwnPropertyDescriptors,c3=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,uq=Object.prototype.propertyIsEnumerable,Mw=(t,e,r)=>e in t?sq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qt=(t,e)=>{for(var r in e||(e={}))lq.call(e,r)&&Mw(t,r,e[r]);if(c3)for(var r of c3(e))uq.call(e,r)&&Mw(t,r,e[r]);return t},To=(t,e)=>aq(t,oq(e)),Be=(t,e,r)=>Mw(t,typeof e!="symbol"?e+"":e,r),cq=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});class qg{constructor(e){Be(this,"rootKey"),this.rootKey=e}}const hq=Object.seal({});class ze extends qg{constructor(e){super(e),Be(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof qg?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:hq}}addChildElement(e){return this.root.push(e),this}}class V0 extends ze{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class yt extends qg{constructor(e){super("_attr"),Be(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class rp extends qg{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>To(qt({},n),{[i]:s}),{})}}}class ln extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={},em={exports:{}},h3;function tb(){if(h3)return em.exports;h3=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(I,q,R){return Function.prototype.apply.call(I,q,R)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:r=function(I){return Object.getOwnPropertyNames(I)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(I){return I!==I};function s(){s.init.call(this)}em.exports=s,em.exports.once=d,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");a=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(I){for(var q=[],R=1;R<arguments.length;R++)q.push(arguments[R]);var P=I==="error",E=this._events;if(E!==void 0)P=P&&E.error===void 0;else if(!P)return!1;if(P){var H;if(q.length>0&&(H=q[0]),H instanceof Error)throw H;var j=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw j.context=H,j}var T=E[I];if(T===void 0)return!1;if(typeof T=="function")e(T,this,q);else for(var L=T.length,C=x(T,L),R=0;R<L;++R)e(C[R],this,q);return!0};function u(w,I,q,R){var P,E,H;if(o(q),E=w._events,E===void 0?(E=w._events=Object.create(null),w._eventsCount=0):(E.newListener!==void 0&&(w.emit("newListener",I,q.listener?q.listener:q),E=w._events),H=E[I]),H===void 0)H=E[I]=q,++w._eventsCount;else if(typeof H=="function"?H=E[I]=R?[q,H]:[H,q]:R?H.unshift(q):H.push(q),P=l(w),P>0&&H.length>P&&!H.warned){H.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=w,j.type=I,j.count=H.length,n(j)}return w}s.prototype.addListener=function(I,q){return u(this,I,q,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(I,q){return u(this,I,q,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,I,q){var R={fired:!1,wrapFn:void 0,target:w,type:I,listener:q},P=c.bind(R);return P.listener=q,R.wrapFn=P,P}s.prototype.once=function(I,q){return o(q),this.on(I,f(this,I,q)),this},s.prototype.prependOnceListener=function(I,q){return o(q),this.prependListener(I,f(this,I,q)),this},s.prototype.removeListener=function(I,q){var R,P,E,H,j;if(o(q),P=this._events,P===void 0)return this;if(R=P[I],R===void 0)return this;if(R===q||R.listener===q)--this._eventsCount===0?this._events=Object.create(null):(delete P[I],P.removeListener&&this.emit("removeListener",I,R.listener||q));else if(typeof R!="function"){for(E=-1,H=R.length-1;H>=0;H--)if(R[H]===q||R[H].listener===q){j=R[H].listener,E=H;break}if(E<0)return this;E===0?R.shift():_(R,E),R.length===1&&(P[I]=R[0]),P.removeListener!==void 0&&this.emit("removeListener",I,j||q)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(I){var q,R,P;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[I]),this;if(arguments.length===0){var E=Object.keys(R),H;for(P=0;P<E.length;++P)H=E[P],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(q=R[I],typeof q=="function")this.removeListener(I,q);else if(q!==void 0)for(P=q.length-1;P>=0;P--)this.removeListener(I,q[P]);return this};function m(w,I,q){var R=w._events;if(R===void 0)return[];var P=R[I];return P===void 0?[]:typeof P=="function"?q?[P.listener||P]:[P]:q?A(P):x(P,P.length)}s.prototype.listeners=function(I){return m(this,I,!0)},s.prototype.rawListeners=function(I){return m(this,I,!1)},s.listenerCount=function(w,I){return typeof w.listenerCount=="function"?w.listenerCount(I):h.call(w,I)},s.prototype.listenerCount=h;function h(w){var I=this._events;if(I!==void 0){var q=I[w];if(typeof q=="function")return 1;if(q!==void 0)return q.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(w,I){for(var q=new Array(I),R=0;R<I;++R)q[R]=w[R];return q}function _(w,I){for(;I+1<w.length;I++)w[I]=w[I+1];w.pop()}function A(w){for(var I=new Array(w.length),q=0;q<I.length;++q)I[q]=w[q].listener||w[q];return I}function d(w,I){return new Promise(function(q,R){function P(H){w.removeListener(I,E),R(H)}function E(){typeof w.removeListener=="function"&&w.removeListener("error",P),q([].slice.call(arguments))}v(w,I,E,{once:!0}),I!=="error"&&y(w,P,{once:!0})})}function y(w,I,q){typeof w.on=="function"&&v(w,"error",I,q)}function v(w,I,q,R){if(typeof w.on=="function")R.once?w.once(I,q):w.on(I,q);else if(typeof w.addEventListener=="function")w.addEventListener(I,function P(E){R.once&&w.removeEventListener(I,P),q(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return em.exports}var tm={exports:{}},f3;function Jl(){return f3||(f3=1,typeof Object.create=="function"?tm.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:tm.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),tm.exports}function fq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eR={exports:{}},un=eR.exports={},Ta,Na;function Bw(){throw new Error("setTimeout has not been defined")}function Uw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ta=setTimeout:Ta=Bw}catch{Ta=Bw}try{typeof clearTimeout=="function"?Na=clearTimeout:Na=Uw}catch{Na=Uw}})();function tR(t){if(Ta===setTimeout)return setTimeout(t,0);if((Ta===Bw||!Ta)&&setTimeout)return Ta=setTimeout,setTimeout(t,0);try{return Ta(t,0)}catch{try{return Ta.call(null,t,0)}catch{return Ta.call(this,t,0)}}}function dq(t){if(Na===clearTimeout)return clearTimeout(t);if((Na===Uw||!Na)&&clearTimeout)return Na=clearTimeout,clearTimeout(t);try{return Na(t)}catch{try{return Na.call(null,t)}catch{return Na.call(this,t)}}}var mo=[],oh=!1,Nu,qm=-1;function pq(){!oh||!Nu||(oh=!1,Nu.length?mo=Nu.concat(mo):qm=-1,mo.length&&rR())}function rR(){if(!oh){var t=tR(pq);oh=!0;for(var e=mo.length;e;){for(Nu=mo,mo=[];++qm<e;)Nu&&Nu[qm].run();qm=-1,e=mo.length}Nu=null,oh=!1,dq(t)}}un.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];mo.push(new nR(t,e)),mo.length===1&&!oh&&tR(rR)};function nR(t,e){this.fun=t,this.array=e}nR.prototype.run=function(){this.fun.apply(null,this.array)};un.title="browser";un.browser=!0;un.env={};un.argv=[];un.version="";un.versions={};function ko(){}un.on=ko;un.addListener=ko;un.once=ko;un.off=ko;un.removeListener=ko;un.removeAllListeners=ko;un.emit=ko;un.prependListener=ko;un.prependOnceListener=ko;un.listeners=function(t){return[]};un.binding=function(t){throw new Error("process.binding is not supported")};un.cwd=function(){return"/"};un.chdir=function(t){throw new Error("process.chdir is not supported")};un.umask=function(){return 0};var mq=eR.exports;const Ht=fq(mq);var ty,d3;function iR(){return d3||(d3=1,ty=tb().EventEmitter),ty}var ry={},bf={},p3;function gq(){if(p3)return bf;p3=1,bf.byteLength=o,bf.toByteArray=u,bf.fromByteArray=m;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(h){var x=h.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=h.indexOf("=");_===-1&&(_=x);var A=_===x?0:4-_%4;return[_,A]}function o(h){var x=a(h),_=x[0],A=x[1];return(_+A)*3/4-A}function l(h,x,_){return(x+_)*3/4-_}function u(h){var x,_=a(h),A=_[0],d=_[1],y=new r(l(h,A,d)),v=0,w=d>0?A-4:A,I;for(I=0;I<w;I+=4)x=e[h.charCodeAt(I)]<<18|e[h.charCodeAt(I+1)]<<12|e[h.charCodeAt(I+2)]<<6|e[h.charCodeAt(I+3)],y[v++]=x>>16&255,y[v++]=x>>8&255,y[v++]=x&255;return d===2&&(x=e[h.charCodeAt(I)]<<2|e[h.charCodeAt(I+1)]>>4,y[v++]=x&255),d===1&&(x=e[h.charCodeAt(I)]<<10|e[h.charCodeAt(I+1)]<<4|e[h.charCodeAt(I+2)]>>2,y[v++]=x>>8&255,y[v++]=x&255),y}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,x,_){for(var A,d=[],y=x;y<_;y+=3)A=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(h[y+2]&255),d.push(c(A));return d.join("")}function m(h){for(var x,_=h.length,A=_%3,d=[],y=16383,v=0,w=_-A;v<w;v+=y)d.push(f(h,v,v+y>w?w:v+y));return A===1?(x=h[_-1],d.push(t[x>>2]+t[x<<4&63]+"==")):A===2&&(x=(h[_-2]<<8)+h[_-1],d.push(t[x>>10]+t[x>>4&63]+t[x<<2&63]+"=")),d.join("")}return bf}var rm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var m3;function yq(){return m3||(m3=1,rm.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?i-1:0,m=r?-1:1,h=t[e+f];for(f+=m,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=s*256+t[e+f],f+=m,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=a*256+t[e+f],f+=m,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(h?-1:1)*a*Math.pow(2,s-n)},rm.write=function(t,e,r,n,i,s){var a,o,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,x=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,i),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+h]=o&255,h+=x,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+h]=a&255,h+=x,a/=256,u-=8);t[r+h-x]|=_*128}),rm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var g3;function z0(){return g3||(g3=1,function(t){var e=gq(),r=yq(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var W=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(W,N),W.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');var N=new Uint8Array(W);return Object.setPrototypeOf(N,o.prototype),N}function o(W,N,k){if(typeof W=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return l(W,N,k)}o.poolSize=8192;function l(W,N,k){if(typeof W=="string")return m(W,N);if(ArrayBuffer.isView(W))return x(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Ee(W,ArrayBuffer)||W&&Ee(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(W,SharedArrayBuffer)||W&&Ee(W.buffer,SharedArrayBuffer)))return _(W,N,k);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var F=W.valueOf&&W.valueOf();if(F!=null&&F!==W)return o.from(F,N,k);var ue=A(W);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return o.from(W[Symbol.toPrimitive]("string"),N,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}o.from=function(W,N,k){return l(W,N,k)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function c(W,N,k){return u(W),W<=0?a(W):N!==void 0?typeof k=="string"?a(W).fill(N,k):a(W).fill(N):a(W)}o.alloc=function(W,N,k){return c(W,N,k)};function f(W){return u(W),a(W<0?0:d(W)|0)}o.allocUnsafe=function(W){return f(W)},o.allocUnsafeSlow=function(W){return f(W)};function m(W,N){if((typeof N!="string"||N==="")&&(N="utf8"),!o.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var k=v(W,N)|0,F=a(k),ue=F.write(W,N);return ue!==k&&(F=F.slice(0,ue)),F}function h(W){for(var N=W.length<0?0:d(W.length)|0,k=a(N),F=0;F<N;F+=1)k[F]=W[F]&255;return k}function x(W){if(Ee(W,Uint8Array)){var N=new Uint8Array(W);return _(N.buffer,N.byteOffset,N.byteLength)}return h(W)}function _(W,N,k){if(N<0||W.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<N+(k||0))throw new RangeError('"length" is outside of buffer bounds');var F;return N===void 0&&k===void 0?F=new Uint8Array(W):k===void 0?F=new Uint8Array(W,N):F=new Uint8Array(W,N,k),Object.setPrototypeOf(F,o.prototype),F}function A(W){if(o.isBuffer(W)){var N=d(W.length)|0,k=a(N);return k.length===0||W.copy(k,0,0,N),k}if(W.length!==void 0)return typeof W.length!="number"||z(W.length)?a(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function d(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function y(W){return+W!=W&&(W=0),o.alloc(+W)}o.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==o.prototype},o.compare=function(N,k){if(Ee(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),Ee(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(N)||!o.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===k)return 0;for(var F=N.length,ue=k.length,we=0,ge=Math.min(F,ue);we<ge;++we)if(N[we]!==k[we]){F=N[we],ue=k[we];break}return F<ue?-1:ue<F?1:0},o.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(N,k){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return o.alloc(0);var F;if(k===void 0)for(k=0,F=0;F<N.length;++F)k+=N[F].length;var ue=o.allocUnsafe(k),we=0;for(F=0;F<N.length;++F){var ge=N[F];if(Ee(ge,Uint8Array))we+ge.length>ue.length?o.from(ge).copy(ue,we):Uint8Array.prototype.set.call(ue,ge,we);else if(o.isBuffer(ge))ge.copy(ue,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=ge.length}return ue};function v(W,N){if(o.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Ee(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var k=W.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&k===0)return 0;for(var ue=!1;;)switch(N){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return U(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return Y(W).length;default:if(ue)return F?-1:U(W).length;N=(""+N).toLowerCase(),ue=!0}}o.byteLength=v;function w(W,N,k){var F=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,N>>>=0,k<=N))return"";for(W||(W="utf8");;)switch(W){case"hex":return he(this,N,k);case"utf8":case"utf-8":return C(this,N,k);case"ascii":return se(this,N,k);case"latin1":case"binary":return oe(this,N,k);case"base64":return L(this,N,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,N,k);default:if(F)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),F=!0}}o.prototype._isBuffer=!0;function I(W,N,k){var F=W[N];W[N]=W[k],W[k]=F}o.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<N;k+=2)I(this,k,k+1);return this},o.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<N;k+=4)I(this,k,k+3),I(this,k+1,k+2);return this},o.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<N;k+=8)I(this,k,k+7),I(this,k+1,k+6),I(this,k+2,k+5),I(this,k+3,k+4);return this},o.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?C(this,0,N):w.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(N){if(!o.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:o.compare(this,N)===0},o.prototype.inspect=function(){var N="",k=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(N+=" ... "),"<Buffer "+N+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(N,k,F,ue,we){if(Ee(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(k===void 0&&(k=0),F===void 0&&(F=N?N.length:0),ue===void 0&&(ue=0),we===void 0&&(we=this.length),k<0||F>N.length||ue<0||we>this.length)throw new RangeError("out of range index");if(ue>=we&&k>=F)return 0;if(ue>=we)return-1;if(k>=F)return 1;if(k>>>=0,F>>>=0,ue>>>=0,we>>>=0,this===N)return 0;for(var ge=we-ue,ke=F-k,Fe=Math.min(ge,ke),Le=this.slice(ue,we),Ue=N.slice(k,F),Qe=0;Qe<Fe;++Qe)if(Le[Qe]!==Ue[Qe]){ge=Le[Qe],ke=Ue[Qe];break}return ge<ke?-1:ke<ge?1:0};function q(W,N,k,F,ue){if(W.length===0)return-1;if(typeof k=="string"?(F=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,z(k)&&(k=ue?0:W.length-1),k<0&&(k=W.length+k),k>=W.length){if(ue)return-1;k=W.length-1}else if(k<0)if(ue)k=0;else return-1;if(typeof N=="string"&&(N=o.from(N,F)),o.isBuffer(N))return N.length===0?-1:R(W,N,k,F,ue);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(W,N,k):Uint8Array.prototype.lastIndexOf.call(W,N,k):R(W,[N],k,F,ue);throw new TypeError("val must be string, number or Buffer")}function R(W,N,k,F,ue){var we=1,ge=W.length,ke=N.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(W.length<2||N.length<2)return-1;we=2,ge/=2,ke/=2,k/=2}function Fe(it,me){return we===1?it[me]:it.readUInt16BE(me*we)}var Le;if(ue){var Ue=-1;for(Le=k;Le<ge;Le++)if(Fe(W,Le)===Fe(N,Ue===-1?0:Le-Ue)){if(Ue===-1&&(Ue=Le),Le-Ue+1===ke)return Ue*we}else Ue!==-1&&(Le-=Le-Ue),Ue=-1}else for(k+ke>ge&&(k=ge-ke),Le=k;Le>=0;Le--){for(var Qe=!0,nt=0;nt<ke;nt++)if(Fe(W,Le+nt)!==Fe(N,nt)){Qe=!1;break}if(Qe)return Le}return-1}o.prototype.includes=function(N,k,F){return this.indexOf(N,k,F)!==-1},o.prototype.indexOf=function(N,k,F){return q(this,N,k,F,!0)},o.prototype.lastIndexOf=function(N,k,F){return q(this,N,k,F,!1)};function P(W,N,k,F){k=Number(k)||0;var ue=W.length-k;F?(F=Number(F),F>ue&&(F=ue)):F=ue;var we=N.length;F>we/2&&(F=we/2);for(var ge=0;ge<F;++ge){var ke=parseInt(N.substr(ge*2,2),16);if(z(ke))return ge;W[k+ge]=ke}return ge}function E(W,N,k,F){return re(U(N,W.length-k),W,k,F)}function H(W,N,k,F){return re(ne(N),W,k,F)}function j(W,N,k,F){return re(Y(N),W,k,F)}function T(W,N,k,F){return re(te(N,W.length-k),W,k,F)}o.prototype.write=function(N,k,F,ue){if(k===void 0)ue="utf8",F=this.length,k=0;else if(F===void 0&&typeof k=="string")ue=k,F=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(F)?(F=F>>>0,ue===void 0&&(ue="utf8")):(ue=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-k;if((F===void 0||F>we)&&(F=we),N.length>0&&(F<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var ge=!1;;)switch(ue){case"hex":return P(this,N,k,F);case"utf8":case"utf-8":return E(this,N,k,F);case"ascii":case"latin1":case"binary":return H(this,N,k,F);case"base64":return j(this,N,k,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,N,k,F);default:if(ge)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ge=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(W,N,k){return N===0&&k===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(N,k))}function C(W,N,k){k=Math.min(W.length,k);for(var F=[],ue=N;ue<k;){var we=W[ue],ge=null,ke=we>239?4:we>223?3:we>191?2:1;if(ue+ke<=k){var Fe,Le,Ue,Qe;switch(ke){case 1:we<128&&(ge=we);break;case 2:Fe=W[ue+1],(Fe&192)===128&&(Qe=(we&31)<<6|Fe&63,Qe>127&&(ge=Qe));break;case 3:Fe=W[ue+1],Le=W[ue+2],(Fe&192)===128&&(Le&192)===128&&(Qe=(we&15)<<12|(Fe&63)<<6|Le&63,Qe>2047&&(Qe<55296||Qe>57343)&&(ge=Qe));break;case 4:Fe=W[ue+1],Le=W[ue+2],Ue=W[ue+3],(Fe&192)===128&&(Le&192)===128&&(Ue&192)===128&&(Qe=(we&15)<<18|(Fe&63)<<12|(Le&63)<<6|Ue&63,Qe>65535&&Qe<1114112&&(ge=Qe))}}ge===null?(ge=65533,ke=1):ge>65535&&(ge-=65536,F.push(ge>>>10&1023|55296),ge=56320|ge&1023),F.push(ge),ue+=ke}return ve(F)}var ie=4096;function ve(W){var N=W.length;if(N<=ie)return String.fromCharCode.apply(String,W);for(var k="",F=0;F<N;)k+=String.fromCharCode.apply(String,W.slice(F,F+=ie));return k}function se(W,N,k){var F="";k=Math.min(W.length,k);for(var ue=N;ue<k;++ue)F+=String.fromCharCode(W[ue]&127);return F}function oe(W,N,k){var F="";k=Math.min(W.length,k);for(var ue=N;ue<k;++ue)F+=String.fromCharCode(W[ue]);return F}function he(W,N,k){var F=W.length;(!N||N<0)&&(N=0),(!k||k<0||k>F)&&(k=F);for(var ue="",we=N;we<k;++we)ue+=K[W[we]];return ue}function Ae(W,N,k){for(var F=W.slice(N,k),ue="",we=0;we<F.length-1;we+=2)ue+=String.fromCharCode(F[we]+F[we+1]*256);return ue}o.prototype.slice=function(N,k){var F=this.length;N=~~N,k=k===void 0?F:~~k,N<0?(N+=F,N<0&&(N=0)):N>F&&(N=F),k<0?(k+=F,k<0&&(k=0)):k>F&&(k=F),k<N&&(k=N);var ue=this.subarray(N,k);return Object.setPrototypeOf(ue,o.prototype),ue};function fe(W,N,k){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+N>k)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(N,k,F){N=N>>>0,k=k>>>0,F||fe(N,k,this.length);for(var ue=this[N],we=1,ge=0;++ge<k&&(we*=256);)ue+=this[N+ge]*we;return ue},o.prototype.readUintBE=o.prototype.readUIntBE=function(N,k,F){N=N>>>0,k=k>>>0,F||fe(N,k,this.length);for(var ue=this[N+--k],we=1;k>0&&(we*=256);)ue+=this[N+--k]*we;return ue},o.prototype.readUint8=o.prototype.readUInt8=function(N,k){return N=N>>>0,k||fe(N,1,this.length),this[N]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(N,k){return N=N>>>0,k||fe(N,2,this.length),this[N]|this[N+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(N,k){return N=N>>>0,k||fe(N,2,this.length),this[N]<<8|this[N+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},o.prototype.readIntLE=function(N,k,F){N=N>>>0,k=k>>>0,F||fe(N,k,this.length);for(var ue=this[N],we=1,ge=0;++ge<k&&(we*=256);)ue+=this[N+ge]*we;return we*=128,ue>=we&&(ue-=Math.pow(2,8*k)),ue},o.prototype.readIntBE=function(N,k,F){N=N>>>0,k=k>>>0,F||fe(N,k,this.length);for(var ue=k,we=1,ge=this[N+--ue];ue>0&&(we*=256);)ge+=this[N+--ue]*we;return we*=128,ge>=we&&(ge-=Math.pow(2,8*k)),ge},o.prototype.readInt8=function(N,k){return N=N>>>0,k||fe(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},o.prototype.readInt16LE=function(N,k){N=N>>>0,k||fe(N,2,this.length);var F=this[N]|this[N+1]<<8;return F&32768?F|4294901760:F},o.prototype.readInt16BE=function(N,k){N=N>>>0,k||fe(N,2,this.length);var F=this[N+1]|this[N]<<8;return F&32768?F|4294901760:F},o.prototype.readInt32LE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},o.prototype.readInt32BE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},o.prototype.readFloatLE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),r.read(this,N,!0,23,4)},o.prototype.readFloatBE=function(N,k){return N=N>>>0,k||fe(N,4,this.length),r.read(this,N,!1,23,4)},o.prototype.readDoubleLE=function(N,k){return N=N>>>0,k||fe(N,8,this.length),r.read(this,N,!0,52,8)},o.prototype.readDoubleBE=function(N,k){return N=N>>>0,k||fe(N,8,this.length),r.read(this,N,!1,52,8)};function D(W,N,k,F,ue,we){if(!o.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ue||N<we)throw new RangeError('"value" argument is out of bounds');if(k+F>W.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(N,k,F,ue){if(N=+N,k=k>>>0,F=F>>>0,!ue){var we=Math.pow(2,8*F)-1;D(this,N,k,F,we,0)}var ge=1,ke=0;for(this[k]=N&255;++ke<F&&(ge*=256);)this[k+ke]=N/ge&255;return k+F},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(N,k,F,ue){if(N=+N,k=k>>>0,F=F>>>0,!ue){var we=Math.pow(2,8*F)-1;D(this,N,k,F,we,0)}var ge=F-1,ke=1;for(this[k+ge]=N&255;--ge>=0&&(ke*=256);)this[k+ge]=N/ke&255;return k+F},o.prototype.writeUint8=o.prototype.writeUInt8=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,1,255,0),this[k]=N&255,k+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,2,65535,0),this[k]=N&255,this[k+1]=N>>>8,k+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,2,65535,0),this[k]=N>>>8,this[k+1]=N&255,k+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,4,4294967295,0),this[k+3]=N>>>24,this[k+2]=N>>>16,this[k+1]=N>>>8,this[k]=N&255,k+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,4,4294967295,0),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4},o.prototype.writeIntLE=function(N,k,F,ue){if(N=+N,k=k>>>0,!ue){var we=Math.pow(2,8*F-1);D(this,N,k,F,we-1,-we)}var ge=0,ke=1,Fe=0;for(this[k]=N&255;++ge<F&&(ke*=256);)N<0&&Fe===0&&this[k+ge-1]!==0&&(Fe=1),this[k+ge]=(N/ke>>0)-Fe&255;return k+F},o.prototype.writeIntBE=function(N,k,F,ue){if(N=+N,k=k>>>0,!ue){var we=Math.pow(2,8*F-1);D(this,N,k,F,we-1,-we)}var ge=F-1,ke=1,Fe=0;for(this[k+ge]=N&255;--ge>=0&&(ke*=256);)N<0&&Fe===0&&this[k+ge+1]!==0&&(Fe=1),this[k+ge]=(N/ke>>0)-Fe&255;return k+F},o.prototype.writeInt8=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,1,127,-128),N<0&&(N=255+N+1),this[k]=N&255,k+1},o.prototype.writeInt16LE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,2,32767,-32768),this[k]=N&255,this[k+1]=N>>>8,k+2},o.prototype.writeInt16BE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,2,32767,-32768),this[k]=N>>>8,this[k+1]=N&255,k+2},o.prototype.writeInt32LE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,4,2147483647,-2147483648),this[k]=N&255,this[k+1]=N>>>8,this[k+2]=N>>>16,this[k+3]=N>>>24,k+4},o.prototype.writeInt32BE=function(N,k,F){return N=+N,k=k>>>0,F||D(this,N,k,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4};function X(W,N,k,F,ue,we){if(k+F>W.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Q(W,N,k,F,ue){return N=+N,k=k>>>0,ue||X(W,N,k,4),r.write(W,N,k,F,23,4),k+4}o.prototype.writeFloatLE=function(N,k,F){return Q(this,N,k,!0,F)},o.prototype.writeFloatBE=function(N,k,F){return Q(this,N,k,!1,F)};function le(W,N,k,F,ue){return N=+N,k=k>>>0,ue||X(W,N,k,8),r.write(W,N,k,F,52,8),k+8}o.prototype.writeDoubleLE=function(N,k,F){return le(this,N,k,!0,F)},o.prototype.writeDoubleBE=function(N,k,F){return le(this,N,k,!1,F)},o.prototype.copy=function(N,k,F,ue){if(!o.isBuffer(N))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ue&&ue!==0&&(ue=this.length),k>=N.length&&(k=N.length),k||(k=0),ue>0&&ue<F&&(ue=F),ue===F||N.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),N.length-k<ue-F&&(ue=N.length-k+F);var we=ue-F;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,F,ue):Uint8Array.prototype.set.call(N,this.subarray(F,ue),k),we},o.prototype.fill=function(N,k,F,ue){if(typeof N=="string"){if(typeof k=="string"?(ue=k,k=0,F=this.length):typeof F=="string"&&(ue=F,F=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!o.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(N.length===1){var we=N.charCodeAt(0);(ue==="utf8"&&we<128||ue==="latin1")&&(N=we)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(k<0||this.length<k||this.length<F)throw new RangeError("Out of range index");if(F<=k)return this;k=k>>>0,F=F===void 0?this.length:F>>>0,N||(N=0);var ge;if(typeof N=="number")for(ge=k;ge<F;++ge)this[ge]=N;else{var ke=o.isBuffer(N)?N:o.from(N,ue),Fe=ke.length;if(Fe===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ge=0;ge<F-k;++ge)this[ge+k]=ke[ge%Fe]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function M(W){if(W=W.split("=")[0],W=W.trim().replace(ee,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function U(W,N){N=N||1/0;for(var k,F=W.length,ue=null,we=[],ge=0;ge<F;++ge){if(k=W.charCodeAt(ge),k>55295&&k<57344){if(!ue){if(k>56319){(N-=3)>-1&&we.push(239,191,189);continue}else if(ge+1===F){(N-=3)>-1&&we.push(239,191,189);continue}ue=k;continue}if(k<56320){(N-=3)>-1&&we.push(239,191,189),ue=k;continue}k=(ue-55296<<10|k-56320)+65536}else ue&&(N-=3)>-1&&we.push(239,191,189);if(ue=null,k<128){if((N-=1)<0)break;we.push(k)}else if(k<2048){if((N-=2)<0)break;we.push(k>>6|192,k&63|128)}else if(k<65536){if((N-=3)<0)break;we.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((N-=4)<0)break;we.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return we}function ne(W){for(var N=[],k=0;k<W.length;++k)N.push(W.charCodeAt(k)&255);return N}function te(W,N){for(var k,F,ue,we=[],ge=0;ge<W.length&&!((N-=2)<0);++ge)k=W.charCodeAt(ge),F=k>>8,ue=k%256,we.push(ue),we.push(F);return we}function Y(W){return e.toByteArray(M(W))}function re(W,N,k,F){for(var ue=0;ue<F&&!(ue+k>=N.length||ue>=W.length);++ue)N[ue+k]=W[ue];return ue}function Ee(W,N){return W instanceof N||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===N.name}function z(W){return W!==W}var K=function(){for(var W="0123456789abcdef",N=new Array(256),k=0;k<16;++k)for(var F=k*16,ue=0;ue<16;++ue)N[F+ue]=W[k]+W[ue];return N}()}(ry)),ry}var ny={},iy={},sy,y3;function sR(){return y3||(y3=1,sy=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),sy}var ay,v3;function rb(){if(v3)return ay;v3=1;var t=sR();return ay=function(){return t()&&!!Symbol.toStringTag},ay}var oy,w3;function aR(){return w3||(w3=1,oy=Object),oy}var ly,_3;function vq(){return _3||(_3=1,ly=Error),ly}var uy,b3;function wq(){return b3||(b3=1,uy=EvalError),uy}var cy,x3;function _q(){return x3||(x3=1,cy=RangeError),cy}var hy,E3;function bq(){return E3||(E3=1,hy=ReferenceError),hy}var fy,A3;function oR(){return A3||(A3=1,fy=SyntaxError),fy}var dy,S3;function np(){return S3||(S3=1,dy=TypeError),dy}var py,T3;function xq(){return T3||(T3=1,py=URIError),py}var my,N3;function Eq(){return N3||(N3=1,my=Math.abs),my}var gy,k3;function Aq(){return k3||(k3=1,gy=Math.floor),gy}var yy,I3;function Sq(){return I3||(I3=1,yy=Math.max),yy}var vy,C3;function Tq(){return C3||(C3=1,vy=Math.min),vy}var wy,R3;function Nq(){return R3||(R3=1,wy=Math.pow),wy}var _y,P3;function kq(){return P3||(P3=1,_y=Math.round),_y}var by,L3;function Iq(){return L3||(L3=1,by=Number.isNaN||function(e){return e!==e}),by}var xy,O3;function Cq(){if(O3)return xy;O3=1;var t=Iq();return xy=function(r){return t(r)||r===0?r:r<0?-1:1},xy}var Ey,D3;function Rq(){return D3||(D3=1,Ey=Object.getOwnPropertyDescriptor),Ey}var Ay,j3;function ip(){if(j3)return Ay;j3=1;var t=Rq();if(t)try{t([],"length")}catch{t=null}return Ay=t,Ay}var Sy,F3;function q0(){if(F3)return Sy;F3=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Sy=t,Sy}var Ty,M3;function Pq(){if(M3)return Ty;M3=1;var t=typeof Symbol<"u"&&Symbol,e=sR();return Ty=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ty}var Ny,B3;function lR(){return B3||(B3=1,Ny=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ny}var ky,U3;function uR(){if(U3)return ky;U3=1;var t=aR();return ky=t.getPrototypeOf||null,ky}var Iy,V3;function Lq(){if(V3)return Iy;V3=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var m=0;m<u.length;m+=1)c[m+l.length]=u[m];return c},s=function(l,u){for(var c=[],f=u,m=0;f<l.length;f+=1,m+=1)c[m]=l[f];return c},a=function(o,l){for(var u="",c=0;c<o.length;c+=1)u+=o[c],c+1<o.length&&(u+=l);return u};return Iy=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),f,m=function(){if(this instanceof f){var d=u.apply(this,i(c,arguments));return Object(d)===d?d:this}return u.apply(l,i(c,arguments))},h=r(0,u.length-c.length),x=[],_=0;_<h;_++)x[_]="$"+_;if(f=Function("binder","return function ("+a(x,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var A=function(){};A.prototype=u.prototype,f.prototype=new A,A.prototype=null}return f},Iy}var Cy,z3;function sp(){if(z3)return Cy;z3=1;var t=Lq();return Cy=Function.prototype.bind||t,Cy}var Ry,q3;function nb(){return q3||(q3=1,Ry=Function.prototype.call),Ry}var Py,H3;function cR(){return H3||(H3=1,Py=Function.prototype.apply),Py}var Ly,W3;function Oq(){return W3||(W3=1,Ly=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ly}var Oy,$3;function Dq(){if($3)return Oy;$3=1;var t=sp(),e=cR(),r=nb(),n=Oq();return Oy=n||t.call(r,e),Oy}var Dy,G3;function jq(){if(G3)return Dy;G3=1;var t=sp(),e=np(),r=nb(),n=Dq();return Dy=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},Dy}var jy,K3;function Fq(){if(K3)return jy;K3=1;var t=jq(),e=ip(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return jy=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,jy}var Fy,X3;function Mq(){if(X3)return Fy;X3=1;var t=lR(),e=uR(),r=Fq();return Fy=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Fy}var My,Y3;function Bq(){if(Y3)return My;Y3=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=sp();return My=r.call(t,e),My}var By,Q3;function ib(){if(Q3)return By;Q3=1;var t,e=aR(),r=vq(),n=wq(),i=_q(),s=bq(),a=oR(),o=np(),l=xq(),u=Eq(),c=Aq(),f=Sq(),m=Tq(),h=Nq(),x=kq(),_=Cq(),A=Function,d=function(ne){try{return A('"use strict"; return ('+ne+").constructor;")()}catch{}},y=ip(),v=q0(),w=function(){throw new o},I=y?function(){try{return arguments.callee,w}catch{try{return y(arguments,"callee").get}catch{return w}}}():w,q=Pq()(),R=Mq(),P=uR(),E=lR(),H=cR(),j=nb(),T={},L=typeof Uint8Array>"u"||!R?t:R(Uint8Array),C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":q&&R?R([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q&&R?R(R([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!q||!R?t:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!q||!R?t:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q&&R?R(""[Symbol.iterator]()):t,"%Symbol%":q?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":I,"%TypedArray%":L,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":H,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":P,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":m,"%Math.pow%":h,"%Math.round%":x,"%Math.sign%":_,"%Reflect.getPrototypeOf%":E};if(R)try{null.error}catch(ne){var ie=R(R(ne));C["%Error.prototype%"]=ie}var ve=function ne(te){var Y;if(te==="%AsyncFunction%")Y=d("async function () {}");else if(te==="%GeneratorFunction%")Y=d("function* () {}");else if(te==="%AsyncGeneratorFunction%")Y=d("async function* () {}");else if(te==="%AsyncGenerator%"){var re=ne("%AsyncGeneratorFunction%");re&&(Y=re.prototype)}else if(te==="%AsyncIteratorPrototype%"){var Ee=ne("%AsyncGenerator%");Ee&&R&&(Y=R(Ee.prototype))}return C[te]=Y,Y},se={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oe=sp(),he=Bq(),Ae=oe.call(j,Array.prototype.concat),fe=oe.call(H,Array.prototype.splice),D=oe.call(j,String.prototype.replace),X=oe.call(j,String.prototype.slice),Q=oe.call(j,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ee=/\\(\\)?/g,M=function(te){var Y=X(te,0,1),re=X(te,-1);if(Y==="%"&&re!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&Y!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Ee=[];return D(te,le,function(z,K,W,N){Ee[Ee.length]=W?D(N,ee,"$1"):K||z}),Ee},U=function(te,Y){var re=te,Ee;if(he(se,re)&&(Ee=se[re],re="%"+Ee[0]+"%"),he(C,re)){var z=C[re];if(z===T&&(z=ve(re)),typeof z>"u"&&!Y)throw new o("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:Ee,name:re,value:z}}throw new a("intrinsic "+te+" does not exist!")};return By=function(te,Y){if(typeof te!="string"||te.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new o('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,te)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=M(te),Ee=re.length>0?re[0]:"",z=U("%"+Ee+"%",Y),K=z.name,W=z.value,N=!1,k=z.alias;k&&(Ee=k[0],fe(re,Ae([0,1],k)));for(var F=1,ue=!0;F<re.length;F+=1){var we=re[F],ge=X(we,0,1),ke=X(we,-1);if((ge==='"'||ge==="'"||ge==="`"||ke==='"'||ke==="'"||ke==="`")&&ge!==ke)throw new a("property names with quotes must have matching quotes");if((we==="constructor"||!ue)&&(N=!0),Ee+="."+we,K="%"+Ee+"%",he(C,K))W=C[K];else if(W!=null){if(!(we in W)){if(!Y)throw new o("base intrinsic for "+te+" exists, but the property is not available.");return}if(y&&F+1>=re.length){var Fe=y(W,we);ue=!!Fe,ue&&"get"in Fe&&!("originalValue"in Fe.get)?W=Fe.get:W=W[we]}else ue=he(W,we),W=W[we];ue&&!N&&(C[K]=W)}}return W},By}var Uy={exports:{}},Vy,J3;function Uq(){if(J3)return Vy;J3=1;var t=q0(),e=oR(),r=np(),n=ip();return Vy=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,m=!!n&&n(s,a);if(t)t(s,a,{configurable:c===null&&m?m.configurable:!c,enumerable:l===null&&m?m.enumerable:!l,value:o,writable:u===null&&m?m.writable:!u});else if(f||!l&&!u&&!c)s[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Vy}var zy,Z3;function Vq(){if(Z3)return zy;Z3=1;var t=q0(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},zy=e,zy}var qy,eA;function zq(){if(eA)return qy;eA=1;var t=ib(),e=Uq(),r=Vq()(),n=ip(),i=np(),s=t("%Math.floor%");return qy=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in o&&n){var m=n(o,"length");m&&!m.configurable&&(c=!1),m&&!m.writable&&(f=!1)}return(c||f||!u)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},qy}var tA;function hR(){return tA||(tA=1,function(t){var e=sp(),r=ib(),n=zq(),i=np(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=q0(),u=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var h=o(e,a,arguments);return n(h,1+u(0,m.length-(arguments.length-1)),!0)};var c=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c}(Uy)),Uy.exports}var Hy,rA;function fR(){if(rA)return Hy;rA=1;var t=ib(),e=hR(),r=e(t("String.prototype.indexOf"));return Hy=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},Hy}var Wy,nA;function qq(){if(nA)return Wy;nA=1;var t=rb()(),e=fR(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Wy=s?n:i,Wy}var $y,iA;function Hq(){if(iA)return $y;iA=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=rb()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return $y=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var c=s();a=c?i(c):!1}return i(l)===a},$y}var Gy,sA;function Wq(){if(sA)return Gy;sA=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(y){y!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(v){try{var w=t.call(v);return i.test(w)}catch{return!1}},a=function(v){try{return s(v)?!1:(t.call(v),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",m="[object HTML document.all class]",h="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),A=function(){return!1};if(typeof document=="object"){var d=document.all;o.call(d)===o.call(document.all)&&(A=function(v){if((_||!v)&&(typeof v>"u"||typeof v=="object"))try{var w=o.call(v);return(w===f||w===m||w===h||w===l)&&v("")==null}catch{}return!1})}return Gy=e?function(v){if(A(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,r)}catch(w){if(w!==n)return!1}return!s(v)&&a(v)}:function(v){if(A(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(x)return a(v);if(s(v))return!1;var w=o.call(v);return w!==u&&w!==c&&!/^\[object HTML/.test(w)?!1:a(v)},Gy}var Ky,aA;function $q(){if(aA)return Ky;aA=1;var t=Wq(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var f=0,m=l.length;f<m;f++)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},i=function(l,u,c){for(var f=0,m=l.length;f<m;f++)c==null?u(l.charAt(f),f,l):u.call(c,l.charAt(f),f,l)},s=function(l,u,c){for(var f in l)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},a=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=c),e.call(l)==="[object Array]"?n(l,u,f):typeof l=="string"?i(l,u,f):s(l,u,f)};return Ky=a,Ky}var Xy,oA;function Gq(){return oA||(oA=1,Xy=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Xy}var Yy,lA;function Kq(){if(lA)return Yy;lA=1;var t=Gq(),e=typeof globalThis>"u"?Ca:globalThis;return Yy=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Yy}var Qy,uA;function dR(){if(uA)return Qy;uA=1;var t=$q(),e=Kq(),r=hR(),n=fR(),i=ip(),s=n("Object.prototype.toString"),a=rb()(),o=typeof globalThis>"u"?Ca:globalThis,l=e(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(A,d){for(var y=0;y<A.length;y+=1)if(A[y]===d)return y;return-1},m={__proto__:null};a&&i&&c?t(l,function(_){var A=new o[_];if(Symbol.toStringTag in A){var d=c(A),y=i(d,Symbol.toStringTag);if(!y){var v=c(d);y=i(v,Symbol.toStringTag)}m["$"+_]=r(y.get)}}):t(l,function(_){var A=new o[_],d=A.slice||A.set;d&&(m["$"+_]=r(d))});var h=function(A){var d=!1;return t(m,function(y,v){if(!d)try{"$"+y(A)===v&&(d=u(v,1))}catch{}}),d},x=function(A){var d=!1;return t(m,function(y,v){if(!d)try{y(A),d=u(v,1)}catch{}}),d};return Qy=function(A){if(!A||typeof A!="object")return!1;if(!a){var d=u(s(A),8,-1);return f(l,d)>-1?d:d!=="Object"?!1:x(A)}return i?h(A):null},Qy}var Jy,cA;function Xq(){if(cA)return Jy;cA=1;var t=dR();return Jy=function(r){return!!t(r)},Jy}var hA;function Yq(){return hA||(hA=1,function(t){var e=qq(),r=Hq(),n=dR(),i=Xq();function s(F){return F.call.bind(F)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(a)var m=s(BigInt.prototype.valueOf);if(o)var h=s(Symbol.prototype.valueOf);function x(F,ue){if(typeof F!="object")return!1;try{return ue(F),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function _(F){return typeof Promise<"u"&&F instanceof Promise||F!==null&&typeof F=="object"&&typeof F.then=="function"&&typeof F.catch=="function"}t.isPromise=_;function A(F){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(F):i(F)||X(F)}t.isArrayBufferView=A;function d(F){return n(F)==="Uint8Array"}t.isUint8Array=d;function y(F){return n(F)==="Uint8ClampedArray"}t.isUint8ClampedArray=y;function v(F){return n(F)==="Uint16Array"}t.isUint16Array=v;function w(F){return n(F)==="Uint32Array"}t.isUint32Array=w;function I(F){return n(F)==="Int8Array"}t.isInt8Array=I;function q(F){return n(F)==="Int16Array"}t.isInt16Array=q;function R(F){return n(F)==="Int32Array"}t.isInt32Array=R;function P(F){return n(F)==="Float32Array"}t.isFloat32Array=P;function E(F){return n(F)==="Float64Array"}t.isFloat64Array=E;function H(F){return n(F)==="BigInt64Array"}t.isBigInt64Array=H;function j(F){return n(F)==="BigUint64Array"}t.isBigUint64Array=j;function T(F){return l(F)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function L(F){return typeof Map>"u"?!1:T.working?T(F):F instanceof Map}t.isMap=L;function C(F){return l(F)==="[object Set]"}C.working=typeof Set<"u"&&C(new Set);function ie(F){return typeof Set>"u"?!1:C.working?C(F):F instanceof Set}t.isSet=ie;function ve(F){return l(F)==="[object WeakMap]"}ve.working=typeof WeakMap<"u"&&ve(new WeakMap);function se(F){return typeof WeakMap>"u"?!1:ve.working?ve(F):F instanceof WeakMap}t.isWeakMap=se;function oe(F){return l(F)==="[object WeakSet]"}oe.working=typeof WeakSet<"u"&&oe(new WeakSet);function he(F){return oe(F)}t.isWeakSet=he;function Ae(F){return l(F)==="[object ArrayBuffer]"}Ae.working=typeof ArrayBuffer<"u"&&Ae(new ArrayBuffer);function fe(F){return typeof ArrayBuffer>"u"?!1:Ae.working?Ae(F):F instanceof ArrayBuffer}t.isArrayBuffer=fe;function D(F){return l(F)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function X(F){return typeof DataView>"u"?!1:D.working?D(F):F instanceof DataView}t.isDataView=X;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function le(F){return l(F)==="[object SharedArrayBuffer]"}function ee(F){return typeof Q>"u"?!1:(typeof le.working>"u"&&(le.working=le(new Q)),le.working?le(F):F instanceof Q)}t.isSharedArrayBuffer=ee;function M(F){return l(F)==="[object AsyncFunction]"}t.isAsyncFunction=M;function U(F){return l(F)==="[object Map Iterator]"}t.isMapIterator=U;function ne(F){return l(F)==="[object Set Iterator]"}t.isSetIterator=ne;function te(F){return l(F)==="[object Generator]"}t.isGeneratorObject=te;function Y(F){return l(F)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Y;function re(F){return x(F,u)}t.isNumberObject=re;function Ee(F){return x(F,c)}t.isStringObject=Ee;function z(F){return x(F,f)}t.isBooleanObject=z;function K(F){return a&&x(F,m)}t.isBigIntObject=K;function W(F){return o&&x(F,h)}t.isSymbolObject=W;function N(F){return re(F)||Ee(F)||z(F)||K(F)||W(F)}t.isBoxedPrimitive=N;function k(F){return typeof Uint8Array<"u"&&(fe(F)||ee(F))}t.isAnyArrayBuffer=k,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(F){Object.defineProperty(t,F,{enumerable:!1,value:function(){throw new Error(F+" is not supported in userland")}})})}(iy)),iy}var Zy,fA;function Qq(){return fA||(fA=1,Zy=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Zy}var dA;function pR(){return dA||(dA=1,function(t){var e=Object.getOwnPropertyDescriptors||function(X){for(var Q=Object.keys(X),le={},ee=0;ee<Q.length;ee++)le[Q[ee]]=Object.getOwnPropertyDescriptor(X,Q[ee]);return le},r=/%[sdj%]/g;t.format=function(D){if(!I(D)){for(var X=[],Q=0;Q<arguments.length;Q++)X.push(a(arguments[Q]));return X.join(" ")}for(var Q=1,le=arguments,ee=le.length,M=String(D).replace(r,function(ne){if(ne==="%%")return"%";if(Q>=ee)return ne;switch(ne){case"%s":return String(le[Q++]);case"%d":return Number(le[Q++]);case"%j":try{return JSON.stringify(le[Q++])}catch{return"[Circular]"}default:return ne}}),U=le[Q];Q<ee;U=le[++Q])y(U)||!E(U)?M+=" "+U:M+=" "+a(U);return M},t.deprecate=function(D,X){if(typeof Ht<"u"&&Ht.noDeprecation===!0)return D;if(typeof Ht>"u")return function(){return t.deprecate(D,X).apply(this,arguments)};var Q=!1;function le(){if(!Q){if(Ht.throwDeprecation)throw new Error(X);Ht.traceDeprecation?console.trace(X):console.error(X),Q=!0}return D.apply(this,arguments)}return le};var n={},i=/^$/;if(Ht.env.NODE_DEBUG){var s=Ht.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(i.test(D)){var X=Ht.pid;n[D]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",D,X,Q)}}else n[D]=function(){};return n[D]};function a(D,X){var Q={seen:[],stylize:l};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),d(X)?Q.showHidden=X:X&&t._extend(Q,X),R(Q.showHidden)&&(Q.showHidden=!1),R(Q.depth)&&(Q.depth=2),R(Q.colors)&&(Q.colors=!1),R(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=o),c(Q,D,Q.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,X){var Q=a.styles[X];return Q?"\x1B["+a.colors[Q][0]+"m"+D+"\x1B["+a.colors[Q][1]+"m":D}function l(D,X){return D}function u(D){var X={};return D.forEach(function(Q,le){X[Q]=!0}),X}function c(D,X,Q){if(D.customInspect&&X&&T(X.inspect)&&X.inspect!==t.inspect&&!(X.constructor&&X.constructor.prototype===X)){var le=X.inspect(Q,D);return I(le)||(le=c(D,le,Q)),le}var ee=f(D,X);if(ee)return ee;var M=Object.keys(X),U=u(M);if(D.showHidden&&(M=Object.getOwnPropertyNames(X)),j(X)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return m(X);if(M.length===0){if(T(X)){var ne=X.name?": "+X.name:"";return D.stylize("[Function"+ne+"]","special")}if(P(X))return D.stylize(RegExp.prototype.toString.call(X),"regexp");if(H(X))return D.stylize(Date.prototype.toString.call(X),"date");if(j(X))return m(X)}var te="",Y=!1,re=["{","}"];if(A(X)&&(Y=!0,re=["[","]"]),T(X)){var Ee=X.name?": "+X.name:"";te=" [Function"+Ee+"]"}if(P(X)&&(te=" "+RegExp.prototype.toString.call(X)),H(X)&&(te=" "+Date.prototype.toUTCString.call(X)),j(X)&&(te=" "+m(X)),M.length===0&&(!Y||X.length==0))return re[0]+te+re[1];if(Q<0)return P(X)?D.stylize(RegExp.prototype.toString.call(X),"regexp"):D.stylize("[Object]","special");D.seen.push(X);var z;return Y?z=h(D,X,Q,U,M):z=M.map(function(K){return x(D,X,Q,U,K,Y)}),D.seen.pop(),_(z,te,re)}function f(D,X){if(R(X))return D.stylize("undefined","undefined");if(I(X)){var Q="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(Q,"string")}if(w(X))return D.stylize(""+X,"number");if(d(X))return D.stylize(""+X,"boolean");if(y(X))return D.stylize("null","null")}function m(D){return"["+Error.prototype.toString.call(D)+"]"}function h(D,X,Q,le,ee){for(var M=[],U=0,ne=X.length;U<ne;++U)oe(X,String(U))?M.push(x(D,X,Q,le,String(U),!0)):M.push("");return ee.forEach(function(te){te.match(/^\d+$/)||M.push(x(D,X,Q,le,te,!0))}),M}function x(D,X,Q,le,ee,M){var U,ne,te;if(te=Object.getOwnPropertyDescriptor(X,ee)||{value:X[ee]},te.get?te.set?ne=D.stylize("[Getter/Setter]","special"):ne=D.stylize("[Getter]","special"):te.set&&(ne=D.stylize("[Setter]","special")),oe(le,ee)||(U="["+ee+"]"),ne||(D.seen.indexOf(te.value)<0?(y(Q)?ne=c(D,te.value,null):ne=c(D,te.value,Q-1),ne.indexOf(`
`)>-1&&(M?ne=ne.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):ne=D.stylize("[Circular]","special")),R(U)){if(M&&ee.match(/^\d+$/))return ne;U=JSON.stringify(""+ee),U.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=D.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=D.stylize(U,"string"))}return U+": "+ne}function _(D,X,Q){var le=D.reduce(function(ee,M){return M.indexOf(`
`)>=0,ee+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?Q[0]+(X===""?"":X+`
 `)+" "+D.join(`,
  `)+" "+Q[1]:Q[0]+X+" "+D.join(", ")+" "+Q[1]}t.types=Yq();function A(D){return Array.isArray(D)}t.isArray=A;function d(D){return typeof D=="boolean"}t.isBoolean=d;function y(D){return D===null}t.isNull=y;function v(D){return D==null}t.isNullOrUndefined=v;function w(D){return typeof D=="number"}t.isNumber=w;function I(D){return typeof D=="string"}t.isString=I;function q(D){return typeof D=="symbol"}t.isSymbol=q;function R(D){return D===void 0}t.isUndefined=R;function P(D){return E(D)&&C(D)==="[object RegExp]"}t.isRegExp=P,t.types.isRegExp=P;function E(D){return typeof D=="object"&&D!==null}t.isObject=E;function H(D){return E(D)&&C(D)==="[object Date]"}t.isDate=H,t.types.isDate=H;function j(D){return E(D)&&(C(D)==="[object Error]"||D instanceof Error)}t.isError=j,t.types.isNativeError=j;function T(D){return typeof D=="function"}t.isFunction=T;function L(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=L,t.isBuffer=Qq();function C(D){return Object.prototype.toString.call(D)}function ie(D){return D<10?"0"+D.toString(10):D.toString(10)}var ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var D=new Date,X=[ie(D.getHours()),ie(D.getMinutes()),ie(D.getSeconds())].join(":");return[D.getDate(),ve[D.getMonth()],X].join(" ")}t.log=function(){console.log("%s - %s",se(),t.format.apply(t,arguments))},t.inherits=Jl(),t._extend=function(D,X){if(!X||!E(X))return D;for(var Q=Object.keys(X),le=Q.length;le--;)D[Q[le]]=X[Q[le]];return D};function oe(D,X){return Object.prototype.hasOwnProperty.call(D,X)}var he=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(he&&X[he]){var Q=X[he];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,he,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var le,ee,M=new Promise(function(te,Y){le=te,ee=Y}),U=[],ne=0;ne<arguments.length;ne++)U.push(arguments[ne]);U.push(function(te,Y){te?ee(te):le(Y)});try{X.apply(this,U)}catch(te){ee(te)}return M}return Object.setPrototypeOf(Q,Object.getPrototypeOf(X)),he&&Object.defineProperty(Q,he,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(X))},t.promisify.custom=he;function Ae(D,X){if(!D){var Q=new Error("Promise was rejected with a falsy value");Q.reason=D,D=Q}return X(D)}function fe(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var Q=[],le=0;le<arguments.length;le++)Q.push(arguments[le]);var ee=Q.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var M=this,U=function(){return ee.apply(M,arguments)};D.apply(this,Q).then(function(ne){Ht.nextTick(U.bind(null,null,ne))},function(ne){Ht.nextTick(Ae.bind(null,ne,U))})}return Object.setPrototypeOf(X,Object.getPrototypeOf(D)),Object.defineProperties(X,e(D)),X}t.callbackify=fe}(ny)),ny}var ev,pA;function Jq(){if(pA)return ev;pA=1;function t(m,h){var x=Object.keys(m);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(m);h&&(_=_.filter(function(A){return Object.getOwnPropertyDescriptor(m,A).enumerable})),x.push.apply(x,_)}return x}function e(m){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{};h%2?t(Object(x),!0).forEach(function(_){r(m,_,x[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(x)):t(Object(x)).forEach(function(_){Object.defineProperty(m,_,Object.getOwnPropertyDescriptor(x,_))})}return m}function r(m,h,x){return h in m?Object.defineProperty(m,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):m[h]=x,m}function n(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){for(var x=0;x<h.length;x++){var _=h[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}function s(m,h,x){return h&&i(m.prototype,h),m}var a=z0(),o=a.Buffer,l=pR(),u=l.inspect,c=u&&u.custom||"inspect";function f(m,h,x){o.prototype.copy.call(m,h,x)}return ev=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return s(m,[{key:"push",value:function(x){var _={data:x,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(x){var _={data:x,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var _=this.head,A=""+_.data;_=_.next;)A+=x+_.data;return A}},{key:"concat",value:function(x){if(this.length===0)return o.alloc(0);for(var _=o.allocUnsafe(x>>>0),A=this.head,d=0;A;)f(A.data,_,d),d+=A.data.length,A=A.next;return _}},{key:"consume",value:function(x,_){var A;return x<this.head.data.length?(A=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?A=this.shift():A=_?this._getString(x):this._getBuffer(x),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var _=this.head,A=1,d=_.data;for(x-=d.length;_=_.next;){var y=_.data,v=x>y.length?y.length:x;if(v===y.length?d+=y:d+=y.slice(0,x),x-=v,x===0){v===y.length?(++A,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=y.slice(v));break}++A}return this.length-=A,d}},{key:"_getBuffer",value:function(x){var _=o.allocUnsafe(x),A=this.head,d=1;for(A.data.copy(_),x-=A.data.length;A=A.next;){var y=A.data,v=x>y.length?y.length:x;if(y.copy(_,_.length-x,0,v),x-=v,x===0){v===y.length?(++d,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=y.slice(v));break}++d}return this.length-=d,_}},{key:c,value:function(x,_){return u(this,e({},_,{depth:0,customInspect:!1}))}}]),m}(),ev}var tv,mA;function mR(){if(mA)return tv;mA=1;function t(a,o){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ht.nextTick(i,this,a)):Ht.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?Ht.nextTick(r,l):(l._writableState.errorEmitted=!0,Ht.nextTick(e,l,f)):Ht.nextTick(e,l,f):o?(Ht.nextTick(r,l),o(f)):Ht.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,u=a._writableState;l&&l.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return tv={destroy:t,undestroy:n,errorOrDestroy:s},tv}var rv={},gA;function qh(){if(gA)return rv;gA=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,u){u||(u=Error);function c(m,h,x){return typeof l=="string"?l:l(m,h,x)}var f=function(m){t(h,m);function h(x,_,A){return m.call(this,c(x,_,A))||this}return h}(u);f.prototype.name=u.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var u=o.length;return o=o.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,u){return o.substr(0,l.length)===l}function s(o,l,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-l.length,u)===l}function a(o,l,u){return typeof u!="number"&&(u=0),u+l.length>o.length?!1:o.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var f;if(s(o," argument"))f="The ".concat(o," ").concat(c," ").concat(n(l,"type"));else{var m=a(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(m," ").concat(c," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rv.codes=e,rv}var nv,yA;function gR(){if(yA)return nv;yA=1;var t=qh().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return nv={getHighWaterMark:r},nv}var iv,vA;function Zq(){if(vA)return iv;vA=1,iv=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Ca.localStorage)return!1}catch{return!1}var n=Ca.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return iv}var sv,wA;function yR(){if(wA)return sv;wA=1,sv=P;function t(ee){var M=this;this.next=null,this.entry=null,this.finish=function(){le(M,ee)}}var e;P.WritableState=q;var r={deprecate:Zq()},n=iR(),i=z0().Buffer,s=Ca.Uint8Array||function(){};function a(ee){return i.from(ee)}function o(ee){return i.isBuffer(ee)||ee instanceof s}var l=mR(),u=gR(),c=u.getHighWaterMark,f=qh().codes,m=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,x=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,A=f.ERR_STREAM_DESTROYED,d=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;Jl()(P,n);function I(){}function q(ee,M,U){e=e||kh(),ee=ee||{},typeof U!="boolean"&&(U=M instanceof e),this.objectMode=!!ee.objectMode,U&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=ee.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){ve(M,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}q.prototype.getBuffer=function(){for(var M=this.bufferedRequest,U=[];M;)U.push(M),M=M.next;return U},function(){try{Object.defineProperty(q.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(M){return R.call(this,M)?!0:this!==P?!1:M&&M._writableState instanceof q}})):R=function(M){return M instanceof this};function P(ee){e=e||kh();var M=this instanceof e;if(!M&&!R.call(P,this))return new P(ee);this._writableState=new q(ee,this,M),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),n.call(this)}P.prototype.pipe=function(){w(this,new _)};function E(ee,M){var U=new y;w(ee,U),Ht.nextTick(M,U)}function H(ee,M,U,ne){var te;return U===null?te=new d:typeof U!="string"&&!M.objectMode&&(te=new m("chunk",["string","Buffer"],U)),te?(w(ee,te),Ht.nextTick(ne,te),!1):!0}P.prototype.write=function(ee,M,U){var ne=this._writableState,te=!1,Y=!ne.objectMode&&o(ee);return Y&&!i.isBuffer(ee)&&(ee=a(ee)),typeof M=="function"&&(U=M,M=null),Y?M="buffer":M||(M=ne.defaultEncoding),typeof U!="function"&&(U=I),ne.ending?E(this,U):(Y||H(this,ne,ee,U))&&(ne.pendingcb++,te=T(this,ne,Y,ee,M,U)),te},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&he(this,ee))},P.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new v(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(ee,M,U){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof M=="string"&&(M=i.from(M,U)),M}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function T(ee,M,U,ne,te,Y){if(!U){var re=j(M,ne,te);ne!==re&&(U=!0,te="buffer",ne=re)}var Ee=M.objectMode?1:ne.length;M.length+=Ee;var z=M.length<M.highWaterMark;if(z||(M.needDrain=!0),M.writing||M.corked){var K=M.lastBufferedRequest;M.lastBufferedRequest={chunk:ne,encoding:te,isBuf:U,callback:Y,next:null},K?K.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else L(ee,M,!1,Ee,ne,te,Y);return z}function L(ee,M,U,ne,te,Y,re){M.writelen=ne,M.writecb=re,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new A("write")):U?ee._writev(te,M.onwrite):ee._write(te,Y,M.onwrite),M.sync=!1}function C(ee,M,U,ne,te){--M.pendingcb,U?(Ht.nextTick(te,ne),Ht.nextTick(X,ee,M),ee._writableState.errorEmitted=!0,w(ee,ne)):(te(ne),ee._writableState.errorEmitted=!0,w(ee,ne),X(ee,M))}function ie(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function ve(ee,M){var U=ee._writableState,ne=U.sync,te=U.writecb;if(typeof te!="function")throw new x;if(ie(U),M)C(ee,U,ne,M,te);else{var Y=Ae(U)||ee.destroyed;!Y&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&he(ee,U),ne?Ht.nextTick(se,ee,U,Y,te):se(ee,U,Y,te)}}function se(ee,M,U,ne){U||oe(ee,M),M.pendingcb--,ne(),X(ee,M)}function oe(ee,M){M.length===0&&M.needDrain&&(M.needDrain=!1,ee.emit("drain"))}function he(ee,M){M.bufferProcessing=!0;var U=M.bufferedRequest;if(ee._writev&&U&&U.next){var ne=M.bufferedRequestCount,te=new Array(ne),Y=M.corkedRequestsFree;Y.entry=U;for(var re=0,Ee=!0;U;)te[re]=U,U.isBuf||(Ee=!1),U=U.next,re+=1;te.allBuffers=Ee,L(ee,M,!0,M.length,te,"",Y.finish),M.pendingcb++,M.lastBufferedRequest=null,Y.next?(M.corkedRequestsFree=Y.next,Y.next=null):M.corkedRequestsFree=new t(M),M.bufferedRequestCount=0}else{for(;U;){var z=U.chunk,K=U.encoding,W=U.callback,N=M.objectMode?1:z.length;if(L(ee,M,!1,N,z,K,W),U=U.next,M.bufferedRequestCount--,M.writing)break}U===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=U,M.bufferProcessing=!1}P.prototype._write=function(ee,M,U){U(new h("_write()"))},P.prototype._writev=null,P.prototype.end=function(ee,M,U){var ne=this._writableState;return typeof ee=="function"?(U=ee,ee=null,M=null):typeof M=="function"&&(U=M,M=null),ee!=null&&this.write(ee,M),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||Q(this,ne,U),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ae(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function fe(ee,M){ee._final(function(U){M.pendingcb--,U&&w(ee,U),M.prefinished=!0,ee.emit("prefinish"),X(ee,M)})}function D(ee,M){!M.prefinished&&!M.finalCalled&&(typeof ee._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,Ht.nextTick(fe,ee,M)):(M.prefinished=!0,ee.emit("prefinish")))}function X(ee,M){var U=Ae(M);if(U&&(D(ee,M),M.pendingcb===0&&(M.finished=!0,ee.emit("finish"),M.autoDestroy))){var ne=ee._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&ee.destroy()}return U}function Q(ee,M,U){M.ending=!0,X(ee,M),U&&(M.finished?Ht.nextTick(U):ee.once("finish",U)),M.ended=!0,ee.writable=!1}function le(ee,M,U){var ne=ee.entry;for(ee.entry=null;ne;){var te=ne.callback;M.pendingcb--,te(U),ne=ne.next}M.corkedRequestsFree.next=ee}return Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),P.prototype.destroy=l.destroy,P.prototype._undestroy=l.undestroy,P.prototype._destroy=function(ee,M){M(ee)},sv}var av,_A;function kh(){if(_A)return av;_A=1;var t=Object.keys||function(u){var c=[];for(var f in u)c.push(f);return c};av=a;var e=vR(),r=yR();Jl()(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ht.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),av}var ov={},nm={exports:{}},bA;function eH(){return bA||(bA=1,function(t,e){var r=z0(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(nm,nm.exports)),nm.exports}var xA;function Vw(){if(xA)return ov;xA=1;var t=eH().Buffer,e=t.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(d){if(!d)return"utf8";for(var y;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(y)return;d=(""+d).toLowerCase(),y=!0}}function n(d){var y=r(d);if(typeof y!="string"&&(t.isEncoding===e||!e(d)))throw new Error("Unknown encoding: "+d);return y||d}ov.StringDecoder=i;function i(d){this.encoding=n(d);var y;switch(this.encoding){case"utf16le":this.text=f,this.end=m,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=h,this.end=x,y=3;break;default:this.write=_,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(y)}i.prototype.write=function(d){if(d.length===0)return"";var y,v;if(this.lastNeed){if(y=this.fillLast(d),y===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<d.length?y?y+this.text(d,v):this.text(d,v):y||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function s(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function a(d,y,v){var w=y.length-1;if(w<v)return 0;var I=s(y[w]);return I>=0?(I>0&&(d.lastNeed=I-1),I):--w<v||I===-2?0:(I=s(y[w]),I>=0?(I>0&&(d.lastNeed=I-2),I):--w<v||I===-2?0:(I=s(y[w]),I>=0?(I>0&&(I===2?I=0:d.lastNeed=I-3),I):0))}function o(d,y,v){if((y[0]&192)!==128)return d.lastNeed=0,"";if(d.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return d.lastNeed=1,"";if(d.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return d.lastNeed=2,""}}function l(d){var y=this.lastTotal-this.lastNeed,v=o(this,d);if(v!==void 0)return v;if(this.lastNeed<=d.length)return d.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,y,0,d.length),this.lastNeed-=d.length}function u(d,y){var v=a(this,d,y);if(!this.lastNeed)return d.toString("utf8",y);this.lastTotal=v;var w=d.length-(v-this.lastNeed);return d.copy(this.lastChar,0,w),d.toString("utf8",y,w)}function c(d){var y=d&&d.length?this.write(d):"";return this.lastNeed?y+"":y}function f(d,y){if((d.length-y)%2===0){var v=d.toString("utf16le",y);if(v){var w=v.charCodeAt(v.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",y,d.length-1)}function m(d){var y=d&&d.length?this.write(d):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,v)}return y}function h(d,y){var v=(d.length-y)%3;return v===0?d.toString("base64",y):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",y,d.length-v))}function x(d){var y=d&&d.length?this.write(d):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function _(d){return d.toString(this.encoding)}function A(d){return d&&d.length?this.write(d):""}return ov}var lv,EA;function sb(){if(EA)return lv;EA=1;var t=qh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,c=function(){s.writable||m()},f=s._writableState&&s._writableState.finished,m=function(){u=!1,f=!0,l||o.call(s)},h=s._readableState&&s._readableState.endEmitted,x=function(){l=!1,h=!0,u||o.call(s)},_=function(v){o.call(s,v)},A=function(){var v;if(l&&!h)return(!s._readableState||!s._readableState.ended)&&(v=new t),o.call(s,v);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(v=new t),o.call(s,v)},d=function(){s.req.on("finish",m)};return n(s)?(s.on("complete",m),s.on("abort",A),s.req?d():s.on("request",d)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",x),s.on("finish",m),a.error!==!1&&s.on("error",_),s.on("close",A),function(){s.removeListener("complete",m),s.removeListener("abort",A),s.removeListener("request",d),s.req&&s.req.removeListener("finish",m),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",m),s.removeListener("end",x),s.removeListener("error",_),s.removeListener("close",A)}}return lv=i,lv}var uv,AA;function tH(){if(AA)return uv;AA=1;var t;function e(d,y,v){return y in d?Object.defineProperty(d,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[y]=v,d}var r=sb(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(d,y){return{value:d,done:y}}function f(d){var y=d[n];if(y!==null){var v=d[u].read();v!==null&&(d[o]=null,d[n]=null,d[i]=null,y(c(v,!1)))}}function m(d){Ht.nextTick(f,d)}function h(d,y){return function(v,w){d.then(function(){if(y[a]){v(c(void 0,!0));return}y[l](v,w)},w)}}var x=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var y=this,v=this[s];if(v!==null)return Promise.reject(v);if(this[a])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(R,P){Ht.nextTick(function(){y[s]?P(y[s]):R(c(void 0,!0))})});var w=this[o],I;if(w)I=new Promise(h(w,this));else{var q=this[u].read();if(q!==null)return Promise.resolve(c(q,!1));I=new Promise(this[l])}return this[o]=I,I}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var y=this;return new Promise(function(v,w){y[u].destroy(null,function(I){if(I){w(I);return}v(c(void 0,!0))})})}),t),x),A=function(y){var v,w=Object.create(_,(v={},e(v,u,{value:y,writable:!0}),e(v,n,{value:null,writable:!0}),e(v,i,{value:null,writable:!0}),e(v,s,{value:null,writable:!0}),e(v,a,{value:y._readableState.endEmitted,writable:!0}),e(v,l,{value:function(q,R){var P=w[u].read();P?(w[o]=null,w[n]=null,w[i]=null,q(c(P,!1))):(w[n]=q,w[i]=R)},writable:!0}),v));return w[o]=null,r(y,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=w[i];q!==null&&(w[o]=null,w[n]=null,w[i]=null,q(I)),w[s]=I;return}var R=w[n];R!==null&&(w[o]=null,w[n]=null,w[i]=null,R(c(void 0,!0))),w[a]=!0}),y.on("readable",m.bind(null,w)),w};return uv=A,uv}var cv,SA;function rH(){return SA||(SA=1,cv=function(){throw new Error("Readable.from is not available in the browser")}),cv}var hv,TA;function vR(){if(TA)return hv;TA=1,hv=E;var t;E.ReadableState=P,tb().EventEmitter;var e=function(re,Ee){return re.listeners(Ee).length},r=iR(),n=z0().Buffer,i=Ca.Uint8Array||function(){};function s(Y){return n.from(Y)}function a(Y){return n.isBuffer(Y)||Y instanceof i}var o=pR(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var u=Jq(),c=mR(),f=gR(),m=f.getHighWaterMark,h=qh().codes,x=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,A=h.ERR_METHOD_NOT_IMPLEMENTED,d=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,v,w;Jl()(E,r);var I=c.errorOrDestroy,q=["error","close","destroy","pause","resume"];function R(Y,re,Ee){if(typeof Y.prependListener=="function")return Y.prependListener(re,Ee);!Y._events||!Y._events[re]?Y.on(re,Ee):Array.isArray(Y._events[re])?Y._events[re].unshift(Ee):Y._events[re]=[Ee,Y._events[re]]}function P(Y,re,Ee){t=t||kh(),Y=Y||{},typeof Ee!="boolean"&&(Ee=re instanceof t),this.objectMode=!!Y.objectMode,Ee&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=m(this,Y,"readableHighWaterMark",Ee),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(y||(y=Vw().StringDecoder),this.decoder=new y(Y.encoding),this.encoding=Y.encoding)}function E(Y){if(t=t||kh(),!(this instanceof E))return new E(Y);var re=this instanceof t;this._readableState=new P(Y,this,re),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),r.call(this)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),E.prototype.destroy=c.destroy,E.prototype._undestroy=c.undestroy,E.prototype._destroy=function(Y,re){re(Y)},E.prototype.push=function(Y,re){var Ee=this._readableState,z;return Ee.objectMode?z=!0:typeof Y=="string"&&(re=re||Ee.defaultEncoding,re!==Ee.encoding&&(Y=n.from(Y,re),re=""),z=!0),H(this,Y,re,!1,z)},E.prototype.unshift=function(Y){return H(this,Y,null,!0,!1)};function H(Y,re,Ee,z,K){l("readableAddChunk",re);var W=Y._readableState;if(re===null)W.reading=!1,ve(Y,W);else{var N;if(K||(N=T(W,re)),N)I(Y,N);else if(W.objectMode||re&&re.length>0)if(typeof re!="string"&&!W.objectMode&&Object.getPrototypeOf(re)!==n.prototype&&(re=s(re)),z)W.endEmitted?I(Y,new d):j(Y,W,re,!0);else if(W.ended)I(Y,new _);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!Ee?(re=W.decoder.write(re),W.objectMode||re.length!==0?j(Y,W,re,!1):he(Y,W)):j(Y,W,re,!1)}else z||(W.reading=!1,he(Y,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function j(Y,re,Ee,z){re.flowing&&re.length===0&&!re.sync?(re.awaitDrain=0,Y.emit("data",Ee)):(re.length+=re.objectMode?1:Ee.length,z?re.buffer.unshift(Ee):re.buffer.push(Ee),re.needReadable&&se(Y)),he(Y,re)}function T(Y,re){var Ee;return!a(re)&&typeof re!="string"&&re!==void 0&&!Y.objectMode&&(Ee=new x("chunk",["string","Buffer","Uint8Array"],re)),Ee}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(Y){y||(y=Vw().StringDecoder);var re=new y(Y);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,z="";Ee!==null;)z+=re.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var L=1073741824;function C(Y){return Y>=L?Y=L:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function ie(Y,re){return Y<=0||re.length===0&&re.ended?0:re.objectMode?1:Y!==Y?re.flowing&&re.length?re.buffer.head.data.length:re.length:(Y>re.highWaterMark&&(re.highWaterMark=C(Y)),Y<=re.length?Y:re.ended?re.length:(re.needReadable=!0,0))}E.prototype.read=function(Y){l("read",Y),Y=parseInt(Y,10);var re=this._readableState,Ee=Y;if(Y!==0&&(re.emittedReadable=!1),Y===0&&re.needReadable&&((re.highWaterMark!==0?re.length>=re.highWaterMark:re.length>0)||re.ended))return l("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?U(this):se(this),null;if(Y=ie(Y,re),Y===0&&re.ended)return re.length===0&&U(this),null;var z=re.needReadable;l("need readable",z),(re.length===0||re.length-Y<re.highWaterMark)&&(z=!0,l("length less than watermark",z)),re.ended||re.reading?(z=!1,l("reading or ended",z)):z&&(l("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(Y=ie(Ee,re)));var K;return Y>0?K=M(Y,re):K=null,K===null?(re.needReadable=re.length<=re.highWaterMark,Y=0):(re.length-=Y,re.awaitDrain=0),re.length===0&&(re.ended||(re.needReadable=!0),Ee!==Y&&re.ended&&U(this)),K!==null&&this.emit("data",K),K};function ve(Y,re){if(l("onEofChunk"),!re.ended){if(re.decoder){var Ee=re.decoder.end();Ee&&Ee.length&&(re.buffer.push(Ee),re.length+=re.objectMode?1:Ee.length)}re.ended=!0,re.sync?se(Y):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,oe(Y)))}}function se(Y){var re=Y._readableState;l("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(l("emitReadable",re.flowing),re.emittedReadable=!0,Ht.nextTick(oe,Y))}function oe(Y){var re=Y._readableState;l("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(Y.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,ee(Y)}function he(Y,re){re.readingMore||(re.readingMore=!0,Ht.nextTick(Ae,Y,re))}function Ae(Y,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&re.length===0);){var Ee=re.length;if(l("maybeReadMore read 0"),Y.read(0),Ee===re.length)break}re.readingMore=!1}E.prototype._read=function(Y){I(this,new A("_read()"))},E.prototype.pipe=function(Y,re){var Ee=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=Y;break;case 1:z.pipes=[z.pipes,Y];break;default:z.pipes.push(Y);break}z.pipesCount+=1,l("pipe count=%d opts=%j",z.pipesCount,re);var K=(!re||re.end!==!1)&&Y!==Ht.stdout&&Y!==Ht.stderr,W=K?k:Ue;z.endEmitted?Ht.nextTick(W):Ee.once("end",W),Y.on("unpipe",N);function N(Qe,nt){l("onunpipe"),Qe===Ee&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,we())}function k(){l("onend"),Y.end()}var F=fe(Ee);Y.on("drain",F);var ue=!1;function we(){l("cleanup"),Y.removeListener("close",Fe),Y.removeListener("finish",Le),Y.removeListener("drain",F),Y.removeListener("error",ke),Y.removeListener("unpipe",N),Ee.removeListener("end",k),Ee.removeListener("end",Ue),Ee.removeListener("data",ge),ue=!0,z.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&F()}Ee.on("data",ge);function ge(Qe){l("ondata");var nt=Y.write(Qe);l("dest.write",nt),nt===!1&&((z.pipesCount===1&&z.pipes===Y||z.pipesCount>1&&te(z.pipes,Y)!==-1)&&!ue&&(l("false write response, pause",z.awaitDrain),z.awaitDrain++),Ee.pause())}function ke(Qe){l("onerror",Qe),Ue(),Y.removeListener("error",ke),e(Y,"error")===0&&I(Y,Qe)}R(Y,"error",ke);function Fe(){Y.removeListener("finish",Le),Ue()}Y.once("close",Fe);function Le(){l("onfinish"),Y.removeListener("close",Fe),Ue()}Y.once("finish",Le);function Ue(){l("unpipe"),Ee.unpipe(Y)}return Y.emit("pipe",Ee),z.flowing||(l("pipe resume"),Ee.resume()),Y};function fe(Y){return function(){var Ee=Y._readableState;l("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(Y,"data")&&(Ee.flowing=!0,ee(Y))}}E.prototype.unpipe=function(Y){var re=this._readableState,Ee={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return Y&&Y!==re.pipes?this:(Y||(Y=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,Y&&Y.emit("unpipe",this,Ee),this);if(!Y){var z=re.pipes,K=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var W=0;W<K;W++)z[W].emit("unpipe",this,{hasUnpiped:!1});return this}var N=te(re.pipes,Y);return N===-1?this:(re.pipes.splice(N,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),Y.emit("unpipe",this,Ee),this)},E.prototype.on=function(Y,re){var Ee=r.prototype.on.call(this,Y,re),z=this._readableState;return Y==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):Y==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,l("on readable",z.length,z.reading),z.length?se(this):z.reading||Ht.nextTick(X,this)),Ee},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(Y,re){var Ee=r.prototype.removeListener.call(this,Y,re);return Y==="readable"&&Ht.nextTick(D,this),Ee},E.prototype.removeAllListeners=function(Y){var re=r.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&Ht.nextTick(D,this),re};function D(Y){var re=Y._readableState;re.readableListening=Y.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function X(Y){l("readable nexttick read 0"),Y.read(0)}E.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(l("resume"),Y.flowing=!Y.readableListening,Q(this,Y)),Y.paused=!1,this};function Q(Y,re){re.resumeScheduled||(re.resumeScheduled=!0,Ht.nextTick(le,Y,re))}function le(Y,re){l("resume",re.reading),re.reading||Y.read(0),re.resumeScheduled=!1,Y.emit("resume"),ee(Y),re.flowing&&!re.reading&&Y.read(0)}E.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(Y){var re=Y._readableState;for(l("flow",re.flowing);re.flowing&&Y.read()!==null;);}E.prototype.wrap=function(Y){var re=this,Ee=this._readableState,z=!1;Y.on("end",function(){if(l("wrapped end"),Ee.decoder&&!Ee.ended){var N=Ee.decoder.end();N&&N.length&&re.push(N)}re.push(null)}),Y.on("data",function(N){if(l("wrapped data"),Ee.decoder&&(N=Ee.decoder.write(N)),!(Ee.objectMode&&N==null)&&!(!Ee.objectMode&&(!N||!N.length))){var k=re.push(N);k||(z=!0,Y.pause())}});for(var K in Y)this[K]===void 0&&typeof Y[K]=="function"&&(this[K]=function(k){return function(){return Y[k].apply(Y,arguments)}}(K));for(var W=0;W<q.length;W++)Y.on(q[W],this.emit.bind(this,q[W]));return this._read=function(N){l("wrapped _read",N),z&&(z=!1,Y.resume())},this},typeof Symbol=="function"&&(E.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=tH()),v(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),E._fromList=M,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(Y,re){if(re.length===0)return null;var Ee;return re.objectMode?Ee=re.buffer.shift():!Y||Y>=re.length?(re.decoder?Ee=re.buffer.join(""):re.buffer.length===1?Ee=re.buffer.first():Ee=re.buffer.concat(re.length),re.buffer.clear()):Ee=re.buffer.consume(Y,re.decoder),Ee}function U(Y){var re=Y._readableState;l("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,Ht.nextTick(ne,re,Y))}function ne(Y,re){if(l("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,re.readable=!1,re.emit("end"),Y.autoDestroy)){var Ee=re._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&re.destroy()}}typeof Symbol=="function"&&(E.from=function(Y,re){return w===void 0&&(w=rH()),w(E,Y,re)});function te(Y,re){for(var Ee=0,z=Y.length;Ee<z;Ee++)if(Y[Ee]===re)return Ee;return-1}return hv}var fv,NA;function wR(){if(NA)return fv;NA=1,fv=o;var t=qh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=kh();Jl()(o,s);function a(c,f){var m=this._transformState;m.transforming=!1;var h=m.writecb;if(h===null)return this.emit("error",new r);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),h(c);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);s.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){u(c,f,m)}):u(this,null,null)}o.prototype.push=function(c,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,f)},o.prototype._transform=function(c,f,m){m(new e("_transform()"))},o.prototype._write=function(c,f,m){var h=this._transformState;if(h.writecb=m,h.writechunk=c,h.writeencoding=f,!h.transforming){var x=this._readableState;(h.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},o.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(c,f){s.prototype._destroy.call(this,c,function(m){f(m)})};function u(c,f,m){if(f)return c.emit("error",f);if(m!=null&&c.push(m),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return fv}var dv,kA;function nH(){if(kA)return dv;kA=1,dv=e;var t=wR();Jl()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},dv}var pv,IA;function iH(){if(IA)return pv;IA=1;var t;function e(m){var h=!1;return function(){h||(h=!0,m.apply(void 0,arguments))}}var r=qh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(m){if(m)throw m}function a(m){return m.setHeader&&typeof m.abort=="function"}function o(m,h,x,_){_=e(_);var A=!1;m.on("close",function(){A=!0}),t===void 0&&(t=sb()),t(m,{readable:h,writable:x},function(y){if(y)return _(y);A=!0,_()});var d=!1;return function(y){if(!A&&!d){if(d=!0,a(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();_(y||new i("pipe"))}}}function l(m){m()}function u(m,h){return m.pipe(h)}function c(m){return!m.length||typeof m[m.length-1]!="function"?s:m.pop()}function f(){for(var m=arguments.length,h=new Array(m),x=0;x<m;x++)h[x]=arguments[x];var _=c(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var A,d=h.map(function(y,v){var w=v<h.length-1,I=v>0;return o(y,w,I,function(q){A||(A=q),q&&d.forEach(l),!w&&(d.forEach(l),_(A))})});return h.reduce(u)}return pv=f,pv}var mv,CA;function ab(){if(CA)return mv;CA=1,mv=r;var t=tb().EventEmitter,e=Jl();e(r,t),r.Readable=vR(),r.Writable=yR(),r.Duplex=kh(),r.Transform=wR(),r.PassThrough=nH(),r.finished=sb(),r.pipeline=iH(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(h){n.writable&&n.write(h)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(m(),t.listenerCount(this,"error")===0)throw h}s.on("error",f),n.on("error",f);function m(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",f),n.removeListener("error",f),s.removeListener("end",m),s.removeListener("close",m),n.removeListener("close",m)}return s.on("end",m),s.on("close",m),n.on("close",m),n.emit("pipe",s),n},mv}var RA;function sH(){return RA||(RA=1,function(t){(function(e){e.parser=function(M,U){return new n(M,U)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(M,U){if(!(this instanceof n))return new n(M,U);var ne=this;s(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=U||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!M,ne.noscript=!!(M||ne.opt.noscript),ne.state=E.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(_)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),j(ne,"onready")}Object.create||(Object.create=function(M){function U(){}U.prototype=M;var ne=new U;return ne}),Object.keys||(Object.keys=function(M){var U=[];for(var ne in M)M.hasOwnProperty(ne)&&U.push(ne);return U});function i(M){for(var U=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,te=0,Y=r.length;te<Y;te++){var re=M[r[te]].length;if(re>U)switch(r[te]){case"textNode":L(M);break;case"cdata":T(M,"oncdata",M.cdata),M.cdata="";break;case"script":T(M,"onscript",M.script),M.script="";break;default:ie(M,"Max buffer length exceeded: "+r[te])}ne=Math.max(ne,re)}var Ee=e.MAX_BUFFER_LENGTH-ne;M.bufferCheckPosition=Ee+M.position}function s(M){for(var U=0,ne=r.length;U<ne;U++)M[r[U]]=""}function a(M){L(M),M.cdata!==""&&(T(M,"oncdata",M.cdata),M.cdata=""),M.script!==""&&(T(M,"onscript",M.script),M.script="")}n.prototype={end:function(){ve(this)},write:ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=ab().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(M){return M!=="error"&&M!=="end"});function u(M,U){return new c(M,U)}function c(M,U){if(!(this instanceof c))return new c(M,U);o.apply(this),this._parser=new n(M,U),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(te){ne.emit("error",te),ne._parser.error=null},this._decoder=null,l.forEach(function(te){Object.defineProperty(ne,"on"+te,{get:function(){return ne._parser["on"+te]},set:function(Y){if(!Y)return ne.removeAllListeners(te),ne._parser["on"+te]=Y,Y;ne.on(te,Y)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(M){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(M)){if(!this._decoder){var U=Vw().StringDecoder;this._decoder=new U("utf8")}M=this._decoder.write(M)}return this._parser.write(M.toString()),this.emit("data",M),!0},c.prototype.end=function(M){return M&&M.length&&this.write(M),this._parser.end(),!0},c.prototype.on=function(M,U){var ne=this;return!ne._parser["on"+M]&&l.indexOf(M)!==-1&&(ne._parser["on"+M]=function(){var te=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);te.splice(0,0,M),ne.emit.apply(ne,te)}),o.prototype.on.call(ne,M,U)};var f="[CDATA[",m="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",_={xml:h,xmlns:x},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(M){return M===" "||M===`
`||M==="\r"||M==="	"}function I(M){return M==='"'||M==="'"}function q(M){return M===">"||w(M)}function R(M,U){return M.test(U)}function P(M,U){return!R(M,U)}var E=0;e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(M){var U=e.ENTITIES[M],ne=typeof U=="number"?String.fromCharCode(U):U;e.ENTITIES[M]=ne});for(var H in e.STATE)e.STATE[e.STATE[H]]=H;E=e.STATE;function j(M,U,ne){M[U]&&M[U](ne)}function T(M,U,ne){M.textNode&&L(M),j(M,U,ne)}function L(M){M.textNode=C(M.opt,M.textNode),M.textNode&&j(M,"ontext",M.textNode),M.textNode=""}function C(M,U){return M.trim&&(U=U.trim()),M.normalize&&(U=U.replace(/\s+/g," ")),U}function ie(M,U){return L(M),M.trackPosition&&(U+=`
Line: `+M.line+`
Column: `+M.column+`
Char: `+M.c),U=new Error(U),M.error=U,j(M,"onerror",U),M}function ve(M){return M.sawRoot&&!M.closedRoot&&se(M,"Unclosed root tag"),M.state!==E.BEGIN&&M.state!==E.BEGIN_WHITESPACE&&M.state!==E.TEXT&&ie(M,"Unexpected end"),L(M),M.c="",M.closed=!0,j(M,"onend"),n.call(M,M.strict,M.opt),M}function se(M,U){if(typeof M!="object"||!(M instanceof n))throw new Error("bad call to strictFail");M.strict&&ie(M,U)}function oe(M){M.strict||(M.tagName=M.tagName[M.looseCase]());var U=M.tags[M.tags.length-1]||M,ne=M.tag={name:M.tagName,attributes:{}};M.opt.xmlns&&(ne.ns=U.ns),M.attribList.length=0,T(M,"onopentagstart",ne)}function he(M,U){var ne=M.indexOf(":"),te=ne<0?["",M]:M.split(":"),Y=te[0],re=te[1];return U&&M==="xmlns"&&(Y="xmlns",re=""),{prefix:Y,local:re}}function Ae(M){if(M.strict||(M.attribName=M.attribName[M.looseCase]()),M.attribList.indexOf(M.attribName)!==-1||M.tag.attributes.hasOwnProperty(M.attribName)){M.attribName=M.attribValue="";return}if(M.opt.xmlns){var U=he(M.attribName,!0),ne=U.prefix,te=U.local;if(ne==="xmlns")if(te==="xml"&&M.attribValue!==h)se(M,"xml: prefix must be bound to "+h+`
Actual: `+M.attribValue);else if(te==="xmlns"&&M.attribValue!==x)se(M,"xmlns: prefix must be bound to "+x+`
Actual: `+M.attribValue);else{var Y=M.tag,re=M.tags[M.tags.length-1]||M;Y.ns===re.ns&&(Y.ns=Object.create(re.ns)),Y.ns[te]=M.attribValue}M.attribList.push([M.attribName,M.attribValue])}else M.tag.attributes[M.attribName]=M.attribValue,T(M,"onattribute",{name:M.attribName,value:M.attribValue});M.attribName=M.attribValue=""}function fe(M,U){if(M.opt.xmlns){var ne=M.tag,te=he(M.tagName);ne.prefix=te.prefix,ne.local=te.local,ne.uri=ne.ns[te.prefix]||"",ne.prefix&&!ne.uri&&(se(M,"Unbound namespace prefix: "+JSON.stringify(M.tagName)),ne.uri=te.prefix);var Y=M.tags[M.tags.length-1]||M;ne.ns&&Y.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(ge){T(M,"onopennamespace",{prefix:ge,uri:ne.ns[ge]})});for(var re=0,Ee=M.attribList.length;re<Ee;re++){var z=M.attribList[re],K=z[0],W=z[1],N=he(K,!0),k=N.prefix,F=N.local,ue=k===""?"":ne.ns[k]||"",we={name:K,value:W,prefix:k,local:F,uri:ue};k&&k!=="xmlns"&&!ue&&(se(M,"Unbound namespace prefix: "+JSON.stringify(k)),we.uri=k),M.tag.attributes[K]=we,T(M,"onattribute",we)}M.attribList.length=0}M.tag.isSelfClosing=!!U,M.sawRoot=!0,M.tags.push(M.tag),T(M,"onopentag",M.tag),U||(!M.noscript&&M.tagName.toLowerCase()==="script"?M.state=E.SCRIPT:M.state=E.TEXT,M.tag=null,M.tagName=""),M.attribName=M.attribValue="",M.attribList.length=0}function D(M){if(!M.tagName){se(M,"Weird empty close tag."),M.textNode+="</>",M.state=E.TEXT;return}if(M.script){if(M.tagName!=="script"){M.script+="</"+M.tagName+">",M.tagName="",M.state=E.SCRIPT;return}T(M,"onscript",M.script),M.script=""}var U=M.tags.length,ne=M.tagName;M.strict||(ne=ne[M.looseCase]());for(var te=ne;U--;){var Y=M.tags[U];if(Y.name!==te)se(M,"Unexpected close tag");else break}if(U<0){se(M,"Unmatched closing tag: "+M.tagName),M.textNode+="</"+M.tagName+">",M.state=E.TEXT;return}M.tagName=ne;for(var re=M.tags.length;re-- >U;){var Ee=M.tag=M.tags.pop();M.tagName=M.tag.name,T(M,"onclosetag",M.tagName);var z={};for(var K in Ee.ns)z[K]=Ee.ns[K];var W=M.tags[M.tags.length-1]||M;M.opt.xmlns&&Ee.ns!==W.ns&&Object.keys(Ee.ns).forEach(function(N){var k=Ee.ns[N];T(M,"onclosenamespace",{prefix:N,uri:k})})}U===0&&(M.closedRoot=!0),M.tagName=M.attribValue=M.attribName="",M.attribList.length=0,M.state=E.TEXT}function X(M){var U=M.entity,ne=U.toLowerCase(),te,Y="";return M.ENTITIES[U]?M.ENTITIES[U]:M.ENTITIES[ne]?M.ENTITIES[ne]:(U=ne,U.charAt(0)==="#"&&(U.charAt(1)==="x"?(U=U.slice(2),te=parseInt(U,16),Y=te.toString(16)):(U=U.slice(1),te=parseInt(U,10),Y=te.toString(10))),U=U.replace(/^0+/,""),isNaN(te)||Y.toLowerCase()!==U?(se(M,"Invalid character entity"),"&"+M.entity+";"):String.fromCodePoint(te))}function Q(M,U){U==="<"?(M.state=E.OPEN_WAKA,M.startTagPosition=M.position):w(U)||(se(M,"Non-whitespace before first tag."),M.textNode=U,M.state=E.TEXT)}function le(M,U){var ne="";return U<M.length&&(ne=M.charAt(U)),ne}function ee(M){var U=this;if(this.error)throw this.error;if(U.closed)return ie(U,"Cannot write after close. Assign an onready handler.");if(M===null)return ve(U);typeof M=="object"&&(M=M.toString());for(var ne=0,te="";te=le(M,ne++),U.c=te,!!te;)switch(U.trackPosition&&(U.position++,te===`
`?(U.line++,U.column=0):U.column++),U.state){case E.BEGIN:if(U.state=E.BEGIN_WHITESPACE,te==="\uFEFF")continue;Q(U,te);continue;case E.BEGIN_WHITESPACE:Q(U,te);continue;case E.TEXT:if(U.sawRoot&&!U.closedRoot){for(var Y=ne-1;te&&te!=="<"&&te!=="&";)te=le(M,ne++),te&&U.trackPosition&&(U.position++,te===`
`?(U.line++,U.column=0):U.column++);U.textNode+=M.substring(Y,ne-1)}te==="<"&&!(U.sawRoot&&U.closedRoot&&!U.strict)?(U.state=E.OPEN_WAKA,U.startTagPosition=U.position):(!w(te)&&(!U.sawRoot||U.closedRoot)&&se(U,"Text data outside of root node."),te==="&"?U.state=E.TEXT_ENTITY:U.textNode+=te);continue;case E.SCRIPT:te==="<"?U.state=E.SCRIPT_ENDING:U.script+=te;continue;case E.SCRIPT_ENDING:te==="/"?U.state=E.CLOSE_TAG:(U.script+="<"+te,U.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(te==="!")U.state=E.SGML_DECL,U.sgmlDecl="";else if(!w(te))if(R(A,te))U.state=E.OPEN_TAG,U.tagName=te;else if(te==="/")U.state=E.CLOSE_TAG,U.tagName="";else if(te==="?")U.state=E.PROC_INST,U.procInstName=U.procInstBody="";else{if(se(U,"Unencoded <"),U.startTagPosition+1<U.position){var re=U.position-U.startTagPosition;te=new Array(re).join(" ")+te}U.textNode+="<"+te,U.state=E.TEXT}continue;case E.SGML_DECL:(U.sgmlDecl+te).toUpperCase()===f?(T(U,"onopencdata"),U.state=E.CDATA,U.sgmlDecl="",U.cdata=""):U.sgmlDecl+te==="--"?(U.state=E.COMMENT,U.comment="",U.sgmlDecl=""):(U.sgmlDecl+te).toUpperCase()===m?(U.state=E.DOCTYPE,(U.doctype||U.sawRoot)&&se(U,"Inappropriately located doctype declaration"),U.doctype="",U.sgmlDecl=""):te===">"?(T(U,"onsgmldeclaration",U.sgmlDecl),U.sgmlDecl="",U.state=E.TEXT):(I(te)&&(U.state=E.SGML_DECL_QUOTED),U.sgmlDecl+=te);continue;case E.SGML_DECL_QUOTED:te===U.q&&(U.state=E.SGML_DECL,U.q=""),U.sgmlDecl+=te;continue;case E.DOCTYPE:te===">"?(U.state=E.TEXT,T(U,"ondoctype",U.doctype),U.doctype=!0):(U.doctype+=te,te==="["?U.state=E.DOCTYPE_DTD:I(te)&&(U.state=E.DOCTYPE_QUOTED,U.q=te));continue;case E.DOCTYPE_QUOTED:U.doctype+=te,te===U.q&&(U.q="",U.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:U.doctype+=te,te==="]"?U.state=E.DOCTYPE:I(te)&&(U.state=E.DOCTYPE_DTD_QUOTED,U.q=te);continue;case E.DOCTYPE_DTD_QUOTED:U.doctype+=te,te===U.q&&(U.state=E.DOCTYPE_DTD,U.q="");continue;case E.COMMENT:te==="-"?U.state=E.COMMENT_ENDING:U.comment+=te;continue;case E.COMMENT_ENDING:te==="-"?(U.state=E.COMMENT_ENDED,U.comment=C(U.opt,U.comment),U.comment&&T(U,"oncomment",U.comment),U.comment=""):(U.comment+="-"+te,U.state=E.COMMENT);continue;case E.COMMENT_ENDED:te!==">"?(se(U,"Malformed comment"),U.comment+="--"+te,U.state=E.COMMENT):U.state=E.TEXT;continue;case E.CDATA:te==="]"?U.state=E.CDATA_ENDING:U.cdata+=te;continue;case E.CDATA_ENDING:te==="]"?U.state=E.CDATA_ENDING_2:(U.cdata+="]"+te,U.state=E.CDATA);continue;case E.CDATA_ENDING_2:te===">"?(U.cdata&&T(U,"oncdata",U.cdata),T(U,"onclosecdata"),U.cdata="",U.state=E.TEXT):te==="]"?U.cdata+="]":(U.cdata+="]]"+te,U.state=E.CDATA);continue;case E.PROC_INST:te==="?"?U.state=E.PROC_INST_ENDING:w(te)?U.state=E.PROC_INST_BODY:U.procInstName+=te;continue;case E.PROC_INST_BODY:if(!U.procInstBody&&w(te))continue;te==="?"?U.state=E.PROC_INST_ENDING:U.procInstBody+=te;continue;case E.PROC_INST_ENDING:te===">"?(T(U,"onprocessinginstruction",{name:U.procInstName,body:U.procInstBody}),U.procInstName=U.procInstBody="",U.state=E.TEXT):(U.procInstBody+="?"+te,U.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:R(d,te)?U.tagName+=te:(oe(U),te===">"?fe(U):te==="/"?U.state=E.OPEN_TAG_SLASH:(w(te)||se(U,"Invalid character in tag name"),U.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:te===">"?(fe(U,!0),D(U)):(se(U,"Forward-slash in opening tag not followed by >"),U.state=E.ATTRIB);continue;case E.ATTRIB:if(w(te))continue;te===">"?fe(U):te==="/"?U.state=E.OPEN_TAG_SLASH:R(A,te)?(U.attribName=te,U.attribValue="",U.state=E.ATTRIB_NAME):se(U,"Invalid attribute name");continue;case E.ATTRIB_NAME:te==="="?U.state=E.ATTRIB_VALUE:te===">"?(se(U,"Attribute without value"),U.attribValue=U.attribName,Ae(U),fe(U)):w(te)?U.state=E.ATTRIB_NAME_SAW_WHITE:R(d,te)?U.attribName+=te:se(U,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(te==="=")U.state=E.ATTRIB_VALUE;else{if(w(te))continue;se(U,"Attribute without value"),U.tag.attributes[U.attribName]="",U.attribValue="",T(U,"onattribute",{name:U.attribName,value:""}),U.attribName="",te===">"?fe(U):R(A,te)?(U.attribName=te,U.state=E.ATTRIB_NAME):(se(U,"Invalid attribute name"),U.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(w(te))continue;I(te)?(U.q=te,U.state=E.ATTRIB_VALUE_QUOTED):(se(U,"Unquoted attribute value"),U.state=E.ATTRIB_VALUE_UNQUOTED,U.attribValue=te);continue;case E.ATTRIB_VALUE_QUOTED:if(te!==U.q){te==="&"?U.state=E.ATTRIB_VALUE_ENTITY_Q:U.attribValue+=te;continue}Ae(U),U.q="",U.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:w(te)?U.state=E.ATTRIB:te===">"?fe(U):te==="/"?U.state=E.OPEN_TAG_SLASH:R(A,te)?(se(U,"No whitespace between attributes"),U.attribName=te,U.attribValue="",U.state=E.ATTRIB_NAME):se(U,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!q(te)){te==="&"?U.state=E.ATTRIB_VALUE_ENTITY_U:U.attribValue+=te;continue}Ae(U),te===">"?fe(U):U.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(U.tagName)te===">"?D(U):R(d,te)?U.tagName+=te:U.script?(U.script+="</"+U.tagName,U.tagName="",U.state=E.SCRIPT):(w(te)||se(U,"Invalid tagname in closing tag"),U.state=E.CLOSE_TAG_SAW_WHITE);else{if(w(te))continue;P(A,te)?U.script?(U.script+="</"+te,U.state=E.SCRIPT):se(U,"Invalid tagname in closing tag."):U.tagName=te}continue;case E.CLOSE_TAG_SAW_WHITE:if(w(te))continue;te===">"?D(U):se(U,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var Ee,z;switch(U.state){case E.TEXT_ENTITY:Ee=E.TEXT,z="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:Ee=E.ATTRIB_VALUE_QUOTED,z="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:Ee=E.ATTRIB_VALUE_UNQUOTED,z="attribValue";break}te===";"?(U[z]+=X(U),U.entity="",U.state=Ee):R(U.entity.length?v:y,te)?U.entity+=te:(se(U,"Invalid character in entity name"),U[z]+="&"+U.entity+te,U.entity="",U.state=Ee);continue;default:throw new Error(U,"Unknown state: "+U.state)}return U.position>=U.bufferCheckPosition&&i(U),U}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var M=String.fromCharCode,U=Math.floor,ne=function(){var te=16384,Y=[],re,Ee,z=-1,K=arguments.length;if(!K)return"";for(var W="";++z<K;){var N=Number(arguments[z]);if(!isFinite(N)||N<0||N>1114111||U(N)!==N)throw RangeError("Invalid code point: "+N);N<=65535?Y.push(N):(N-=65536,re=(N>>10)+55296,Ee=N%1024+56320,Y.push(re,Ee)),(z+1===K||Y.length>te)&&(W+=M.apply(null,Y),Y.length=0)}return W};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(t)}(ey)),ey}var gv,PA;function ob(){return PA||(PA=1,gv={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),gv}var yv,LA;function lb(){if(LA)return yv;LA=1;var t=ob().isArray;return yv={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},yv}var vv,OA;function _R(){if(OA)return vv;OA=1;var t=sH(),e=lb(),r=ob().isArray,n,i;function s(d){return n=e.copyOptions(d),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(d){var y=Number(d);if(!isNaN(y))return y;var v=d.toLowerCase();return v==="true"?!0:v==="false"?!1:d}function o(d,y){var v;if(n.compact){if(!i[n[d+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[d+"Key"])!==-1:n.alwaysArray)&&(i[n[d+"Key"]]=[]),i[n[d+"Key"]]&&!r(i[n[d+"Key"]])&&(i[n[d+"Key"]]=[i[n[d+"Key"]]]),d+"Fn"in n&&typeof y=="string"&&(y=n[d+"Fn"](y,i)),d==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(v in y)if(y.hasOwnProperty(v))if("instructionFn"in n)y[v]=n.instructionFn(y[v],v,i);else{var w=y[v];delete y[v],y[n.instructionNameFn(v,w,i)]=w}}r(i[n[d+"Key"]])?i[n[d+"Key"]].push(y):i[n[d+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var I={};if(I[n.typeKey]=d,d==="instruction"){for(v in y)if(y.hasOwnProperty(v))break;I[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(v,y,i):v,n.instructionHasAttributes?(I[n.attributesKey]=y[v][n.attributesKey],"instructionFn"in n&&(I[n.attributesKey]=n.instructionFn(I[n.attributesKey],v,i))):("instructionFn"in n&&(y[v]=n.instructionFn(y[v],v,i)),I[n.instructionKey]=y[v])}else d+"Fn"in n&&(y=n[d+"Fn"](y,i)),I[n[d+"Key"]]=y;n.addParent&&(I[n.parentKey]=i),i[n.elementsKey].push(I)}}function l(d){if("attributesFn"in n&&d&&(d=n.attributesFn(d,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&d){var y;for(y in d)if(d.hasOwnProperty(y)&&(n.trim&&(d[y]=d[y].trim()),n.nativeTypeAttributes&&(d[y]=a(d[y])),"attributeValueFn"in n&&(d[y]=n.attributeValueFn(d[y],y,i)),"attributeNameFn"in n)){var v=d[y];delete d[y],d[n.attributeNameFn(y,d[y],i)]=v}}return d}function u(d){var y={};if(d.body&&(d.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var v=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=v.exec(d.body))!==null;)y[w[1]]=w[2]||w[3]||w[4];y=l(y)}if(d.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(d.body=d.body.trim());var I={};n.instructionHasAttributes&&Object.keys(y).length?(I[d.name]={},I[d.name][n.attributesKey]=y):I[d.name]=d.body,o("instruction",I)}}function c(d,y){var v;if(typeof d=="object"&&(y=d.attributes,d=d.name),y=l(y),"elementNameFn"in n&&(d=n.elementNameFn(d,i)),n.compact){if(v={},!n.ignoreAttributes&&y&&Object.keys(y).length){v[n.attributesKey]={};var w;for(w in y)y.hasOwnProperty(w)&&(v[n.attributesKey][w]=y[w])}!(d in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(d)!==-1:n.alwaysArray)&&(i[d]=[]),i[d]&&!r(i[d])&&(i[d]=[i[d]]),r(i[d])?i[d].push(v):i[d]=v}else i[n.elementsKey]||(i[n.elementsKey]=[]),v={},v[n.typeKey]="element",v[n.nameKey]=d,!n.ignoreAttributes&&y&&Object.keys(y).length&&(v[n.attributesKey]=y),n.alwaysChildren&&(v[n.elementsKey]=[]),i[n.elementsKey].push(v);v[n.parentKey]=i,i=v}function f(d){n.ignoreText||!d.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(d=d.trim()),n.nativeType&&(d=a(d)),n.sanitize&&(d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",d))}function m(d){n.ignoreComment||(n.trim&&(d=d.trim()),o("comment",d))}function h(d){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function x(d){n.ignoreCdata||(n.trim&&(d=d.trim()),o("cdata",d))}function _(d){n.ignoreDoctype||(d=d.replace(/^ /,""),n.trim&&(d=d.trim()),o("doctype",d))}function A(d){d.note=d}return vv=function(d,y){var v=t.parser(!0,{}),w={};if(i=w,n=s(y),v.opt={strictEntities:!0},v.onopentag=c,v.ontext=f,v.oncomment=m,v.onclosetag=h,v.onerror=A,v.oncdata=x,v.ondoctype=_,v.onprocessinginstruction=u,v.write(d).close(),w[n.elementsKey]){var I=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=I,delete w.text}return w},vv}var wv,DA;function aH(){if(DA)return wv;DA=1;var t=lb(),e=_R();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return wv=function(n,i){var s,a,o,l;return s=r(i),a=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(u,c){return u===l?"_":c},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},wv}var _v,jA;function bR(){if(jA)return _v;jA=1;var t=lb(),e=ob().isArray,r,n;function i(v){var w=t.copyOptions(v);return t.ensureFlagExists("ignoreDeclaration",w),t.ensureFlagExists("ignoreInstruction",w),t.ensureFlagExists("ignoreAttributes",w),t.ensureFlagExists("ignoreText",w),t.ensureFlagExists("ignoreComment",w),t.ensureFlagExists("ignoreCdata",w),t.ensureFlagExists("ignoreDoctype",w),t.ensureFlagExists("compact",w),t.ensureFlagExists("indentText",w),t.ensureFlagExists("indentCdata",w),t.ensureFlagExists("indentAttributes",w),t.ensureFlagExists("indentInstruction",w),t.ensureFlagExists("fullTagEmptyElement",w),t.ensureFlagExists("noQuotesForNativeAttributes",w),t.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),t.ensureKeyExists("declaration",w),t.ensureKeyExists("instruction",w),t.ensureKeyExists("attributes",w),t.ensureKeyExists("text",w),t.ensureKeyExists("comment",w),t.ensureKeyExists("cdata",w),t.ensureKeyExists("doctype",w),t.ensureKeyExists("type",w),t.ensureKeyExists("name",w),t.ensureKeyExists("elements",w),t.checkFnExists("doctype",w),t.checkFnExists("instruction",w),t.checkFnExists("cdata",w),t.checkFnExists("comment",w),t.checkFnExists("text",w),t.checkFnExists("instructionName",w),t.checkFnExists("elementName",w),t.checkFnExists("attributeName",w),t.checkFnExists("attributeValue",w),t.checkFnExists("attributes",w),t.checkFnExists("fullTagEmptyElement",w),w}function s(v,w,I){return(!I&&v.spaces?`
`:"")+Array(w+1).join(v.spaces)}function a(v,w,I){if(w.ignoreAttributes)return"";"attributesFn"in w&&(v=w.attributesFn(v,n,r));var q,R,P,E,H=[];for(q in v)v.hasOwnProperty(q)&&v[q]!==null&&v[q]!==void 0&&(E=w.noQuotesForNativeAttributes&&typeof v[q]!="string"?"":'"',R=""+v[q],R=R.replace(/"/g,"&quot;"),P="attributeNameFn"in w?w.attributeNameFn(q,R,n,r):q,H.push(w.spaces&&w.indentAttributes?s(w,I+1,!1):" "),H.push(P+"="+E+("attributeValueFn"in w?w.attributeValueFn(R,q,n,r):R)+E));return v&&Object.keys(v).length&&w.spaces&&w.indentAttributes&&H.push(s(w,I,!1)),H.join("")}function o(v,w,I){return r=v,n="xml",w.ignoreDeclaration?"":"<?xml"+a(v[w.attributesKey],w,I)+"?>"}function l(v,w,I){if(w.ignoreInstruction)return"";var q;for(q in v)if(v.hasOwnProperty(q))break;var R="instructionNameFn"in w?w.instructionNameFn(q,v[q],n,r):q;if(typeof v[q]=="object")return r=v,n=R,"<?"+R+a(v[q][w.attributesKey],w,I)+"?>";var P=v[q]?v[q]:"";return"instructionFn"in w&&(P=w.instructionFn(P,q,n,r)),"<?"+R+(P?" "+P:"")+"?>"}function u(v,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(v,n,r):v)+"-->"}function c(v,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(v,n,r):v.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(v,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(v,n,r):v)+">"}function m(v,w){return w.ignoreText?"":(v=""+v,v=v.replace(/&amp;/g,"&"),v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in w?w.textFn(v,n,r):v)}function h(v,w){var I;if(v.elements&&v.elements.length)for(I=0;I<v.elements.length;++I)switch(v.elements[I][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function x(v,w,I){r=v,n=v.name;var q=[],R="elementNameFn"in w?w.elementNameFn(v.name,v):v.name;q.push("<"+R),v[w.attributesKey]&&q.push(a(v[w.attributesKey],w,I));var P=v[w.elementsKey]&&v[w.elementsKey].length||v[w.attributesKey]&&v[w.attributesKey]["xml:space"]==="preserve";return P||("fullTagEmptyElementFn"in w?P=w.fullTagEmptyElementFn(v.name,v):P=w.fullTagEmptyElement),P?(q.push(">"),v[w.elementsKey]&&v[w.elementsKey].length&&(q.push(_(v[w.elementsKey],w,I+1)),r=v,n=v.name),q.push(w.spaces&&h(v,w)?`
`+Array(I+1).join(w.spaces):""),q.push("</"+R+">")):q.push("/>"),q.join("")}function _(v,w,I,q){return v.reduce(function(R,P){var E=s(w,I,q&&!R);switch(P.type){case"element":return R+E+x(P,w,I);case"comment":return R+E+u(P[w.commentKey],w);case"doctype":return R+E+f(P[w.doctypeKey],w);case"cdata":return R+(w.indentCdata?E:"")+c(P[w.cdataKey],w);case"text":return R+(w.indentText?E:"")+m(P[w.textKey],w);case"instruction":var H={};return H[P[w.nameKey]]=P[w.attributesKey]?P:P[w.instructionKey],R+(w.indentInstruction?E:"")+l(H,w,I)}},"")}function A(v,w,I){var q;for(q in v)if(v.hasOwnProperty(q))switch(q){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||I)return!0;break;case w.cdataKey:if(w.indentCdata||I)return!0;break;case w.instructionKey:if(w.indentInstruction||I)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function d(v,w,I,q,R){r=v,n=w;var P="elementNameFn"in I?I.elementNameFn(w,v):w;if(typeof v>"u"||v===null||v==="")return"fullTagEmptyElementFn"in I&&I.fullTagEmptyElementFn(w,v)||I.fullTagEmptyElement?"<"+P+"></"+P+">":"<"+P+"/>";var E=[];if(w){if(E.push("<"+P),typeof v!="object")return E.push(">"+m(v,I)+"</"+P+">"),E.join("");v[I.attributesKey]&&E.push(a(v[I.attributesKey],I,q));var H=A(v,I,!0)||v[I.attributesKey]&&v[I.attributesKey]["xml:space"]==="preserve";if(H||("fullTagEmptyElementFn"in I?H=I.fullTagEmptyElementFn(w,v):H=I.fullTagEmptyElement),H)E.push(">");else return E.push("/>"),E.join("")}return E.push(y(v,I,q+1,!1)),r=v,n=w,w&&E.push((R?s(I,q,!1):"")+"</"+P+">"),E.join("")}function y(v,w,I,q){var R,P,E,H=[];for(P in v)if(v.hasOwnProperty(P))for(E=e(v[P])?v[P]:[v[P]],R=0;R<E.length;++R){switch(P){case w.declarationKey:H.push(o(E[R],w,I));break;case w.instructionKey:H.push((w.indentInstruction?s(w,I,q):"")+l(E[R],w,I));break;case w.attributesKey:case w.parentKey:break;case w.textKey:H.push((w.indentText?s(w,I,q):"")+m(E[R],w));break;case w.cdataKey:H.push((w.indentCdata?s(w,I,q):"")+c(E[R],w));break;case w.doctypeKey:H.push(s(w,I,q)+f(E[R],w));break;case w.commentKey:H.push(s(w,I,q)+u(E[R],w));break;default:H.push(s(w,I,q)+d(E[R],P,w,I,A(E[R],w)))}q=q&&!H.length}return H.join("")}return _v=function(v,w){w=i(w);var I=[];return r=v,n="_root_",w.compact?I.push(y(v,w,0,!0)):(v[w.declarationKey]&&I.push(o(v[w.declarationKey],w,0)),v[w.elementsKey]&&v[w.elementsKey].length&&I.push(_(v[w.elementsKey],w,0,!I.length))),I.join("")},_v}var bv,FA;function oH(){if(FA)return bv;FA=1;var t=bR();return bv=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},bv}var xv,MA;function lH(){if(MA)return xv;MA=1;var t=_R(),e=aH(),r=bR(),n=oH();return xv={xml2js:t,xml2json:e,js2xml:r,json2xml:n},xv}var xR=lH();const ub=t=>{switch(t.type){case void 0:case"element":const e=new cH(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=ub(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class uH extends yt{}class cH extends ze{static fromXmlString(e){const r=xR.xml2js(e,{compact:!1});return ub(r)}constructor(e,r){super(e),r&&this.root.push(new uH(r))}push(e){this.root.push(e)}}class hH extends ze{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class ER extends ze{constructor(e,r){super(e),r&&(this.root=r.root)}}const Bi=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},H0=t=>{const e=Bi(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},AR=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},BA=t=>AR(t,1),SR=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},TR=t=>{const e=SR(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Ih=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return AR(e,3)},ku=t=>typeof t=="string"?SR(t):Bi(t),fH=t=>typeof t=="string"?TR(t):H0(t),$s=t=>typeof t=="string"?TR(t):H0(t),dH=H0,pH=H0,mH=t=>t.toISOString();class Je extends ze{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new ln({val:r}))}}class Ev extends ze{constructor(e,r){super(e),this.root.push(new ln({val:fH(r)}))}}class lh extends ze{constructor(e,r){super(e),this.root.push(new ln({val:r}))}}const xf=(t,e)=>new dr({name:t,attributes:{value:{key:"w:val",value:e}}});class td extends ze{constructor(e,r){super(e),this.root.push(new ln({val:r}))}}class pu extends ze{constructor(e,r){super(e),this.root.push(r)}}class dr extends ze{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new rp(r)),n&&this.root.push(...n)}}const xa={START:"start",LEFT:"left"};class gH extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class yH extends ze{constructor(e){super("w:jc"),this.root.push(new gH({val:e}))}}class $r extends ze{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new vH({style:s,color:r===void 0?void 0:Ih(r),size:n===void 0?void 0:dH(n),space:i===void 0?void 0:pH(i)}))}}class vH extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const cb={SINGLE:"single",NONE:"none"};class wH extends V0{constructor(e){super("w:pBdr"),e.top&&this.root.push(new $r("w:top",e.top)),e.bottom&&this.root.push(new $r("w:bottom",e.bottom)),e.left&&this.root.push(new $r("w:left",e.left)),e.right&&this.root.push(new $r("w:right",e.right))}}class _H extends ze{constructor(){super("w:pBdr");const e=new $r("w:bottom",{color:"auto",space:1,style:cb.SINGLE,size:6});this.root.push(e)}}class bH extends ze{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new rp({start:{key:"w:start",value:e===void 0?void 0:ku(e)},end:{key:"w:end",value:r===void 0?void 0:ku(r)},left:{key:"w:left",value:n===void 0?void 0:ku(n)},right:{key:"w:right",value:i===void 0?void 0:ku(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:$s(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:$s(a)}}))}}let xH=class extends ze{constructor(){super("w:br")}};const hb={BEGIN:"begin",END:"end",SEPARATE:"separate"};class fb extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class im extends ze{constructor(e){super("w:fldChar"),this.root.push(new fb({type:hb.BEGIN,dirty:e}))}}class sm extends ze{constructor(e){super("w:fldChar"),this.root.push(new fb({type:hb.SEPARATE,dirty:e}))}}class am extends ze{constructor(e){super("w:fldChar"),this.root.push(new fb({type:hb.END,dirty:e}))}}const Ch={DEFAULT:"default",PRESERVE:"preserve"};class Rh extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{space:"xml:space"})}}class EH extends ze{constructor(){super("w:instrText"),this.root.push(new Rh({space:Ch.PRESERVE})),this.root.push("PAGE")}}class AH extends ze{constructor(){super("w:instrText"),this.root.push(new Rh({space:Ch.PRESERVE})),this.root.push("NUMPAGES")}}class SH extends ze{constructor(){super("w:instrText"),this.root.push(new Rh({space:Ch.PRESERVE})),this.root.push("SECTIONPAGES")}}class TH extends ze{constructor(){super("w:instrText"),this.root.push(new Rh({space:Ch.PRESERVE})),this.root.push("SECTION")}}class NH extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class NR extends ze{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new NH({fill:e===void 0?void 0:Ih(e),color:r===void 0?void 0:Ih(r),type:n}))}}class kH extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const IH={DOT:"dot"};class CH extends ze{constructor(e){super("w:em"),this.root.push(new ln({val:e}))}}class RH extends CH{constructor(e=IH.DOT){super(e)}}class PH extends ze{constructor(e){super("w:spacing"),this.root.push(new ln({val:ku(e)}))}}class LH extends ze{constructor(e){super("w:color"),this.root.push(new ln({val:Ih(e)}))}}class OH extends ze{constructor(e){super("w:highlight"),this.root.push(new ln({val:e}))}}class DH extends ze{constructor(e){super("w:highlightCs"),this.root.push(new ln({val:e}))}}const jH=t=>new dr({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class UA extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Av extends ze{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new UA({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new UA(n))}}}let kR=class extends ze{constructor(e){super("w:vertAlign"),this.root.push(new ln({val:e}))}};class FH extends kR{constructor(){super("superscript")}}class MH extends kR{constructor(){super("subscript")}}const IR={SINGLE:"single"};class BH extends ze{constructor(e=IR.SINGLE,r){super("w:u"),this.root.push(new ln({val:e,color:r===void 0?void 0:Ih(r)}))}}class ic extends V0{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new lh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Av(e.font)):"name"in e.font?this.push(new Av(e.font.name,e.font.hint)):this.push(new Av(e.font))),e.bold!==void 0&&this.push(new Je("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Je("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Je("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Je("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Je("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Je("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Je("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Je("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Je("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Je("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Je("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Je("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Je("w:vanish",e.vanish)),e.color&&this.push(new LH(e.color)),e.characterSpacing&&this.push(new PH(e.characterSpacing)),e.scale!==void 0&&this.push(new td("w:w",e.scale)),e.kern&&this.push(new Ev("w:kern",e.kern)),e.position&&this.push(new lh("w:position",e.position)),e.size!==void 0&&this.push(new Ev("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Ev("w:szCs",i)),e.highlight&&this.push(new OH(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new DH(s)),e.underline&&this.push(new BH(e.underline.type,e.underline.color)),e.effect&&this.push(new lh("w:effect",e.effect)),e.border&&this.push(new $r("w:bdr",e.border)),e.shading&&this.push(new NR(e.shading)),e.subScript&&this.push(new MH),e.superScript&&this.push(new FH),e.rightToLeft!==void 0&&this.push(new Je("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new RH(e.emphasisMark.type)),e.language&&this.push(jH(e.language)),e.specVanish&&this.push(new Je("w:specVanish",e.vanish)),e.math&&this.push(new Je("w:oMath",e.math)),e.revision&&this.push(new UH(e.revision))}push(e){this.root.push(e)}}class UH extends ze{constructor(e){super("w:rPrChange"),this.root.push(new kH({id:e.id,author:e.author,date:e.date})),this.addChildElement(new ic(e))}}class VA extends ze{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new Rh({space:Ch.PRESERVE})),this.root.push(e)):(this.root.push(new Rh({space:(r=e.space)!=null?r:Ch.DEFAULT})),this.root.push(e.text))}}const om={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class ap extends ze{constructor(e){if(super("w:r"),Be(this,"properties"),this.properties=new ic(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new xH);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case om.CURRENT:this.root.push(new im),this.root.push(new EH),this.root.push(new sm),this.root.push(new am);break;case om.TOTAL_PAGES:this.root.push(new im),this.root.push(new AH),this.root.push(new sm),this.root.push(new am);break;case om.TOTAL_PAGES_IN_SECTION:this.root.push(new im),this.root.push(new SH),this.root.push(new sm),this.root.push(new am);break;case om.CURRENT_SECTION:this.root.push(new im),this.root.push(new TH),this.root.push(new sm),this.root.push(new am);break;default:this.root.push(new VA(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new VA(e.text))}}class cn extends ap{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Sv={},pr={},Tv,zA;function op(){if(zA)return Tv;zA=1,Tv=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Tv}var qA;function Va(){if(qA)return pr;qA=1;var t=op(),e=Jl();pr.inherits=e;function r(T,L){return(T.charCodeAt(L)&64512)!==55296||L<0||L+1>=T.length?!1:(T.charCodeAt(L+1)&64512)===56320}function n(T,L){if(Array.isArray(T))return T.slice();if(!T)return[];var C=[];if(typeof T=="string")if(L){if(L==="hex")for(T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T),ve=0;ve<T.length;ve+=2)C.push(parseInt(T[ve]+T[ve+1],16))}else for(var ie=0,ve=0;ve<T.length;ve++){var se=T.charCodeAt(ve);se<128?C[ie++]=se:se<2048?(C[ie++]=se>>6|192,C[ie++]=se&63|128):r(T,ve)?(se=65536+((se&1023)<<10)+(T.charCodeAt(++ve)&1023),C[ie++]=se>>18|240,C[ie++]=se>>12&63|128,C[ie++]=se>>6&63|128,C[ie++]=se&63|128):(C[ie++]=se>>12|224,C[ie++]=se>>6&63|128,C[ie++]=se&63|128)}else for(ve=0;ve<T.length;ve++)C[ve]=T[ve]|0;return C}pr.toArray=n;function i(T){for(var L="",C=0;C<T.length;C++)L+=o(T[C].toString(16));return L}pr.toHex=i;function s(T){var L=T>>>24|T>>>8&65280|T<<8&16711680|(T&255)<<24;return L>>>0}pr.htonl=s;function a(T,L){for(var C="",ie=0;ie<T.length;ie++){var ve=T[ie];L==="little"&&(ve=s(ve)),C+=l(ve.toString(16))}return C}pr.toHex32=a;function o(T){return T.length===1?"0"+T:T}pr.zero2=o;function l(T){return T.length===7?"0"+T:T.length===6?"00"+T:T.length===5?"000"+T:T.length===4?"0000"+T:T.length===3?"00000"+T:T.length===2?"000000"+T:T.length===1?"0000000"+T:T}pr.zero8=l;function u(T,L,C,ie){var ve=C-L;t(ve%4===0);for(var se=new Array(ve/4),oe=0,he=L;oe<se.length;oe++,he+=4){var Ae;ie==="big"?Ae=T[he]<<24|T[he+1]<<16|T[he+2]<<8|T[he+3]:Ae=T[he+3]<<24|T[he+2]<<16|T[he+1]<<8|T[he],se[oe]=Ae>>>0}return se}pr.join32=u;function c(T,L){for(var C=new Array(T.length*4),ie=0,ve=0;ie<T.length;ie++,ve+=4){var se=T[ie];L==="big"?(C[ve]=se>>>24,C[ve+1]=se>>>16&255,C[ve+2]=se>>>8&255,C[ve+3]=se&255):(C[ve+3]=se>>>24,C[ve+2]=se>>>16&255,C[ve+1]=se>>>8&255,C[ve]=se&255)}return C}pr.split32=c;function f(T,L){return T>>>L|T<<32-L}pr.rotr32=f;function m(T,L){return T<<L|T>>>32-L}pr.rotl32=m;function h(T,L){return T+L>>>0}pr.sum32=h;function x(T,L,C){return T+L+C>>>0}pr.sum32_3=x;function _(T,L,C,ie){return T+L+C+ie>>>0}pr.sum32_4=_;function A(T,L,C,ie,ve){return T+L+C+ie+ve>>>0}pr.sum32_5=A;function d(T,L,C,ie){var ve=T[L],se=T[L+1],oe=ie+se>>>0,he=(oe<ie?1:0)+C+ve;T[L]=he>>>0,T[L+1]=oe}pr.sum64=d;function y(T,L,C,ie){var ve=L+ie>>>0,se=(ve<L?1:0)+T+C;return se>>>0}pr.sum64_hi=y;function v(T,L,C,ie){var ve=L+ie;return ve>>>0}pr.sum64_lo=v;function w(T,L,C,ie,ve,se,oe,he){var Ae=0,fe=L;fe=fe+ie>>>0,Ae+=fe<L?1:0,fe=fe+se>>>0,Ae+=fe<se?1:0,fe=fe+he>>>0,Ae+=fe<he?1:0;var D=T+C+ve+oe+Ae;return D>>>0}pr.sum64_4_hi=w;function I(T,L,C,ie,ve,se,oe,he){var Ae=L+ie+se+he;return Ae>>>0}pr.sum64_4_lo=I;function q(T,L,C,ie,ve,se,oe,he,Ae,fe){var D=0,X=L;X=X+ie>>>0,D+=X<L?1:0,X=X+se>>>0,D+=X<se?1:0,X=X+he>>>0,D+=X<he?1:0,X=X+fe>>>0,D+=X<fe?1:0;var Q=T+C+ve+oe+Ae+D;return Q>>>0}pr.sum64_5_hi=q;function R(T,L,C,ie,ve,se,oe,he,Ae,fe){var D=L+ie+se+he+fe;return D>>>0}pr.sum64_5_lo=R;function P(T,L,C){var ie=L<<32-C|T>>>C;return ie>>>0}pr.rotr64_hi=P;function E(T,L,C){var ie=T<<32-C|L>>>C;return ie>>>0}pr.rotr64_lo=E;function H(T,L,C){return T>>>C}pr.shr64_hi=H;function j(T,L,C){var ie=T<<32-C|L>>>C;return ie>>>0}return pr.shr64_lo=j,pr}var Nv={},HA;function lp(){if(HA)return Nv;HA=1;var t=Va(),e=op();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Nv.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},Nv}var mu={},_a={},WA;function CR(){if(WA)return _a;WA=1;var t=Va(),e=t.rotr32;function r(c,f,m,h){if(c===0)return n(f,m,h);if(c===1||c===3)return s(f,m,h);if(c===2)return i(f,m,h)}_a.ft_1=r;function n(c,f,m){return c&f^~c&m}_a.ch32=n;function i(c,f,m){return c&f^c&m^f&m}_a.maj32=i;function s(c,f,m){return c^f^m}_a.p32=s;function a(c){return e(c,2)^e(c,13)^e(c,22)}_a.s0_256=a;function o(c){return e(c,6)^e(c,11)^e(c,25)}_a.s1_256=o;function l(c){return e(c,7)^e(c,18)^c>>>3}_a.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return _a.g1_256=u,_a}var kv,$A;function VH(){if($A)return kv;$A=1;var t=Va(),e=lp(),r=CR(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),kv=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,m){for(var h=this.W,x=0;x<16;x++)h[x]=f[m+x];for(;x<h.length;x++)h[x]=n(h[x-3]^h[x-8]^h[x-14]^h[x-16],1);var _=this.h[0],A=this.h[1],d=this.h[2],y=this.h[3],v=this.h[4];for(x=0;x<h.length;x++){var w=~~(x/20),I=s(n(_,5),a(w,A,d,y),v,h[x],l[w]);v=y,y=d,d=n(A,30),A=_,_=I}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],A),this.h[2]=i(this.h[2],d),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],v)},u.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},kv}var Iv,GA;function RR(){if(GA)return Iv;GA=1;var t=Va(),e=lp(),r=CR(),n=op(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,f=r.g0_256,m=r.g1_256,h=e.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return t.inherits(_,h),Iv=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(d,y){for(var v=this.W,w=0;w<16;w++)v[w]=d[y+w];for(;w<v.length;w++)v[w]=s(m(v[w-2]),v[w-7],f(v[w-15]),v[w-16]);var I=this.h[0],q=this.h[1],R=this.h[2],P=this.h[3],E=this.h[4],H=this.h[5],j=this.h[6],T=this.h[7];for(n(this.k.length===v.length),w=0;w<v.length;w++){var L=a(T,c(E),o(E,H,j),this.k[w],v[w]),C=i(u(I),l(I,q,R));T=j,j=H,H=E,E=i(P,L),P=R,R=q,q=I,I=i(L,C)}this.h[0]=i(this.h[0],I),this.h[1]=i(this.h[1],q),this.h[2]=i(this.h[2],R),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],E),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],j),this.h[7]=i(this.h[7],T)},_.prototype._digest=function(d){return d==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Iv}var Cv,KA;function zH(){if(KA)return Cv;KA=1;var t=Va(),e=RR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Cv=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Cv}var Rv,XA;function PR(){if(XA)return Rv;XA=1;var t=Va(),e=lp(),r=op(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,m=t.sum64_5_hi,h=t.sum64_5_lo,x=e.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}t.inherits(A,x),Rv=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(C,ie){for(var ve=this.W,se=0;se<32;se++)ve[se]=C[ie+se];for(;se<ve.length;se+=2){var oe=j(ve[se-4],ve[se-3]),he=T(ve[se-4],ve[se-3]),Ae=ve[se-14],fe=ve[se-13],D=E(ve[se-30],ve[se-29]),X=H(ve[se-30],ve[se-29]),Q=ve[se-32],le=ve[se-31];ve[se]=c(oe,he,Ae,fe,D,X,Q,le),ve[se+1]=f(oe,he,Ae,fe,D,X,Q,le)}},A.prototype._update=function(C,ie){this._prepareBlock(C,ie);var ve=this.W,se=this.h[0],oe=this.h[1],he=this.h[2],Ae=this.h[3],fe=this.h[4],D=this.h[5],X=this.h[6],Q=this.h[7],le=this.h[8],ee=this.h[9],M=this.h[10],U=this.h[11],ne=this.h[12],te=this.h[13],Y=this.h[14],re=this.h[15];r(this.k.length===ve.length);for(var Ee=0;Ee<ve.length;Ee+=2){var z=Y,K=re,W=R(le,ee),N=P(le,ee),k=d(le,ee,M,U,ne),F=y(le,ee,M,U,ne,te),ue=this.k[Ee],we=this.k[Ee+1],ge=ve[Ee],ke=ve[Ee+1],Fe=m(z,K,W,N,k,F,ue,we,ge,ke),Le=h(z,K,W,N,k,F,ue,we,ge,ke);z=I(se,oe),K=q(se,oe),W=v(se,oe,he,Ae,fe),N=w(se,oe,he,Ae,fe,D);var Ue=l(z,K,W,N),Qe=u(z,K,W,N);Y=ne,re=te,ne=M,te=U,M=le,U=ee,le=l(X,Q,Fe,Le),ee=u(Q,Q,Fe,Le),X=fe,Q=D,fe=he,D=Ae,he=se,Ae=oe,se=l(Fe,Le,Ue,Qe),oe=u(Fe,Le,Ue,Qe)}o(this.h,0,se,oe),o(this.h,2,he,Ae),o(this.h,4,fe,D),o(this.h,6,X,Q),o(this.h,8,le,ee),o(this.h,10,M,U),o(this.h,12,ne,te),o(this.h,14,Y,re)},A.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function d(L,C,ie,ve,se){var oe=L&ie^~L&se;return oe<0&&(oe+=4294967296),oe}function y(L,C,ie,ve,se,oe){var he=C&ve^~C&oe;return he<0&&(he+=4294967296),he}function v(L,C,ie,ve,se){var oe=L&ie^L&se^ie&se;return oe<0&&(oe+=4294967296),oe}function w(L,C,ie,ve,se,oe){var he=C&ve^C&oe^ve&oe;return he<0&&(he+=4294967296),he}function I(L,C){var ie=n(L,C,28),ve=n(C,L,2),se=n(C,L,7),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function q(L,C){var ie=i(L,C,28),ve=i(C,L,2),se=i(C,L,7),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function R(L,C){var ie=n(L,C,14),ve=n(L,C,18),se=n(C,L,9),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function P(L,C){var ie=i(L,C,14),ve=i(L,C,18),se=i(C,L,9),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function E(L,C){var ie=n(L,C,1),ve=n(L,C,8),se=s(L,C,7),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function H(L,C){var ie=i(L,C,1),ve=i(L,C,8),se=a(L,C,7),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function j(L,C){var ie=n(L,C,19),ve=n(C,L,29),se=s(L,C,6),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}function T(L,C){var ie=i(L,C,19),ve=i(C,L,29),se=a(L,C,6),oe=ie^ve^se;return oe<0&&(oe+=4294967296),oe}return Rv}var Pv,YA;function qH(){if(YA)return Pv;YA=1;var t=Va(),e=PR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Pv=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Pv}var QA;function HH(){return QA||(QA=1,mu.sha1=VH(),mu.sha224=zH(),mu.sha256=RR(),mu.sha384=qH(),mu.sha512=PR()),mu}var Lv={},JA;function WH(){if(JA)return Lv;JA=1;var t=Va(),e=lp(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),Lv.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(A,d){for(var y=this.h[0],v=this.h[1],w=this.h[2],I=this.h[3],q=this.h[4],R=y,P=v,E=w,H=I,j=q,T=0;T<80;T++){var L=n(r(s(y,l(T,v,w,I),A[f[T]+d],u(T)),h[T]),q);y=q,q=I,I=r(w,10),w=v,v=L,L=n(r(s(R,l(79-T,P,E,H),A[m[T]+d],c(T)),x[T]),j),R=j,j=H,H=r(E,10),E=P,P=L}L=i(this.h[1],w,H),this.h[1]=i(this.h[2],I,j),this.h[2]=i(this.h[3],q,R),this.h[3]=i(this.h[4],y,P),this.h[4]=i(this.h[0],v,E),this.h[0]=L},o.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(_,A,d,y){return _<=15?A^d^y:_<=31?A&d|~A&y:_<=47?(A|~d)^y:_<=63?A&y|d&~y:A^(d|~y)}function u(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function c(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Lv}var Ov,ZA;function $H(){if(ZA)return Ov;ZA=1;var t=Va(),e=op();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Ov=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Ov}var eS;function GH(){return eS||(eS=1,function(t){var e=t;e.utils=Va(),e.common=lp(),e.sha=HH(),e.ripemd=WH(),e.hmac=$H(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Sv)),Sv}var KH=GH();const XH=eb(KH);let YH="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",QH=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},JH=(t=21)=>{let e="",r=t|0;for(;r--;)e+=YH[Math.random()*64|0];return e};const Vs=t=>Math.floor(t*72*20),W0=(t=0)=>{let e=t;return()=>++e},ZH=()=>W0(),eW=()=>W0(1),tW=()=>W0(),rW=()=>W0(),nW=()=>JH().toLowerCase(),tS=t=>XH.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),Ef=t=>QH("1234567890abcdef",t)(),iW=()=>`${Ef(8)}-${Ef(4)}-${Ef(4)}-${Ef(4)}-${Ef(12)}`,sW={PAGE:"page"},aW={PAGE:"page"},oW=()=>new dr({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),LR=t=>new dr({name:"wp:align",children:[t]}),OR=t=>new dr({name:"wp:posOffset",children:[t.toString()]}),lW=({relative:t,align:e,offset:r})=>new dr({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??sW.PAGE}},children:[(()=>{if(e)return LR(e);if(r!==void 0)return OR(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),uW=({relative:t,align:e,offset:r})=>new dr({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??aW.PAGE}},children:[(()=>{if(e)return LR(e);if(r!==void 0)return OR(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class cW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{uri:"uri"})}}const hW=t=>new dr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),fW=t=>new dr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[hW(t)]}),dW=t=>new dr({name:"a:extLst",children:[fW(t)]}),pW=t=>new dr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[dW(t)]:[]});class mW extends ze{constructor(){super("a:srcRect")}}class gW extends ze{constructor(){super("a:fillRect")}}class yW extends ze{constructor(){super("a:stretch"),this.root.push(new gW)}}class vW extends ze{constructor(e){super("pic:blipFill"),this.root.push(pW(e)),this.root.push(new mW),this.root.push(new yW)}}class wW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class _W extends ze{constructor(){super("a:picLocks"),this.root.push(new wW({noChangeAspect:1,noChangeArrowheads:1}))}}class bW extends ze{constructor(){super("pic:cNvPicPr"),this.root.push(new _W)}}const DR=(t,e)=>new dr({name:"a:hlinkClick",attributes:To(qt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class xW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class EW extends ze{constructor(){super("pic:cNvPr"),this.root.push(new xW({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof db){this.root.push(DR(n.linkId,!1));break}}return super.prepForXml(e)}}class AW extends ze{constructor(){super("pic:nvPicPr"),this.root.push(new EW),this.root.push(new bW)}}class SW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class TW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class NW extends ze{constructor(e,r){super("a:ext"),Be(this,"attributes"),this.attributes=new TW({cx:e,cy:r}),this.root.push(this.attributes)}}class kW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{x:"x",y:"y"})}}class IW extends ze{constructor(){super("a:off"),this.root.push(new kW({x:0,y:0}))}}class CW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class RW extends ze{constructor(e){var r,n;super("a:xfrm"),Be(this,"extents"),this.root.push(new CW({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(n=e.flip)==null?void 0:n.horizontal,rotation:e.rotation})),this.extents=new NW(e.emus.x,e.emus.y),this.root.push(new IW),this.root.push(this.extents)}}const jR=()=>new dr({name:"a:noFill"}),PW=t=>new dr({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),LW=t=>new dr({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),rS=t=>new dr({name:"a:solidFill",children:[t.type==="rgb"?PW(t):LW(t)]}),OW=t=>new dr({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?jR():t.solidFillType==="rgb"?rS({type:"rgb",value:t.value}):rS({type:"scheme",value:t.value})]});class DW extends ze{constructor(){super("a:avLst")}}class jW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{prst:"prst"})}}class FW extends ze{constructor(){super("a:prstGeom"),this.root.push(new jW({prst:"rect"})),this.root.push(new DW)}}class MW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{bwMode:"bwMode"})}}class BW extends ze{constructor({outline:e,transform:r}){super("pic:spPr"),Be(this,"form"),this.root.push(new MW({bwMode:"auto"})),this.form=new RW(r),this.root.push(this.form),this.root.push(new FW),e&&(this.root.push(jR()),this.root.push(OW(e)))}}class UW extends ze{constructor({mediaData:e,transform:r,outline:n}){super("pic:pic"),this.root.push(new SW({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new AW),this.root.push(new vW(e)),this.root.push(new BW({transform:r,outline:n}))}}class VW extends ze{constructor({mediaData:e,transform:r,outline:n}){super("a:graphicData"),Be(this,"pic"),this.root.push(new cW({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new UW({mediaData:e,transform:r,outline:n}),this.root.push(this.pic)}}class zW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{a:"xmlns:a"})}}class FR extends ze{constructor({mediaData:e,transform:r,outline:n}){super("a:graphic"),Be(this,"data"),this.root.push(new zW({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new VW({mediaData:e,transform:r,outline:n}),this.root.push(this.data)}}const lm={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},qW={BOTH_SIDES:"bothSides"};class nS extends ze{constructor(){super("wp:wrapNone")}}class HW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class WW extends ze{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new HW({wrapText:e.side||qW.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class $W extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class GW extends ze{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new $W({distT:e.top,distB:e.bottom}))}}class KW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class XW extends ze{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new KW({distT:e.top,distB:e.bottom}))}}class MR extends ze{constructor({name:e,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),Be(this,"docPropertiesUniqueNumericId",tW());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};r!=null&&(i.description={key:"descr",value:r}),n!=null&&(i.title={key:"title",value:n}),this.root.push(new rp(i))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof db){this.root.push(DR(n.linkId,!0));break}}return super.prepForXml(e)}}const BR=({top:t,right:e,bottom:r,left:n})=>new dr({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),UR=({x:t,y:e})=>new dr({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}});class YW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class QW extends ze{constructor(){super("a:graphicFrameLocks"),this.root.push(new YW({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const VR=()=>new dr({name:"wp:cNvGraphicFramePr",children:[new QW]});class JW extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class ZW extends ze{constructor({mediaData:e,transform:r,drawingOptions:n}){super("wp:anchor");const i=qt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new JW({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push(oW()),this.root.push(lW(i.horizontalPosition)),this.root.push(uW(i.verticalPosition)),this.root.push(UR({x:r.emus.x,y:r.emus.y})),this.root.push(BR({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case lm.SQUARE:this.root.push(new WW(n.floating.wrap,n.floating.margins));break;case lm.TIGHT:this.root.push(new GW(n.floating.margins));break;case lm.TOP_AND_BOTTOM:this.root.push(new XW(n.floating.margins));break;case lm.NONE:default:this.root.push(new nS)}else this.root.push(new nS);this.root.push(new MR(n.docProperties)),this.root.push(VR()),this.root.push(new FR({mediaData:e,transform:r,outline:n.outline}))}}const e$=({mediaData:t,transform:e,docProperties:r,outline:n})=>{var i,s,a,o;return new dr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[UR({x:e.emus.x,y:e.emus.y}),BR(n?{top:((i=n.width)!=null?i:9525)*2,right:((s=n.width)!=null?s:9525)*2,bottom:((a=n.width)!=null?a:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new MR(r),VR(),new FR({mediaData:t,transform:e,outline:n})]})};class t$ extends ze{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new ZW({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(e$({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}const r$=t=>{if(typeof atob=="function"){const e=";base64,",r=t.indexOf(e),n=r===-1?0:r+e.length;return new Uint8Array(atob(t.substring(n)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(t,"base64")}},n$=t=>typeof t=="string"?r$(t):t,Dv=(t,e)=>({data:n$(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class iS extends ap{constructor(e){super({}),Be(this,"imageData");const n=`${tS(e.data)}.${e.type}`;this.imageData=e.type==="svg"?To(qt({type:e.type},Dv(e,n)),{fallback:qt({type:e.fallback.type},Dv(To(qt({},e.fallback),{transformation:e.transformation}),`${tS(e.fallback.data)}.${e.fallback.type}`))}):qt({type:e.type},Dv(e,n));const i=new t$(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class i$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class s$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const a$={EXTERNAL:"External"};class o$ extends ze{constructor(e,r,n,i){super("Relationship"),this.root.push(new s$({id:e,type:r,target:n,targetMode:i}))}}class sc extends ze{constructor(){super("Relationships"),this.root.push(new i$({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new o$(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class l$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class u$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class c$ extends ze{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new l$({id:e,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class h$ extends ze{constructor({children:e}){super("w:comments"),Be(this,"relationships"),this.root.push(new u$({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new c$(r));this.relationships=new sc}get Relationships(){return this.relationships}}class f$ extends ze{constructor(){super("w:pageBreakBefore")}}const zw={AUTO:"auto"};class d$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class p$ extends ze{constructor(e){super("w:spacing"),this.root.push(new d$(e))}}const Zo={HEADING_1:"Heading1",HEADING_2:"Heading2",TITLE:"Title"};let um=class extends ze{constructor(e){super("w:pStyle"),this.root.push(new ln({val:e}))}};class m$ extends ze{constructor(e){super("w:tabs");for(const r of e)this.root.push(new y$(r))}}const sS={LEFT:"left",RIGHT:"right"};class g$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class y$ extends ze{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new g$({val:e,pos:r,leader:n}))}}class jv extends ze{constructor(e,r){super("w:numPr"),this.root.push(new v$(r)),this.root.push(new w$(e))}}class v$ extends ze{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new ln({val:e}))}}class w$ extends ze{constructor(e){super("w:numId"),this.root.push(new ln({val:typeof e=="string"?`{${e}}`:e}))}}class _$ extends ze{constructor(){super(...arguments),Be(this,"fileChild",Symbol())}}class b$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class db extends ze{constructor(e,r,n){super("w:hyperlink"),Be(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new b$(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}}class x$ extends ze{constructor(e){super("w:externalHyperlink"),this.options=e}}class E$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class A$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id"})}}class S${constructor(e){Be(this,"bookmarkUniqueNumericId",rW()),Be(this,"start"),Be(this,"children"),Be(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new T$(e.id,r),this.children=e.children,this.end=new N$(r)}}class T$ extends ze{constructor(e,r){super("w:bookmarkStart");const n=new E$({name:e,id:r});this.root.push(n)}}class N$ extends ze{constructor(e){super("w:bookmarkEnd");const r=new A$({id:e});this.root.push(r)}}class k$ extends ze{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new ln({val:e}))}}const I$={TOP:"top",CENTER:"center",BOTTOM:"bottom"};To(qt({},I$),{BOTH:"both"});class C$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{verticalAlign:"w:val"})}}class R$ extends ze{constructor(e){super("w:vAlign"),this.root.push(new C$({verticalAlign:e}))}}class P$ extends ze{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new rp({space:{key:"w:space",value:e===void 0?void 0:$s(e)},count:{key:"w:num",value:r===void 0?void 0:Bi(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}const L$=({type:t,linePitch:e,charSpace:r})=>new dr({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Bi(e)},charSpace:{key:"w:charSpace",value:r?Bi(r):void 0}}}),uh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class O$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const aS={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Fv extends ze{constructor(e,r){super(e),this.root.push(new O$({type:r.type||uh.DEFAULT,id:`rId${r.id}`}))}}const D$=({countBy:t,start:e,restart:r,distance:n})=>new dr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Bi(t)},start:{key:"w:start",value:e===void 0?void 0:Bi(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:$s(n)}}});class oS extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class j$ extends V0{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new oS({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new oS({})),e.pageBorderTop&&this.root.push(new $r("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new $r("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new $r("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new $r("w:right",e.pageBorderRight))}}class F$ extends ze{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new rp({top:{key:"w:top",value:ku(e)},right:{key:"w:right",value:$s(r)},bottom:{key:"w:bottom",value:ku(n)},left:{key:"w:left",value:$s(i)},header:{key:"w:header",value:$s(s)},footer:{key:"w:footer",value:$s(a)},gutter:{key:"w:gutter",value:$s(o)}}))}}class M$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class B$ extends ze{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new M$({start:e===void 0?void 0:Bi(e),formatType:r,separator:n}))}}const qw={PORTRAIT:"portrait",LANDSCAPE:"landscape"},U$=({width:t,height:e,orientation:r,code:n})=>{const i=$s(t),s=$s(e);return new dr({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===qw.LANDSCAPE?s:i},height:{key:"w:h",value:r===qw.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class V$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class z$ extends ze{constructor(e){super("w:textDirection"),this.root.push(new V$({val:e}))}}class q$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class H$ extends ze{constructor(e){super("w:type"),this.root.push(new q$({val:e}))}}const gu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Mv={WIDTH:11906,HEIGHT:16838,ORIENTATION:qw.PORTRAIT};class W$ extends ze{constructor({page:{size:{width:e=Mv.WIDTH,height:r=Mv.HEIGHT,orientation:n=Mv.ORIENTATION}={},margin:{top:i=gu.TOP,right:s=gu.RIGHT,bottom:a=gu.BOTTOM,left:o=gu.LEFT,header:l=gu.HEADER,footer:u=gu.FOOTER,gutter:c=gu.GUTTER}={},pageNumbers:f={},borders:m,textDirection:h}={},grid:{linePitch:x=360,charSpace:_,type:A}={},headerWrapperGroup:d={},footerWrapperGroup:y={},lineNumbers:v,titlePage:w,verticalAlign:I,column:q,type:R}={}){super("w:sectPr"),this.addHeaderFooterGroup(aS.HEADER,d),this.addHeaderFooterGroup(aS.FOOTER,y),R&&this.root.push(new H$(R)),this.root.push(U$({width:e,height:r,orientation:n})),this.root.push(new F$(i,s,a,o,l,u,c)),m&&this.root.push(new j$(m)),v&&this.root.push(D$(v)),this.root.push(new B$(f)),q&&this.root.push(new P$(q)),I&&this.root.push(new R$(I)),w!==void 0&&this.root.push(new Je("w:titlePg",w)),h&&this.root.push(new z$(h)),this.root.push(L$({linePitch:x,charSpace:_,type:A}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Fv(e,{type:uh.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Fv(e,{type:uh.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Fv(e,{type:uh.EVEN,id:r.even.View.ReferenceId}))}}class $$ extends ze{constructor(){super("w:body"),Be(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new W$(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new sr({}),n=new Ph({});return n.push(e),r.addChildElement(n),r}}const lS={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class $0 extends yt{constructor(e,r){super(qt({Ignorable:r},Object.fromEntries(e.map(n=>[n,lS[n]])))),Be(this,"xmlKeys",qt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(lS).map(n=>[n,`xmlns:${n}`]))))}}class G$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class K$ extends ze{constructor(e){super("w:background"),this.root.push(new G$({color:e.color===void 0?void 0:Ih(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:BA(e.themeShade),themeTint:e.themeTint===void 0?void 0:BA(e.themeTint)}))}}class X$ extends ze{constructor(e){super("w:document"),Be(this,"body"),this.root.push(new $0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new $$,e.background&&this.root.push(new K$(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class zR{constructor(e){Be(this,"document"),Be(this,"relationships"),this.document=new X$(e),this.relationships=new sc}get View(){return this.document}get Relationships(){return this.relationships}}class Y$ extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Q$ extends ze{constructor(){super("w:wordWrap"),this.root.push(new Y$({val:0}))}}const J$=t=>{var e,r;return new dr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Ph extends V0{constructor(e){var r,n;if(super("w:pPr"),Be(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new um(e.heading)),e.bullet&&this.push(new um("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new um("ListParagraph"))),e.style&&this.push(new um(e.style)),e.keepNext!==void 0&&this.push(new Je("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Je("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new f$),e.frame&&this.push(J$(e.frame)),e.widowControl!==void 0&&this.push(new Je("w:widowControl",e.widowControl)),e.bullet&&this.push(new jv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new jv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new jv(0,0)),e.border&&this.push(new wH(e.border)),e.thematicBreak&&this.push(new _H),e.shading&&this.push(new NR(e.shading)),e.wordWrap&&this.push(new Q$),e.overflowPunctuation&&this.push(new Je("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:sS.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:sS.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new m$(i)),e.bidirectional!==void 0&&this.push(new Je("w:bidi",e.bidirectional)),e.spacing&&this.push(new p$(e.spacing)),e.indent&&this.push(new bH(e.indent)),e.contextualSpacing!==void 0&&this.push(new Je("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new yH(e.alignment)),e.outlineLevel!==void 0&&this.push(new k$(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Je("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Je("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new ic(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof zR)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class sr extends _${constructor(e){if(super("w:p"),Be(this,"properties"),typeof e=="string")return this.properties=new Ph({}),this.root.push(this.properties),this.root.push(new cn(e)),this;if(this.properties=new Ph(e),this.root.push(this.properties),e.text&&this.root.push(new cn(e.text)),e.children)for(const r of e.children){if(r instanceof S$){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof x$){const n=this.root.indexOf(r),i=new db(r.options.children,nW());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,a$.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const xc={style:cb.NONE,size:0,color:"auto"},Ec={style:cb.SINGLE,size:4,color:"auto"};class Z$ extends ze{constructor(e){super("w:tblBorders"),e.top?this.root.push(new $r("w:top",e.top)):this.root.push(new $r("w:top",Ec)),e.left?this.root.push(new $r("w:left",e.left)):this.root.push(new $r("w:left",Ec)),e.bottom?this.root.push(new $r("w:bottom",e.bottom)):this.root.push(new $r("w:bottom",Ec)),e.right?this.root.push(new $r("w:right",e.right)):this.root.push(new $r("w:right",Ec)),e.insideHorizontal?this.root.push(new $r("w:insideH",e.insideHorizontal)):this.root.push(new $r("w:insideH",Ec)),e.insideVertical?this.root.push(new $r("w:insideV",e.insideVertical)):this.root.push(new $r("w:insideV",Ec))}}Be(Z$,"NONE",{top:xc,bottom:xc,left:xc,right:xc,insideHorizontal:xc,insideVertical:xc});class eG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class tG extends ze{constructor(){super("Properties"),this.root.push(new eG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class rG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class nG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ro extends ze{constructor(e,r){super("Default"),this.root.push(new nG({contentType:e,extension:r}))}}class iG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class bs extends ze{constructor(e,r){super("Override"),this.root.push(new iG({contentType:e,partName:r}))}}class sG extends ze{constructor(){super("Types"),this.root.push(new rG({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ro("image/png","png")),this.root.push(new ro("image/jpeg","jpeg")),this.root.push(new ro("image/jpeg","jpg")),this.root.push(new ro("image/bmp","bmp")),this.root.push(new ro("image/gif","gif")),this.root.push(new ro("image/svg+xml","svg")),this.root.push(new ro("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ro("application/xml","xml")),this.root.push(new ro("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new bs("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new bs("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class aG extends ze{constructor(e){super("cp:coreProperties"),this.root.push(new $0(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new pu("dc:title",e.title)),e.subject&&this.root.push(new pu("dc:subject",e.subject)),e.creator&&this.root.push(new pu("dc:creator",e.creator)),e.keywords&&this.root.push(new pu("cp:keywords",e.keywords)),e.description&&this.root.push(new pu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new pu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new pu("cp:revision",String(e.revision))),this.root.push(new uS("dcterms:created")),this.root.push(new uS("dcterms:modified"))}}class oG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"xsi:type"})}}class uS extends ze{constructor(e){super(e),this.root.push(new oG({type:"dcterms:W3CDTF"})),this.root.push(mH(new Date))}}class lG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class uG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class cG extends ze{constructor(e,r){super("property"),this.root.push(new uG({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new hG(r.value))}}class hG extends ze{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class fG extends ze{constructor(e){super("Properties"),Be(this,"nextId"),Be(this,"properties",[]),this.root.push(new lG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new cG(this.nextId++,e))}}const cm=({id:t,fontKey:e,subsetted:r},n)=>new dr({name:n,attributes:qt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Je("w:subsetted",r)]:[]]}),dG=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:f})=>new dr({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[xf("w:altName",e)]:[],...r?[xf("w:panose1",r)]:[],...n?[xf("w:charset",n)]:[],xf("w:family",i),...s?[new Je("w:notTrueType",s)]:[],xf("w:pitch",a),...o?[new dr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[cm(l,"w:embedRegular")]:[],...u?[cm(u,"w:embedBold")]:[],...c?[cm(c,"w:embedItalic")]:[],...f?[cm(f,"w:embedBoldItalic")]:[]]}),pG=({name:t,index:e,fontKey:r,characterSet:n})=>dG({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),mG=t=>new dr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>pG({name:e.name,index:r+1,fontKey:e.fontKey}))});class gG{constructor(e){Be(this,"fontTable"),Be(this,"relationships"),Be(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>To(qt({},r),{fontKey:iW()})),this.fontTable=mG(this.fontOptionsWithKey),this.relationships=new sc;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class yG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let vG=class extends ER{constructor(e,r){super("w:ftr",r),Be(this,"refId"),this.refId=e,r||this.root.push(new yG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class wG{constructor(e,r,n){Be(this,"footer"),Be(this,"relationships"),this.media=e,this.footer=new vG(r,n),this.relationships=new sc}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class _G extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class bG extends ze{constructor(){super("w:footnoteRef")}}class xG extends ap{constructor(){super({style:"FootnoteReference"}),this.root.push(new bG)}}const cS={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Bv extends ze{constructor(e){super("w:footnote"),this.root.push(new _G({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new xG),this.root.push(n)}}}class EG extends ze{constructor(){super("w:continuationSeparator")}}class AG extends ap{constructor(){super({}),this.root.push(new EG)}}class SG extends ze{constructor(){super("w:separator")}}class TG extends ap{constructor(){super({}),this.root.push(new SG)}}class NG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class kG extends ze{constructor(){super("w:footnotes"),this.root.push(new NG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Bv({id:-1,type:cS.SEPERATOR,children:[new sr({spacing:{after:0,line:240,lineRule:zw.AUTO},children:[new TG]})]});this.root.push(e);const r=new Bv({id:0,type:cS.CONTINUATION_SEPERATOR,children:[new sr({spacing:{after:0,line:240,lineRule:zw.AUTO},children:[new AG]})]});this.root.push(r)}createFootNote(e,r){const n=new Bv({id:e,children:r});this.root.push(n)}}class IG{constructor(){Be(this,"footnotess"),Be(this,"relationships"),this.footnotess=new kG,this.relationships=new sc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class CG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let RG=class extends ER{constructor(e,r){super("w:hdr",r),Be(this,"refId"),this.refId=e,r||this.root.push(new CG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class PG{constructor(e,r,n){Be(this,"header"),Be(this,"relationships"),this.media=e,this.header=new RG(r,n),this.relationships=new sc}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class LG{constructor(){Be(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const no={BULLET:"bullet"};class OG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class DG extends ze{constructor(e){super("w:numFmt"),this.root.push(new ln({val:e}))}}class jG extends ze{constructor(e){super("w:lvlText"),this.root.push(new ln({val:e}))}}class FG extends ze{constructor(e){super("w:lvlJc"),this.root.push(new ln({val:e}))}}class MG extends ze{constructor(e){super("w:suff"),this.root.push(new ln({val:e}))}}class BG extends ze{constructor(){super("w:isLgl")}}class UG extends ze{constructor({level:e,format:r,text:n,alignment:i=xa.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.root.push(new td("w:start",Bi(s))),r&&this.root.push(new DG(r)),o&&this.root.push(new MG(o)),l&&this.root.push(new BG),n&&this.root.push(new jG(n)),this.root.push(new FG(i)),this.paragraphProperties=new Ph(a&&a.paragraph),this.runProperties=new ic(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new OG({ilvl:Bi(e),tentative:1}))}}class VG extends UG{}class zG extends ze{constructor(e){super("w:multiLevelType"),this.root.push(new ln({val:e}))}}class qG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class hS extends ze{constructor(e,r){super("w:abstractNum"),Be(this,"id"),this.root.push(new qG({abstractNumId:Bi(e),restartNumberingAfterBreak:0})),this.root.push(new zG("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new VG(n))}}class HG extends ze{constructor(e){super("w:abstractNumId"),this.root.push(new ln({val:e}))}}class WG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{numId:"w:numId"})}}class fS extends ze{constructor(e){if(super("w:num"),Be(this,"numId"),Be(this,"reference"),Be(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new WG({numId:Bi(e.numId)})),this.root.push(new HG(Bi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new GG(r.num,r.start))}}class $G extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl"})}}class GG extends ze{constructor(e,r){super("w:lvlOverride"),this.root.push(new $G({ilvl:e})),r!==void 0&&this.root.push(new XG(r))}}class KG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class XG extends ze{constructor(e){super("w:startOverride"),this.root.push(new KG({val:e}))}}class YG extends ze{constructor(e){super("w:numbering"),Be(this,"abstractNumberingMap",new Map),Be(this,"concreteNumberingMap",new Map),Be(this,"referenceConfigMap",new Map),Be(this,"abstractNumUniqueNumericId",ZH()),Be(this,"concreteNumUniqueNumericId",eW()),this.root.push(new $0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new hS(this.abstractNumUniqueNumericId(),[{level:0,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:Vs(.5),hanging:Vs(.25)}}}},{level:1,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:Vs(1),hanging:Vs(.25)}}}},{level:2,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:2160,hanging:Vs(.25)}}}},{level:3,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:2880,hanging:Vs(.25)}}}},{level:4,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:3600,hanging:Vs(.25)}}}},{level:5,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:4320,hanging:Vs(.25)}}}},{level:6,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:5040,hanging:Vs(.25)}}}},{level:7,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:5760,hanging:Vs(.25)}}}},{level:8,format:no.BULLET,text:"",alignment:xa.LEFT,style:{paragraph:{indent:{left:6480,hanging:Vs(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new fS({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new hS(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new fS(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class QG extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class JG extends ze{constructor(e){super("w:compatSetting"),this.root.push(new QG({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class ZG extends ze{constructor(e){super("w:compat"),e.version&&this.root.push(new JG(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Je("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Je("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Je("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Je("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Je("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Je("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Je("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Je("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Je("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Je("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Je("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Je("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Je("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Je("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Je("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Je("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Je("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Je("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Je("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Je("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Je("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Je("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Je("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Je("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Je("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Je("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Je("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Je("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Je("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Je("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Je("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Je("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Je("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Je("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Je("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Je("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Je("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Je("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Je("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Je("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Je("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Je("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Je("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Je("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Je("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Je("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Je("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Je("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Je("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Je("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Je("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Je("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Je("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Je("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Je("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Je("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Je("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Je("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Je("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Je("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Je("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Je("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Je("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Je("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Je("w:cachedColBalance",e.cachedColumnBalance))}}class eK extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class tK extends ze{constructor(e){var r,n,i,s,a,o,l,u;super("w:settings"),this.root.push(new eK({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Je("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Je("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Je("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Je("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new td("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Je("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new td("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new td("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Je("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new ZG(To(qt({},(a=e.compatibility)!=null?a:{}),{version:(u=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}}class qR extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class rK extends ze{constructor(e){super("w:name"),this.root.push(new qR({val:e}))}}class nK extends ze{constructor(e){super("w:uiPriority"),this.root.push(new qR({val:Bi(e)}))}}class iK extends yt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class HR extends ze{constructor(e,r){super("w:style"),this.root.push(new iK(e)),r.name&&this.root.push(new rK(r.name)),r.basedOn&&this.root.push(new lh("w:basedOn",r.basedOn)),r.next&&this.root.push(new lh("w:next",r.next)),r.link&&this.root.push(new lh("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new nK(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Je("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Je("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Je("w:qFormat",r.quickFormat))}}class G0 extends HR{constructor(e){super({type:"paragraph",styleId:e.id},e),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.paragraphProperties=new Ph(e.paragraph),this.runProperties=new ic(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class K0 extends HR{constructor(e){super({type:"character",styleId:e.id},qt({uiPriority:99,unhideWhenUsed:!0},e)),Be(this,"runProperties"),this.runProperties=new ic(e.run),this.root.push(this.runProperties)}}class Zl extends G0{constructor(e){super(qt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class sK extends Zl{constructor(e){super(qt({id:"Title",name:"Title"},e))}}class aK extends Zl{constructor(e){super(qt({id:"Heading1",name:"Heading 1"},e))}}class oK extends Zl{constructor(e){super(qt({id:"Heading2",name:"Heading 2"},e))}}class lK extends Zl{constructor(e){super(qt({id:"Heading3",name:"Heading 3"},e))}}class uK extends Zl{constructor(e){super(qt({id:"Heading4",name:"Heading 4"},e))}}class cK extends Zl{constructor(e){super(qt({id:"Heading5",name:"Heading 5"},e))}}class hK extends Zl{constructor(e){super(qt({id:"Heading6",name:"Heading 6"},e))}}class fK extends Zl{constructor(e){super(qt({id:"Strong",name:"Strong"},e))}}class dK extends G0{constructor(e){super(qt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class pK extends G0{constructor(e){super(qt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:zw.AUTO}},run:{size:20}},e))}}class mK extends K0{constructor(e){super(qt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class gK extends K0{constructor(e){super(qt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class yK extends K0{constructor(e){super(qt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:IR.SINGLE}}},e))}}class Hw extends ze{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new G0(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new K0(r))}}class vK extends ze{constructor(e){super("w:pPrDefault"),this.root.push(new Ph(e))}}class wK extends ze{constructor(e){super("w:rPrDefault"),this.root.push(new ic(e))}}class _K extends ze{constructor(e){super("w:docDefaults"),Be(this,"runPropertiesDefaults"),Be(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new wK(e.run),this.paragraphPropertiesDefaults=new vK(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class bK{newInstance(e){const r=xR.xml2js(e,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new Hw({initialStyles:new hH(n.attributes),importedStyles:i.map(a=>ub(a))})}}class dS{newInstance(e={}){var r;return{initialStyles:new $0(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new _K((r=e.document)!=null?r:{}),new sK(qt({run:{size:56}},e.title)),new aK(qt({run:{color:"2E74B5",size:32}},e.heading1)),new oK(qt({run:{color:"2E74B5",size:26}},e.heading2)),new lK(qt({run:{color:"1F4D78",size:24}},e.heading3)),new uK(qt({run:{color:"2E74B5",italics:!0}},e.heading4)),new cK(qt({run:{color:"2E74B5"}},e.heading5)),new hK(qt({run:{color:"1F4D78"}},e.heading6)),new fK(qt({run:{bold:!0}},e.strong)),new dK(e.listParagraph||{}),new yK(e.hyperlink||{}),new mK(e.footnoteReference||{}),new pK(e.footnoteText||{}),new gK(e.footnoteTextChar||{})]}}}class xK{constructor(e){Be(this,"currentRelationshipId",1),Be(this,"documentWrapper"),Be(this,"headers",[]),Be(this,"footers",[]),Be(this,"coreProperties"),Be(this,"numbering"),Be(this,"media"),Be(this,"fileRelationships"),Be(this,"footnotesWrapper"),Be(this,"settings"),Be(this,"contentTypes"),Be(this,"customProperties"),Be(this,"appProperties"),Be(this,"styles"),Be(this,"comments"),Be(this,"fontWrapper");var r,n,i,s,a,o,l,u,c,f,m,h;if(this.coreProperties=new aG(To(qt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new YG(e.numbering?e.numbering:{config:[]}),this.comments=new h$((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new sc,this.customProperties=new fG((a=e.customProperties)!=null?a:[]),this.appProperties=new tG,this.footnotesWrapper=new IG,this.contentTypes=new sG,this.documentWrapper=new zR({background:e.background}),this.settings=new tK({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(m=e.hyphenation)==null?void 0:m.doNotHyphenateCaps}}),this.media=new LG,e.externalStyles!==void 0){const x=new bK;this.styles=x.newInstance(e.externalStyles)}else if(e.styles){const _=new dS().newInstance(e.styles.default);this.styles=new Hw(qt(qt({},_),e.styles))}else{const x=new dS;this.styles=new Hw(x.newInstance())}this.addDefaultRelationships();for(const x of e.sections)this.addSection(x);if(e.footnotes)for(const x in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(x),e.footnotes[x].children);this.fontWrapper=new gG((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(To(qt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new PG(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new wG(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=uh.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=uh.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var EK=ab();function hm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uv={exports:{}},pS;function AK(){return pS||(pS=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var f=typeof hm=="function"&&hm;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(x){var _=n[u][1][x];return a(_||x)},h,h.exports,r,n,i,s)}return i[u].exports}for(var o=typeof hm=="function"&&hm,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,m,h,x,_,A=[],d=0,y=l.length,v=y,w=s.getTypeOf(l)!=="string";d<l.length;)v=y-d,f=w?(u=l[d++],c=d<y?l[d++]:0,d<y?l[d++]:0):(u=l.charCodeAt(d++),c=d<y?l.charCodeAt(d++):0,d<y?l.charCodeAt(d++):0),m=u>>2,h=(3&u)<<4|c>>4,x=1<v?(15&c)<<2|f>>6:64,_=2<v?63&f:64,A.push(o.charAt(m)+o.charAt(h)+o.charAt(x)+o.charAt(_));return A.join("")},i.decode=function(l){var u,c,f,m,h,x,_=0,A=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var y,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&v--,l.charAt(l.length-2)===o.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|v):new Array(0|v);_<l.length;)u=o.indexOf(l.charAt(_++))<<2|(m=o.indexOf(l.charAt(_++)))>>4,c=(15&m)<<4|(h=o.indexOf(l.charAt(_++)))>>2,f=(3&h)<<6|(x=o.indexOf(l.charAt(_++))),y[A++]=u,h!==64&&(y[A++]=c),x!==64&&(y[A++]=f);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,m,h,x){this.compressedSize=c,this.uncompressedSize=f,this.crc32=m,this.compression=h,this.compressedContent=x}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,m){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,c,f,m){var h=a,x=m+f;u^=-1;for(var _=m;_<x;_++)u=u>>>8^h[255&(u^c[_])];return-1^u}(0|l,o,o.length,0):function(u,c,f,m){var h=a,x=m+f;u^=-1;for(var _=m;_<x;_++)u=u>>>8^h[255&(u^c.charCodeAt(_))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,m){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(h,x){var _,A="";for(_=0;_<x;_++)A+=String.fromCharCode(255&h),h>>>=8;return A}function a(h,x,_,A,d,y){var v,w,I=h.file,q=h.compression,R=y!==u.utf8encode,P=o.transformTo("string",y(I.name)),E=o.transformTo("string",u.utf8encode(I.name)),H=I.comment,j=o.transformTo("string",y(H)),T=o.transformTo("string",u.utf8encode(H)),L=E.length!==I.name.length,C=T.length!==H.length,ie="",ve="",se="",oe=I.dir,he=I.date,Ae={crc32:0,compressedSize:0,uncompressedSize:0};x&&!_||(Ae.crc32=h.crc32,Ae.compressedSize=h.compressedSize,Ae.uncompressedSize=h.uncompressedSize);var fe=0;x&&(fe|=8),R||!L&&!C||(fe|=2048);var D=0,X=0;oe&&(D|=16),d==="UNIX"?(X=798,D|=function(le,ee){var M=le;return le||(M=ee?16893:33204),(65535&M)<<16}(I.unixPermissions,oe)):(X=20,D|=function(le){return 63&(le||0)}(I.dosPermissions)),v=he.getUTCHours(),v<<=6,v|=he.getUTCMinutes(),v<<=5,v|=he.getUTCSeconds()/2,w=he.getUTCFullYear()-1980,w<<=4,w|=he.getUTCMonth()+1,w<<=5,w|=he.getUTCDate(),L&&(ve=s(1,1)+s(c(P),4)+E,ie+="up"+s(ve.length,2)+ve),C&&(se=s(1,1)+s(c(j),4)+T,ie+="uc"+s(se.length,2)+se);var Q="";return Q+=`
\0`,Q+=s(fe,2),Q+=q.magic,Q+=s(v,2),Q+=s(w,2),Q+=s(Ae.crc32,4),Q+=s(Ae.compressedSize,4),Q+=s(Ae.uncompressedSize,4),Q+=s(P.length,2),Q+=s(ie.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+P+ie,dirRecord:f.CENTRAL_FILE_HEADER+s(X,2)+Q+s(j.length,2)+"\0\0\0\0"+s(D,4)+s(A,4)+P+ie+j}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),f=r("../signature");function m(h,x,_,A){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=_,this.encodeFileName=A,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(m,l),m.prototype.push=function(h){var x=h.meta.percent||0,_=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:_?(x+100*(_-A-1))/_:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var x=this.streamFiles&&!h.file.dir;if(x){var _=a(h,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var x=this.streamFiles&&!h.file.dir,_=a(h,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),x)this.push({data:function(A){return f.DATA_DESCRIPTOR+s(A.crc32,4)+s(A.compressedSize,4)+s(A.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var _=this.bytesWritten-h,A=function(d,y,v,w,I){var q=o.transformTo("string",I(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(d,2)+s(d,2)+s(y,4)+s(v,4)+s(q.length,2)+q}(this.dirRecords.length,_,h,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var x=this;return h.on("data",function(_){x.processChunk(_)}),h.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),h.on("error",function(_){x.error(_)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var x=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var _=0;_<x.length;_++)try{x[_].error(h)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,x=0;x<h.length;x++)h[x].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{o.forEach(function(m,h){f++;var x=function(y,v){var w=y||v,I=s[w];if(!I)throw new Error(w+" is not a valid compression method !");return I}(h.options.compression,l.compression),_=h.options.compressionOptions||l.compressionOptions||{},A=h.dir,d=h.date;h._compressWorker(x,_).withStreamInfo("file",{name:m,dir:A,date:d,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(m){return new a.Promise(function(h,x){var _=m.decompressed.getContentWorker().pipe(new u);_.on("error",function(A){x(A)}).on("end",function(){_.streamInfo.crc32!==m.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(m,h){var x=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(_){var A=new l(h);return A.load(_),A}).then(function(_){var A=[a.Promise.resolve(_)],d=_.files;if(h.checkCRC32)for(var y=0;y<d.length;y++)A.push(f(d[y]));return a.Promise.all(A)}).then(function(_){for(var A=_.shift(),d=A.files,y=0;y<d.length;y++){var v=d[y],w=v.fileNameStr,I=s.resolve(v.fileNameStr);x.file(I,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:h.createFolders}),v.dir||(x.file(I).unsafeOriginalName=w)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var c=this;o.on("data",function(f,m){c.push(f)||c._helper.pause(),u&&u(m)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(I,q,R){var P,E=o.getTypeOf(q),H=o.extend(R||{},c);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(I=d(I)),H.createFolders&&(P=A(I))&&y.call(this,P,!0);var j=E==="string"&&H.binary===!1&&H.base64===!1;R&&R.binary!==void 0||(H.binary=!j),(q instanceof f&&q.uncompressedSize===0||H.dir||!q||q.length===0)&&(H.base64=!1,H.binary=!0,q="",H.compression="STORE",E="string");var T=null;T=q instanceof f||q instanceof l?q:x.isNode&&x.isStream(q)?new _(I,q):o.prepareContent(I,q,H.binary,H.optimizedBinaryString,H.base64);var L=new m(I,T,H);this.files[I]=L}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),f=r("./compressedObject"),m=r("./zipObject"),h=r("./generate"),x=r("./nodejsUtils"),_=r("./nodejs/NodejsStreamInputAdapter"),A=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var q=I.lastIndexOf("/");return 0<q?I.substring(0,q):""},d=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},y=function(I,q){return q=q!==void 0?q:c.createFolders,I=d(I),this.files[I]||s.call(this,I,null,{dir:!0,createFolders:q}),this.files[I]};function v(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var q,R,P;for(q in this.files)P=this.files[q],(R=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&I(R,P)},filter:function(I){var q=[];return this.forEach(function(R,P){I(R,P)&&q.push(P)}),q},file:function(I,q,R){if(arguments.length!==1)return I=this.root+I,s.call(this,I,q,R),this;if(v(I)){var P=I;return this.filter(function(H,j){return!j.dir&&P.test(H)})}var E=this.files[this.root+I];return E&&!E.dir?E:null},folder:function(I){if(!I)return this;if(v(I))return this.filter(function(E,H){return H.dir&&I.test(E)});var q=this.root+I,R=y.call(this,q),P=this.clone();return P.root=R.name,P},remove:function(I){I=this.root+I;var q=this.files[I];if(q||(I.slice(-1)!=="/"&&(I+="/"),q=this.files[I]),q&&!q.dir)delete this.files[I];else for(var R=this.filter(function(E,H){return H.name.slice(0,I.length)===I}),P=0;P<R.length;P++)delete this.files[R[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var q,R={};try{if((R=o.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var P=R.comment||this.comment||"";q=h.generateWorker(this,R,P)}catch(E){(q=new l("error")).error(E)}return new u(q,R.type||"string",R.mimeType)},generateAsync:function(I,q){return this.generateInternalStream(I).accumulate(q)},generateNodeStream:function(I,q){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(q)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===c&&this.data[m+3]===f)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&c===m[2]&&f===m[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var m=s.getTypeOf(f);return s.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new u(f):a.uint8array?new c(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(x,_){return new c.Promise(function(A,d){var y=[],v=x._internalType,w=x._outputType,I=x._mimeType;x.on("data",function(q,R){y.push(q),_&&_(R)}).on("error",function(q){y=[],d(q)}).on("end",function(){try{var q=function(R,P,E){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),E);case"base64":return l.encode(P);default:return s.transformTo(R,P)}}(w,function(R,P){var E,H=0,j=null,T=0;for(E=0;E<P.length;E++)T+=P[E].length;switch(R){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(j=new Uint8Array(T),E=0;E<P.length;E++)j.set(P[E],H),H+=P[E].length;return j;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+R+"'")}}(v,y),I);A(q)}catch(R){d(R)}y=[]}).resume()})}function h(x,_,A){var d=_;switch(_){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=_,this._mimeType=A,s.checkSupport(d),this._worker=x.pipe(new a(d)),x.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}h.prototype={accumulate:function(x){return m(this,x)},on:function(x,_){var A=this;return x==="data"?this._worker.on(x,function(d){_.call(A,d.data,d.meta)}):this._worker.on(x,function(){s.delay(_,arguments,A)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):function(x){var _,A,d,y,v,w=x.length,I=0;for(y=0;y<w;y++)(64512&(A=x.charCodeAt(y)))==55296&&y+1<w&&(64512&(d=x.charCodeAt(y+1)))==56320&&(A=65536+(A-55296<<10)+(d-56320),y++),I+=A<128?1:A<2048?2:A<65536?3:4;for(_=a.uint8array?new Uint8Array(I):new Array(I),y=v=0;v<I;y++)(64512&(A=x.charCodeAt(y)))==55296&&y+1<w&&(64512&(d=x.charCodeAt(y+1)))==56320&&(A=65536+(A-55296<<10)+(d-56320),y++),A<128?_[v++]=A:(A<2048?_[v++]=192|A>>>6:(A<65536?_[v++]=224|A>>>12:(_[v++]=240|A>>>18,_[v++]=128|A>>>12&63),_[v++]=128|A>>>6&63),_[v++]=128|63&A);return _}(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(x){var _,A,d,y,v=x.length,w=new Array(2*v);for(_=A=0;_<v;)if((d=x[_++])<128)w[A++]=d;else if(4<(y=u[d]))w[A++]=65533,_+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&_<v;)d=d<<6|63&x[_++],y--;1<y?w[A++]=65533:d<65536?w[A++]=d:(d-=65536,w[A++]=55296|d>>10&1023,w[A++]=56320|1023&d)}return w.length!==A&&(w.subarray?w=w.subarray(0,A):w.length=A),s.applyFromCharCode(w)}(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(f,l),f.prototype.processChunk=function(h){var x=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var _=x;(x=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),x.set(_,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(y,v){var w;for((v=v||y.length)>y.length&&(v=y.length),w=v-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?v:w+u[y[w]]>v?w:v}(x),d=x;A!==x.length&&(a.uint8array?(d=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(d=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(d),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(m,l),m.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(_){return _}function c(_,A){for(var d=0;d<_.length;++d)A[d]=255&_.charCodeAt(d);return A}r("setimmediate"),i.newBlob=function(_,A){i.checkSupport("blob");try{return new Blob([_],{type:A})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(_),d.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(_,A,d){var y=[],v=0,w=_.length;if(w<=d)return String.fromCharCode.apply(null,_);for(;v<w;)A==="array"||A==="nodebuffer"?y.push(String.fromCharCode.apply(null,_.slice(v,Math.min(v+d,w)))):y.push(String.fromCharCode.apply(null,_.subarray(v,Math.min(v+d,w)))),v+=d;return y.join("")},stringifyByChar:function(_){for(var A="",d=0;d<_.length;d++)A+=String.fromCharCode(_[d]);return A},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function m(_){var A=65536,d=i.getTypeOf(_),y=!0;if(d==="uint8array"?y=f.applyCanBeUsed.uint8array:d==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<A;)try{return f.stringifyByChunk(_,d,A)}catch{A=Math.floor(A/2)}return f.stringifyByChar(_)}function h(_,A){for(var d=0;d<_.length;d++)A[d]=_[d];return A}i.applyFromCharCode=m;var x={};x.string={string:u,array:function(_){return c(_,new Array(_.length))},arraybuffer:function(_){return x.string.uint8array(_).buffer},uint8array:function(_){return c(_,new Uint8Array(_.length))},nodebuffer:function(_){return c(_,o.allocBuffer(_.length))}},x.array={string:m,array:u,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return o.newBufferFrom(_)}},x.arraybuffer={string:function(_){return m(new Uint8Array(_))},array:function(_){return h(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:u,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return o.newBufferFrom(new Uint8Array(_))}},x.uint8array={string:m,array:function(_){return h(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:u,nodebuffer:function(_){return o.newBufferFrom(_)}},x.nodebuffer={string:m,array:function(_){return h(_,new Array(_.length))},arraybuffer:function(_){return x.nodebuffer.uint8array(_).buffer},uint8array:function(_){return h(_,new Uint8Array(_.length))},nodebuffer:u},i.transformTo=function(_,A){if(A=A||"",!_)return A;i.checkSupport(_);var d=i.getTypeOf(A);return x[d][_](A)},i.resolve=function(_){for(var A=_.split("/"),d=[],y=0;y<A.length;y++){var v=A[y];v==="."||v===""&&y!==0&&y!==A.length-1||(v===".."?d.pop():d.push(v))}return d.join("/")},i.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(_)?"nodebuffer":s.uint8array&&_ instanceof Uint8Array?"uint8array":s.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(_){if(!s[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(_){var A,d,y="";for(d=0;d<(_||"").length;d++)y+="\\x"+((A=_.charCodeAt(d))<16?"0":"")+A.toString(16).toUpperCase();return y},i.delay=function(_,A,d){setImmediate(function(){_.apply(d||null,A||[])})},i.inherits=function(_,A){function d(){}d.prototype=A.prototype,_.prototype=new d},i.extend=function(){var _,A,d={};for(_=0;_<arguments.length;_++)for(A in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],A)&&d[A]===void 0&&(d[A]=arguments[_][A]);return d},i.prepareContent=function(_,A,d,y,v){return l.Promise.resolve(A).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(I,q){var R=new FileReader;R.onload=function(P){I(P.target.result)},R.onerror=function(P){q(P.target.error)},R.readAsArrayBuffer(w)}):w}).then(function(w){var I=i.getTypeOf(w);return I?(I==="arraybuffer"?w=i.transformTo("uint8array",w):I==="string"&&(v?w=a.decode(w):d&&y!==!0&&(w=function(q){return c(q,s.uint8array?new Uint8Array(q.length):new Array(q.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(f)+")")}},isSignature:function(f,m){var h=this.reader.index;this.reader.setIndex(f);var x=this.reader.readString(4)===m;return this.reader.setIndex(h),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",h=a.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,h,x=this.zip64EndOfCentralSize-44;0<x;)f=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var x=m-h;if(0<x)this.isSignature(m,o.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support");function m(h,x){this.options=h,this.loadOptions=x}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var x,_;if(h.skip(22),this.fileNameLength=h.readInt(2),_=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)&&c[d].magic===A)return c[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,x,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var x=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(x),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var x,_,A,d=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<d;)x=h.readInt(2),_=h.readInt(2),A=h.readData(_),this.extraFields[x]={id:x,length:_,value:A};h.setIndex(d)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var _=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var d=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var x=s(h.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:u.utf8decode(x.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var x=s(h.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:u.utf8decode(x.readData(h.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(x,_,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=_,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(x){var _=null,A="string";try{if(!x)throw new Error("No output type specified.");var d=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),_=this._decompressWorker();var y=!this._dataBinary;y&&!d&&(_=_.pipe(new l.Utf8EncodeWorker)),!y&&d&&(_=_.pipe(new l.Utf8DecodeWorker))}catch(v){(_=new c("error")).error(v)}return new a(_,A,"")},async:function(x,_){return this.internalStream(x).accumulate(_)},nodeStream:function(x,_){return this.internalStream(x||"nodebuffer").toNodejsStream(_)},_compressWorker:function(x,_){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(A,x,_)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(x),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var _=s.document.createElement("script");_.onreadystatechange=function(){x(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:function(){setTimeout(x,0)};else{var m=new s.MessageChannel;m.port1.onmessage=x,a=function(){m.port2.postMessage(0)}}var h=[];function x(){var _,A;o=!0;for(var d=h.length;d;){for(A=h,h=[],_=-1;++_<d;)A[_]();d=h.length}o=!1}n.exports=function(_){h.push(_)!==1||o||a()}}).call(this,typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,d!==a&&_(this,d)}function m(d,y,v){this.promise=d,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function h(d,y,v){s(function(){var w;try{w=y(v)}catch(I){return o.reject(d,I)}w===d?o.reject(d,new TypeError("Cannot resolve promise with itself")):o.resolve(d,w)})}function x(d){var y=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof y=="function")return function(){y.apply(d,arguments)}}function _(d,y){var v=!1;function w(R){v||(v=!0,o.reject(d,R))}function I(R){v||(v=!0,o.resolve(d,R))}var q=A(function(){y(I,w)});q.status==="error"&&w(q.value)}function A(d,y){var v={};try{v.value=d(y),v.status="success"}catch(w){v.status="error",v.value=w}return v}(n.exports=f).prototype.finally=function(d){if(typeof d!="function")return this;var y=this.constructor;return this.then(function(v){return y.resolve(d()).then(function(){return v})},function(v){return y.resolve(d()).then(function(){throw v})})},f.prototype.catch=function(d){return this.then(null,d)},f.prototype.then=function(d,y){if(typeof d!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var v=new this.constructor(a);return this.state!==c?h(v,this.state===u?d:y,this.outcome):this.queue.push(new m(v,d,y)),v},m.prototype.callFulfilled=function(d){o.resolve(this.promise,d)},m.prototype.otherCallFulfilled=function(d){h(this.promise,this.onFulfilled,d)},m.prototype.callRejected=function(d){o.reject(this.promise,d)},m.prototype.otherCallRejected=function(d){h(this.promise,this.onRejected,d)},o.resolve=function(d,y){var v=A(x,y);if(v.status==="error")return o.reject(d,v.value);var w=v.value;if(w)_(d,w);else{d.state=u,d.outcome=y;for(var I=-1,q=d.queue.length;++I<q;)d.queue[I].callFulfilled(y)}return d},o.reject=function(d,y){d.state=l,d.outcome=y;for(var v=-1,w=d.queue.length;++v<w;)d.queue[v].callRejected(y);return d},f.resolve=function(d){return d instanceof this?d:o.resolve(new this(a),d)},f.reject=function(d){var y=new this(a);return o.reject(y,d)},f.all=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,w=!1;if(!v)return this.resolve([]);for(var I=new Array(v),q=0,R=-1,P=new this(a);++R<v;)E(d[R],R);return P;function E(H,j){y.resolve(H).then(function(T){I[j]=T,++q!==v||w||(w=!0,o.resolve(P,I))},function(T){w||(w=!0,o.reject(P,T))})}},f.race=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,w=!1;if(!v)return this.resolve([]);for(var I=-1,q=new this(a);++I<v;)R=d[I],y.resolve(R).then(function(P){w||(w=!0,o.resolve(q,P))},function(P){w||(w=!0,o.reject(q,P))});var R;return q}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,m=-1,h=0,x=8;function _(d){if(!(this instanceof _))return new _(d);this.options=a.assign({level:m,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},d||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(v!==f)throw new Error(l[v]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?o.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(v=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(l[v]);this._dict_set=!0}}function A(d,y){var v=new _(y);if(v.push(d,!0),v.err)throw v.msg||l[v.err];return v.result}_.prototype.push=function(d,y){var v,w,I=this.strm,q=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof d=="string"?I.input=o.string2buf(d):c.call(d)==="[object ArrayBuffer]"?I.input=new Uint8Array(d):I.input=d,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(q),I.next_out=0,I.avail_out=q),(v=s.deflate(I,w))!==1&&v!==f)return this.onEnd(v),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(I.output,I.next_out))):this.onData(a.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&v!==1);return w===4?(v=s.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f):w!==2||(this.onEnd(f),!(I.avail_out=0))},_.prototype.onData=function(d){this.chunks.push(d)},_.prototype.onEnd=function(d){d===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},i.Deflate=_,i.deflate=A,i.deflateRaw=function(d,y){return(y=y||{}).raw=!0,A(d,y)},i.gzip=function(d,y){return(y=y||{}).gzip=!0,A(d,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),m=Object.prototype.toString;function h(_){if(!(this instanceof h))return new h(_);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},_||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||_&&_.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&!(15&A.windowBits)&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var d=s.inflateInit2(this.strm,A.windowBits);if(d!==l.Z_OK)throw new Error(u[d]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function x(_,A){var d=new h(A);if(d.push(_,!0),d.err)throw d.msg||u[d.err];return d.result}h.prototype.push=function(_,A){var d,y,v,w,I,q,R=this.strm,P=this.options.chunkSize,E=this.options.dictionary,H=!1;if(this.ended)return!1;y=A===~~A?A:A===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof _=="string"?R.input=o.binstring2buf(_):m.call(_)==="[object ArrayBuffer]"?R.input=new Uint8Array(_):R.input=_,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(P),R.next_out=0,R.avail_out=P),(d=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&E&&(q=typeof E=="string"?o.string2buf(E):m.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,d=s.inflateSetDictionary(this.strm,q)),d===l.Z_BUF_ERROR&&H===!0&&(d=l.Z_OK,H=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&d!==l.Z_STREAM_END&&(R.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=o.utf8border(R.output,R.next_out),w=R.next_out-v,I=o.buf2string(R.output,v),R.next_out=w,R.avail_out=P-w,w&&a.arraySet(R.output,R.output,v,w,0),this.onData(I)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(H=!0)}while((0<R.avail_in||R.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(d=s.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Inflate=h,i.inflate=x,i.inflateRaw=function(_,A){return(A=A||{}).raw=!0,x(_,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,f,m){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),m);else for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){var u,c,f,m,h,x;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(x=new Uint8Array(f),u=m=0,c=l.length;u<c;u++)h=l[u],x.set(h,m),m+=h.length;return x}},o={arraySet:function(l,u,c,f,m){for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,m){if(m<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,m));for(var h="",x=0;x<m;x++)h+=String.fromCharCode(f[x]);return h}l[254]=l[254]=1,i.string2buf=function(f){var m,h,x,_,A,d=f.length,y=0;for(_=0;_<d;_++)(64512&(h=f.charCodeAt(_)))==55296&&_+1<d&&(64512&(x=f.charCodeAt(_+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),_++),y+=h<128?1:h<2048?2:h<65536?3:4;for(m=new s.Buf8(y),_=A=0;A<y;_++)(64512&(h=f.charCodeAt(_)))==55296&&_+1<d&&(64512&(x=f.charCodeAt(_+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),_++),h<128?m[A++]=h:(h<2048?m[A++]=192|h>>>6:(h<65536?m[A++]=224|h>>>12:(m[A++]=240|h>>>18,m[A++]=128|h>>>12&63),m[A++]=128|h>>>6&63),m[A++]=128|63&h);return m},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var m=new s.Buf8(f.length),h=0,x=m.length;h<x;h++)m[h]=f.charCodeAt(h);return m},i.buf2string=function(f,m){var h,x,_,A,d=m||f.length,y=new Array(2*d);for(h=x=0;h<d;)if((_=f[h++])<128)y[x++]=_;else if(4<(A=l[_]))y[x++]=65533,h+=A-1;else{for(_&=A===2?31:A===3?15:7;1<A&&h<d;)_=_<<6|63&f[h++],A--;1<A?y[x++]=65533:_<65536?y[x++]=_:(_-=65536,y[x++]=55296|_>>10&1023,y[x++]=56320|1023&_)}return c(y,x)},i.utf8border=function(f,m){var h;for((m=m||f.length)>f.length&&(m=f.length),h=m-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?m:h+l[f[h]]>m?h:m}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;c=c+(u=u+a[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,u){var c=s,f=u+l;a^=-1;for(var m=u;m<f;m++)a=a>>>8^c[255&(a^o[m])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),f=0,m=4,h=0,x=-2,_=-1,A=4,d=2,y=8,v=9,w=286,I=30,q=19,R=2*w+1,P=15,E=3,H=258,j=H+E+1,T=42,L=113,C=1,ie=2,ve=3,se=4;function oe(z,K){return z.msg=c[K],K}function he(z){return(z<<1)-(4<z?9:0)}function Ae(z){for(var K=z.length;0<=--K;)z[K]=0}function fe(z){var K=z.state,W=K.pending;W>z.avail_out&&(W=z.avail_out),W!==0&&(a.arraySet(z.output,K.pending_buf,K.pending_out,W,z.next_out),z.next_out+=W,K.pending_out+=W,z.total_out+=W,z.avail_out-=W,K.pending-=W,K.pending===0&&(K.pending_out=0))}function D(z,K){o._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,K),z.block_start=z.strstart,fe(z.strm)}function X(z,K){z.pending_buf[z.pending++]=K}function Q(z,K){z.pending_buf[z.pending++]=K>>>8&255,z.pending_buf[z.pending++]=255&K}function le(z,K){var W,N,k=z.max_chain_length,F=z.strstart,ue=z.prev_length,we=z.nice_match,ge=z.strstart>z.w_size-j?z.strstart-(z.w_size-j):0,ke=z.window,Fe=z.w_mask,Le=z.prev,Ue=z.strstart+H,Qe=ke[F+ue-1],nt=ke[F+ue];z.prev_length>=z.good_match&&(k>>=2),we>z.lookahead&&(we=z.lookahead);do if(ke[(W=K)+ue]===nt&&ke[W+ue-1]===Qe&&ke[W]===ke[F]&&ke[++W]===ke[F+1]){F+=2,W++;do;while(ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&ke[++F]===ke[++W]&&F<Ue);if(N=H-(Ue-F),F=Ue-H,ue<N){if(z.match_start=K,we<=(ue=N))break;Qe=ke[F+ue-1],nt=ke[F+ue]}}while((K=Le[K&Fe])>ge&&--k!=0);return ue<=z.lookahead?ue:z.lookahead}function ee(z){var K,W,N,k,F,ue,we,ge,ke,Fe,Le=z.w_size;do{if(k=z.window_size-z.lookahead-z.strstart,z.strstart>=Le+(Le-j)){for(a.arraySet(z.window,z.window,Le,Le,0),z.match_start-=Le,z.strstart-=Le,z.block_start-=Le,K=W=z.hash_size;N=z.head[--K],z.head[K]=Le<=N?N-Le:0,--W;);for(K=W=Le;N=z.prev[--K],z.prev[K]=Le<=N?N-Le:0,--W;);k+=Le}if(z.strm.avail_in===0)break;if(ue=z.strm,we=z.window,ge=z.strstart+z.lookahead,ke=k,Fe=void 0,Fe=ue.avail_in,ke<Fe&&(Fe=ke),W=Fe===0?0:(ue.avail_in-=Fe,a.arraySet(we,ue.input,ue.next_in,Fe,ge),ue.state.wrap===1?ue.adler=l(ue.adler,we,Fe,ge):ue.state.wrap===2&&(ue.adler=u(ue.adler,we,Fe,ge)),ue.next_in+=Fe,ue.total_in+=Fe,Fe),z.lookahead+=W,z.lookahead+z.insert>=E)for(F=z.strstart-z.insert,z.ins_h=z.window[F],z.ins_h=(z.ins_h<<z.hash_shift^z.window[F+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[F+E-1])&z.hash_mask,z.prev[F&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=F,F++,z.insert--,!(z.lookahead+z.insert<E)););}while(z.lookahead<j&&z.strm.avail_in!==0)}function M(z,K){for(var W,N;;){if(z.lookahead<j){if(ee(z),z.lookahead<j&&K===f)return C;if(z.lookahead===0)break}if(W=0,z.lookahead>=E&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+E-1])&z.hash_mask,W=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),W!==0&&z.strstart-W<=z.w_size-j&&(z.match_length=le(z,W)),z.match_length>=E)if(N=o._tr_tally(z,z.strstart-z.match_start,z.match_length-E),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=E){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+E-1])&z.hash_mask,W=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else N=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(N&&(D(z,!1),z.strm.avail_out===0))return C}return z.insert=z.strstart<E-1?z.strstart:E-1,K===m?(D(z,!0),z.strm.avail_out===0?ve:se):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?C:ie}function U(z,K){for(var W,N,k;;){if(z.lookahead<j){if(ee(z),z.lookahead<j&&K===f)return C;if(z.lookahead===0)break}if(W=0,z.lookahead>=E&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+E-1])&z.hash_mask,W=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=E-1,W!==0&&z.prev_length<z.max_lazy_match&&z.strstart-W<=z.w_size-j&&(z.match_length=le(z,W),z.match_length<=5&&(z.strategy===1||z.match_length===E&&4096<z.strstart-z.match_start)&&(z.match_length=E-1)),z.prev_length>=E&&z.match_length<=z.prev_length){for(k=z.strstart+z.lookahead-E,N=o._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-E),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=k&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+E-1])&z.hash_mask,W=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=E-1,z.strstart++,N&&(D(z,!1),z.strm.avail_out===0))return C}else if(z.match_available){if((N=o._tr_tally(z,0,z.window[z.strstart-1]))&&D(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return C}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(N=o._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<E-1?z.strstart:E-1,K===m?(D(z,!0),z.strm.avail_out===0?ve:se):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?C:ie}function ne(z,K,W,N,k){this.good_length=z,this.max_lazy=K,this.nice_length=W,this.max_chain=N,this.func=k}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*I+1)),this.bl_tree=new a.Buf16(2*(2*q+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*w+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(z){var K;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=d,(K=z.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?T:L,z.adler=K.wrap===2?0:1,K.last_flush=f,o._tr_init(K),h):oe(z,x)}function re(z){var K=Y(z);return K===h&&function(W){W.window_size=2*W.w_size,Ae(W.head),W.max_lazy_match=s[W.level].max_lazy,W.good_match=s[W.level].good_length,W.nice_match=s[W.level].nice_length,W.max_chain_length=s[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=E-1,W.match_available=0,W.ins_h=0}(z.state),K}function Ee(z,K,W,N,k,F){if(!z)return x;var ue=1;if(K===_&&(K=6),N<0?(ue=0,N=-N):15<N&&(ue=2,N-=16),k<1||v<k||W!==y||N<8||15<N||K<0||9<K||F<0||A<F)return oe(z,x);N===8&&(N=9);var we=new te;return(z.state=we).strm=z,we.wrap=ue,we.gzhead=null,we.w_bits=N,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=k+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+E-1)/E),we.window=new a.Buf8(2*we.w_size),we.head=new a.Buf16(we.hash_size),we.prev=new a.Buf16(we.w_size),we.lit_bufsize=1<<k+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new a.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=K,we.strategy=F,we.method=W,re(z)}s=[new ne(0,0,0,0,function(z,K){var W=65535;for(W>z.pending_buf_size-5&&(W=z.pending_buf_size-5);;){if(z.lookahead<=1){if(ee(z),z.lookahead===0&&K===f)return C;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var N=z.block_start+W;if((z.strstart===0||z.strstart>=N)&&(z.lookahead=z.strstart-N,z.strstart=N,D(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-j&&(D(z,!1),z.strm.avail_out===0))return C}return z.insert=0,K===m?(D(z,!0),z.strm.avail_out===0?ve:se):(z.strstart>z.block_start&&(D(z,!1),z.strm.avail_out),C)}),new ne(4,4,8,4,M),new ne(4,5,16,8,M),new ne(4,6,32,32,M),new ne(4,4,16,16,U),new ne(8,16,32,32,U),new ne(8,16,128,128,U),new ne(8,32,128,256,U),new ne(32,128,258,1024,U),new ne(32,258,258,4096,U)],i.deflateInit=function(z,K){return Ee(z,K,y,15,8,0)},i.deflateInit2=Ee,i.deflateReset=re,i.deflateResetKeep=Y,i.deflateSetHeader=function(z,K){return z&&z.state?z.state.wrap!==2?x:(z.state.gzhead=K,h):x},i.deflate=function(z,K){var W,N,k,F;if(!z||!z.state||5<K||K<0)return z?oe(z,x):x;if(N=z.state,!z.output||!z.input&&z.avail_in!==0||N.status===666&&K!==m)return oe(z,z.avail_out===0?-5:x);if(N.strm=z,W=N.last_flush,N.last_flush=K,N.status===T)if(N.wrap===2)z.adler=0,X(N,31),X(N,139),X(N,8),N.gzhead?(X(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),X(N,255&N.gzhead.time),X(N,N.gzhead.time>>8&255),X(N,N.gzhead.time>>16&255),X(N,N.gzhead.time>>24&255),X(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),X(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(X(N,255&N.gzhead.extra.length),X(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(z.adler=u(z.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(X(N,0),X(N,0),X(N,0),X(N,0),X(N,0),X(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),X(N,3),N.status=L);else{var ue=y+(N.w_bits-8<<4)<<8;ue|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(ue|=32),ue+=31-ue%31,N.status=L,Q(N,ue),N.strstart!==0&&(Q(N,z.adler>>>16),Q(N,65535&z.adler)),z.adler=1}if(N.status===69)if(N.gzhead.extra){for(k=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),fe(z),k=N.pending,N.pending!==N.pending_buf_size));)X(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){k=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),fe(z),k=N.pending,N.pending===N.pending_buf_size)){F=1;break}F=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,X(N,F)}while(F!==0);N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),F===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){k=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),fe(z),k=N.pending,N.pending===N.pending_buf_size)){F=1;break}F=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,X(N,F)}while(F!==0);N.gzhead.hcrc&&N.pending>k&&(z.adler=u(z.adler,N.pending_buf,N.pending-k,k)),F===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&fe(z),N.pending+2<=N.pending_buf_size&&(X(N,255&z.adler),X(N,z.adler>>8&255),z.adler=0,N.status=L)):N.status=L),N.pending!==0){if(fe(z),z.avail_out===0)return N.last_flush=-1,h}else if(z.avail_in===0&&he(K)<=he(W)&&K!==m)return oe(z,-5);if(N.status===666&&z.avail_in!==0)return oe(z,-5);if(z.avail_in!==0||N.lookahead!==0||K!==f&&N.status!==666){var we=N.strategy===2?function(ge,ke){for(var Fe;;){if(ge.lookahead===0&&(ee(ge),ge.lookahead===0)){if(ke===f)return C;break}if(ge.match_length=0,Fe=o._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,Fe&&(D(ge,!1),ge.strm.avail_out===0))return C}return ge.insert=0,ke===m?(D(ge,!0),ge.strm.avail_out===0?ve:se):ge.last_lit&&(D(ge,!1),ge.strm.avail_out===0)?C:ie}(N,K):N.strategy===3?function(ge,ke){for(var Fe,Le,Ue,Qe,nt=ge.window;;){if(ge.lookahead<=H){if(ee(ge),ge.lookahead<=H&&ke===f)return C;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=E&&0<ge.strstart&&(Le=nt[Ue=ge.strstart-1])===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]){Qe=ge.strstart+H;do;while(Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Le===nt[++Ue]&&Ue<Qe);ge.match_length=H-(Qe-Ue),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=E?(Fe=o._tr_tally(ge,1,ge.match_length-E),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(Fe=o._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),Fe&&(D(ge,!1),ge.strm.avail_out===0))return C}return ge.insert=0,ke===m?(D(ge,!0),ge.strm.avail_out===0?ve:se):ge.last_lit&&(D(ge,!1),ge.strm.avail_out===0)?C:ie}(N,K):s[N.level].func(N,K);if(we!==ve&&we!==se||(N.status=666),we===C||we===ve)return z.avail_out===0&&(N.last_flush=-1),h;if(we===ie&&(K===1?o._tr_align(N):K!==5&&(o._tr_stored_block(N,0,0,!1),K===3&&(Ae(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),fe(z),z.avail_out===0))return N.last_flush=-1,h}return K!==m?h:N.wrap<=0?1:(N.wrap===2?(X(N,255&z.adler),X(N,z.adler>>8&255),X(N,z.adler>>16&255),X(N,z.adler>>24&255),X(N,255&z.total_in),X(N,z.total_in>>8&255),X(N,z.total_in>>16&255),X(N,z.total_in>>24&255)):(Q(N,z.adler>>>16),Q(N,65535&z.adler)),fe(z),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?h:1)},i.deflateEnd=function(z){var K;return z&&z.state?(K=z.state.status)!==T&&K!==69&&K!==73&&K!==91&&K!==103&&K!==L&&K!==666?oe(z,x):(z.state=null,K===L?oe(z,-3):h):x},i.deflateSetDictionary=function(z,K){var W,N,k,F,ue,we,ge,ke,Fe=K.length;if(!z||!z.state||(F=(W=z.state).wrap)===2||F===1&&W.status!==T||W.lookahead)return x;for(F===1&&(z.adler=l(z.adler,K,Fe,0)),W.wrap=0,Fe>=W.w_size&&(F===0&&(Ae(W.head),W.strstart=0,W.block_start=0,W.insert=0),ke=new a.Buf8(W.w_size),a.arraySet(ke,K,Fe-W.w_size,W.w_size,0),K=ke,Fe=W.w_size),ue=z.avail_in,we=z.next_in,ge=z.input,z.avail_in=Fe,z.next_in=0,z.input=K,ee(W);W.lookahead>=E;){for(N=W.strstart,k=W.lookahead-(E-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[N+E-1])&W.hash_mask,W.prev[N&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=N,N++,--k;);W.strstart=N,W.lookahead=E-1,ee(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=E-1,W.match_available=0,z.next_in=we,z.input=ge,z.avail_in=ue,W.wrap=F,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,c,f,m,h,x,_,A,d,y,v,w,I,q,R,P,E,H,j,T,L,C,ie;o=s.state,l=s.next_in,C=s.input,u=l+(s.avail_in-5),c=s.next_out,ie=s.output,f=c-(a-s.avail_out),m=c+(s.avail_out-257),h=o.dmax,x=o.wsize,_=o.whave,A=o.wnext,d=o.window,y=o.hold,v=o.bits,w=o.lencode,I=o.distcode,q=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{v<15&&(y+=C[l++]<<v,v+=8,y+=C[l++]<<v,v+=8),P=w[y&q];t:for(;;){if(y>>>=E=P>>>24,v-=E,(E=P>>>16&255)===0)ie[c++]=65535&P;else{if(!(16&E)){if(!(64&E)){P=w[(65535&P)+(y&(1<<E)-1)];continue t}if(32&E){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}H=65535&P,(E&=15)&&(v<E&&(y+=C[l++]<<v,v+=8),H+=y&(1<<E)-1,y>>>=E,v-=E),v<15&&(y+=C[l++]<<v,v+=8,y+=C[l++]<<v,v+=8),P=I[y&R];r:for(;;){if(y>>>=E=P>>>24,v-=E,!(16&(E=P>>>16&255))){if(!(64&E)){P=I[(65535&P)+(y&(1<<E)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(j=65535&P,v<(E&=15)&&(y+=C[l++]<<v,(v+=8)<E&&(y+=C[l++]<<v,v+=8)),h<(j+=y&(1<<E)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=E,v-=E,(E=c-f)<j){if(_<(E=j-E)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(L=d,(T=0)===A){if(T+=x-E,E<H){for(H-=E;ie[c++]=d[T++],--E;);T=c-j,L=ie}}else if(A<E){if(T+=x+A-E,(E-=A)<H){for(H-=E;ie[c++]=d[T++],--E;);if(T=0,A<H){for(H-=E=A;ie[c++]=d[T++],--E;);T=c-j,L=ie}}}else if(T+=A-E,E<H){for(H-=E;ie[c++]=d[T++],--E;);T=c-j,L=ie}for(;2<H;)ie[c++]=L[T++],ie[c++]=L[T++],ie[c++]=L[T++],H-=3;H&&(ie[c++]=L[T++],1<H&&(ie[c++]=L[T++]))}else{for(T=c-j;ie[c++]=ie[T++],ie[c++]=ie[T++],ie[c++]=ie[T++],2<(H-=3););H&&(ie[c++]=ie[T++],1<H&&(ie[c++]=ie[T++]))}break}}break}}while(l<u&&c<m);l-=H=v>>3,y&=(1<<(v-=H<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<m?m-c+257:257-(c-m),o.hold=y,o.bits=v}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,f=2,m=0,h=-2,x=1,_=852,A=592;function d(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(T){var L;return T&&T.state?(L=T.state,T.total_in=T.total_out=L.total=0,T.msg="",L.wrap&&(T.adler=1&L.wrap),L.mode=x,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new s.Buf32(_),L.distcode=L.distdyn=new s.Buf32(A),L.sane=1,L.back=-1,m):h}function w(T){var L;return T&&T.state?((L=T.state).wsize=0,L.whave=0,L.wnext=0,v(T)):h}function I(T,L){var C,ie;return T&&T.state?(ie=T.state,L<0?(C=0,L=-L):(C=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(ie.window!==null&&ie.wbits!==L&&(ie.window=null),ie.wrap=C,ie.wbits=L,w(T))):h}function q(T,L){var C,ie;return T?(ie=new y,(T.state=ie).window=null,(C=I(T,L))!==m&&(T.state=null),C):h}var R,P,E=!0;function H(T){if(E){var L;for(R=new s.Buf32(512),P=new s.Buf32(32),L=0;L<144;)T.lens[L++]=8;for(;L<256;)T.lens[L++]=9;for(;L<280;)T.lens[L++]=7;for(;L<288;)T.lens[L++]=8;for(u(c,T.lens,0,288,R,0,T.work,{bits:9}),L=0;L<32;)T.lens[L++]=5;u(f,T.lens,0,32,P,0,T.work,{bits:5}),E=!1}T.lencode=R,T.lenbits=9,T.distcode=P,T.distbits=5}function j(T,L,C,ie){var ve,se=T.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new s.Buf8(se.wsize)),ie>=se.wsize?(s.arraySet(se.window,L,C-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(ie<(ve=se.wsize-se.wnext)&&(ve=ie),s.arraySet(se.window,L,C-ie,ve,se.wnext),(ie-=ve)?(s.arraySet(se.window,L,C-ie,ie,0),se.wnext=ie,se.whave=se.wsize):(se.wnext+=ve,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=ve))),0}i.inflateReset=w,i.inflateReset2=I,i.inflateResetKeep=v,i.inflateInit=function(T){return q(T,15)},i.inflateInit2=q,i.inflate=function(T,L){var C,ie,ve,se,oe,he,Ae,fe,D,X,Q,le,ee,M,U,ne,te,Y,re,Ee,z,K,W,N,k=0,F=new s.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(C=T.state).mode===12&&(C.mode=13),oe=T.next_out,ve=T.output,Ae=T.avail_out,se=T.next_in,ie=T.input,he=T.avail_in,fe=C.hold,D=C.bits,X=he,Q=Ae,K=m;e:for(;;)switch(C.mode){case x:if(C.wrap===0){C.mode=13;break}for(;D<16;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(2&C.wrap&&fe===35615){F[C.check=0]=255&fe,F[1]=fe>>>8&255,C.check=o(C.check,F,2,0),D=fe=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&fe)<<8)+(fe>>8))%31){T.msg="incorrect header check",C.mode=30;break}if((15&fe)!=8){T.msg="unknown compression method",C.mode=30;break}if(D-=4,z=8+(15&(fe>>>=4)),C.wbits===0)C.wbits=z;else if(z>C.wbits){T.msg="invalid window size",C.mode=30;break}C.dmax=1<<z,T.adler=C.check=1,C.mode=512&fe?10:12,D=fe=0;break;case 2:for(;D<16;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(C.flags=fe,(255&C.flags)!=8){T.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){T.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=fe>>8&1),512&C.flags&&(F[0]=255&fe,F[1]=fe>>>8&255,C.check=o(C.check,F,2,0)),D=fe=0,C.mode=3;case 3:for(;D<32;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.head&&(C.head.time=fe),512&C.flags&&(F[0]=255&fe,F[1]=fe>>>8&255,F[2]=fe>>>16&255,F[3]=fe>>>24&255,C.check=o(C.check,F,4,0)),D=fe=0,C.mode=4;case 4:for(;D<16;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.head&&(C.head.xflags=255&fe,C.head.os=fe>>8),512&C.flags&&(F[0]=255&fe,F[1]=fe>>>8&255,C.check=o(C.check,F,2,0)),D=fe=0,C.mode=5;case 5:if(1024&C.flags){for(;D<16;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.length=fe,C.head&&(C.head.extra_len=fe),512&C.flags&&(F[0]=255&fe,F[1]=fe>>>8&255,C.check=o(C.check,F,2,0)),D=fe=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(he<(le=C.length)&&(le=he),le&&(C.head&&(z=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),s.arraySet(C.head.extra,ie,se,le,z)),512&C.flags&&(C.check=o(C.check,ie,le,se)),he-=le,se+=le,C.length-=le),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(he===0)break e;for(le=0;z=ie[se+le++],C.head&&z&&C.length<65536&&(C.head.name+=String.fromCharCode(z)),z&&le<he;);if(512&C.flags&&(C.check=o(C.check,ie,le,se)),he-=le,se+=le,z)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(he===0)break e;for(le=0;z=ie[se+le++],C.head&&z&&C.length<65536&&(C.head.comment+=String.fromCharCode(z)),z&&le<he;);if(512&C.flags&&(C.check=o(C.check,ie,le,se)),he-=le,se+=le,z)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;D<16;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(fe!==(65535&C.check)){T.msg="header crc mismatch",C.mode=30;break}D=fe=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),T.adler=C.check=0,C.mode=12;break;case 10:for(;D<32;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}T.adler=C.check=d(fe),D=fe=0,C.mode=11;case 11:if(C.havedict===0)return T.next_out=oe,T.avail_out=Ae,T.next_in=se,T.avail_in=he,C.hold=fe,C.bits=D,2;T.adler=C.check=1,C.mode=12;case 12:if(L===5||L===6)break e;case 13:if(C.last){fe>>>=7&D,D-=7&D,C.mode=27;break}for(;D<3;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}switch(C.last=1&fe,D-=1,3&(fe>>>=1)){case 0:C.mode=14;break;case 1:if(H(C),C.mode=20,L!==6)break;fe>>>=2,D-=2;break e;case 2:C.mode=17;break;case 3:T.msg="invalid block type",C.mode=30}fe>>>=2,D-=2;break;case 14:for(fe>>>=7&D,D-=7&D;D<32;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if((65535&fe)!=(fe>>>16^65535)){T.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&fe,D=fe=0,C.mode=15,L===6)break e;case 15:C.mode=16;case 16:if(le=C.length){if(he<le&&(le=he),Ae<le&&(le=Ae),le===0)break e;s.arraySet(ve,ie,se,le,oe),he-=le,se+=le,Ae-=le,oe+=le,C.length-=le;break}C.mode=12;break;case 17:for(;D<14;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(C.nlen=257+(31&fe),fe>>>=5,D-=5,C.ndist=1+(31&fe),fe>>>=5,D-=5,C.ncode=4+(15&fe),fe>>>=4,D-=4,286<C.nlen||30<C.ndist){T.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;D<3;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.lens[ue[C.have++]]=7&fe,fe>>>=3,D-=3}for(;C.have<19;)C.lens[ue[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,W={bits:C.lenbits},K=u(0,C.lens,0,19,C.lencode,0,C.work,W),C.lenbits=W.bits,K){T.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;ne=(k=C.lencode[fe&(1<<C.lenbits)-1])>>>16&255,te=65535&k,!((U=k>>>24)<=D);){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(te<16)fe>>>=U,D-=U,C.lens[C.have++]=te;else{if(te===16){for(N=U+2;D<N;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(fe>>>=U,D-=U,C.have===0){T.msg="invalid bit length repeat",C.mode=30;break}z=C.lens[C.have-1],le=3+(3&fe),fe>>>=2,D-=2}else if(te===17){for(N=U+3;D<N;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}D-=U,z=0,le=3+(7&(fe>>>=U)),fe>>>=3,D-=3}else{for(N=U+7;D<N;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}D-=U,z=0,le=11+(127&(fe>>>=U)),fe>>>=7,D-=7}if(C.have+le>C.nlen+C.ndist){T.msg="invalid bit length repeat",C.mode=30;break}for(;le--;)C.lens[C.have++]=z}}if(C.mode===30)break;if(C.lens[256]===0){T.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,W={bits:C.lenbits},K=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,W),C.lenbits=W.bits,K){T.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,W={bits:C.distbits},K=u(f,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,W),C.distbits=W.bits,K){T.msg="invalid distances set",C.mode=30;break}if(C.mode=20,L===6)break e;case 20:C.mode=21;case 21:if(6<=he&&258<=Ae){T.next_out=oe,T.avail_out=Ae,T.next_in=se,T.avail_in=he,C.hold=fe,C.bits=D,l(T,Q),oe=T.next_out,ve=T.output,Ae=T.avail_out,se=T.next_in,ie=T.input,he=T.avail_in,fe=C.hold,D=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;ne=(k=C.lencode[fe&(1<<C.lenbits)-1])>>>16&255,te=65535&k,!((U=k>>>24)<=D);){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(ne&&!(240&ne)){for(Y=U,re=ne,Ee=te;ne=(k=C.lencode[Ee+((fe&(1<<Y+re)-1)>>Y)])>>>16&255,te=65535&k,!(Y+(U=k>>>24)<=D);){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}fe>>>=Y,D-=Y,C.back+=Y}if(fe>>>=U,D-=U,C.back+=U,C.length=te,ne===0){C.mode=26;break}if(32&ne){C.back=-1,C.mode=12;break}if(64&ne){T.msg="invalid literal/length code",C.mode=30;break}C.extra=15&ne,C.mode=22;case 22:if(C.extra){for(N=C.extra;D<N;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.length+=fe&(1<<C.extra)-1,fe>>>=C.extra,D-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;ne=(k=C.distcode[fe&(1<<C.distbits)-1])>>>16&255,te=65535&k,!((U=k>>>24)<=D);){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(!(240&ne)){for(Y=U,re=ne,Ee=te;ne=(k=C.distcode[Ee+((fe&(1<<Y+re)-1)>>Y)])>>>16&255,te=65535&k,!(Y+(U=k>>>24)<=D);){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}fe>>>=Y,D-=Y,C.back+=Y}if(fe>>>=U,D-=U,C.back+=U,64&ne){T.msg="invalid distance code",C.mode=30;break}C.offset=te,C.extra=15&ne,C.mode=24;case 24:if(C.extra){for(N=C.extra;D<N;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}C.offset+=fe&(1<<C.extra)-1,fe>>>=C.extra,D-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){T.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(Ae===0)break e;if(le=Q-Ae,C.offset>le){if((le=C.offset-le)>C.whave&&C.sane){T.msg="invalid distance too far back",C.mode=30;break}ee=le>C.wnext?(le-=C.wnext,C.wsize-le):C.wnext-le,le>C.length&&(le=C.length),M=C.window}else M=ve,ee=oe-C.offset,le=C.length;for(Ae<le&&(le=Ae),Ae-=le,C.length-=le;ve[oe++]=M[ee++],--le;);C.length===0&&(C.mode=21);break;case 26:if(Ae===0)break e;ve[oe++]=C.length,Ae--,C.mode=21;break;case 27:if(C.wrap){for(;D<32;){if(he===0)break e;he--,fe|=ie[se++]<<D,D+=8}if(Q-=Ae,T.total_out+=Q,C.total+=Q,Q&&(T.adler=C.check=C.flags?o(C.check,ve,Q,oe-Q):a(C.check,ve,Q,oe-Q)),Q=Ae,(C.flags?fe:d(fe))!==C.check){T.msg="incorrect data check",C.mode=30;break}D=fe=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;D<32;){if(he===0)break e;he--,fe+=ie[se++]<<D,D+=8}if(fe!==(4294967295&C.total)){T.msg="incorrect length check",C.mode=30;break}D=fe=0}C.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=oe,T.avail_out=Ae,T.next_in=se,T.avail_in=he,C.hold=fe,C.bits=D,(C.wsize||Q!==T.avail_out&&C.mode<30&&(C.mode<27||L!==4))&&j(T,T.output,T.next_out,Q-T.avail_out)?(C.mode=31,-4):(X-=T.avail_in,Q-=T.avail_out,T.total_in+=X,T.total_out+=Q,C.total+=Q,C.wrap&&Q&&(T.adler=C.check=C.flags?o(C.check,ve,Q,T.next_out-Q):a(C.check,ve,Q,T.next_out-Q)),T.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(X==0&&Q===0||L===4)&&K===m&&(K=-5),K)},i.inflateEnd=function(T){if(!T||!T.state)return h;var L=T.state;return L.window&&(L.window=null),T.state=null,m},i.inflateGetHeader=function(T,L){var C;return T&&T.state&&2&(C=T.state).wrap?((C.head=L).done=!1,m):h},i.inflateSetDictionary=function(T,L){var C,ie=L.length;return T&&T.state?(C=T.state).wrap!==0&&C.mode!==11?h:C.mode===11&&a(1,L,ie,0)!==C.check?-3:j(T,L,ie,ie)?(C.mode=31,-4):(C.havedict=1,m):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,m,h,x,_,A,d){var y,v,w,I,q,R,P,E,H,j=d.bits,T=0,L=0,C=0,ie=0,ve=0,se=0,oe=0,he=0,Ae=0,fe=0,D=null,X=0,Q=new s.Buf16(16),le=new s.Buf16(16),ee=null,M=0;for(T=0;T<=15;T++)Q[T]=0;for(L=0;L<h;L++)Q[f[m+L]]++;for(ve=j,ie=15;1<=ie&&Q[ie]===0;ie--);if(ie<ve&&(ve=ie),ie===0)return x[_++]=20971520,x[_++]=20971520,d.bits=1,0;for(C=1;C<ie&&Q[C]===0;C++);for(ve<C&&(ve=C),T=he=1;T<=15;T++)if(he<<=1,(he-=Q[T])<0)return-1;if(0<he&&(c===0||ie!==1))return-1;for(le[1]=0,T=1;T<15;T++)le[T+1]=le[T]+Q[T];for(L=0;L<h;L++)f[m+L]!==0&&(A[le[f[m+L]]++]=L);if(R=c===0?(D=ee=A,19):c===1?(D=a,X-=257,ee=o,M-=257,256):(D=l,ee=u,-1),T=C,q=_,oe=L=fe=0,w=-1,I=(Ae=1<<(se=ve))-1,c===1&&852<Ae||c===2&&592<Ae)return 1;for(;;){for(P=T-oe,H=A[L]<R?(E=0,A[L]):A[L]>R?(E=ee[M+A[L]],D[X+A[L]]):(E=96,0),y=1<<T-oe,C=v=1<<se;x[q+(fe>>oe)+(v-=y)]=P<<24|E<<16|H|0,v!==0;);for(y=1<<T-1;fe&y;)y>>=1;if(y!==0?(fe&=y-1,fe+=y):fe=0,L++,--Q[T]==0){if(T===ie)break;T=f[m+A[L]]}if(ve<T&&(fe&I)!==w){for(oe===0&&(oe=ve),q+=C,he=1<<(se=T-oe);se+oe<ie&&!((he-=Q[se+oe])<=0);)se++,he<<=1;if(Ae+=1<<se,c===1&&852<Ae||c===2&&592<Ae)return 1;x[w=fe&I]=ve<<24|se<<16|q-_|0}}return fe!==0&&(x[q+fe]=T-oe<<24|64<<16|0),d.bits=ve,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(k){for(var F=k.length;0<=--F;)k[F]=0}var u=0,c=29,f=256,m=f+1+c,h=30,x=19,_=2*m+1,A=15,d=16,y=7,v=256,w=16,I=17,q=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(m+2));l(j);var T=new Array(2*h);l(T);var L=new Array(512);l(L);var C=new Array(256);l(C);var ie=new Array(c);l(ie);var ve,se,oe,he=new Array(h);function Ae(k,F,ue,we,ge){this.static_tree=k,this.extra_bits=F,this.extra_base=ue,this.elems=we,this.max_length=ge,this.has_stree=k&&k.length}function fe(k,F){this.dyn_tree=k,this.max_code=0,this.stat_desc=F}function D(k){return k<256?L[k]:L[256+(k>>>7)]}function X(k,F){k.pending_buf[k.pending++]=255&F,k.pending_buf[k.pending++]=F>>>8&255}function Q(k,F,ue){k.bi_valid>d-ue?(k.bi_buf|=F<<k.bi_valid&65535,X(k,k.bi_buf),k.bi_buf=F>>d-k.bi_valid,k.bi_valid+=ue-d):(k.bi_buf|=F<<k.bi_valid&65535,k.bi_valid+=ue)}function le(k,F,ue){Q(k,ue[2*F],ue[2*F+1])}function ee(k,F){for(var ue=0;ue|=1&k,k>>>=1,ue<<=1,0<--F;);return ue>>>1}function M(k,F,ue){var we,ge,ke=new Array(A+1),Fe=0;for(we=1;we<=A;we++)ke[we]=Fe=Fe+ue[we-1]<<1;for(ge=0;ge<=F;ge++){var Le=k[2*ge+1];Le!==0&&(k[2*ge]=ee(ke[Le]++,Le))}}function U(k){var F;for(F=0;F<m;F++)k.dyn_ltree[2*F]=0;for(F=0;F<h;F++)k.dyn_dtree[2*F]=0;for(F=0;F<x;F++)k.bl_tree[2*F]=0;k.dyn_ltree[2*v]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ne(k){8<k.bi_valid?X(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function te(k,F,ue,we){var ge=2*F,ke=2*ue;return k[ge]<k[ke]||k[ge]===k[ke]&&we[F]<=we[ue]}function Y(k,F,ue){for(var we=k.heap[ue],ge=ue<<1;ge<=k.heap_len&&(ge<k.heap_len&&te(F,k.heap[ge+1],k.heap[ge],k.depth)&&ge++,!te(F,we,k.heap[ge],k.depth));)k.heap[ue]=k.heap[ge],ue=ge,ge<<=1;k.heap[ue]=we}function re(k,F,ue){var we,ge,ke,Fe,Le=0;if(k.last_lit!==0)for(;we=k.pending_buf[k.d_buf+2*Le]<<8|k.pending_buf[k.d_buf+2*Le+1],ge=k.pending_buf[k.l_buf+Le],Le++,we===0?le(k,ge,F):(le(k,(ke=C[ge])+f+1,F),(Fe=R[ke])!==0&&Q(k,ge-=ie[ke],Fe),le(k,ke=D(--we),ue),(Fe=P[ke])!==0&&Q(k,we-=he[ke],Fe)),Le<k.last_lit;);le(k,v,F)}function Ee(k,F){var ue,we,ge,ke=F.dyn_tree,Fe=F.stat_desc.static_tree,Le=F.stat_desc.has_stree,Ue=F.stat_desc.elems,Qe=-1;for(k.heap_len=0,k.heap_max=_,ue=0;ue<Ue;ue++)ke[2*ue]!==0?(k.heap[++k.heap_len]=Qe=ue,k.depth[ue]=0):ke[2*ue+1]=0;for(;k.heap_len<2;)ke[2*(ge=k.heap[++k.heap_len]=Qe<2?++Qe:0)]=1,k.depth[ge]=0,k.opt_len--,Le&&(k.static_len-=Fe[2*ge+1]);for(F.max_code=Qe,ue=k.heap_len>>1;1<=ue;ue--)Y(k,ke,ue);for(ge=Ue;ue=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Y(k,ke,1),we=k.heap[1],k.heap[--k.heap_max]=ue,k.heap[--k.heap_max]=we,ke[2*ge]=ke[2*ue]+ke[2*we],k.depth[ge]=(k.depth[ue]>=k.depth[we]?k.depth[ue]:k.depth[we])+1,ke[2*ue+1]=ke[2*we+1]=ge,k.heap[1]=ge++,Y(k,ke,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(nt,it){var me,Te,Me,et,at,ct,ot=it.dyn_tree,lt=it.max_code,Bt=it.stat_desc.static_tree,At=it.stat_desc.has_stree,Nt=it.stat_desc.extra_bits,nr=it.stat_desc.extra_base,_t=it.stat_desc.max_length,bt=0;for(et=0;et<=A;et++)nt.bl_count[et]=0;for(ot[2*nt.heap[nt.heap_max]+1]=0,me=nt.heap_max+1;me<_;me++)_t<(et=ot[2*ot[2*(Te=nt.heap[me])+1]+1]+1)&&(et=_t,bt++),ot[2*Te+1]=et,lt<Te||(nt.bl_count[et]++,at=0,nr<=Te&&(at=Nt[Te-nr]),ct=ot[2*Te],nt.opt_len+=ct*(et+at),At&&(nt.static_len+=ct*(Bt[2*Te+1]+at)));if(bt!==0){do{for(et=_t-1;nt.bl_count[et]===0;)et--;nt.bl_count[et]--,nt.bl_count[et+1]+=2,nt.bl_count[_t]--,bt-=2}while(0<bt);for(et=_t;et!==0;et--)for(Te=nt.bl_count[et];Te!==0;)lt<(Me=nt.heap[--me])||(ot[2*Me+1]!==et&&(nt.opt_len+=(et-ot[2*Me+1])*ot[2*Me],ot[2*Me+1]=et),Te--)}}(k,F),M(ke,Qe,k.bl_count)}function z(k,F,ue){var we,ge,ke=-1,Fe=F[1],Le=0,Ue=7,Qe=4;for(Fe===0&&(Ue=138,Qe=3),F[2*(ue+1)+1]=65535,we=0;we<=ue;we++)ge=Fe,Fe=F[2*(we+1)+1],++Le<Ue&&ge===Fe||(Le<Qe?k.bl_tree[2*ge]+=Le:ge!==0?(ge!==ke&&k.bl_tree[2*ge]++,k.bl_tree[2*w]++):Le<=10?k.bl_tree[2*I]++:k.bl_tree[2*q]++,ke=ge,Qe=(Le=0)===Fe?(Ue=138,3):ge===Fe?(Ue=6,3):(Ue=7,4))}function K(k,F,ue){var we,ge,ke=-1,Fe=F[1],Le=0,Ue=7,Qe=4;for(Fe===0&&(Ue=138,Qe=3),we=0;we<=ue;we++)if(ge=Fe,Fe=F[2*(we+1)+1],!(++Le<Ue&&ge===Fe)){if(Le<Qe)for(;le(k,ge,k.bl_tree),--Le!=0;);else ge!==0?(ge!==ke&&(le(k,ge,k.bl_tree),Le--),le(k,w,k.bl_tree),Q(k,Le-3,2)):Le<=10?(le(k,I,k.bl_tree),Q(k,Le-3,3)):(le(k,q,k.bl_tree),Q(k,Le-11,7));ke=ge,Qe=(Le=0)===Fe?(Ue=138,3):ge===Fe?(Ue=6,3):(Ue=7,4)}}l(he);var W=!1;function N(k,F,ue,we){Q(k,(u<<1)+(we?1:0),3),function(ge,ke,Fe,Le){ne(ge),X(ge,Fe),X(ge,~Fe),s.arraySet(ge.pending_buf,ge.window,ke,Fe,ge.pending),ge.pending+=Fe}(k,F,ue)}i._tr_init=function(k){W||(function(){var F,ue,we,ge,ke,Fe=new Array(A+1);for(ge=we=0;ge<c-1;ge++)for(ie[ge]=we,F=0;F<1<<R[ge];F++)C[we++]=ge;for(C[we-1]=ge,ge=ke=0;ge<16;ge++)for(he[ge]=ke,F=0;F<1<<P[ge];F++)L[ke++]=ge;for(ke>>=7;ge<h;ge++)for(he[ge]=ke<<7,F=0;F<1<<P[ge]-7;F++)L[256+ke++]=ge;for(ue=0;ue<=A;ue++)Fe[ue]=0;for(F=0;F<=143;)j[2*F+1]=8,F++,Fe[8]++;for(;F<=255;)j[2*F+1]=9,F++,Fe[9]++;for(;F<=279;)j[2*F+1]=7,F++,Fe[7]++;for(;F<=287;)j[2*F+1]=8,F++,Fe[8]++;for(M(j,m+1,Fe),F=0;F<h;F++)T[2*F+1]=5,T[2*F]=ee(F,5);ve=new Ae(j,R,f+1,m,A),se=new Ae(T,P,0,h,A),oe=new Ae(new Array(0),E,0,x,y)}(),W=!0),k.l_desc=new fe(k.dyn_ltree,ve),k.d_desc=new fe(k.dyn_dtree,se),k.bl_desc=new fe(k.bl_tree,oe),k.bi_buf=0,k.bi_valid=0,U(k)},i._tr_stored_block=N,i._tr_flush_block=function(k,F,ue,we){var ge,ke,Fe=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(Le){var Ue,Qe=4093624447;for(Ue=0;Ue<=31;Ue++,Qe>>>=1)if(1&Qe&&Le.dyn_ltree[2*Ue]!==0)return a;if(Le.dyn_ltree[18]!==0||Le.dyn_ltree[20]!==0||Le.dyn_ltree[26]!==0)return o;for(Ue=32;Ue<f;Ue++)if(Le.dyn_ltree[2*Ue]!==0)return o;return a}(k)),Ee(k,k.l_desc),Ee(k,k.d_desc),Fe=function(Le){var Ue;for(z(Le,Le.dyn_ltree,Le.l_desc.max_code),z(Le,Le.dyn_dtree,Le.d_desc.max_code),Ee(Le,Le.bl_desc),Ue=x-1;3<=Ue&&Le.bl_tree[2*H[Ue]+1]===0;Ue--);return Le.opt_len+=3*(Ue+1)+5+5+4,Ue}(k),ge=k.opt_len+3+7>>>3,(ke=k.static_len+3+7>>>3)<=ge&&(ge=ke)):ge=ke=ue+5,ue+4<=ge&&F!==-1?N(k,F,ue,we):k.strategy===4||ke===ge?(Q(k,2+(we?1:0),3),re(k,j,T)):(Q(k,4+(we?1:0),3),function(Le,Ue,Qe,nt){var it;for(Q(Le,Ue-257,5),Q(Le,Qe-1,5),Q(Le,nt-4,4),it=0;it<nt;it++)Q(Le,Le.bl_tree[2*H[it]+1],3);K(Le,Le.dyn_ltree,Ue-1),K(Le,Le.dyn_dtree,Qe-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Fe+1),re(k,k.dyn_ltree,k.dyn_dtree)),U(k),we&&ne(k)},i._tr_tally=function(k,F,ue){return k.pending_buf[k.d_buf+2*k.last_lit]=F>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&F,k.pending_buf[k.l_buf+k.last_lit]=255&ue,k.last_lit++,F===0?k.dyn_ltree[2*ue]++:(k.matches++,F--,k.dyn_ltree[2*(C[ue]+f+1)]++,k.dyn_dtree[2*D(F)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){Q(k,2,3),le(k,v,j),function(F){F.bi_valid===16?(X(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,c,f,m=1,h={},x=!1,_=a.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(a);A=A&&A.setTimeout?A:a,l={}.toString.call(a.process)==="[object process]"?function(w){Ht.nextTick(function(){y(w)})}:function(){if(a.postMessage&&!a.importScripts){var w=!0,I=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=I,w}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",v,!1):a.attachEvent("onmessage",v),function(w){a.postMessage(f+w,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){c.port2.postMessage(w)}):_&&"onreadystatechange"in _.createElement("script")?(u=_.documentElement,function(w){var I=_.createElement("script");I.onreadystatechange=function(){y(w),I.onreadystatechange=null,u.removeChild(I),I=null},u.appendChild(I)}):function(w){setTimeout(y,0,w)},A.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var I=new Array(arguments.length-1),q=0;q<I.length;q++)I[q]=arguments[q+1];var R={callback:w,args:I};return h[m]=R,l(m),m++},A.clearImmediate=d}function d(w){delete h[w]}function y(w){if(x)setTimeout(y,0,w);else{var I=h[w];if(I){x=!0;try{(function(q){var R=q.callback,P=q.args;switch(P.length){case 0:R();break;case 1:R(P[0]);break;case 2:R(P[0],P[1]);break;case 3:R(P[0],P[1],P[2]);break;default:R.apply(o,P)}})(I)}finally{d(w),x=!1}}}}function v(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(f)===0&&y(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Uv)),Uv.exports}var SK=AK();const TK=eb(SK);var Af={exports:{}},Vv,mS;function NK(){if(mS)return Vv;mS=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return Vv=e,Vv}var gS;function kK(){if(gS)return Af.exports;gS=1;var t=NK(),e=ab().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var f=c.stream?new e:null,m="",h=!1,x=c.indent?c.indent===!0?r:c.indent:"",_=!0;function A(I){_?Ht.nextTick(I):I()}function d(I,q){if(q!==void 0&&(m+=q),I&&!h&&(f=f||new e,h=!0),I&&h){var R=m;A(function(){f.emit("data",R)}),m=""}}function y(I,q){o(d,a(I,x,x?1:0),q)}function v(){if(f){var I=m;A(function(){f.emit("data",I),f.emit("end"),f.readable=!1,f.emit("close")})}}function w(I){var q=I.encoding||"UTF-8",R={version:"1.0",encoding:q};I.standalone&&(R.standalone=I.standalone),y({"?xml":{_attr:R}}),m=m.replace("/>","?>")}return A(function(){_=!1}),c.declaration&&w(c.declaration),u&&u.forEach?u.forEach(function(I,q){var R;q+1===u.length&&(R=v),y(I,R)}):y(u,v),f?(f.readable=!0,f):m}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:a(u)};return c.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var m=this,h=this._elem.indent;o(this.append,a(f,h,this._elem.icount+(h?1:0)),function(){m.append(!0)})},c.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function a(u,c,f){f=f||0;var m=s(c,f),h,x=u,_=!1;if(typeof u=="object"){var A=Object.keys(u);if(h=A[0],x=u[h],x&&x._elem)return x._elem.name=h,x._elem.icount=f,x._elem.indent=c,x._elem.indents=m,x._elem.interrupt=x,x._elem}var d=[],y=[],v;function w(I){var q=Object.keys(I);q.forEach(function(R){d.push(l(R,I[R]))})}switch(typeof x){case"object":if(x===null)break;x._attr&&w(x._attr),x._cdata&&y.push(("<![CDATA["+x._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),x.forEach&&(v=!1,y.push(""),x.forEach(function(I){if(typeof I=="object"){var q=Object.keys(I)[0];q=="_attr"?w(I._attr):y.push(a(I,c,f+1))}else y.pop(),v=!0,y.push(t(I))}),v||y.push(""));break;default:y.push(t(x))}return{name:h,interrupt:_,attributes:d,content:y,icount:f,indents:m,indent:c}}function o(u,c,f){if(typeof c!="object")return u(!1,c);var m=c.interrupt?1:c.content.length;function h(){for(;c.content.length;){var _=c.content.shift();if(_!==void 0){if(x(_))return;o(u,_)}}u(!1,(m>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!f?`
`:"")),f&&f()}function x(_){return _.interrupt?(_.interrupt.append=u,_.interrupt.end=h,_.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(m?c.name?">":"":c.name?"/>":"")+(c.indent&&m>1?`
`:"")),!m)return u(!1,c.indent?`
`:"");x(c)||h()}function l(u,c){return u+'="'+t(c)+'"'}return Af.exports=n,Af.exports.element=Af.exports.Element=i,Af.exports}var IK=kK();const Wr=eb(IK),Sf=0,zv=32,CK=32,RK=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==CK)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=t.slice(Sf,zv).map((l,u)=>l^i[u%i.length]),o=new Uint8Array(Sf+a.length+Math.max(0,t.length-zv));return o.set(t.slice(0,Sf)),o.set(a,Sf),o.set(t.slice(zv),Sf+a.length),o};class PK{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class LK{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class OK{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class DK{constructor(){Be(this,"formatter"),Be(this,"imageReplacer"),Be(this,"numberingReplacer"),this.formatter=new PK,this.imageReplacer=new LK,this.numberingReplacer=new OK}compile(e,r,n=[]){const i=new TK,s=this.xmlifyFile(e,r),a=new Map(Object.entries(s));for(const[,o]of a)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){const[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,RK(o,u))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=Wr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,a=Wr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Wr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=Wr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Wr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Wr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Wr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,x)=>{u.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Wr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,x)=>{u.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Wr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:Wr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Wr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Wr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Wr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Wr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Wr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Wr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Wr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Wr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const jK={WITH_2_BLANKS:"  "},yS=t=>t===!0?jK.WITH_2_BLANKS:t===!1?void 0:t,WR=class Pc{static pack(e,r,n){return cq(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,yS(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Pc.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Pc.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Pc.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Pc.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Pc.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new EK.Stream;return this.compiler.compile(e,yS(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};Be(WR,"compiler",new DK);let FK=WR;var $R={exports:{}};(function(t,e){(function(r,n){n()})(hf,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,f){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){l(m.response,c,f)},m.onerror=function(){console.error("could not download file")},m.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hf=="object"&&hf.global===hf?hf:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,f){var m=a.URL||a.webkitURL,h=document.createElement("a");c=c||u.name||"download",h.download=c,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?s(h):i(h.href)?n(u,c,f):s(h,h.target="_blank")):(h.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),c);else if(i(u))n(u,c,f);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){s(m)})}}:function(u,c,f,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,f);var h=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||h&&x||o)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var v=A.result;v=_?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=v:location=v,m=null},A.readAsDataURL(u)}else{var d=a.URL||a.webkitURL,y=d.createObjectURL(u);m?m.location=y:location.href=y,m=null,setTimeout(function(){d.revokeObjectURL(y)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})($R);var MK=$R.exports;function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(t)}var na=Uint8Array,ns=Uint16Array,pb=Int32Array,mb=new na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gb=new na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vS=new na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GR=function(t,e){for(var r=new ns(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new pb(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},KR=GR(mb,2),BK=KR.b,Ww=KR.r;BK[28]=258,Ww[258]=28;var UK=GR(gb,0),wS=UK.r,$w=new ns(32768);for(var Lr=0;Lr<32768;++Lr){var el=(Lr&43690)>>1|(Lr&21845)<<1;el=(el&52428)>>2|(el&13107)<<2,el=(el&61680)>>4|(el&3855)<<4,$w[Lr]=((el&65280)>>8|(el&255)<<8)>>1}var rd=function(t,e,r){for(var n=t.length,i=0,s=new ns(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new ns(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new ns(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,m=f|(1<<c)-1;f<=m;++f)o[$w[f]>>l]=u}else for(o=new ns(n),i=0;i<n;++i)t[i]&&(o[i]=$w[a[t[i]-1]++]>>15-t[i]);return o},Gu=new na(288);for(var Lr=0;Lr<144;++Lr)Gu[Lr]=8;for(var Lr=144;Lr<256;++Lr)Gu[Lr]=9;for(var Lr=256;Lr<280;++Lr)Gu[Lr]=7;for(var Lr=280;Lr<288;++Lr)Gu[Lr]=8;var Hg=new na(32);for(var Lr=0;Lr<32;++Lr)Hg[Lr]=5;var VK=rd(Gu,9,0),zK=rd(Hg,5,0),XR=function(t){return(t+7)/8|0},qK=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new na(t.subarray(e,r))},io=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Tf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},qv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:QR,l:0};if(i==1){var a=new na(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(I,q){return I.f-q.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var h=new ns(m+1),x=Gw(r[c-1],h,0);if(x>e){var n=0,_=0,A=x-e,d=1<<A;for(s.sort(function(q,R){return h[R.s]-h[q.s]||q.f-R.f});n<i;++n){var y=s[n].s;if(h[y]>e)_+=d-(1<<x-h[y]),h[y]=e;else break}for(_>>=A;_>0;){var v=s[n].s;h[v]<e?_-=1<<e-h[v]++-1:++n}for(;n>=0&&_;--n){var w=s[n].s;h[w]==e&&(--h[w],++_)}x=e}return{t:new na(h),l:x}},Gw=function(t,e,r){return t.s==-1?Math.max(Gw(t.l,e,r+1),Gw(t.r,e,r+1)):e[t.s]=r},_S=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ns(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Nf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},YR=function(t,e,r){var n=r.length,i=XR(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},bS=function(t,e,r,n,i,s,a,o,l,u,c){io(e,c++,r),++i[256];for(var f=qv(i,15),m=f.t,h=f.l,x=qv(s,15),_=x.t,A=x.l,d=_S(m),y=d.c,v=d.n,w=_S(_),I=w.c,q=w.n,R=new ns(19),P=0;P<y.length;++P)++R[y[P]&31];for(var P=0;P<I.length;++P)++R[I[P]&31];for(var E=qv(R,7),H=E.t,j=E.l,T=19;T>4&&!H[vS[T-1]];--T);var L=u+5<<3,C=Nf(i,Gu)+Nf(s,Hg)+a,ie=Nf(i,m)+Nf(s,_)+a+14+3*T+Nf(R,H)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&L<=C&&L<=ie)return YR(e,c,t.subarray(l,l+u));var ve,se,oe,he;if(io(e,c,1+(ie<C)),c+=2,ie<C){ve=rd(m,h,0),se=m,oe=rd(_,A,0),he=_;var Ae=rd(H,j,0);io(e,c,v-257),io(e,c+5,q-1),io(e,c+10,T-4),c+=14;for(var P=0;P<T;++P)io(e,c+3*P,H[vS[P]]);c+=3*T;for(var fe=[y,I],D=0;D<2;++D)for(var X=fe[D],P=0;P<X.length;++P){var Q=X[P]&31;io(e,c,Ae[Q]),c+=H[Q],Q>15&&(io(e,c,X[P]>>5&127),c+=X[P]>>12)}}else ve=VK,se=Gu,oe=zK,he=Hg;for(var P=0;P<o;++P){var le=n[P];if(le>255){var Q=le>>18&31;Tf(e,c,ve[Q+257]),c+=se[Q+257],Q>7&&(io(e,c,le>>23&31),c+=mb[Q]);var ee=le&31;Tf(e,c,oe[ee]),c+=he[ee],ee>3&&(Tf(e,c,le>>5&8191),c+=gb[ee])}else Tf(e,c,ve[le]),c+=se[le]}return Tf(e,c,ve[256]),c+se[256]},HK=new pb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),QR=new na(0),WK=function(t,e,r,n,i,s){var a=s.z||t.length,o=new na(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var f=HK[e-1],m=f>>13,h=f&8191,x=(1<<r)-1,_=s.p||new ns(32768),A=s.h||new ns(x+1),d=Math.ceil(r/3),y=2*d,v=function(z){return(t[z]^t[z+1]<<d^t[z+2]<<y)&x},w=new pb(25e3),I=new ns(288),q=new ns(32),R=0,P=0,E=s.i||0,H=0,j=s.w||0,T=0;E+2<a;++E){var L=v(E),C=E&32767,ie=A[L];if(_[C]=ie,A[L]=C,j<=E){var ve=a-E;if((R>7e3||H>24576)&&(ve>423||!u)){c=bS(t,l,0,w,I,q,P,H,T,E-T,c),H=R=P=0,T=E;for(var se=0;se<286;++se)I[se]=0;for(var se=0;se<30;++se)q[se]=0}var oe=2,he=0,Ae=h,fe=C-ie&32767;if(ve>2&&L==v(E-fe))for(var D=Math.min(m,ve)-1,X=Math.min(32767,E),Q=Math.min(258,ve);fe<=X&&--Ae&&C!=ie;){if(t[E+oe]==t[E+oe-fe]){for(var le=0;le<Q&&t[E+le]==t[E+le-fe];++le);if(le>oe){if(oe=le,he=fe,le>D)break;for(var ee=Math.min(fe,le-2),M=0,se=0;se<ee;++se){var U=E-fe+se&32767,ne=_[U],te=U-ne&32767;te>M&&(M=te,ie=U)}}}C=ie,ie=_[C],fe+=C-ie&32767}if(he){w[H++]=268435456|Ww[oe]<<18|wS[he];var Y=Ww[oe]&31,re=wS[he]&31;P+=mb[Y]+gb[re],++I[257+Y],++q[re],j=E+oe,++R}else w[H++]=t[E],++I[t[E]]}}for(E=Math.max(E,j);E<a;++E)w[H++]=t[E],++I[t[E]];c=bS(t,l,u,w,I,q,P,H,T,E-T,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=A,s.p=_,s.i=E,s.w=j)}else{for(var E=s.w||0;E<a+u;E+=65535){var Ee=E+65535;Ee>=a&&(l[c/8|0]=u,Ee=a),c=YR(l,c+1,t.subarray(E,Ee))}s.i=a}return qK(o,0,n+XR(c)+i)},JR=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$K=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new na(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return WK(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},ZR=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},GK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=JR();i.p(e.dictionary),ZR(t,2,i.d())}};function Kw(t,e){e||(e={});var r=JR();r.p(t);var n=$K(t,e,e.dictionary?6:2,4);return GK(n,e),ZR(n,n.length-4,r.d()),n}var KK=typeof TextDecoder<"u"&&new TextDecoder,XK=0;try{KK.decode(QR,{stream:!0}),XK=1}catch{}function YK(t){if(Array.isArray(t))return t}function QK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function JK(t,e){if(t){if(typeof t=="string")return xS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xS(t,e):void 0}}function ZK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ES(t,e){return YK(t)||QK(t,e)||JK(t,e)||ZK()}function AS(t,e="utf8"){return new TextDecoder(e).decode(t)}const eX=new TextEncoder;function tX(t){return eX.encode(t)}const rX=1024*8,nX=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Hv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class yb{constructor(e=rX,r={}){cr(this,"buffer");cr(this,"byteLength");cr(this,"byteOffset");cr(this,"length");cr(this,"offset");cr(this,"lastWrittenByte");cr(this,"littleEndian");cr(this,"_data");cr(this,"_mark");cr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof yb)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Hv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===nX&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Hv[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new Hv[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return AS(this.readBytes(e))}decodeText(e=1,r="utf8"){return AS(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(tX(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hh(t){let e=t.length;for(;--e>=0;)t[e]=0}const iX=3,sX=258,e8=29,aX=256,oX=aX+1+e8,t8=30,lX=512,uX=new Array((oX+2)*2);Hh(uX);const cX=new Array(t8*2);Hh(cX);const hX=new Array(lX);Hh(hX);const fX=new Array(sX-iX+1);Hh(fX);const dX=new Array(e8);Hh(dX);const pX=new Array(t8);Hh(pX);const mX=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Xw=mX;const gX=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},yX=new Uint32Array(gX()),vX=(t,e,r,n)=>{const i=yX,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var ba=vX,Yw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},r8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wX=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _X=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)wX(r,n)&&(t[n]=r[n])}}return t},bX=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},n8={assign:_X,flattenChunks:bX};let i8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i8=!1}const Od=new Uint8Array(256);for(let t=0;t<256;t++)Od[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Od[254]=Od[254]=1;var xX=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const EX=(t,e)=>{if(e<65534&&t.subarray&&i8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var AX=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Od[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return EX(s,i)},SX=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Od[t[r]]>e?r:e},Qw={string2buf:xX,buf2string:AX,utf8border:SX};function TX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NX=TX;const fm=16209,kX=16191;var IX=function(e,r){let n,i,s,a,o,l,u,c,f,m,h,x,_,A,d,y,v,w,I,q,R,P,E,H;const j=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),s=e.next_out,H=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=j.dmax,u=j.wsize,c=j.whave,f=j.wnext,m=j.window,h=j.hold,x=j.bits,_=j.lencode,A=j.distcode,d=(1<<j.lenbits)-1,y=(1<<j.distbits)-1;e:do{x<15&&(h+=E[n++]<<x,x+=8,h+=E[n++]<<x,x+=8),v=_[h&d];t:for(;;){if(w=v>>>24,h>>>=w,x-=w,w=v>>>16&255,w===0)H[s++]=v&65535;else if(w&16){I=v&65535,w&=15,w&&(x<w&&(h+=E[n++]<<x,x+=8),I+=h&(1<<w)-1,h>>>=w,x-=w),x<15&&(h+=E[n++]<<x,x+=8,h+=E[n++]<<x,x+=8),v=A[h&y];r:for(;;){if(w=v>>>24,h>>>=w,x-=w,w=v>>>16&255,w&16){if(q=v&65535,w&=15,x<w&&(h+=E[n++]<<x,x+=8,x<w&&(h+=E[n++]<<x,x+=8)),q+=h&(1<<w)-1,q>l){e.msg="invalid distance too far back",j.mode=fm;break e}if(h>>>=w,x-=w,w=s-a,q>w){if(w=q-w,w>c&&j.sane){e.msg="invalid distance too far back",j.mode=fm;break e}if(R=0,P=m,f===0){if(R+=u-w,w<I){I-=w;do H[s++]=m[R++];while(--w);R=s-q,P=H}}else if(f<w){if(R+=u+f-w,w-=f,w<I){I-=w;do H[s++]=m[R++];while(--w);if(R=0,f<I){w=f,I-=w;do H[s++]=m[R++];while(--w);R=s-q,P=H}}}else if(R+=f-w,w<I){I-=w;do H[s++]=m[R++];while(--w);R=s-q,P=H}for(;I>2;)H[s++]=P[R++],H[s++]=P[R++],H[s++]=P[R++],I-=3;I&&(H[s++]=P[R++],I>1&&(H[s++]=P[R++]))}else{R=s-q;do H[s++]=H[R++],H[s++]=H[R++],H[s++]=H[R++],I-=3;while(I>2);I&&(H[s++]=H[R++],I>1&&(H[s++]=H[R++]))}}else if(w&64){e.msg="invalid distance code",j.mode=fm;break e}else{v=A[(v&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){j.mode=kX;break e}else{e.msg="invalid literal/length code",j.mode=fm;break e}else{v=_[(v&65535)+(h&(1<<w)-1)];continue t}break}}while(n<i&&s<o);I=x>>3,n-=I,x-=I<<3,h&=(1<<x)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),j.hold=h,j.bits=x};const Ac=15,SS=852,TS=592,NS=0,Wv=1,kS=2,CX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),LX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),OX=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,c=0,f=0,m=0,h=0,x=0,_=0,A=0,d=0,y=0,v,w,I,q,R,P=null,E;const H=new Uint16Array(Ac+1),j=new Uint16Array(Ac+1);let T=null,L,C,ie;for(u=0;u<=Ac;u++)H[u]=0;for(c=0;c<n;c++)H[e[r+c]]++;for(h=l,m=Ac;m>=1&&H[m]===0;m--);if(h>m&&(h=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<m&&H[f]===0;f++);for(h<f&&(h=f),A=1,u=1;u<=Ac;u++)if(A<<=1,A-=H[u],A<0)return-1;if(A>0&&(t===NS||m!==1))return-1;for(j[1]=0,u=1;u<Ac;u++)j[u+1]=j[u]+H[u];for(c=0;c<n;c++)e[r+c]!==0&&(a[j[e[r+c]]++]=c);if(t===NS?(P=T=a,E=20):t===Wv?(P=CX,T=RX,E=257):(P=PX,T=LX,E=0),y=0,c=0,u=f,R=s,x=h,_=0,I=-1,d=1<<h,q=d-1,t===Wv&&d>SS||t===kS&&d>TS)return 1;for(;;){L=u-_,a[c]+1<E?(C=0,ie=a[c]):a[c]>=E?(C=T[a[c]-E],ie=P[a[c]-E]):(C=96,ie=0),v=1<<u-_,w=1<<x,f=w;do w-=v,i[R+(y>>_)+w]=L<<24|C<<16|ie|0;while(w!==0);for(v=1<<u-1;y&v;)v>>=1;if(v!==0?(y&=v-1,y+=v):y=0,c++,--H[u]===0){if(u===m)break;u=e[r+a[c]]}if(u>h&&(y&q)!==I){for(_===0&&(_=h),R+=f,x=u-_,A=1<<x;x+_<m&&(A-=H[x+_],!(A<=0));)x++,A<<=1;if(d+=1<<x,t===Wv&&d>SS||t===kS&&d>TS)return 1;I=y&q,i[I]=h<<24|x<<16|R-s|0}}return y!==0&&(i[R+y]=u-_<<24|64<<16|0),o.bits=h,0};var nd=OX;const DX=0,s8=1,a8=2,{Z_FINISH:IS,Z_BLOCK:jX,Z_TREES:dm,Z_OK:Ku,Z_STREAM_END:FX,Z_NEED_DICT:MX,Z_STREAM_ERROR:Is,Z_DATA_ERROR:o8,Z_MEM_ERROR:l8,Z_BUF_ERROR:BX,Z_DEFLATED:CS}=r8,X0=16180,RS=16181,PS=16182,LS=16183,OS=16184,DS=16185,jS=16186,FS=16187,MS=16188,BS=16189,Wg=16190,so=16191,$v=16192,US=16193,Gv=16194,VS=16195,zS=16196,qS=16197,HS=16198,pm=16199,mm=16200,WS=16201,$S=16202,GS=16203,KS=16204,XS=16205,Kv=16206,YS=16207,QS=16208,jr=16209,u8=16210,c8=16211,UX=852,VX=592,zX=15,qX=zX,JS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function HX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ac=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<X0||e.mode>c8?1:0},h8=t=>{if(ac(t))return Is;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=X0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(UX),e.distcode=e.distdyn=new Int32Array(VX),e.sane=1,e.back=-1,Ku},f8=t=>{if(ac(t))return Is;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,h8(t)},d8=(t,e)=>{let r;if(ac(t))return Is;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Is:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,f8(t))},p8=(t,e)=>{if(!t)return Is;const r=new HX;t.state=r,r.strm=t,r.window=null,r.mode=X0;const n=d8(t,e);return n!==Ku&&(t.state=null),n},WX=t=>p8(t,qX);let ZS=!0,Xv,Yv;const $X=t=>{if(ZS){Xv=new Int32Array(512),Yv=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(nd(s8,t.lens,0,288,Xv,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;nd(a8,t.lens,0,32,Yv,0,t.work,{bits:5}),ZS=!1}t.lencode=Xv,t.lenbits=9,t.distcode=Yv,t.distbits=5},m8=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},GX=(t,e)=>{let r,n,i,s,a,o,l,u,c,f,m,h,x,_,A=0,d,y,v,w,I,q,R,P;const E=new Uint8Array(4);let H,j;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ac(t)||!t.output||!t.input&&t.avail_in!==0)return Is;r=t.state,r.mode===so&&(r.mode=$v),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,c=r.bits,f=o,m=l,P=Ku;e:for(;;)switch(r.mode){case X0:if(r.wrap===0){r.mode=$v;break}for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=u&255,E[1]=u>>>8&255,r.check=ba(r.check,E,2,0),u=0,c=0,r.mode=RS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=jr;break}if((u&15)!==CS){t.msg="unknown compression method",r.mode=jr;break}if(u>>>=4,c-=4,R=(u&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=jr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?BS:so,u=0,c=0;break;case RS:for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==CS){t.msg="unknown compression method",r.mode=jr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=jr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=ba(r.check,E,2,0)),u=0,c=0,r.mode=PS;case PS:for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=ba(r.check,E,4,0)),u=0,c=0,r.mode=LS;case LS:for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=ba(r.check,E,2,0)),u=0,c=0,r.mode=OS;case OS:if(r.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=ba(r.check,E,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=DS;case DS:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),R)),r.flags&512&&r.wrap&4&&(r.check=ba(r.check,n,h,s)),o-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=jS;case jS:if(r.flags&2048){if(o===0)break e;h=0;do R=n[s+h++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ba(r.check,n,h,s)),o-=h,s+=h,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=FS;case FS:if(r.flags&4096){if(o===0)break e;h=0;do R=n[s+h++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ba(r.check,n,h,s)),o-=h,s+=h,R)break e}else r.head&&(r.head.comment=null);r.mode=MS;case MS:if(r.flags&512){for(;c<16;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=jr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=so;break;case BS:for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}t.adler=r.check=JS(u),u=0,c=0,r.mode=Wg;case Wg:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,MX;t.adler=r.check=1,r.mode=so;case so:if(e===jX||e===dm)break e;case $v:if(r.last){u>>>=c&7,c-=c&7,r.mode=Kv;break}for(;c<3;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=US;break;case 1:if($X(r),r.mode=pm,e===dm){u>>>=2,c-=2;break e}break;case 2:r.mode=zS;break;case 3:t.msg="invalid block type",r.mode=jr}u>>>=2,c-=2;break;case US:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=jr;break}if(r.length=u&65535,u=0,c=0,r.mode=Gv,e===dm)break e;case Gv:r.mode=VS;case VS:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(s,s+h),a),o-=h,s+=h,l-=h,a+=h,r.length-=h;break}r.mode=so;break;case zS:for(;c<14;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=jr;break}r.have=0,r.mode=qS;case qS:for(;r.have<r.ncode;){for(;c<3;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.lens[T[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},P=nd(DX,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,P){t.msg="invalid code lengths set",r.mode=jr;break}r.have=0,r.mode=HS;case HS:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[u&(1<<r.lenbits)-1],d=A>>>24,y=A>>>16&255,v=A&65535,!(d<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(v<16)u>>>=d,c-=d,r.lens[r.have++]=v;else{if(v===16){for(j=d+2;c<j;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(u>>>=d,c-=d,r.have===0){t.msg="invalid bit length repeat",r.mode=jr;break}R=r.lens[r.have-1],h=3+(u&3),u>>>=2,c-=2}else if(v===17){for(j=d+3;c<j;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=d,c-=d,R=0,h=3+(u&7),u>>>=3,c-=3}else{for(j=d+7;c<j;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=d,c-=d,R=0,h=11+(u&127),u>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=jr;break}for(;h--;)r.lens[r.have++]=R}}if(r.mode===jr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=jr;break}if(r.lenbits=9,H={bits:r.lenbits},P=nd(s8,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,P){t.msg="invalid literal/lengths set",r.mode=jr;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},P=nd(a8,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,P){t.msg="invalid distances set",r.mode=jr;break}if(r.mode=pm,e===dm)break e;case pm:r.mode=mm;case mm:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,IX(t,m),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,c=r.bits,r.mode===so&&(r.back=-1);break}for(r.back=0;A=r.lencode[u&(1<<r.lenbits)-1],d=A>>>24,y=A>>>16&255,v=A&65535,!(d<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(y&&!(y&240)){for(w=d,I=y,q=v;A=r.lencode[q+((u&(1<<w+I)-1)>>w)],d=A>>>24,y=A>>>16&255,v=A&65535,!(w+d<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=w,c-=w,r.back+=w}if(u>>>=d,c-=d,r.back+=d,r.length=v,y===0){r.mode=XS;break}if(y&32){r.back=-1,r.mode=so;break}if(y&64){t.msg="invalid literal/length code",r.mode=jr;break}r.extra=y&15,r.mode=WS;case WS:if(r.extra){for(j=r.extra;c<j;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=$S;case $S:for(;A=r.distcode[u&(1<<r.distbits)-1],d=A>>>24,y=A>>>16&255,v=A&65535,!(d<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(!(y&240)){for(w=d,I=y,q=v;A=r.distcode[q+((u&(1<<w+I)-1)>>w)],d=A>>>24,y=A>>>16&255,v=A&65535,!(w+d<=c);){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}u>>>=w,c-=w,r.back+=w}if(u>>>=d,c-=d,r.back+=d,y&64){t.msg="invalid distance code",r.mode=jr;break}r.offset=v,r.extra=y&15,r.mode=GS;case GS:if(r.extra){for(j=r.extra;c<j;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=jr;break}r.mode=KS;case KS:if(l===0)break e;if(h=m-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=jr;break}h>r.wnext?(h-=r.wnext,x=r.wsize-h):x=r.wnext-h,h>r.length&&(h=r.length),_=r.window}else _=i,x=a-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[a++]=_[x++];while(--h);r.length===0&&(r.mode=mm);break;case XS:if(l===0)break e;i[a++]=r.length,l--,r.mode=mm;break;case Kv:if(r.wrap){for(;c<32;){if(o===0)break e;o--,u|=n[s++]<<c,c+=8}if(m-=l,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?ba(r.check,i,m,a-m):Xw(r.check,i,m,a-m)),m=l,r.wrap&4&&(r.flags?u:JS(u))!==r.check){t.msg="incorrect data check",r.mode=jr;break}u=0,c=0}r.mode=YS;case YS:if(r.wrap&&r.flags){for(;c<32;){if(o===0)break e;o--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=jr;break}u=0,c=0}r.mode=QS;case QS:P=FX;break e;case jr:P=o8;break e;case u8:return l8;case c8:default:return Is}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,(r.wsize||m!==t.avail_out&&r.mode<jr&&(r.mode<Kv||e!==IS))&&m8(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?ba(r.check,i,m,t.next_out-m):Xw(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===so?128:0)+(r.mode===pm||r.mode===Gv?256:0),(f===0&&m===0||e===IS)&&P===Ku&&(P=BX),P},KX=t=>{if(ac(t))return Is;let e=t.state;return e.window&&(e.window=null),t.state=null,Ku},XX=(t,e)=>{if(ac(t))return Is;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Ku):Is},YX=(t,e)=>{const r=e.length;let n,i,s;return ac(t)||(n=t.state,n.wrap!==0&&n.mode!==Wg)?Is:n.mode===Wg&&(i=1,i=Xw(i,e,r,0),i!==n.check)?o8:(s=m8(t,e,r,r),s?(n.mode=u8,l8):(n.havedict=1,Ku))};var QX=f8,JX=d8,ZX=h8,eY=WX,tY=p8,rY=GX,nY=KX,iY=XX,sY=YX,aY="pako inflate (from Nodeca project)",lo={inflateReset:QX,inflateReset2:JX,inflateResetKeep:ZX,inflateInit:eY,inflateInit2:tY,inflate:rY,inflateEnd:nY,inflateGetHeader:iY,inflateSetDictionary:sY,inflateInfo:aY};function oY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lY=oY;const g8=Object.prototype.toString,{Z_NO_FLUSH:uY,Z_FINISH:cY,Z_OK:Dd,Z_STREAM_END:Qv,Z_NEED_DICT:Jv,Z_STREAM_ERROR:hY,Z_DATA_ERROR:e6,Z_MEM_ERROR:fY}=r8;function up(t){this.options=n8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NX,this.strm.avail_out=0;let r=lo.inflateInit2(this.strm,e.windowBits);if(r!==Dd)throw new Error(Yw[r]);if(this.header=new lY,lo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Qw.string2buf(e.dictionary):g8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=lo.inflateSetDictionary(this.strm,e.dictionary),r!==Dd)))throw new Error(Yw[r])}up.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?cY:uY,g8.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=lo.inflate(r,a),s===Jv&&i&&(s=lo.inflateSetDictionary(r,i),s===Dd?s=lo.inflate(r,a):s===e6&&(s=Jv));r.avail_in>0&&s===Qv&&r.state.wrap>0&&t[r.next_in]!==0;)lo.inflateReset(r),s=lo.inflate(r,a);switch(s){case hY:case e6:case Jv:case fY:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===Qv))if(this.options.to==="string"){let l=Qw.utf8border(r.output,r.next_out),u=r.next_out-l,c=Qw.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Dd&&o===0)){if(s===Qv)return s=lo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};up.prototype.onData=function(t){this.chunks.push(t)};up.prototype.onEnd=function(t){t===Dd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dY(t,e){const r=new up(e);if(r.push(t),r.err)throw r.msg||Yw[r.err];return r.result}var pY=up,mY=dY,gY={Inflate:pY,inflate:mY};const{Inflate:yY,inflate:vY}=gY;var t6=yY,wY=vY;const y8=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;y8[t]=e}const r6=4294967295;function _Y(t,e,r){let n=t;for(let i=0;i<r;i++)n=y8[(n^e[i])&255]^n>>>8;return n}function bY(t,e){return(_Y(r6,t,e)^r6)>>>0}function n6(t,e,r){const n=t.readUint32(),i=bY(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function v8(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function w8(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function _8(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function b8(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function x8(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+xY(e[s-i],r[s],r[s-i])&255}}function xY(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function EY(t,e,r,n,i,s){switch(t){case 0:v8(e,r,i);break;case 1:w8(e,r,i,s);break;case 2:_8(e,r,n,i);break;case 3:b8(e,r,n,i,s);break;case 4:x8(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const AY=new Uint16Array([255]),SY=new Uint8Array(AY.buffer),TY=SY[0]===255;function NY(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let c=0;c<7;c++){const f=a[c],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const x=m*o,_=new Uint8Array(x);for(let A=0;A<h;A++){const d=e[u++],y=e.subarray(u,u+x);u+=x;const v=new Uint8Array(x);EY(d,y,v,_,x,o),_.set(v);for(let w=0;w<m;w++){const I=f.x+w*f.xStep,q=f.y+A*f.yStep;if(!(I>=r||q>=n))for(let R=0;R<o;R++)l[(q*r+I)*o+R]=v[w*o+R]}}}if(s===16){const c=new Uint16Array(l.buffer);if(TY)for(let f=0;f<c.length;f++)c[f]=kY(c[f]);return c}else return l}function kY(t){return(t&255)<<8|t>>8&255}const IY=new Uint16Array([255]),CY=new Uint8Array(IY.buffer),RY=CY[0]===255,PY=new Uint8Array(0);function i6(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=PY,c=0,f,m;for(let h=0;h<n;h++){switch(f=e.subarray(c+1,c+1+o),m=l.subarray(h*o,(h+1)*o),e[c]){case 0:v8(f,m,o);break;case 1:w8(f,m,o,a);break;case 2:_8(f,m,u,o);break;case 3:b8(f,m,u,o,a);break;case 4:x8(f,m,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=m,c+=o+1}if(s===16){const h=new Uint16Array(l.buffer);if(RY)for(let x=0;x<h.length;x++)h[x]=LY(h[x]);return h}else return l}function LY(t){return(t&255)<<8|t>>8&255}const Hm=Uint8Array.of(137,80,78,71,13,10,26,10);function s6(t){if(!OY(t.readBytes(Hm.length)))throw new Error("wrong PNG signature")}function OY(t){if(t.length<Hm.length)return!1;for(let e=0;e<Hm.length;e++)if(t[e]!==Hm[e])return!1;return!0}const DY="tEXt",jY=0,E8=new TextDecoder("latin1");function FY(t){if(BY(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const MY=/^[\u0000-\u00FF]*$/;function BY(t){if(!MY.test(t))throw new Error("invalid latin1 text")}function UY(t,e,r){const n=A8(e);t[n]=VY(e,r-n.length-1)}function A8(t){for(t.mark();t.readByte()!==jY;);const e=t.offset;t.reset();const r=E8.decode(t.readBytes(e-t.offset-1));return t.skip(1),FY(r),r}function VY(t,e){return E8.decode(t.readBytes(e))}const Qi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zv={UNKNOWN:-1,DEFLATE:0},a6={UNKNOWN:-1,ADAPTIVE:0},e2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gm={NONE:0,BACKGROUND:1,PREVIOUS:2},t2={SOURCE:0,OVER:1};class zY extends yb{constructor(r,n={}){super(r);cr(this,"_checkCrc");cr(this,"_inflator");cr(this,"_png");cr(this,"_apng");cr(this,"_end");cr(this,"_hasPalette");cr(this,"_palette");cr(this,"_hasTransparency");cr(this,"_transparency");cr(this,"_compressionMethod");cr(this,"_filterMethod");cr(this,"_interlaceMethod");cr(this,"_colorType");cr(this,"_isAnimated");cr(this,"_numberOfFrames");cr(this,"_numberOfPlays");cr(this,"_frames");cr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new t6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zv.UNKNOWN,this._filterMethod=a6.UNKNOWN,this._interlaceMethod=e2.UNKNOWN,this._colorType=Qi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(s6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(s6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case DY:UY(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?n6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?n6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=qY(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Qi.GREYSCALE:i=1;break;case Qi.TRUECOLOUR:i=3;break;case Qi.INDEXED_COLOUR:i=1;break;case Qi.GREYSCALE_ALPHA:i=2;break;case Qi.TRUECOLOUR_ALPHA:i=4;break;case Qi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Qi.GREYSCALE:case Qi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Qi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Qi.UNKNOWN:case Qi.GREYSCALE_ALPHA:case Qi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=A8(this),i=this.readUint8();if(i!==Zv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:wY(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=i6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case gm.NONE:break;case gm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case gm.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case t2.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case t2.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++){const f=n.data[u+this._png.channels-1]/i,m=c%(this._png.channels-1)===0?1:n.data[u+c],h=Math.floor(f*m+(1-f)*r.data[l+c]);r.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==a6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===e2.NO_INTERLACE)this._png.data=i6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===e2.ADAM7)this._png.data=NY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gm.NONE,blendOp:t2.SOURCE,data:r}),this._inflator=new t6,this._writingDataChunks=!1}}function qY(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var o6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(o6||(o6={}));function HY(t,e){return new zY(t,e).decode()}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r2(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var vr={log:r2,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):r2.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):r2(t))}};function n2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){_u(n.response,e,r)},n.onerror=function(){vr.error("could not download file")},n.send()}function l6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ym(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _u=Lt.saveAs||((typeof window>"u"?"undefined":hr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Lt.URL||Lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?l6(i.href)?n2(t,e,r):ym(i,i.target="_blank"):ym(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){ym(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(l6(t))n2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){ym(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:hr(s)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return n2(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":hr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=Lt.URL||Lt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Wm=Lt.atob.bind(Lt),u6=Lt.btoa.bind(Lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function i2(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Kn(r,n,i,s,e[0],7,-680876936),s=Kn(s,r,n,i,e[1],12,-389564586),i=Kn(i,s,r,n,e[2],17,606105819),n=Kn(n,i,s,r,e[3],22,-1044525330),r=Kn(r,n,i,s,e[4],7,-176418897),s=Kn(s,r,n,i,e[5],12,1200080426),i=Kn(i,s,r,n,e[6],17,-1473231341),n=Kn(n,i,s,r,e[7],22,-45705983),r=Kn(r,n,i,s,e[8],7,1770035416),s=Kn(s,r,n,i,e[9],12,-1958414417),i=Kn(i,s,r,n,e[10],17,-42063),n=Kn(n,i,s,r,e[11],22,-1990404162),r=Kn(r,n,i,s,e[12],7,1804603682),s=Kn(s,r,n,i,e[13],12,-40341101),i=Kn(i,s,r,n,e[14],17,-1502002290),r=Xn(r,n=Kn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Xn(s,r,n,i,e[6],9,-1069501632),i=Xn(i,s,r,n,e[11],14,643717713),n=Xn(n,i,s,r,e[0],20,-373897302),r=Xn(r,n,i,s,e[5],5,-701558691),s=Xn(s,r,n,i,e[10],9,38016083),i=Xn(i,s,r,n,e[15],14,-660478335),n=Xn(n,i,s,r,e[4],20,-405537848),r=Xn(r,n,i,s,e[9],5,568446438),s=Xn(s,r,n,i,e[14],9,-1019803690),i=Xn(i,s,r,n,e[3],14,-187363961),n=Xn(n,i,s,r,e[8],20,1163531501),r=Xn(r,n,i,s,e[13],5,-1444681467),s=Xn(s,r,n,i,e[2],9,-51403784),i=Xn(i,s,r,n,e[7],14,1735328473),r=Yn(r,n=Xn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Yn(s,r,n,i,e[8],11,-2022574463),i=Yn(i,s,r,n,e[11],16,1839030562),n=Yn(n,i,s,r,e[14],23,-35309556),r=Yn(r,n,i,s,e[1],4,-1530992060),s=Yn(s,r,n,i,e[4],11,1272893353),i=Yn(i,s,r,n,e[7],16,-155497632),n=Yn(n,i,s,r,e[10],23,-1094730640),r=Yn(r,n,i,s,e[13],4,681279174),s=Yn(s,r,n,i,e[0],11,-358537222),i=Yn(i,s,r,n,e[3],16,-722521979),n=Yn(n,i,s,r,e[6],23,76029189),r=Yn(r,n,i,s,e[9],4,-640364487),s=Yn(s,r,n,i,e[12],11,-421815835),i=Yn(i,s,r,n,e[15],16,530742520),r=Qn(r,n=Yn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Qn(s,r,n,i,e[7],10,1126891415),i=Qn(i,s,r,n,e[14],15,-1416354905),n=Qn(n,i,s,r,e[5],21,-57434055),r=Qn(r,n,i,s,e[12],6,1700485571),s=Qn(s,r,n,i,e[3],10,-1894986606),i=Qn(i,s,r,n,e[10],15,-1051523),n=Qn(n,i,s,r,e[1],21,-2054922799),r=Qn(r,n,i,s,e[8],6,1873313359),s=Qn(s,r,n,i,e[15],10,-30611744),i=Qn(i,s,r,n,e[6],15,-1560198380),n=Qn(n,i,s,r,e[13],21,1309151649),r=Qn(r,n,i,s,e[4],6,-145523070),s=Qn(s,r,n,i,e[11],10,-1120210379),i=Qn(i,s,r,n,e[2],15,718787259),n=Qn(n,i,s,r,e[9],21,-343485551),t[0]=ml(r,t[0]),t[1]=ml(n,t[1]),t[2]=ml(i,t[2]),t[3]=ml(s,t[3])}function Y0(t,e,r,n,i,s){return e=ml(ml(e,t),ml(n,s)),ml(e<<i|e>>>32-i,r)}function Kn(t,e,r,n,i,s,a){return Y0(e&r|~e&n,t,e,i,s,a)}function Xn(t,e,r,n,i,s,a){return Y0(e&n|r&~n,t,e,i,s,a)}function Yn(t,e,r,n,i,s,a){return Y0(e^r^n,t,e,i,s,a)}function Qn(t,e,r,n,i,s,a){return Y0(r^(e|~n),t,e,i,s,a)}function T8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)i2(n,WY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(i2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,i2(n,i),n}function WY(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var c6="0123456789abcdef".split("");function $Y(t){for(var e="",r=0;r<4;r++)e+=c6[t>>8*r+4&15]+c6[t>>8*r&15];return e}function GY(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Jw(t){return T8(t).map(GY).join("")}var KY=function(t){for(var e=0;e<t.length;e++)t[e]=$Y(t[e]);return t.join("")}(T8("hello"))!="5d41402abc4b2a76b9719d911017c592";function ml(t,e){if(KY){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zw(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var f=e.length,m=0,h=0,x="";for(l=0;l<f;l++)h=(h+(c=o[m=(m+1)%256]))%256,o[m]=o[h],o[h]=c,a=o[(o[m]+o[h])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h6={print:4,modify:8,copy:16,"annot-forms":32};function Lc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(h6.perm!==void 0)throw new Error("Invalid permission: "+o);i+=h6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Jw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Zw(this.encryptionKey,this.padding)}function Oc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function f6(t){if(hr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Lt.console&&vr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $g(t){if(!(this instanceof $g))return new $g(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function N8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bu(t,e,r,n,i){if(!(this instanceof bu))return new bu(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,N8.call(this,n,i)}function Yc(t,e,r,n,i){if(!(this instanceof Yc))return new Yc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,N8.call(this,n,i)}function Et(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;hr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=f6;var x="1.3",_=h.__private__.getPdfVersion=function(){return x};h.__private__.setPdfVersion=function(O){x=O};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return A};var d=h.__private__.getPageFormat=function(O){return A[O]};i=i||"a4";var y="compat",v="advanced",w=y;function I(){this.saveGraphicsState(),K(new kt(me,0,0,-me,0,js()*me).toString()+" cm"),this.setFontSize(this.getFontSize()/me),u="n",w=v}function q(){this.restoreGraphicsState(),u="S",w=y}var R=h.__private__.combineFontStyleAndFontWeight=function(O,J){if(O=="bold"&&J=="normal"||O=="bold"&&J==400||O=="normal"&&J=="italic"||O=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(O=J==400||J==="normal"?O==="italic"?"italic":"normal":J!=700&&J!=="bold"||O!=="normal"?(J==700?"bold":J)+""+O:"bold"),O};h.advancedAPI=function(O){var J=w===y;return J&&I.call(this),typeof O!="function"||(O(this),J&&q.call(this)),this},h.compatAPI=function(O){var J=w===v;return J&&q.call(this),typeof O!="function"||(O(this),J&&I.call(this)),this},h.isAdvancedAPI=function(){return w===v};var P,E=function(O){if(w!==v)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=h.roundToPrecision=h.__private__.roundToPrecision=function(O,J){var _e=e||J;if(isNaN(O)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(_e).replace(/0+$/,"")};P=h.hpf=h.__private__.hpf=typeof l=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,l)}:l==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,16)};var j=h.f2=h.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return H(O,2)},T=h.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return H(O,3)},L=h.scale=h.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?O*me:w===v?O:void 0},C=function(O){return L(function(J){return w===y?js()-J:w===v?J:void 0}(O))};h.__private__.setPrecision=h.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var ie,ve="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return ve},oe=h.__private__.setFileId=function(O){return ve=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Cr=new Lc(c.userPermissions,c.userPassword,c.ownerPassword,ve)),ve};h.setFileId=function(O){return oe(O),this},h.getFileId=function(){return se()};var he=h.__private__.convertDateToPDFDate=function(O){var J=O.getTimezoneOffset(),_e=J<0?"+":"-",Se=Math.floor(Math.abs(J/60)),Ce=Math.abs(J%60),qe=[_e,Q(Se),"'",Q(Ce),"'"].join("");return["D:",O.getFullYear(),Q(O.getMonth()+1),Q(O.getDate()),Q(O.getHours()),Q(O.getMinutes()),Q(O.getSeconds()),qe].join("")},Ae=h.__private__.convertPDFDateToDate=function(O){var J=parseInt(O.substr(2,4),10),_e=parseInt(O.substr(6,2),10)-1,Se=parseInt(O.substr(8,2),10),Ce=parseInt(O.substr(10,2),10),qe=parseInt(O.substr(12,2),10),Xe=parseInt(O.substr(14,2),10);return new Date(J,_e,Se,Ce,qe,Xe,0)},fe=h.__private__.setCreationDate=function(O){var J;if(O===void 0&&(O=new Date),O instanceof Date)J=he(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=O}return ie=J},D=h.__private__.getCreationDate=function(O){var J=ie;return O==="jsDate"&&(J=Ae(ie)),J};h.setCreationDate=function(O){return fe(O),this},h.getCreationDate=function(O){return D(O)};var X,Q=h.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},le=h.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ee=0,M=[],U=[],ne=0,te=[],Y=[],re=!1,Ee=U;h.__private__.setCustomOutputDestination=function(O){re=!0,Ee=O};var z=function(O){re||(Ee=O)};h.__private__.resetCustomOutputDestination=function(){re=!1,Ee=U};var K=h.__private__.out=function(O){return O=O.toString(),ne+=O.length+1,Ee.push(O),Ee},W=h.__private__.write=function(O){return K(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},N=h.__private__.getArrayBuffer=function(O){for(var J=O.length,_e=new ArrayBuffer(J),Se=new Uint8Array(_e);J--;)Se[J]=O.charCodeAt(J);return _e},k=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return k};var F=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(O){return F=w===v?O/me:O,this};var ue,we=h.__private__.getFontSize=h.getFontSize=function(){return w===y?F:F*me},ge=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(O){return ge=O,this},h.__private__.getR2L=h.getR2L=function(){return ge};var ke,Fe=h.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))ue=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');ue=O}else ue=parseInt(O,10)};h.__private__.getZoomMode=function(){return ue};var Le,Ue=h.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');ke=O};h.__private__.getPageMode=function(){return ke};var Qe=h.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Le=O};h.__private__.getLayoutMode=function(){return Le},h.__private__.setDisplayMode=h.setDisplayMode=function(O,J,_e){return Fe(O),Qe(J),Ue(_e),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(O){if(Object.keys(nt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[O]},h.__private__.getDocumentProperties=function(){return nt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(O){for(var J in nt)nt.hasOwnProperty(J)&&O[J]&&(nt[J]=O[J]);return this},h.__private__.setDocumentProperty=function(O,J){if(Object.keys(nt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[O]=J};var it,me,Te,Me,et,at={},ct={},ot=[],lt={},Bt={},At={},Nt={},nr=null,_t=0,bt=[],$t=new f6(h),Vi=t.hotfixes||[],An={},Cs={},Ln=[],kt=function O(J,_e,Se,Ce,qe,Xe){if(!(this instanceof O))return new O(J,_e,Se,Ce,qe,Xe);isNaN(J)&&(J=1),isNaN(_e)&&(_e=0),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=1),isNaN(qe)&&(qe=0),isNaN(Xe)&&(Xe=0),this._matrix=[J,_e,Se,Ce,qe,Xe]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(O)},kt.prototype.multiply=function(O){var J=O.sx*this.sx+O.shy*this.shx,_e=O.sx*this.shy+O.shy*this.sy,Se=O.shx*this.sx+O.sy*this.shx,Ce=O.shx*this.shy+O.sy*this.sy,qe=O.tx*this.sx+O.ty*this.shx+this.tx,Xe=O.tx*this.shy+O.ty*this.sy+this.ty;return new kt(J,_e,Se,Ce,qe,Xe)},kt.prototype.decompose=function(){var O=this.sx,J=this.shy,_e=this.shx,Se=this.sy,Ce=this.tx,qe=this.ty,Xe=Math.sqrt(O*O+J*J),ft=(O/=Xe)*_e+(J/=Xe)*Se;_e-=O*ft,Se-=J*ft;var gt=Math.sqrt(_e*_e+Se*Se);return ft/=gt,O*(Se/=gt)<J*(_e/=gt)&&(O=-O,J=-J,ft=-ft,Xe=-Xe),{scale:new kt(Xe,0,0,gt,0,0),translate:new kt(1,0,0,1,Ce,qe),rotate:new kt(O,J,-J,O,0,0),skew:new kt(1,0,ft,1,0,0)}},kt.prototype.toString=function(O){return this.join(" ")},kt.prototype.inversed=function(){var O=this.sx,J=this.shy,_e=this.shx,Se=this.sy,Ce=this.tx,qe=this.ty,Xe=1/(O*Se-J*_e),ft=Se*Xe,gt=-J*Xe,It=-_e*Xe,St=O*Xe;return new kt(ft,gt,It,St,-ft*Ce-It*qe,-gt*Ce-St*qe)},kt.prototype.applyToPoint=function(O){var J=O.x*this.sx+O.y*this.shx+this.tx,_e=O.x*this.shy+O.y*this.sy+this.ty;return new ui(J,_e)},kt.prototype.applyToRectangle=function(O){var J=this.applyToPoint(O),_e=this.applyToPoint(new ui(O.x+O.w,O.y+O.h));return new jo(J.x,J.y,_e.x-J.x,_e.y-J.y)},kt.prototype.clone=function(){var O=this.sx,J=this.shy,_e=this.shx,Se=this.sy,Ce=this.tx,qe=this.ty;return new kt(O,J,_e,Se,Ce,qe)},h.Matrix=kt;var Rs=h.matrixMult=function(O,J){return J.multiply(O)},_i=new kt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_i;var ni=function(O,J){if(!Bt[O]){var _e=(J instanceof bu?"Sh":"P")+(Object.keys(lt).length+1).toString(10);J.id=_e,Bt[O]=_e,lt[_e]=J,$t.publish("addPattern",J)}};h.ShadingPattern=bu,h.TilingPattern=Yc,h.addShadingPattern=function(O,J){return E("addShadingPattern()"),ni(O,J),this},h.beginTilingPattern=function(O){E("beginTilingPattern()"),da(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},h.endTilingPattern=function(O,J){E("endTilingPattern()"),J.stream=Y[X].join(`
`),ni(O,J),$t.publish("endTilingPattern",J),Ln.pop().restore()};var ii,wr=h.__private__.newObject=function(){var O=Dr();return gn(O,!0),O},Dr=h.__private__.newObjectDeferred=function(){return ee++,M[ee]=function(){return ne},ee},gn=function(O,J){return J=typeof J=="boolean"&&J,M[O]=ne,J&&K(O+" 0 obj"),O},Vn=h.__private__.newAdditionalObject=function(){var O={objId:Dr(),content:""};return te.push(O),O},Ps=Dr(),bi=Dr(),xi=h.__private__.decodeColorString=function(O){var J=O.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var _e=parseFloat(J[0]);J=[_e,_e,_e,"r"]}for(var Se="#",Ce=0;Ce<3;Ce++)Se+=("0"+Math.floor(255*parseFloat(J[Ce])).toString(16)).slice(-2);return Se},si=h.__private__.encodeColorString=function(O){var J;typeof O=="string"&&(O={ch1:O});var _e=O.ch1,Se=O.ch2,Ce=O.ch3,qe=O.ch4,Xe=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var ft=new S8(_e);if(ft.ok)_e=ft.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var gt=parseInt(_e.substr(1),16);_e=gt>>16&255,Se=gt>>8&255,Ce=255&gt}if(Se===void 0||qe===void 0&&_e===Se&&Se===Ce)J=typeof _e=="string"?_e+" "+Xe[0]:O.precision===2?j(_e/255)+" "+Xe[0]:T(_e/255)+" "+Xe[0];else if(qe===void 0||hr(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Xe[1]].join(" ");J=typeof _e=="string"?[_e,Se,Ce,Xe[1]].join(" "):O.precision===2?[j(_e/255),j(Se/255),j(Ce/255),Xe[1]].join(" "):[T(_e/255),T(Se/255),T(Ce/255),Xe[1]].join(" ")}else J=typeof _e=="string"?[_e,Se,Ce,qe,Xe[2]].join(" "):O.precision===2?[j(_e),j(Se),j(Ce),j(qe),Xe[2]].join(" "):[T(_e),T(Se),T(Ce),T(qe),Xe[2]].join(" ");return J},Ei=h.__private__.getFilters=function(){return a},Ai=h.__private__.putStream=function(O){var J=(O=O||{}).data||"",_e=O.filters||Ei(),Se=O.alreadyAppliedFilters||[],Ce=O.addLength1||!1,qe=J.length,Xe=O.objectId,ft=function(V){return V};if(c!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ft=Cr.encryptor(Xe,0));var gt={};_e===!0&&(_e=["FlateEncode"]);var It=O.additionalKeyValues||[],St=(gt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(J,_e):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(gt.data.length!==0&&(It.push({key:"Length",value:gt.data.length}),Ce===!0&&It.push({key:"Length1",value:qe})),St.length!=0)if(St.split("/").length-1==1)It.push({key:"Filter",value:St});else{It.push({key:"Filter",value:"["+St+"]"});for(var Gt=0;Gt<It.length;Gt+=1)if(It[Gt].key==="DecodeParms"){for(var xr=[],mr=0;mr<gt.reverseChain.split("/").length-1;mr+=1)xr.push("null");xr.push(It[Gt].value),It[Gt].value="["+xr.join(" ")+"]"}}K("<<");for(var g=0;g<It.length;g++)K("/"+It[g].key+" "+It[g].value);K(">>"),gt.data.length!==0&&(K("stream"),K(ft(gt.data)),K("endstream"))},aa=h.__private__.putPage=function(O){var J=O.number,_e=O.data,Se=O.objId,Ce=O.contentsObjId;gn(Se,!0),K("<</Type /Page"),K("/Parent "+O.rootDictionaryObjId+" 0 R"),K("/Resources "+O.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(P(O.mediaBox.bottomLeftX))+" "+parseFloat(P(O.mediaBox.bottomLeftY))+" "+P(O.mediaBox.topRightX)+" "+P(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&K("/CropBox ["+P(O.cropBox.bottomLeftX)+" "+P(O.cropBox.bottomLeftY)+" "+P(O.cropBox.topRightX)+" "+P(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&K("/BleedBox ["+P(O.bleedBox.bottomLeftX)+" "+P(O.bleedBox.bottomLeftY)+" "+P(O.bleedBox.topRightX)+" "+P(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&K("/TrimBox ["+P(O.trimBox.bottomLeftX)+" "+P(O.trimBox.bottomLeftY)+" "+P(O.trimBox.topRightX)+" "+P(O.trimBox.topRightY)+"]"),O.artBox!==null&&K("/ArtBox ["+P(O.artBox.bottomLeftX)+" "+P(O.artBox.bottomLeftY)+" "+P(O.artBox.topRightX)+" "+P(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&K("/UserUnit "+O.userUnit),$t.publish("putPage",{objId:Se,pageContext:bt[J],pageNumber:J,page:_e}),K("/Contents "+Ce+" 0 R"),K(">>"),K("endobj");var qe=_e.join(`
`);return w===v&&(qe+=`
Q`),gn(Ce,!0),Ai({data:qe,filters:Ei(),objectId:Ce}),K("endobj"),Se},ls=h.__private__.putPages=function(){var O,J,_e=[];for(O=1;O<=_t;O++)bt[O].objId=Dr(),bt[O].contentsObjId=Dr();for(O=1;O<=_t;O++)_e.push(aa({number:O,data:Y[O],objId:bt[O].objId,contentsObjId:bt[O].contentsObjId,mediaBox:bt[O].mediaBox,cropBox:bt[O].cropBox,bleedBox:bt[O].bleedBox,trimBox:bt[O].trimBox,artBox:bt[O].artBox,userUnit:bt[O].userUnit,rootDictionaryObjId:Ps,resourceDictionaryObjId:bi}));gn(Ps,!0),K("<</Type /Pages");var Se="/Kids [";for(J=0;J<_t;J++)Se+=_e[J]+" 0 R ";K(Se+"]"),K("/Count "+_t),K(">>"),K("endobj"),$t.publish("postPutPages")},us=function(O){$t.publish("putFont",{font:O,out:K,newObject:wr,putStream:Ai}),O.isAlreadyPutted!==!0&&(O.objectNumber=wr(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Oc(O.postScriptName)),K("/Subtype /Type1"),typeof O.encoding=="string"&&K("/Encoding /"+O.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},qa=function(O){O.objectNumber=wr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[P(O.x),P(O.y),P(O.x+O.width),P(O.y+O.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var _e=O.pages[1].join(`
`);Ai({data:_e,additionalKeyValues:J,objectId:O.objectNumber}),K("endobj")},oa=function(O,J){J||(J=21);var _e=wr(),Se=function(Xe,ft){var gt,It=[],St=1/(ft-1);for(gt=0;gt<1;gt+=St)It.push(gt);if(It.push(1),Xe[0].offset!=0){var Gt={offset:0,color:Xe[0].color};Xe.unshift(Gt)}if(Xe[Xe.length-1].offset!=1){var xr={offset:1,color:Xe[Xe.length-1].color};Xe.push(xr)}for(var mr="",g=0,V=0;V<It.length;V++){for(gt=It[V];gt>Xe[g+1].offset;)g++;var G=Xe[g].offset,pe=(gt-G)/(Xe[g+1].offset-G),Re=Xe[g].color,je=Xe[g+1].color;mr+=le(Math.round((1-pe)*Re[0]+pe*je[0]).toString(16))+le(Math.round((1-pe)*Re[1]+pe*je[1]).toString(16))+le(Math.round((1-pe)*Re[2]+pe*je[2]).toString(16))}return mr.trim()}(O.colors,J),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+J+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ai({data:Se,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),K("endobj"),O.objectNumber=wr(),K("<< /ShadingType "+O.type),K("/ColorSpace /DeviceRGB");var qe="/Coords ["+P(parseFloat(O.coords[0]))+" "+P(parseFloat(O.coords[1]))+" ";O.type===2?qe+=P(parseFloat(O.coords[2]))+" "+P(parseFloat(O.coords[3])):qe+=P(parseFloat(O.coords[2]))+" "+P(parseFloat(O.coords[3]))+" "+P(parseFloat(O.coords[4]))+" "+P(parseFloat(O.coords[5])),K(qe+="]"),O.matrix&&K("/Matrix ["+O.matrix.toString()+"]"),K("/Function "+_e+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},cs=function(O,J){var _e=Dr(),Se=wr();J.push({resourcesOid:_e,objectOid:Se}),O.objectNumber=Se;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+O.boundingBox.map(P).join(" ")+"]"}),Ce.push({key:"XStep",value:P(O.xStep)}),Ce.push({key:"YStep",value:P(O.yStep)}),Ce.push({key:"Resources",value:_e+" 0 R"}),O.matrix&&Ce.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Ai({data:O.stream,additionalKeyValues:Ce,objectId:O.objectNumber}),K("endobj")},Ls=function(O){for(var J in O.objectNumber=wr(),K("<<"),O)switch(J){case"opacity":K("/ca "+j(O[J]));break;case"stroke-opacity":K("/CA "+j(O[J]))}K(">>"),K("endobj")},Ha=function(O){gn(O.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var J in K("/Font <<"),at)at.hasOwnProperty(J)&&(f===!1||f===!0&&m.hasOwnProperty(J))&&K("/"+J+" "+at[J].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(lt).length>0){for(var J in K("/Shading <<"),lt)lt.hasOwnProperty(J)&&lt[J]instanceof bu&&lt[J].objectNumber>=0&&K("/"+J+" "+lt[J].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),K(">>")}}(),function(J){if(Object.keys(lt).length>0){for(var _e in K("/Pattern <<"),lt)lt.hasOwnProperty(_e)&&lt[_e]instanceof h.TilingPattern&&lt[_e].objectNumber>=0&&lt[_e].objectNumber<J&&K("/"+_e+" "+lt[_e].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),K(">>")}}(O.objectOid),function(){if(Object.keys(At).length>0){var J;for(J in K("/ExtGState <<"),At)At.hasOwnProperty(J)&&At[J].objectNumber>=0&&K("/"+J+" "+At[J].objectNumber+" 0 R");$t.publish("putGStateDict"),K(">>")}}(),function(){for(var J in K("/XObject <<"),An)An.hasOwnProperty(J)&&An[J].objectNumber>=0&&K("/"+J+" "+An[J].objectNumber+" 0 R");$t.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},lc=function(O){ct[O.fontName]=ct[O.fontName]||{},ct[O.fontName][O.fontStyle]=O.id},eu=function(O,J,_e,Se,Ce){var qe={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:O,fontName:J,fontStyle:_e,encoding:Se,isStandardFont:Ce||!1,metadata:{}};return $t.publish("addFont",{font:qe,instance:this}),at[qe.id]=qe,lc(qe),qe.id},ai=h.__private__.pdfEscape=h.pdfEscape=function(O,J){return function(_e,Se){var Ce,qe,Xe,ft,gt,It,St,Gt,xr;if(Xe=(Se=Se||{}).sourceEncoding||"Unicode",gt=Se.outputEncoding,(Se.autoencode||gt)&&at[it].metadata&&at[it].metadata[Xe]&&at[it].metadata[Xe].encoding&&(ft=at[it].metadata[Xe].encoding,!gt&&at[it].encoding&&(gt=at[it].encoding),!gt&&ft.codePages&&(gt=ft.codePages[0]),typeof gt=="string"&&(gt=ft[gt]),gt)){for(St=!1,It=[],Ce=0,qe=_e.length;Ce<qe;Ce++)(Gt=gt[_e.charCodeAt(Ce)])?It.push(String.fromCharCode(Gt)):It.push(_e[Ce]),It[Ce].charCodeAt(0)>>8&&(St=!0);_e=It.join("")}for(Ce=_e.length;St===void 0&&Ce!==0;)_e.charCodeAt(Ce-1)>>8&&(St=!0),Ce--;if(!St)return _e;for(It=Se.noBOM?[]:[254,255],Ce=0,qe=_e.length;Ce<qe;Ce++){if((xr=(Gt=_e.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(xr),It.push(Gt-(xr<<8))}return String.fromCharCode.apply(void 0,It)}(O,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Io=h.__private__.beginPage=function(O){Y[++_t]=[],bt[_t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},tu(_t),z(Y[X])},Co=function(O,J){var _e,Se,Ce;switch(r=J||r,typeof O=="string"&&(_e=d(O.toLowerCase()),Array.isArray(_e)&&(Se=_e[0],Ce=_e[1])),Array.isArray(O)&&(Se=O[0]*me,Ce=O[1]*me),isNaN(Se)&&(Se=i[0],Ce=i[1]),(Se>14400||Ce>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Ce=Math.min(14400,Ce)),i=[Se,Ce],r.substr(0,1)){case"l":Ce>Se&&(i=[Ce,Se]);break;case"p":Se>Ce&&(i=[Ce,Se])}Io(i),Ct(ki),K(Lo),Ii!==0&&K(Ii+" J"),Do!==0&&K(Do+" j"),$t.publish("addPage",{pageNumber:_t})},Wa=function(O){O>0&&O<=_t&&(Y.splice(O,1),bt.splice(O,1),_t--,X>_t&&(X=_t),this.setPage(X))},tu=function(O){O>0&&O<=_t&&(X=O)},ru=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Y.length-1},nu=function(O,J,_e){var Se,Ce=void 0;return _e=_e||{},O=O!==void 0?O:at[it].fontName,J=J!==void 0?J:at[it].fontStyle,Se=O.toLowerCase(),ct[Se]!==void 0&&ct[Se][J]!==void 0?Ce=ct[Se][J]:ct[O]!==void 0&&ct[O][J]!==void 0?Ce=ct[O][J]:_e.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+O+"', '"+J+"'. Refer to getFontList() for available fonts."),Ce||_e.noFallback||(Ce=ct.times[J])==null&&(Ce=ct.times.normal),Ce},hs=h.__private__.putInfo=function(){var O=wr(),J=function(Se){return Se};for(var _e in c!==null&&(J=Cr.encryptor(O,0)),K("<<"),K("/Producer ("+ai(J("jsPDF "+Et.version))+")"),nt)nt.hasOwnProperty(_e)&&nt[_e]&&K("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+ai(J(nt[_e]))+")");K("/CreationDate ("+ai(J(ie))+")"),K(">>"),K("endobj")},oi=h.__private__.putCatalog=function(O){var J=(O=O||{}).rootDictionaryObjId||Ps;switch(wr(),K("<<"),K("/Type /Catalog"),K("/Pages "+J+" 0 R"),ue||(ue="fullwidth"),ue){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ue;_e.substr(_e.length-1)==="%"&&(ue=parseInt(ue)/100),typeof ue=="number"&&K("/OpenAction [3 0 R /XYZ null null "+j(ue)+"]")}switch(Le||(Le="continuous"),Le){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ke&&K("/PageMode /"+ke),$t.publish("putCatalog"),K(">>"),K("endobj")},Si=h.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ee+1)),K("/Root "+ee+" 0 R"),K("/Info "+(ee-1)+" 0 R"),c!==null&&K("/Encrypt "+Cr.oid+" 0 R"),K("/ID [ <"+ve+"> <"+ve+"> ]"),K(">>")},_r=h.__private__.putHeader=function(){K("%PDF-"+x),K("%")},la=h.__private__.putXRef=function(){var O="0000000000";K("xref"),K("0 "+(ee+1)),K("0000000000 65535 f ");for(var J=1;J<=ee;J++)typeof M[J]=="function"?K((O+M[J]()).slice(-10)+" 00000 n "):M[J]!==void 0?K((O+M[J]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ti=h.__private__.buildDocument=function(){var O;ee=0,ne=0,U=[],M=[],te=[],Ps=Dr(),bi=Dr(),z(U),$t.publish("buildDocument"),_r(),ls(),function(){$t.publish("putAdditionalObjects");for(var _e=0;_e<te.length;_e++){var Se=te[_e];gn(Se.objId,!0),K(Se.content),K("endobj")}$t.publish("postPutAdditionalObjects")}(),O=[],function(){for(var _e in at)at.hasOwnProperty(_e)&&(f===!1||f===!0&&m.hasOwnProperty(_e))&&us(at[_e])}(),function(){var _e;for(_e in At)At.hasOwnProperty(_e)&&Ls(At[_e])}(),function(){for(var _e in An)An.hasOwnProperty(_e)&&qa(An[_e])}(),function(_e){var Se;for(Se in lt)lt.hasOwnProperty(Se)&&(lt[Se]instanceof bu?oa(lt[Se]):lt[Se]instanceof Yc&&cs(lt[Se],_e))}(O),$t.publish("putResources"),O.forEach(Ha),Ha({resourcesOid:bi,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),c!==null&&(Cr.oid=wr(),K("<<"),K("/Filter /Standard"),K("/V "+Cr.v),K("/R "+Cr.r),K("/U <"+Cr.toHexString(Cr.U)+">"),K("/O <"+Cr.toHexString(Cr.O)+">"),K("/P "+Cr.P),K(">>"),K("endobj")),hs(),oi();var J=ne;return la(),Si(),K("startxref"),K(""+J),K("%%EOF"),z(Y[X]),U.join(`
`)},ir=h.__private__.getBlob=function(O){return new Blob([N(O)],{type:"application/pdf"})},$a=h.output=h.__private__.output=(ii=function(O,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",O){case void 0:return Ti();case"save":h.save(J.filename);break;case"arraybuffer":return N(Ti());case"blob":return ir(Ti());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(ir(Ti()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Se=Ti();try{_e=u6(Se)}catch{_e=u6(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+J.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ce=J.pdfObjectUrl,qe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",ft=Lt.open();return ft!==null&&ft.document.write(Xe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',It=Lt.open();if(It!==null){It.document.write(gt);var St=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=J.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',xr=Lt.open();if(xr!==null&&(xr.document.write(Gt),xr.document.title=J.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",J);default:return null}},ii.foo=function(){try{return ii.apply(this,arguments)}catch(_e){var O=_e.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var J="Error in function "+O.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Lt.console)throw new Error(J);Lt.console.error(J,_e),Lt.alert&&alert(J)}},ii.foo.bar=ii,ii.foo),Sn=function(O){return Array.isArray(Vi)===!0&&Vi.indexOf(O)>-1};switch(n){case"pt":me=1;break;case"mm":me=72/25.4;break;case"cm":me=72/2.54;break;case"in":me=72;break;case"px":me=Sn("px_scaling")==1?.75:96/72;break;case"pc":case"em":me=12;break;case"ex":me=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);me=n}var Cr=null;fe(),oe();var Os=h.__private__.getPageInfo=h.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[O].objId,pageNumber:O,pageContext:bt[O]}},iu=h.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in bt)if(bt[J].objId===O)break;return Os(J)},Wh=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:bt[X].objId,pageNumber:X,pageContext:bt[X]}};h.addPage=function(){return Co.apply(this,arguments),this},h.setPage=function(){return tu.apply(this,arguments),z.call(this,Y[X]),this},h.insertPage=function(O){return this.addPage(),this.movePage(X,O),this},h.movePage=function(O,J){var _e,Se;if(O>J){_e=Y[O],Se=bt[O];for(var Ce=O;Ce>J;Ce--)Y[Ce]=Y[Ce-1],bt[Ce]=bt[Ce-1];Y[J]=_e,bt[J]=Se,this.setPage(J)}else if(O<J){_e=Y[O],Se=bt[O];for(var qe=O;qe<J;qe++)Y[qe]=Y[qe+1],bt[qe]=bt[qe+1];Y[J]=_e,bt[J]=Se,this.setPage(J)}return this},h.deletePage=function(){return Wa.apply(this,arguments),this},h.__private__.text=h.text=function(O,J,_e,Se,Ce){var qe,Xe,ft,gt,It,St,Gt,xr,mr,g=(Se=Se||{}).scope||this;if(typeof O=="number"&&typeof J=="number"&&(typeof _e=="string"||Array.isArray(_e))){var V=_e;_e=J,J=O,O=V}if(arguments[3]instanceof kt==0?(ft=arguments[4],gt=arguments[5],hr(Gt=arguments[3])==="object"&&Gt!==null||(typeof ft=="string"&&(gt=ft,ft=null),typeof Gt=="string"&&(gt=Gt,Gt=null),typeof Gt=="number"&&(ft=Gt,Gt=null),Se={flags:Gt,angle:ft,align:gt})):(E("The transform parameter of text() with a Matrix value"),mr=Ce),isNaN(J)||isNaN(_e)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return g;var G,pe="",Re=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Ga,je=g.internal.scaleFactor;function rt(ar){return ar=ar.split("	").join(Array(Se.TabLen||9).join(" ")),ai(ar,Gt)}function Ot(ar){for(var gr,Zr=ar.concat(),yn=[],Ja=Zr.length;Ja--;)typeof(gr=Zr.shift())=="string"?yn.push(gr):Array.isArray(ar)&&(gr.length===1||gr[1]===void 0&&gr[2]===void 0)?yn.push(gr[0]):yn.push([gr[0],gr[1],gr[2]]);return yn}function Er(ar,gr){var Zr;if(typeof ar=="string")Zr=gr(ar)[0];else if(Array.isArray(ar)){for(var yn,Ja,nf=ar.concat(),wc=[],fp=nf.length;fp--;)typeof(yn=nf.shift())=="string"?wc.push(gr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(Ja=gr(yn[0],yn[1],yn[2]),wc.push([Ja[0],Ja[1],Ja[2]]));Zr=wc}return Zr}var Kt=!1,Ar=!0;if(typeof O=="string")Kt=!0;else if(Array.isArray(O)){var Tn=O.concat();Xe=[];for(var zn,Sr=Tn.length;Sr--;)(typeof(zn=Tn.shift())!="string"||Array.isArray(zn)&&typeof zn[0]!="string")&&(Ar=!1);Kt=Ar}if(Kt===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var qn=F/g.internal.scaleFactor,gs=qn*(Re-1);switch(Se.baseline){case"bottom":_e-=gs;break;case"top":_e+=qn-gs;break;case"hanging":_e+=qn-2*gs;break;case"middle":_e+=qn/2-gs}if((St=Se.maxWidth||0)>0&&(typeof O=="string"?O=g.splitTextToSize(O,St):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(ar,gr){return ar.concat(g.splitTextToSize(gr,St))},[]))),qe={text:O,x:J,y:_e,options:Se,mutex:{pdfEscape:ai,activeFontKey:it,fonts:at,activeFontSize:F}},$t.publish("preProcessText",qe),O=qe.text,ft=(Se=qe.options).angle,mr instanceof kt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,Se.rotationDirection===0&&(ft=-ft),w===v&&(ft=-ft);var Xa=Math.cos(ft),Xh=Math.sin(ft);mr=new kt(Xa,Xh,-Xh,Xa,0,0)}else ft&&ft instanceof kt&&(mr=ft);w!==v||mr||(mr=_i),(It=Se.charSpace||ps)!==void 0&&(pe+=P(L(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=Se.horizontalScale)!==void 0&&(pe+=P(100*xr)+` Tz
`),Se.lang;var hi=-1,Ya=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,yc=g.internal.getCurrentPageInfo().pageContext;switch(Ya){case 0:case!1:case"fill":hi=0;break;case 1:case!0:case"stroke":hi=1;break;case 2:case"fillThenStroke":hi=2;break;case 3:case"invisible":hi=3;break;case 4:case"fillAndAddForClipping":hi=4;break;case 5:case"strokeAndAddPathForClipping":hi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hi=6;break;case 7:case"addToPathForClipping":hi=7}var cp=yc.usedRenderingMode!==void 0?yc.usedRenderingMode:-1;hi!==-1?pe+=hi+` Tr
`:cp!==-1&&(pe+=`0 Tr
`),hi!==-1&&(yc.usedRenderingMode=hi),gt=Se.align||"left";var ys,uu=F*Re,Yh=g.internal.pageSize.getWidth(),Qh=at[it];It=Se.charSpace||ps,St=Se.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Mo=[],cu=function(ar){return g.getStringUnitWidth(ar,{font:Qh,charSpace:It,fontSize:F,doKerning:!1})*F/je};if(Object.prototype.toString.call(O)==="[object Array]"){var qi;Xe=Ot(O),gt!=="left"&&(ys=Xe.map(cu));var Hi,Bo=0;if(gt==="right"){J-=ys[0],O=[],Sr=Xe.length;for(var Qa=0;Qa<Sr;Qa++)Qa===0?(Hi=li(J),qi=ds(_e)):(Hi=L(Bo-ys[Qa]),qi=-uu),O.push([Xe[Qa],Hi,qi]),Bo=ys[Qa]}else if(gt==="center"){J-=ys[0]/2,O=[],Sr=Xe.length;for(var Uo=0;Uo<Sr;Uo++)Uo===0?(Hi=li(J),qi=ds(_e)):(Hi=L((Bo-ys[Uo])/2),qi=-uu),O.push([Xe[Uo],Hi,qi]),Bo=ys[Uo]}else if(gt==="left"){O=[],Sr=Xe.length;for(var Jh=0;Jh<Sr;Jh++)O.push(Xe[Jh])}else if(gt==="justify"&&Qh.encoding==="Identity-H"){O=[],Sr=Xe.length,St=St!==0?St:Yh;for(var vc=0,Jr=0;Jr<Sr;Jr++)if(qi=Jr===0?ds(_e):-uu,Hi=Jr===0?li(J):vc,Jr<Sr-1){var hp=L((St-ys[Jr])/(Xe[Jr].split(" ").length-1)),ga=Xe[Jr].split(" ");O.push([ga[0]+" ",Hi,qi]),vc=0;for(var ya=1;ya<ga.length;ya++){var Zh=(cu(ga[ya-1]+" "+ga[ya])-cu(ga[ya]))*je+hp;ya==ga.length-1?O.push([ga[ya],Zh,0]):O.push([ga[ya]+" ",Zh,0]),vc-=Zh}}else O.push([Xe[Jr],Hi,qi]);O.push(["",vc,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Sr=Xe.length,St=St!==0?St:Yh,Jr=0;Jr<Sr;Jr++){qi=Jr===0?ds(_e):-uu,Hi=Jr===0?li(J):0;var ef=Xe[Jr].split(" ").length-1,tf=ef>0?(St-ys[Jr])/ef:0;Jr<Sr-1?Mo.push(P(L(tf))):Mo.push(0),O.push([Xe[Jr],Hi,qi])}}}(typeof Se.R2L=="boolean"?Se.R2L:ge)===!0&&(O=Er(O,function(ar,gr,Zr){return[ar.split("").reverse().join(""),gr,Zr]})),qe={text:O,x:J,y:_e,options:Se,mutex:{pdfEscape:ai,activeFontKey:it,fonts:at,activeFontSize:F}},$t.publish("postProcessText",qe),O=qe.text,G=qe.mutex.isHex||!1;var rf=at[it].encoding;rf!=="WinAnsiEncoding"&&rf!=="StandardEncoding"||(O=Er(O,function(ar,gr,Zr){return[rt(ar),gr,Zr]})),Xe=Ot(O),O=[];for(var Vo,zo,qo,hu=Array.isArray(Xe[0])?1:0,Ho="",fu=function(ar,gr,Zr){var yn="";return Zr instanceof kt?(Zr=typeof Se.angle=="number"?Rs(Zr,new kt(1,0,0,1,ar,gr)):Rs(new kt(1,0,0,1,ar,gr),Zr),w===v&&(Zr=Rs(new kt(1,0,0,-1,0,0),Zr)),yn=Zr.join(" ")+` Tm
`):yn=P(ar)+" "+P(gr)+` Td
`,yn},vs=0;vs<Xe.length;vs++){switch(Ho="",hu){case 1:qo=(G?"<":"(")+Xe[vs][0]+(G?">":")"),Vo=parseFloat(Xe[vs][1]),zo=parseFloat(Xe[vs][2]);break;case 0:qo=(G?"<":"(")+Xe[vs]+(G?">":")"),Vo=li(J),zo=ds(_e)}Mo!==void 0&&Mo[vs]!==void 0&&(Ho=Mo[vs]+` Tw
`),vs===0?O.push(Ho+fu(Vo,zo,mr)+qo):hu===0?O.push(Ho+qo):hu===1&&O.push(Ho+fu(Vo,zo,mr)+qo)}O=hu===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var va=`BT
/`;return va+=it+" "+F+` Tf
`,va+=P(F*Re)+` TL
`,va+=ha+`
`,va+=pe,va+=O,K(va+="ET"),m[it]=!0,g};var $h=h.__private__.clip=h.clip=function(O){return K(O==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return $h("evenodd")},h.__private__.discardPath=h.discardPath=function(){return K("n"),this};var fs=h.__private__.isValidStyle=function(O){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(J=!0),J};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(O){return fs(O)&&(u=O),this};var uc=h.__private__.getStyle=h.getStyle=function(O){var J=u;switch(O){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=O}return J},ua=h.close=function(){return K("h"),this};h.stroke=function(){return K("S"),this},h.fill=function(O){return Ni("f",O),this},h.fillEvenOdd=function(O){return Ni("f*",O),this},h.fillStroke=function(O){return Ni("B",O),this},h.fillStrokeEvenOdd=function(O){return Ni("B*",O),this};var Ni=function(O,J){hr(J)==="object"?hc(J,O):K(O)},ca=function(O){O===null||w===v&&O===void 0||(O=uc(O),K(O))};function cc(O,J,_e,Se,Ce){var qe=new Yc(J||this.boundingBox,_e||this.xStep,Se||this.yStep,this.gState,Ce||this.matrix);qe.stream=this.stream;var Xe=O+"$$"+this.cloneIndex+++"$$";return ni(Xe,qe),qe}var hc=function(O,J){var _e=Bt[O.key],Se=lt[_e];if(Se instanceof bu)K("q"),K(fc(J)),Se.gState&&h.setGState(Se.gState),K(O.matrix.toString()+" cm"),K("/"+_e+" sh"),K("Q");else if(Se instanceof Yc){var Ce=new kt(1,0,0,-1,0,js());O.matrix&&(Ce=Ce.multiply(O.matrix||_i),_e=cc.call(Se,O.key,O.boundingBox,O.xStep,O.yStep,Ce).id),K("q"),K("/Pattern cs"),K("/"+_e+" scn"),Se.gState&&h.setGState(Se.gState),K(J),K("Q")}},fc=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ro=h.moveTo=function(O,J){return K(P(L(O))+" "+P(C(J))+" m"),this},Ds=h.lineTo=function(O,J){return K(P(L(O))+" "+P(C(J))+" l"),this},zi=h.curveTo=function(O,J,_e,Se,Ce,qe){return K([P(L(O)),P(C(J)),P(L(_e)),P(C(Se)),P(L(Ce)),P(C(qe)),"c"].join(" ")),this};h.__private__.line=h.line=function(O,J,_e,Se,Ce){if(isNaN(O)||isNaN(J)||isNaN(_e)||isNaN(Se)||!fs(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[_e-O,Se-J]],O,J,[1,1],Ce||"S"):this.lines([[_e-O,Se-J]],O,J,[1,1]).stroke()},h.__private__.lines=h.lines=function(O,J,_e,Se,Ce,qe){var Xe,ft,gt,It,St,Gt,xr,mr,g,V,G,pe;if(typeof O=="number"&&(pe=_e,_e=J,J=O,O=pe),Se=Se||[1,1],qe=qe||!1,isNaN(J)||isNaN(_e)||!Array.isArray(O)||!Array.isArray(Se)||!fs(Ce)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(J,_e),Xe=Se[0],ft=Se[1],It=O.length,V=J,G=_e,gt=0;gt<It;gt++)(St=O[gt]).length===2?(V=St[0]*Xe+V,G=St[1]*ft+G,Ds(V,G)):(Gt=St[0]*Xe+V,xr=St[1]*ft+G,mr=St[2]*Xe+V,g=St[3]*ft+G,V=St[4]*Xe+V,G=St[5]*ft+G,zi(Gt,xr,mr,g,V,G));return qe&&ua(),ca(Ce),this},h.path=function(O){for(var J=0;J<O.length;J++){var _e=O[J],Se=_e.c;switch(_e.op){case"m":Ro(Se[0],Se[1]);break;case"l":Ds(Se[0],Se[1]);break;case"c":zi.apply(this,Se);break;case"h":ua()}}return this},h.__private__.rect=h.rect=function(O,J,_e,Se,Ce){if(isNaN(O)||isNaN(J)||isNaN(_e)||isNaN(Se)||!fs(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(Se=-Se),K([P(L(O)),P(C(J)),P(L(_e)),P(L(Se)),"re"].join(" ")),ca(Ce),this},h.__private__.triangle=h.triangle=function(O,J,_e,Se,Ce,qe,Xe){if(isNaN(O)||isNaN(J)||isNaN(_e)||isNaN(Se)||isNaN(Ce)||isNaN(qe)||!fs(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-O,Se-J],[Ce-_e,qe-Se],[O-Ce,J-qe]],O,J,[1,1],Xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(O,J,_e,Se,Ce,qe,Xe){if(isNaN(O)||isNaN(J)||isNaN(_e)||isNaN(Se)||isNaN(Ce)||isNaN(qe)||!fs(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*_e),qe=Math.min(qe,.5*Se),this.lines([[_e-2*Ce,0],[Ce*ft,0,Ce,qe-qe*ft,Ce,qe],[0,Se-2*qe],[0,qe*ft,-Ce*ft,qe,-Ce,qe],[2*Ce-_e,0],[-Ce*ft,0,-Ce,-qe*ft,-Ce,-qe],[0,2*qe-Se],[0,-qe*ft,Ce*ft,-qe,Ce,-qe]],O+Ce,J,[1,1],Xe,!0),this},h.__private__.ellipse=h.ellipse=function(O,J,_e,Se,Ce){if(isNaN(O)||isNaN(J)||isNaN(_e)||isNaN(Se)||!fs(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*_e,Xe=4/3*(Math.SQRT2-1)*Se;return Ro(O+_e,J),zi(O+_e,J-Xe,O+qe,J-Se,O,J-Se),zi(O-qe,J-Se,O-_e,J-Xe,O-_e,J),zi(O-_e,J+Xe,O-qe,J+Se,O,J+Se),zi(O+qe,J+Se,O+_e,J+Xe,O+_e,J),ca(Ce),this},h.__private__.circle=h.circle=function(O,J,_e,Se){if(isNaN(O)||isNaN(J)||isNaN(_e)||!fs(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,J,_e,_e,Se)},h.setFont=function(O,J,_e){return _e&&(J=R(J,_e)),it=nu(O,J,{disableWarning:!1}),this};var Gh=h.__private__.getFont=h.getFont=function(){return at[nu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var O,J,_e={};for(O in ct)if(ct.hasOwnProperty(O))for(J in _e[O]=[],ct[O])ct[O].hasOwnProperty(J)&&_e[O].push(J);return _e},h.addFont=function(O,J,_e,Se,Ce){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(_e=R(_e,Se)),eu.call(this,O,J,_e,Ce=Ce||"Identity-H")};var Ga,ki=t.lineWidth||.200025,Kh=h.__private__.getLineWidth=h.getLineWidth=function(){return ki},Ct=h.__private__.setLineWidth=h.setLineWidth=function(O){return ki=O,K(P(L(O))+" w"),this};h.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(O,J){if(O=O||[],J=J||0,isNaN(J)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(_e){return P(L(_e))}).join(" "),J=P(L(J)),K("["+O+"] "+J+" d"),this};var Po=h.__private__.getLineHeight=h.getLineHeight=function(){return F*Ga};h.__private__.getLineHeight=h.getLineHeight=function(){return F*Ga};var dc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Ga=O),this},Ka=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ga};dc(t.lineHeight);var li=h.__private__.getHorizontalCoordinate=function(O){return L(O)},ds=h.__private__.getVerticalCoordinate=function(O){return w===v?O:bt[X].mediaBox.topRightY-bt[X].mediaBox.bottomLeftY-L(O)},su=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(O){return P(li(O))},br=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(O){return P(ds(O))},Lo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return xi(Lo)},h.__private__.setStrokeColor=h.setDrawColor=function(O,J,_e,Se){return Lo=si({ch1:O,ch2:J,ch3:_e,ch4:Se,pdfColorType:"draw",precision:2}),K(Lo),this};var au=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return xi(au)},h.__private__.setFillColor=h.setFillColor=function(O,J,_e,Se){return au=si({ch1:O,ch2:J,ch3:_e,ch4:Se,pdfColorType:"fill",precision:2}),K(au),this};var ha=t.textColor||"0 g",pc=h.__private__.getTextColor=h.getTextColor=function(){return xi(ha)};h.__private__.setTextColor=h.setTextColor=function(O,J,_e,Se){return ha=si({ch1:O,ch2:J,ch3:_e,ch4:Se,pdfColorType:"text",precision:3}),this};var ps=t.charSpace,Oo=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ps||0)};h.__private__.setCharSpace=h.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ps=O,this};var Ii=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(O){var J=h.CapJoinStyles[O];if(J===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=J,K(J+" J"),this};var Do=0;h.__private__.setLineJoin=h.setLineJoin=function(O){var J=h.CapJoinStyles[O];if(J===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=J,K(J+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(P(L(O))+" M"),this},h.GState=$g,h.setGState=function(O){(O=typeof O=="string"?At[Nt[O]]:mc(null,O)).equals(nr)||(K("/"+O.id+" gs"),nr=O)};var mc=function(O,J){if(!O||!Nt[O]){var _e=!1;for(var Se in At)if(At.hasOwnProperty(Se)&&At[Se].equals(J)){_e=!0;break}if(_e)J=At[Se];else{var Ce="GS"+(Object.keys(At).length+1).toString(10);At[Ce]=J,J.id=Ce}return O&&(Nt[O]=J.id),$t.publish("addGState",J),J}};h.addGState=function(O,J){return mc(O,J),this},h.saveGraphicsState=function(){return K("q"),ot.push({key:it,size:F,color:ha}),this},h.restoreGraphicsState=function(){K("Q");var O=ot.pop();return it=O.key,F=O.size,ha=O.color,nr=null,this},h.setCurrentTransformationMatrix=function(O){return K(O.toString()+" cm"),this},h.comment=function(O){return K("#"+O),this};var ui=function(O,J){var _e=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(qe){isNaN(qe)||(_e=parseFloat(qe))}});var Se=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(qe){isNaN(qe)||(Se=parseFloat(qe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(qe){Ce=qe.toString()}}),this},jo=function(O,J,_e,Se){ui.call(this,O,J),this.type="rect";var Ce=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Xe){isNaN(Xe)||(Ce=parseFloat(Xe))}});var qe=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Xe){isNaN(Xe)||(qe=parseFloat(Xe))}}),this},fa=function(){this.page=_t,this.currentPage=X,this.pages=Y.slice(0),this.pagesContext=bt.slice(0),this.x=Te,this.y=Me,this.matrix=et,this.width=ma(X),this.height=ou(X),this.outputDestination=Ee,this.id="",this.objectNumber=-1};fa.prototype.restore=function(){_t=this.page,X=this.currentPage,bt=this.pagesContext,Y=this.pages,Te=this.x,Me=this.y,et=this.matrix,gc(X,this.width),ci(X,this.height),Ee=this.outputDestination};var da=function(O,J,_e,Se,Ce){Ln.push(new fa),_t=X=0,Y=[],Te=O,Me=J,et=Ce,Io([_e,Se])};for(var pa in h.beginFormObject=function(O,J,_e,Se,Ce){return da(O,J,_e,Se,Ce),this},h.endFormObject=function(O){return function(J){if(Cs[J])Ln.pop().restore();else{var _e=new fa,Se="Xo"+(Object.keys(An).length+1).toString(10);_e.id=Se,Cs[J]=Se,An[Se]=_e,$t.publish("addFormObject",_e),Ln.pop().restore()}}(O),this},h.doFormObject=function(O,J){var _e=An[Cs[O]];return K("q"),K(J.toString()+" cm"),K("/"+_e.id+" Do"),K("Q"),this},h.getFormObject=function(O){var J=An[Cs[O]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},h.save=function(O,J){return O=O||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(_u(ir(Ti()),O),typeof _u.unload=="function"&&Lt.setTimeout&&setTimeout(_u.unload,911),this):new Promise(function(_e,Se){try{var Ce=_u(ir(Ti()),O);typeof _u.unload=="function"&&Lt.setTimeout&&setTimeout(_u.unload,911),_e(Ce)}catch(qe){Se(qe.message)}})},Et.API)Et.API.hasOwnProperty(pa)&&(pa==="events"&&Et.API.events.length?function(O,J){var _e,Se,Ce;for(Ce=J.length-1;Ce!==-1;Ce--)_e=J[Ce][0],Se=J[Ce][1],O.subscribe.apply(O,[_e].concat(typeof Se=="function"?[Se]:Se))}($t,Et.API.events):h[pa]=Et.API[pa]);function ma(O){return bt[O].mediaBox.topRightX-bt[O].mediaBox.bottomLeftX}function gc(O,J){bt[O].mediaBox.topRightX=J+bt[O].mediaBox.bottomLeftX}function ou(O){return bt[O].mediaBox.topRightY-bt[O].mediaBox.bottomLeftY}function ci(O,J){bt[O].mediaBox.topRightY=J+bt[O].mediaBox.bottomLeftY}var ms=h.getPageWidth=function(O){return ma(O=O||X)/me},lu=h.setPageWidth=function(O,J){gc(O,J*me)},js=h.getPageHeight=function(O){return ou(O=O||X)/me},Fo=h.setPageHeight=function(O,J){ci(O,J*me)};return h.internal={pdfEscape:ai,getStyle:uc,getFont:Gh,getFontSize:we,getCharSpace:Oo,getTextColor:pc,getLineHeight:Po,getLineHeightFactor:Ka,getLineWidth:Kh,write:W,getHorizontalCoordinate:li,getVerticalCoordinate:ds,getCoordinateString:su,getVerticalCoordinateString:br,collections:{},newObject:wr,newAdditionalObject:Vn,newObjectDeferred:Dr,newObjectDeferredBegin:gn,getFilters:Ei,putStream:Ai,events:$t,scaleFactor:me,pageSize:{getWidth:function(){return ms(X)},setWidth:function(O){lu(X,O)},getHeight:function(){return js(X)},setHeight:function(O){Fo(X,O)}},encryptionOptions:c,encryption:Cr,getEncryptor:function(O){return c!==null?Cr.encryptor(O,0):function(J){return J}},output:$a,getNumberOfPages:ru,get pages(){return Y},out:K,f2:j,f3:T,getPageInfo:Os,getPageInfoByObjId:iu,getCurrentPageInfo:Wh,getPDFVersion:_,Point:ui,Rectangle:jo,Matrix:kt,hasHotfix:Sn},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ms(X)},set:function(O){lu(X,O)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return js(X)},set:function(O){Fo(X,O)},enumerable:!0,configurable:!0}),(function(O){for(var J=0,_e=k.length;J<_e;J++){var Se=eu.call(this,O[J][0],O[J][1],O[J][2],k[J][3],!0);f===!1&&(m[Se]=!0);var Ce=O[J][0].split("-");lc({id:Se,fontName:Ce[0],fontStyle:Ce[1]||""})}$t.publish("addFonts",{fonts:at,dictionary:ct})}).call(h,k),it="F1",Co(i,r),$t.publish("initialized"),h}Lc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Lc.prototype.processOwnerPassword=function(t,e){return Zw(Jw(e).substr(0,5),t)},Lc.prototype.encryptor=function(t,e){var r=Jw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Zw(r,n)}},$g.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||hr(t)!==hr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Et.API={events:[]},Et.version="3.0.4";var Gr=Et.API,vb=1,oc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(t){return t.toFixed(2)},tl=function(t){return t.toFixed(5)};Gr.__acroform__={};var Ui=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},d6=function(t){return t*vb},Ea=function(t){var e=new I8,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(n)),Number(jt(r))],e},XY=Gr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},YY=Gr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},QY=Gr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},sn=Gr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QY(t,e-1)},an=Gr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XY(t,e-1)},on=Gr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YY(t,e-1)},JY=Gr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},ZY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=e5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ea(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},e5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=r,a=mt.internal.getHeight(t)||0;a=a<0?-a:a;var o=mt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(j,T,L){if(j+1<i.length){var C=T+" "+i[j+1][0];return vm(C,t,L).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,f=vm("3",t,s).height,m=t.multiline?a-s:(a-f)/2,h=m+=2,x=0,_=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+vm(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var d="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var w=!1;if(i[v].length!==1&&A!==i[v].length-1){if((f+2)*(y+2)+2>a)continue e;d+=i[v][A],w=!0,_=v,v--}else{d=(d+=i[v][A]+" ").substr(d.length-1)==" "?d.substr(0,d.length-1):d;var I=parseInt(v),q=l(I,d,s),R=v>=i.length-1;if(q&&!R){d+=" ",A=0;continue}if(q||R){if(R)_=I;else if(t.multiline&&(f+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(y+2)+2>a)continue e;_=I}}for(var P="",E=x;E<=_;E++){var H=i[E];if(t.multiline){if(E===_){P+=H[A]+" ",A=(A+1)%H.length;continue}if(E===x){P+=H[H.length-1]+" ";continue}}P+=H[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,c=vm(P,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}e+=jt(u)+" "+jt(h)+` Td
`,e+="("+oc(P)+`) Tj
`,e+=-jt(u)+` 0 Td
`,h=-(s+2),c=0,x=w?_:_+1,y++,d=""}break}return n.text=e,n.fontSize=s,n},vm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},eQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tQ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},rQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ia.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new C8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&tQ(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=JY(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=mt.createDefaultAppearanceStream(o),hr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=ZY(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var h=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var x=h[a];typeof x=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=h)=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(_,A){for(var d in _)if(_.hasOwnProperty(d)){var y=d,v=_[d];A.internal.newObjectDeferredBegin(v.objId,!0),hr(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete _[y]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},k8=Gr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),hr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+oc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+oc(n(t))+")"},Ra=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ra.prototype.toString=function(){return this.objId+" 0 R"},Ra.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ra.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:k8(i,this.objId,this.scope)}):i instanceof Ra?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var I8=function(){Ra.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ui(I8,Ra);var C8=function(){Ra.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oc(r(t))+")"}},set:function(r){t=r}})};Ui(C8,Ra);var ia=function t(){Ra.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(d){if(isNaN(d))throw new Error('Invalid value "'+d+'" for attribute F supplied.');e=d}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sn(e,3)},set:function(d){d?this.F=an(e,3):this.F=on(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(d){if(isNaN(d))throw new Error('Invalid value "'+d+'" for attribute Ff supplied.');r=d}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(d){n=d!==void 0?d:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(d){n[0]=d}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(d){n[1]=d}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(d){n[2]=d}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(d){n[3]=d}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(d){switch(d){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=d;break;default:throw new Error('Invalid value "'+d+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gg)return;s="FieldObject"+t.FieldNum++}var d=function(y){return y};return this.scope&&(d=this.scope.internal.getEncryptor(this.objId)),"("+oc(d(s))+")"},set:function(d){s=d.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(d){s=d}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(d){a=d}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(d){o=d}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(d){l=d}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/vb:u},set:function(d){u=d}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(d){c=d}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Gg||this instanceof Ou))return s2(f,this.objId,this.scope)},set:function(d){d=d.toString(),f=d}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof In==0?s2(m,this.objId,this.scope):m},set:function(d){d=d.toString(),m=this instanceof In==0?d.substr(0,1)==="("?Sc(d.substr(1,d.length-2)):Sc(d):d}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof In==1?Sc(m.substr(1,m.length-1)):m},set:function(d){d=d.toString(),m=this instanceof In==1?"/"+d:d}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(d){this.V=d}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof In==0?s2(h,this.objId,this.scope):h},set:function(d){d=d.toString(),h=this instanceof In==0?d.substr(0,1)==="("?Sc(d.substr(1,d.length-2)):Sc(d):d}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof In==1?Sc(h.substr(1,h.length-1)):h},set:function(d){d=d.toString(),h=this instanceof In==1?"/"+d:d}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(d){d=!!d,_=d}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(d){x=d}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,1)},set:function(d){d?this.Ff=an(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,2)},set:function(d){d?this.Ff=an(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,3)},set:function(d){d?this.Ff=an(this.Ff,3):this.Ff=on(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(d){if([0,1,2].indexOf(d)===-1)throw new Error('Invalid value "'+d+'" for attribute Q supplied.');A=d}}),Object.defineProperty(this,"textAlign",{get:function(){var d;switch(A){case 0:default:d="left";break;case 1:d="center";break;case 2:d="right"}return d},configurable:!0,enumerable:!0,set:function(d){switch(d){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Ui(ia,Ra);var ch=function(){ia.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return k8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,18)},set:function(r){r?this.Ff=an(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=an(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,20)},set:function(r){r?(this.Ff=an(this.Ff,20),e.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,22)},set:function(r){r?this.Ff=an(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(r){r?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,27)},set:function(r){r?this.Ff=an(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};Ui(ch,ia);var hh=function(){ch.call(this),this.fontName="helvetica",this.combo=!1};Ui(hh,ch);var fh=function(){hh.call(this),this.combo=!0};Ui(fh,hh);var $m=function(){fh.call(this),this.edit=!0};Ui($m,fh);var In=function(){ia.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,15)},set:function(r){r?this.Ff=an(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,16)},set:function(r){r?this.Ff=an(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,17)},set:function(r){r?this.Ff=an(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(r){r?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+oc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){hr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ui(In,ia);var Gm=function(){In.call(this),this.pushButton=!0};Ui(Gm,In);var dh=function(){In.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ui(dh,In);var Gg=function(){var t,e;ia.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+oc(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){hr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ui(Gg,ia),dh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},dh.prototype.createOption=function(t){var e=new Gg;return e.Parent=this,e.optionName=t,this.Kids.push(e),nQ.call(this.scope,e),e};var Km=function(){In.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ui(Km,In);var Ou=function(){ia.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,13)},set:function(e){e?this.Ff=an(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,21)},set:function(e){e?this.Ff=an(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(e){e?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,24)},set:function(e){e?this.Ff=an(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,25)},set:function(e){e?this.Ff=an(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(e){e?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ui(Ou,ia);var Xm=function(){Ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,14)},set:function(t){t?this.Ff=an(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};Ui(Xm,Ou);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=e5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=mt.internal.getHeight(t),a=mt.internal.getWidth(t),o=e5(t,t.caption);return i.push("1 g"),i.push("0 0 "+jt(a)+" "+jt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(a-1)+" "+jt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=mt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+tl(mt.internal.getWidth(t)/2)+" "+tl(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5)),a=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tl(mt.internal.getWidth(t)/2)+" "+tl(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+tl(mt.internal.getWidth(t)/2)+" "+tl(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tl(mt.internal.getWidth(t)/2)+" "+tl(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return hr(t)==="object"&&(e=d6(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return hr(t)==="object"&&(e=d6(t.Rect[3])),e};var nQ=Gr.addField=function(t){if(rQ(this,t),!(t instanceof ia))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=ch,Gr.AcroFormListBox=hh,Gr.AcroFormComboBox=fh,Gr.AcroFormEditBox=$m,Gr.AcroFormButton=In,Gr.AcroFormPushButton=Gm,Gr.AcroFormRadioButton=dh,Gr.AcroFormCheckBox=Km,Gr.AcroFormTextField=Ou,Gr.AcroFormPasswordField=Xm,Gr.AcroFormAppearance=mt,Gr.AcroForm={ChoiceField:ch,ListBox:hh,ComboBox:fh,EditBox:$m,Button:In,PushButton:Gm,RadioButton:dh,CheckBox:Km,TextField:Ou,PasswordField:Xm,Appearance:mt},Et.AcroForm={ChoiceField:ch,ListBox:hh,ComboBox:fh,EditBox:$m,Button:In,PushButton:Gm,RadioButton:dh,CheckBox:Km,TextField:Ou,PasswordField:Xm,Appearance:mt};Et.AcroForm;function R8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(j,T){var L,C,ie,ve,se,oe=r;if((T=T||r)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(q(j))for(se in n)for(ie=n[se],L=0;L<ie.length;L+=1){for(ve=!0,C=0;C<ie[L].length;C+=1)if(ie[L][C]!==void 0&&ie[L][C]!==j[C]){ve=!1;break}if(ve===!0){oe=se;break}}else for(se in n)for(ie=n[se],L=0;L<ie.length;L+=1){for(ve=!0,C=0;C<ie[L].length;C+=1)if(ie[L][C]!==void 0&&ie[L][C]!==j.charCodeAt(C)){ve=!1;break}if(ve===!0){oe=se;break}}return oe===r&&T!==r&&(oe=T),oe},s=function j(T){for(var L=this.internal.write,C=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:T.width}),ve.push({key:"Height",value:T.height}),T.colorSpace===d.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===d.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var se="",oe=0,he=T.transparency.length;oe<he;oe++)se+=T.transparency[oe]+" "+T.transparency[oe]+" ";ve.push({key:"Mask",value:"["+se+"]"})}T.sMask!==void 0&&ve.push({key:"SMask",value:T.objectId+1+" 0 R"});var Ae=T.filter!==void 0?["/"+T.filter]:void 0;if(C({data:T.data,additionalKeyValues:ve,alreadyAppliedFilters:Ae,objectId:T.objectId}),L("endobj"),"sMask"in T&&T.sMask!==void 0){var fe,D=(fe=T.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:T.bitsPerComponent,X={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:T.sMask};"filter"in T&&(X.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(T.width),X.filter=T.filter),j.call(this,X)}if(T.colorSpace===d.INDEXED){var Q=this.internal.newObject();C({data:P(new Uint8Array(T.palette)),objectId:Q}),L("endobj")}},a=function(){var j=this.internal.collections[e+"images"];for(var T in j)s.call(this,j[T])},o=function(){var j,T=this.internal.collections[e+"images"],L=this.internal.write;for(var C in T)L("/I"+(j=T[C]).index,j.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var j=this.internal.collections[e+"images"];return l.call(this),j},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(j){return typeof t["process"+j.toUpperCase()]=="function"},m=function(j){return hr(j)==="object"&&j.nodeType===1},h=function(j,T){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var L=""+j.getAttribute("src");if(L.indexOf("data:image/")===0)return Wm(unescape(L).split("base64,").pop());var C=t.loadFile(L,!0);if(C!==void 0)return C}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var ie;switch(T){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return Wm(j.toDataURL(ie,1).split("base64,").pop())}},x=function(j){var T=this.internal.collections[e+"images"];if(T){for(var L in T)if(j===T[L].alias)return T[L]}},_=function(j,T,L){return j||T||(j=-96,T=-96),j<0&&(j=-1*L.width*72/j/this.internal.scaleFactor),T<0&&(T=-1*L.height*72/T/this.internal.scaleFactor),j===0&&(j=T*L.width/L.height),T===0&&(T=j*L.height/L.width),[j,T]},A=function(j,T,L,C,ie,ve){var se=_.call(this,L,C,ie),oe=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,Ae=u.call(this);if(L=se[0],C=se[1],Ae[ie.index]=ie,ve){ve*=Math.PI/180;var fe=Math.cos(ve),D=Math.sin(ve),X=function(le){return le.toFixed(4)},Q=[X(fe),X(D),X(-1*D),X(fe),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,oe(j),he(T+C),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([oe(L),"0","0",oe(C),"0","0","cm"].join(" "))):this.internal.write([oe(L),"0","0",oe(C),oe(j),he(T+C),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},d=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(j){var T,L,C=0;if(typeof j=="string")for(L=j.length,T=0;T<L;T++)C=(C<<5)-C+j.charCodeAt(T),C|=0;else if(q(j))for(L=j.byteLength/2,T=0;T<L;T++)C=(C<<5)-C+j[T],C|=0;return C},w=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var T=!0;return j.length===0&&(T=!1),j.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(T=!1),T},I=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var T=j.indexOf(",");return T<0?null:j.substring(0,T).trim().endsWith("base64")?j.substring(T+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(j){for(var T=j.length,L=new Uint8Array(T),C=0;C<T;C++)L[C]=j.charCodeAt(C);return L},P=t.__addimage__.arrayBufferToBinaryString=function(j){for(var T="",L=q(j)?j:new Uint8Array(j),C=0;C<L.length;C+=8192)T+=String.fromCharCode.apply(null,L.subarray(C,C+8192));return T};t.addImage=function(){var j,T,L,C,ie,ve,se,oe,he;if(typeof arguments[1]=="number"?(T=r,L=arguments[1],C=arguments[2],ie=arguments[3],ve=arguments[4],se=arguments[5],oe=arguments[6],he=arguments[7]):(T=arguments[1],L=arguments[2],C=arguments[3],ie=arguments[4],ve=arguments[5],se=arguments[6],oe=arguments[7],he=arguments[8]),hr(j=arguments[0])==="object"&&!m(j)&&"imageData"in j){var Ae=j;j=Ae.imageData,T=Ae.format||T||r,L=Ae.x||L||0,C=Ae.y||C||0,ie=Ae.w||Ae.width||ie,ve=Ae.h||Ae.height||ve,se=Ae.alias||se,oe=Ae.compression||oe,he=Ae.rotation||Ae.angle||he}var fe=this.internal.getFilters();if(oe===void 0&&fe.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(L)||isNaN(C))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=E.call(this,j,T,se,oe);return A.call(this,L,C,ie,ve,D,he),this};var E=function(j,T,L,C){var ie,ve,se;if(typeof j=="string"&&i(j)===r){j=unescape(j);var oe=H(j,!1);(oe!==""||(oe=t.loadFile(j,!0))!==void 0)&&(j=oe)}if(m(j)&&(j=h(j,T)),T=i(j,T),!f(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((se=L)==null||se.length===0)&&(L=function(he){return typeof he=="string"||q(he)?v(he):q(he.data)?v(he.data):null}(j)),(ie=x.call(this,L))||(j instanceof Uint8Array||T==="RGBA"||(ve=j,j=R(j)),ie=this["process"+T.toUpperCase()](j,c.call(this),L,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in t.image_compression?he:y.NONE}(C),ve)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},H=t.__addimage__.convertBase64ToBinaryString=function(j,T){T=typeof T!="boolean"||T;var L,C="";if(typeof j=="string"){var ie;L=(ie=I(j))!==null&&ie!==void 0?ie:j;try{C=Wm(L)}catch(ve){if(T)throw w(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return C};t.getImageProperties=function(j){var T,L,C="";if(m(j)&&(j=h(j)),typeof j=="string"&&i(j)===r&&((C=H(j,!1))===""&&(C=t.loadFile(j)||""),j=C),L=i(j),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(j instanceof Uint8Array||(j=R(j)),!(T=this["process"+L.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=L,T}})(Et.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),d=this.internal.getEncryptor(_.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(d(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(d(y))+") >>",_.content=s;var v=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(_.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var I=this.annotations._nameMap[n.options.name];n.options.pageNumber=I.page,n.options.top=I.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=t.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(_){var A=0,d=r,y="",v=0;for(A=0;A<_.length;A+=1)d[_.charCodeAt(A)]!==void 0?(v++,typeof(d=d[_.charCodeAt(A)])=="number"&&(y+=String.fromCharCode(d),d=r,v=0),A===_.length-1&&(d=r,y+=_.charAt(A-(v-1)),A-=v-1,v=0)):(d=r,y+=_.charAt(A-v),A-=v,v=0);return y};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(_,A,d){return a(_)?s(_)===!1?-1:!u(_)||!a(A)&&!a(d)||!a(d)&&o(A)||o(_)&&!a(A)||o(_)&&l(A)||o(_)&&o(A)?0:c(_)&&a(A)&&!o(A)&&a(d)&&u(d)?3:o(_)||!a(d)?1:2:-1},h=function(_){var A=0,d=0,y=0,v="",w="",I="",q=(_=_||"").split("\\s+"),R=[];for(A=0;A<q.length;A+=1){for(R.push(""),d=0;d<q[A].length;d+=1)v=q[A][d],w=q[A][d-1],I=q[A][d+1],a(v)?(y=m(v,w,I),R[A]+=y!==-1?String.fromCharCode(e[v.charCodeAt(0)][y]):v):R[A]+=v;R[A]=f(R[A])}return R.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var _,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,d=[];if(Array.isArray(A)){var y=0;for(d=[],y=0;y<A.length;y+=1)Array.isArray(A[y])?d.push([h(A[y][0]),A[y][1],A[y][2]]):d.push([h(A[y])]);_=d}else _=h(A);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",x])}(Et.API),Et.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Et.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(_){x=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,x=0,_=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var d=u.maxWidth;d>0?typeof l=="string"?l=this.splitTextToSize(l,d):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,w){return v.concat(A.splitTextToSize(w,d))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(_=this.getStringUnitWidth(l[y],{font:f})*c)&&(h=_);return h!==0&&(x=l.length),{w:h/=m,h:Math.max((x*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,m){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,x,_,A,d=[],y=[],v=[],w={},I={},q=[],R=[],P=(m=m||{}).autoSize||!1,E=m.printHeaders!==!1,H=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,j=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,L=m.headerBackgroundColor||"#c8c8c8",C=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=C,this.setFontSize(H),f==null)y=d=Object.keys(c[0]),v=d.map(function(){return"left"});else if(Array.isArray(f)&&hr(f[0])==="object")for(d=f.map(function(Ae){return Ae.name}),y=f.map(function(Ae){return Ae.prompt||Ae.name||""}),v=f.map(function(Ae){return Ae.align||"left"}),h=0;h<f.length;h+=1)I[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(y=d=f,v=d.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<d.length;h+=1){for(w[A=d[h]]=c.map(function(Ae){return Ae[A]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=w[A],this.setFont(void 0,"normal"),_=0;_<x.length;_+=1)q.push(this.getTextDimensions(x[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[A]=Math.max.apply(null,q)+T+T,q=[]}if(E){var ie={};for(h=0;h<d.length;h+=1)ie[d[h]]={},ie[d[h]].text=y[h],ie[d[h]].align=v[h];var ve=o.call(this,ie,I);R=d.map(function(Ae){return new s(l,u,I[Ae],ve,ie[Ae].text,void 0,ie[Ae].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var se=f.reduce(function(Ae,fe){return Ae[fe.name]=fe.align,Ae},{});for(h=0;h<c.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:c[h]},this);var oe=o.call(this,c[h],I);for(_=0;_<d.length;_+=1){var he=c[h][d[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:_,data:he},this),a.call(this,new s(l,u,I[d[_]],oe,he,h+2,se[d[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(h){var x=l[h];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+c+c},this).reduce(function(h,x){return Math.max(h,x)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Et.API);var P8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},L8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],t5=R8(L8),O8=[100,200,300,400,500,600,700,800,900],iQ=R8(O8);function a2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return P8[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof t5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function p6(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var sQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y6(t){return t.trimLeft()}function aQ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function oQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var wm,v6,w6,Tc,_m,_6,b6,x6,o2=["times"];function E6(t,e,r,n,i){var s=4,a=S6;switch(i){case Et.API.image_compression.FAST:s=1,a=A6;break;case Et.API.image_compression.MEDIUM:s=6,a=T6;break;case Et.API.image_compression.SLOW:s=9,a=N6}t=function(l,u,c,f){for(var m,h=l.length/u,x=new Uint8Array(l.length+h),_=[lQ,A6,S6,T6,N6],A=0;A<h;A+=1){var d=A*u,y=l.subarray(d,d+u);if(f)x.set(f(y,c,m),d+A);else{for(var v=_.length,w=[],I=0;I<v;I+=1)w[I]=_[I](y,c,m);var q=cQ(w.concat());x.set(w[q],d+A)}m=y}return x}(t,e,Math.ceil(r*n/8),a);var o=Kw(t,{level:s});return Et.API.__addimage__.arrayBufferToBinaryString(o)}function lQ(t){var e=Array.apply([],t);return e.unshift(0),e}function A6(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function S6(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function T6(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function N6(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=uQ(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function uQ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function cQ(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function l2(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return D8(t,i)>>s&a}function k6(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var m=f>>8&255;u.setUint8(c,m)}})(t,s,D8(t,s)&~(o<<a)&65535|l)}function D8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hQ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],f=0,m=null,h=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&_||(m=null),h=_>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,d=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++],I=w>>6&1,q=1<<1+(7&w),R=o,P=l,E=!1;w>>7&&(E=!0,R=e,P=q,e+=3*q);var H=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}c.push({x:A,y:d,width:y,height:v,has_local_palette:E,palette_offset:R,palette_size:P,data_offset:H,data_length:e-H,transparent_index:m,interlaced:!!I,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return x},this.frameInfo=function(T){if(T<0||T>=c.length)throw new Error("Frame index out of range.");return c[T]},this.decodeAndBlitFrameBGRA=function(T,L){var C=this.frameInfo(T),ie=C.width*C.height,ve=new Uint8Array(ie);I6(t,C.data_offset,ve,ie);var se=C.palette_offset,oe=C.transparent_index;oe===null&&(oe=256);var he=C.width,Ae=r-he,fe=he,D=4*(C.y*r+C.x),X=4*((C.y+C.height)*r+C.x),Q=D,le=4*Ae;C.interlaced===!0&&(le+=4*r*7);for(var ee=8,M=0,U=ve.length;M<U;++M){var ne=ve[M];if(fe===0&&(fe=he,(Q+=le)>=X&&(le=4*Ae+4*r*(ee-1),Q=D+(he+Ae)*(ee<<1),ee>>=1)),ne===oe)Q+=4;else{var te=t[se+3*ne],Y=t[se+3*ne+1],re=t[se+3*ne+2];L[Q++]=re,L[Q++]=Y,L[Q++]=te,L[Q++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(T,L){var C=this.frameInfo(T),ie=C.width*C.height,ve=new Uint8Array(ie);I6(t,C.data_offset,ve,ie);var se=C.palette_offset,oe=C.transparent_index;oe===null&&(oe=256);var he=C.width,Ae=r-he,fe=he,D=4*(C.y*r+C.x),X=4*((C.y+C.height)*r+C.x),Q=D,le=4*Ae;C.interlaced===!0&&(le+=4*r*7);for(var ee=8,M=0,U=ve.length;M<U;++M){var ne=ve[M];if(fe===0&&(fe=he,(Q+=le)>=X&&(le=4*Ae+4*r*(ee-1),Q=D+(he+Ae)*(ee<<1),ee>>=1)),ne===oe)Q+=4;else{var te=t[se+3*ne],Y=t[se+3*ne+1],re=t[se+3*ne+2];L[Q++]=te,L[Q++]=Y,L[Q++]=re,L[Q++]=255}--fe}}}function I6(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,f=0,m=0,h=t[e++],x=new Int32Array(4096),_=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var A=f&u;if(f>>=l,c-=l,A!==s){if(A===a)break;for(var d=A<o?A:_,y=0,v=d;v>s;)v=x[v]>>8,++y;var w=v;if(m+y+(d!==A?1:0)>n)return void vr.log("Warning, gif stream longer than expected.");r[m++]=w;var I=m+=y;for(d!==A&&(r[m++]=w),v=d;y--;)v=x[v],r[--I]=255&v,v>>=8;_!==null&&o<4096&&(x[o++]=_<<8|w,o>=u+1&&l<12&&(++l,u=u<<1|1)),_=A}else o=a+1,u=(1<<(l=i+1))-1,_=null}return m!==n&&vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u2(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),x=new Array(64),_=[],A=0,d=7,y=new Array(64),v=new Array(64),w=new Array(64),I=new Array(256),q=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(D,X){for(var Q=0,le=0,ee=new Array,M=1;M<=16;M++){for(var U=1;U<=D[M];U++)ee[X[le]]=[],ee[X[le]][0]=Q,ee[X[le]][1]=M,le++,Q++;Q*=2}return ee}function se(D){for(var X=D[0],Q=D[1]-1;Q>=0;)X&1<<Q&&(A|=1<<d),Q--,--d<0&&(A==255?(oe(255),oe(0)):oe(A),d=7,A=0)}function oe(D){_.push(D)}function he(D){oe(D>>8&255),oe(255&D)}function Ae(D,X,Q,le,ee){for(var M,U=ee[0],ne=ee[240],te=function(F,ue){var we,ge,ke,Fe,Le,Ue,Qe,nt,it,me,Te=0;for(it=0;it<8;++it){we=F[Te],ge=F[Te+1],ke=F[Te+2],Fe=F[Te+3],Le=F[Te+4],Ue=F[Te+5],Qe=F[Te+6];var Me=we+(nt=F[Te+7]),et=we-nt,at=ge+Qe,ct=ge-Qe,ot=ke+Ue,lt=ke-Ue,Bt=Fe+Le,At=Fe-Le,Nt=Me+Bt,nr=Me-Bt,_t=at+ot,bt=at-ot;F[Te]=Nt+_t,F[Te+4]=Nt-_t;var $t=.707106781*(bt+nr);F[Te+2]=nr+$t,F[Te+6]=nr-$t;var Vi=.382683433*((Nt=At+lt)-(bt=ct+et)),An=.5411961*Nt+Vi,Cs=1.306562965*bt+Vi,Ln=.707106781*(_t=lt+ct),kt=et+Ln,Rs=et-Ln;F[Te+5]=Rs+An,F[Te+3]=Rs-An,F[Te+1]=kt+Cs,F[Te+7]=kt-Cs,Te+=8}for(Te=0,it=0;it<8;++it){we=F[Te],ge=F[Te+8],ke=F[Te+16],Fe=F[Te+24],Le=F[Te+32],Ue=F[Te+40],Qe=F[Te+48];var _i=we+(nt=F[Te+56]),ni=we-nt,ii=ge+Qe,wr=ge-Qe,Dr=ke+Ue,gn=ke-Ue,Vn=Fe+Le,Ps=Fe-Le,bi=_i+Vn,xi=_i-Vn,si=ii+Dr,Ei=ii-Dr;F[Te]=bi+si,F[Te+32]=bi-si;var Ai=.707106781*(Ei+xi);F[Te+16]=xi+Ai,F[Te+48]=xi-Ai;var aa=.382683433*((bi=Ps+gn)-(Ei=wr+ni)),ls=.5411961*bi+aa,us=1.306562965*Ei+aa,qa=.707106781*(si=gn+wr),oa=ni+qa,cs=ni-qa;F[Te+40]=cs+ls,F[Te+24]=cs-ls,F[Te+8]=oa+us,F[Te+56]=oa-us,Te++}for(it=0;it<64;++it)me=F[it]*ue[it],h[it]=me>0?me+.5|0:me-.5|0;return h}(D,X),Y=0;Y<64;++Y)x[R[Y]]=te[Y];var re=x[0]-Q;Q=x[0],re==0?se(le[0]):(se(le[m[M=32767+re]]),se(f[M]));for(var Ee=63;Ee>0&&x[Ee]==0;)Ee--;if(Ee==0)return se(U),Q;for(var z,K=1;K<=Ee;){for(var W=K;x[K]==0&&K<=Ee;)++K;var N=K-W;if(N>=16){z=N>>4;for(var k=1;k<=z;++k)se(ne);N&=15}M=32767+x[K],se(ee[(N<<4)+m[M]]),se(f[M]),K++}return Ee!=63&&se(U),Q}function fe(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(X){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ee=a((Q[le]*X+50)/100);ee=Math.min(Math.max(ee,1),255),o[R[le]]=ee}for(var M=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],U=0;U<64;U++){var ne=a((M[U]*X+50)/100);ne=Math.min(Math.max(ne,1),255),l[R[U]]=ne}for(var te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Y=0,re=0;re<8;re++)for(var Ee=0;Ee<8;Ee++)u[Y]=1/(o[R[Y]]*te[re]*te[Ee]*8),c[Y]=1/(l[R[Y]]*te[re]*te[Ee]*8),Y++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,X){X&&fe(X),_=new Array,A=0,d=7,he(65496),he(65504),he(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),he(1),he(1),oe(0),oe(0),function(){he(65499),he(132),oe(0);for(var ge=0;ge<64;ge++)oe(o[ge]);oe(1);for(var ke=0;ke<64;ke++)oe(l[ke])}(),function(ge,ke){he(65472),he(17),oe(8),he(ke),he(ge),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(D.width,D.height),function(){he(65476),he(418),oe(0);for(var ge=0;ge<16;ge++)oe(P[ge+1]);for(var ke=0;ke<=11;ke++)oe(E[ke]);oe(16);for(var Fe=0;Fe<16;Fe++)oe(H[Fe+1]);for(var Le=0;Le<=161;Le++)oe(j[Le]);oe(1);for(var Ue=0;Ue<16;Ue++)oe(T[Ue+1]);for(var Qe=0;Qe<=11;Qe++)oe(L[Qe]);oe(17);for(var nt=0;nt<16;nt++)oe(C[nt+1]);for(var it=0;it<=161;it++)oe(ie[it])}(),he(65498),he(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var Q=0,le=0,ee=0;A=0,d=7,this.encode.displayName="_encode_";for(var M,U,ne,te,Y,re,Ee,z,K,W=D.data,N=D.width,k=D.height,F=4*N,ue=0;ue<k;){for(M=0;M<F;){for(Y=F*ue+M,Ee=-1,z=0,K=0;K<64;K++)re=Y+(z=K>>3)*F+(Ee=4*(7&K)),ue+z>=k&&(re-=F*(ue+1+z-k)),M+Ee>=F&&(re-=M+Ee-F+4),U=W[re++],ne=W[re++],te=W[re++],y[K]=(q[U]+q[ne+256|0]+q[te+512|0]>>16)-128,v[K]=(q[U+768|0]+q[ne+1024|0]+q[te+1280|0]>>16)-128,w[K]=(q[U+1280|0]+q[ne+1536|0]+q[te+1792|0]>>16)-128;Q=Ae(y,u,Q,e,n),le=Ae(v,c,le,r,i),ee=Ae(w,c,ee,r,i),M+=32}ue+=8}if(d>=0){var we=[];we[1]=d+1,we[0]=(1<<d+1)-1,se(we)}return he(65497),new Uint8Array(_)},t=t||50,function(){for(var D=String.fromCharCode,X=0;X<256;X++)I[X]=D(X)}(),e=ve(P,E),r=ve(T,L),n=ve(H,j),i=ve(C,ie),function(){for(var D=1,X=2,Q=1;Q<=15;Q++){for(var le=D;le<X;le++)m[32767+le]=Q,f[32767+le]=[],f[32767+le][1]=Q,f[32767+le][0]=le;for(var ee=-(X-1);ee<=-D;ee++)m[32767+ee]=Q,f[32767+ee]=[],f[32767+ee][1]=Q,f[32767+ee][0]=X-1+ee;D<<=1,X<<=1}}(),function(){for(var D=0;D<256;D++)q[D]=19595*D,q[D+256|0]=38470*D,q[D+512|0]=7471*D+32768,q[D+768|0]=-11059*D,q[D+1024|0]=-21709*D,q[D+1280|0]=32768*D+8421375,q[D+1536|0]=-27439*D,q[D+1792|0]=-5329*D}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C6(t){function e(E){if(!E)throw Error("assert :P")}function r(E,H,j){for(var T=0;4>T;T++)if(E[H+T]!=j.charCodeAt(T))return!0;return!1}function n(E,H,j,T,L){for(var C=0;C<L;C++)E[H+C]=j[T+C]}function i(E,H,j,T){for(var L=0;L<T;L++)E[H+L]=j}function s(E){return new Int32Array(E)}function a(E,H){for(var j=[],T=0;T<E;T++)j.push(new H);return j}function o(E,H){var j=[];return function T(L,C,ie){for(var ve=ie[C],se=0;se<ve&&(L.push(ie.length>C+1?[]:new H),!(ie.length<C+1));se++)T(L[se],C+1,ie)}(j,0,E),j}var l=function(){var E=this;function H(p,b){for(var B=1<<b-1>>>0;p&B;)B>>>=1;return B?(p&B-1)+B:p}function j(p,b,B,$,Z){e(!($%B));do p[b+($-=B)]=Z;while(0<$)}function T(p,b,B,$,Z){if(e(2328>=Z),512>=Z)var ae=s(512);else if((ae=s(Z))==null)return 0;return function(ce,de,ye,be,Ne,De){var xe,Ie,Pe=de,Ve=1<<ye,Oe=s(16),He=s(16);for(e(Ne!=0),e(be!=null),e(ce!=null),e(0<ye),Ie=0;Ie<Ne;++Ie){if(15<be[Ie])return 0;++Oe[be[Ie]]}if(Oe[0]==Ne)return 0;for(He[1]=0,xe=1;15>xe;++xe){if(Oe[xe]>1<<xe)return 0;He[xe+1]=He[xe]+Oe[xe]}for(Ie=0;Ie<Ne;++Ie)xe=be[Ie],0<be[Ie]&&(De[He[xe]++]=Ie);if(He[15]==1)return(be=new L).g=0,be.value=De[0],j(ce,Pe,1,Ve,be),Ve;var We,Ze=-1,Ye=Ve-1,xt=0,pt=1,Ut=1,vt=1<<ye;for(Ie=0,xe=1,Ne=2;xe<=ye;++xe,Ne<<=1){if(pt+=Ut<<=1,0>(Ut-=Oe[xe]))return 0;for(;0<Oe[xe];--Oe[xe])(be=new L).g=xe,be.value=De[Ie++],j(ce,Pe+xt,Ne,vt,be),xt=H(xt,xe)}for(xe=ye+1,Ne=2;15>=xe;++xe,Ne<<=1){if(pt+=Ut<<=1,0>(Ut-=Oe[xe]))return 0;for(;0<Oe[xe];--Oe[xe]){if(be=new L,(xt&Ye)!=Ze){for(Pe+=vt,We=1<<(Ze=xe)-ye;15>Ze&&!(0>=(We-=Oe[Ze]));)++Ze,We<<=1;Ve+=vt=1<<(We=Ze-ye),ce[de+(Ze=xt&Ye)].g=We+ye,ce[de+Ze].value=Pe-de-Ze}be.g=xe-ye,be.value=De[Ie++],j(ce,Pe+(xt>>ye),Ne,vt,be),xt=H(xt,xe)}}return pt!=2*He[15]-1?0:Ve}(p,b,B,$,Z,ae)}function L(){this.value=this.g=0}function C(){this.value=this.g=0}function ie(){this.G=a(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(cu,C)}function ve(p,b,B,$){e(p!=null),e(b!=null),e(2147483648>$),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=B,p.Jd=b,p.Yc=B+$,p.Zc=4<=$?B+$-4+1:B,U(p)}function se(p,b){for(var B=0;0<b--;)B|=te(p,128)<<b;return B}function oe(p,b){var B=se(p,b);return ne(p)?-B:B}function he(p,b,B,$){var Z,ae=0;for(e(p!=null),e(b!=null),e(4294967288>$),p.Sb=$,p.Ra=0,p.u=0,p.h=0,4<$&&($=4),Z=0;Z<$;++Z)ae+=b[B+Z]<<8*Z;p.Ra=ae,p.bb=$,p.oa=b,p.pa=B}function Ae(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Bo-8>>>0,++p.bb,p.u-=8;le(p)&&(p.h=1,p.u=0)}function fe(p,b){if(e(0<=b),!p.h&&b<=Hi){var B=Q(p)&qi[b];return p.u+=b,Ae(p),B}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&Bo-1)>>>0}function le(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Bo}function ee(p,b){p.u=b,p.h=le(p)}function M(p){p.u>=Qa&&(e(p.u>=Qa),Ae(p))}function U(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ne(p){return se(p,1)}function te(p,b){var B=p.Ca;0>p.b&&U(p);var $=p.b,Z=B*b>>>8,ae=(p.I>>>$>Z)+0;for(ae?(B-=Z,p.I-=Z+1<<$>>>0):B=Z+1,$=B,Z=0;256<=$;)Z+=8,$>>=8;return $=7^Z+Uo[$],p.b-=$,p.Ca=(B<<$)-1,ae}function Y(p,b,B){p[b+0]=B>>24&255,p[b+1]=B>>16&255,p[b+2]=B>>8&255,p[b+3]=255&B}function re(p,b){return p[b+0]|p[b+1]<<8}function Ee(p,b){return re(p,b)|p[b+2]<<16}function z(p,b){return re(p,b)|re(p,b+2)<<16}function K(p,b){var B=1<<b;return e(p!=null),e(0<b),p.X=s(B),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function W(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),n(b.X,0,p.X,0,1<<b.Xa)}function N(){this.X=[],this.Xa=this.Mb=0}function k(p,b,B,$){e(B!=null),e($!=null);var Z=B[0],ae=$[0];return Z==0&&(Z=(p*ae+b/2)/b),ae==0&&(ae=(b*Z+p/2)/p),0>=Z||0>=ae?0:(B[0]=Z,$[0]=ae,1)}function F(p,b){return p+(1<<b)-1>>>b}function ue(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function we(p,b){E[b]=function(B,$,Z,ae,ce,de,ye){var be;for(be=0;be<ce;++be){var Ne=E[p](de[ye+be-1],Z,ae+be);de[ye+be]=ue(B[$+be],Ne)}}}function ge(){this.ud=this.hd=this.jd=0}function ke(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function Fe(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Le(p,b){return Fe(p+(p-b+.5>>1))}function Ue(p,b,B){return Math.abs(b-B)-Math.abs(p-B)}function Qe(p,b,B,$,Z,ae,ce){for($=ae[ce-1],B=0;B<Z;++B)ae[ce+B]=$=ue(p[b+B],$)}function nt(p,b,B,$,Z){var ae;for(ae=0;ae<B;++ae){var ce=p[b+ae],de=ce>>8&255,ye=16711935&(ye=(ye=16711935&ce)+((de<<16)+de));$[Z+ae]=(4278255360&ce)+ye>>>0}}function it(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function me(p,b,B,$,Z,ae){var ce;for(ce=0;ce<$;++ce){var de=b[B+ce],ye=de>>>8,be=de,Ne=255&(Ne=(Ne=de>>>16)+((p.jd<<24>>24)*(ye<<24>>24)>>>5));be=255&(be=(be+=(p.hd<<24>>24)*(ye<<24>>24)>>>5)+((p.ud<<24>>24)*(Ne<<24>>24)>>>5)),Z[ae+ce]=(4278255360&de)+(Ne<<16)+be}}function Te(p,b,B,$,Z){E[b]=function(ae,ce,de,ye,be,Ne,De,xe,Ie){for(ye=De;ye<xe;++ye)for(De=0;De<Ie;++De)be[Ne++]=Z(de[$(ae[ce++])])},E[p]=function(ae,ce,de,ye,be,Ne,De){var xe=8>>ae.b,Ie=ae.Ea,Pe=ae.K[0],Ve=ae.w;if(8>xe)for(ae=(1<<ae.b)-1,Ve=(1<<xe)-1;ce<de;++ce){var Oe,He=0;for(Oe=0;Oe<Ie;++Oe)Oe&ae||(He=$(ye[be++])),Ne[De++]=Z(Pe[He&Ve]),He>>=xe}else E["VP8LMapColor"+B](ye,be,Pe,Ve,Ne,De,ce,de,Ie)}}function Me(p,b,B,$,Z){for(B=b+B;b<B;){var ae=p[b++];$[Z++]=ae>>16&255,$[Z++]=ae>>8&255,$[Z++]=255&ae}}function et(p,b,B,$,Z){for(B=b+B;b<B;){var ae=p[b++];$[Z++]=ae>>16&255,$[Z++]=ae>>8&255,$[Z++]=255&ae,$[Z++]=ae>>24&255}}function at(p,b,B,$,Z){for(B=b+B;b<B;){var ae=(ce=p[b++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;$[Z++]=ae,$[Z++]=ce}}function ct(p,b,B,$,Z){for(B=b+B;b<B;){var ae=(ce=p[b++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;$[Z++]=ae,$[Z++]=ce}}function ot(p,b,B,$,Z){for(B=b+B;b<B;){var ae=p[b++];$[Z++]=255&ae,$[Z++]=ae>>8&255,$[Z++]=ae>>16&255}}function lt(p,b,B,$,Z,ae){if(ae==0)for(B=b+B;b<B;)Y($,((ae=p[b++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),Z+=32;else n($,Z,p,b,B)}function Bt(p,b){E[b][0]=E[p+"0"],E[b][1]=E[p+"1"],E[b][2]=E[p+"2"],E[b][3]=E[p+"3"],E[b][4]=E[p+"4"],E[b][5]=E[p+"5"],E[b][6]=E[p+"6"],E[b][7]=E[p+"7"],E[b][8]=E[p+"8"],E[b][9]=E[p+"9"],E[b][10]=E[p+"10"],E[b][11]=E[p+"11"],E[b][12]=E[p+"12"],E[b][13]=E[p+"13"],E[b][14]=E[p+"0"],E[b][15]=E[p+"0"]}function At(p){return p==Z0||p==e1||p==vp||p==t1}function Nt(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nt,this.f.kb=new nr,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function An(p,b){var B=p.T,$=b.ba.f.RGBA,Z=$.eb,ae=$.fb+p.ka*$.A,ce=_s[b.ba.S],de=p.y,ye=p.O,be=p.f,Ne=p.N,De=p.ea,xe=p.W,Ie=b.cc,Pe=b.dc,Ve=b.Mc,Oe=b.Nc,He=p.ka,We=p.ka+p.T,Ze=p.U,Ye=Ze+1>>1;for(He==0?ce(de,ye,null,null,be,Ne,De,xe,be,Ne,De,xe,Z,ae,null,null,Ze):(ce(b.ec,b.fc,de,ye,Ie,Pe,Ve,Oe,be,Ne,De,xe,Z,ae-$.A,Z,ae,Ze),++B);He+2<We;He+=2)Ie=be,Pe=Ne,Ve=De,Oe=xe,Ne+=p.Rc,xe+=p.Rc,ae+=2*$.A,ce(de,(ye+=2*p.fa)-p.fa,de,ye,Ie,Pe,Ve,Oe,be,Ne,De,xe,Z,ae-$.A,Z,ae,Ze);return ye+=p.fa,p.j+We<p.o?(n(b.ec,b.fc,de,ye,Ze),n(b.cc,b.dc,be,Ne,Ye),n(b.Mc,b.Nc,De,xe,Ye),B--):1&We||ce(de,ye,null,null,be,Ne,De,xe,be,Ne,De,xe,Z,ae+$.A,null,null,Ze),B}function Cs(p,b,B){var $=p.F,Z=[p.J];if($!=null){var ae=p.U,ce=b.ba.S,de=ce==yp||ce==vp;b=b.ba.f.RGBA;var ye=[0],be=p.ka;ye[0]=p.T,p.Kb&&(be==0?--ye[0]:(--be,Z[0]-=p.width),p.j+p.ka+p.T==p.o&&(ye[0]=p.o-p.j-be));var Ne=b.eb;be=b.fb+be*b.A,p=Tb($,Z[0],p.width,ae,ye,Ne,be+(de?0:3),b.A),e(B==ye),p&&At(ce)&&sf(Ne,be,de,ae,ye,b.A)}return 0}function Ln(p){var b=p.ma,B=b.ba.S,$=11>B,Z=B==mp||B==gp||B==yp||B==J0||B==12||At(B);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Yh(b.Oa,p,Z?11:12))return 0;if(Z&&At(B)&&Ot(),p.da)alert("todo:use_scaling");else{if($){if(b.Ib=Vi,p.Kb){if(B=p.U+1>>1,b.memory=s(p.U+2*B),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+B,b.Ib=An,Ot()}}else alert("todo:EmitYUV");Z&&(b.Jb=Cs,$&&je())}if($&&!zb){for(p=0;256>p;++p)rP[p]=89858*(p-128)+_p>>wp,sP[p]=-22014*(p-128)+_p,iP[p]=-45773*(p-128),nP[p]=113618*(p-128)+_p>>wp;for(p=of;p<i1;++p)b=76283*(p-16)+_p>>wp,aP[p-of]=hs(b,255),oP[p-of]=hs(b+8>>4,15);zb=1}return 1}function kt(p){var b=p.ma,B=p.U,$=p.T;return e(!(1&p.ka)),0>=B||0>=$?0:(B=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,B),b.Dc+=B,1)}function Rs(p){p.ma.memory=null}function _i(p,b,B,$){return fe(p,8)!=47?0:(b[0]=fe(p,14)+1,B[0]=fe(p,14)+1,$[0]=fe(p,1),fe(p,3)!=0?0:!p.h)}function ni(p,b){if(4>p)return p+1;var B=p-2>>1;return(2+(1&p)<<B)+fe(b,B)+1}function ii(p,b){return 120<b?b-120:1<=(B=((B=z8[b-1])>>4)*p+(8-(15&B)))?B:1;var B}function wr(p,b,B){var $=Q(B),Z=p[b+=255&$].g-8;return 0<Z&&(ee(B,B.u+8),$=Q(B),b+=p[b].value,b+=$&(1<<Z)-1),ee(B,B.u+p[b].g),p[b].value}function Dr(p,b,B){return B.g+=p.g,B.value+=p.value<<b>>>0,e(8>=B.g),p.g}function gn(p,b,B){var $=p.xc;return e((b=$==0?0:p.vc[p.md*(B>>$)+(b>>$)])<p.Wb),p.Ya[b]}function Vn(p,b,B,$){var Z=p.ab,ae=p.c*b,ce=p.C;b=ce+b;var de=B,ye=$;for($=p.Ta,B=p.Ua;0<Z--;){var be=p.gc[Z],Ne=ce,De=b,xe=de,Ie=ye,Pe=(ye=$,de=B,be.Ea);switch(e(Ne<De),e(De<=be.nc),be.hc){case 2:Jr(xe,Ie,(De-Ne)*Pe,ye,de);break;case 0:var Ve=Ne,Oe=De,He=ye,We=de,Ze=(vt=be).Ea;Ve==0&&(Jh(xe,Ie,null,null,1,He,We),Qe(xe,Ie+1,0,0,Ze-1,He,We+1),Ie+=Ze,We+=Ze,++Ve);for(var Ye=1<<vt.b,xt=Ye-1,pt=F(Ze,vt.b),Ut=vt.K,vt=vt.w+(Ve>>vt.b)*pt;Ve<Oe;){var Jt=Ut,vn=vt,Vt=1;for(vc(xe,Ie,He,We-Ze,1,He,We);Vt<Ze;){var wt=(Vt&~xt)+Ye;wt>Ze&&(wt=Ze),(0,ef[Jt[vn++]>>8&15])(xe,Ie+ +Vt,He,We+Vt-Ze,wt-Vt,He,We+Vt),Vt=wt}Ie+=Ze,We+=Ze,++Ve&xt||(vt+=pt)}De!=be.nc&&n(ye,de-Pe,ye,de+(De-Ne-1)*Pe,Pe);break;case 1:for(Pe=xe,Oe=Ie,Ze=(xe=be.Ea)-(We=xe&~(He=(Ie=1<<be.b)-1)),Ve=F(xe,be.b),Ye=be.K,be=be.w+(Ne>>be.b)*Ve;Ne<De;){for(xt=Ye,pt=be,Ut=new ge,vt=Oe+We,Jt=Oe+xe;Oe<vt;)it(xt[pt++],Ut),tf(Ut,Pe,Oe,Ie,ye,de),Oe+=Ie,de+=Ie;Oe<Jt&&(it(xt[pt++],Ut),tf(Ut,Pe,Oe,Ze,ye,de),Oe+=Ze,de+=Ze),++Ne&He||(be+=Ve)}break;case 3:if(xe==ye&&Ie==de&&0<be.b){for(Oe=ye,xe=Pe=de+(De-Ne)*Pe-(We=(De-Ne)*F(be.Ea,be.b)),Ie=ye,He=de,Ve=[],We=(Ze=We)-1;0<=We;--We)Ve[We]=Ie[He+We];for(We=Ze-1;0<=We;--We)Oe[xe+We]=Ve[We];hp(be,Ne,De,ye,Pe,ye,de)}else hp(be,Ne,De,xe,Ie,ye,de)}de=$,ye=B}ye!=B&&n($,B,de,ye,ae)}function Ps(p,b){var B=p.V,$=p.Ba+p.c*p.C,Z=b-p.C;if(e(b<=p.l.o),e(16>=Z),0<Z){var ae=p.l,ce=p.Ta,de=p.Ua,ye=ae.width;if(Vn(p,Z,B,$),Z=de=[de],e((B=p.C)<($=b)),e(ae.v<ae.va),$>ae.o&&($=ae.o),B<ae.j){var be=ae.j-B;B=ae.j,Z[0]+=be*ye}if(B>=$?B=0:(Z[0]+=4*ae.v,ae.ka=B-ae.j,ae.U=ae.va-ae.v,ae.T=$-B,B=1),B){if(de=de[0],11>(B=p.ca).S){var Ne=B.f.RGBA,De=($=B.S,Z=ae.U,ae=ae.T,be=Ne.eb,Ne.A),xe=ae;for(Ne=Ne.fb+p.Ma*Ne.A;0<xe--;){var Ie=ce,Pe=de,Ve=Z,Oe=be,He=Ne;switch($){case pp:rf(Ie,Pe,Ve,Oe,He);break;case mp:Vo(Ie,Pe,Ve,Oe,He);break;case Z0:Vo(Ie,Pe,Ve,Oe,He),sf(Oe,He,0,Ve,1,0);break;case Lb:hu(Ie,Pe,Ve,Oe,He);break;case gp:lt(Ie,Pe,Ve,Oe,He,1);break;case e1:lt(Ie,Pe,Ve,Oe,He,1),sf(Oe,He,0,Ve,1,0);break;case yp:lt(Ie,Pe,Ve,Oe,He,0);break;case vp:lt(Ie,Pe,Ve,Oe,He,0),sf(Oe,He,1,Ve,1,0);break;case J0:zo(Ie,Pe,Ve,Oe,He);break;case t1:zo(Ie,Pe,Ve,Oe,He),Sb(Oe,He,Ve,1,0);break;case Ob:qo(Ie,Pe,Ve,Oe,He);break;default:e(0)}de+=ye,Ne+=De}p.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=B.height)}}p.C=b,e(p.C<=p.i)}function bi(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var B=p.Ya[b].G,$=p.Ya[b].H;if(0<B[1][$[1]+0].g||0<B[2][$[2]+0].g||0<B[3][$[3]+0].g)return 0}return 1}function xi(p,b,B,$,Z,ae){if(p.Z!=0){var ce=p.qd,de=p.rd;for(e($o[p.Z]!=null);b<B;++b)$o[p.Z](ce,de,$,Z,$,Z,ae),ce=$,de=Z,Z+=ae;p.qd=ce,p.rd=de}}function si(p,b){var B=p.l.ma,$=B.Z==0||B.Z==1?p.l.j:p.C;if($=p.C<$?$:p.C,e(b<=p.l.o),b>$){var Z=p.l.width,ae=B.ca,ce=B.tb+Z*$,de=p.V,ye=p.Ba+p.c*$,be=p.gc;e(p.ab==1),e(be[0].hc==3),ya(be[0],$,b,de,ye,ae,ce),xi(B,$,b,ae,ce,Z)}p.C=p.Ma=b}function Ei(p,b,B,$,Z,ae,ce){var de=p.$/$,ye=p.$%$,be=p.m,Ne=p.s,De=B+p.$,xe=De;Z=B+$*Z;var Ie=B+$*ae,Pe=280+Ne.ua,Ve=p.Pb?de:16777216,Oe=0<Ne.ua?Ne.Wa:null,He=Ne.wc,We=De<Ie?gn(Ne,ye,de):null;e(p.C<ae),e(Ie<=Z);var Ze=!1;e:for(;;){for(;Ze||De<Ie;){var Ye=0;if(de>=Ve){var xt=De-B;e((Ve=p).Pb),Ve.wd=Ve.m,Ve.xd=xt,0<Ve.s.ua&&W(Ve.s.Wa,Ve.s.vb),Ve=de+H8}if(ye&He||(We=gn(Ne,ye,de)),e(We!=null),We.Qb&&(b[De]=We.qb,Ze=!0),!Ze)if(M(be),We.jc){Ye=be,xt=b;var pt=De,Ut=We.pd[Q(Ye)&cu-1];e(We.jc),256>Ut.g?(ee(Ye,Ye.u+Ut.g),xt[pt]=Ut.value,Ye=0):(ee(Ye,Ye.u+Ut.g-256),e(256<=Ut.value),Ye=Ut.value),Ye==0&&(Ze=!0)}else Ye=wr(We.G[0],We.H[0],be);if(be.h)break;if(Ze||256>Ye){if(!Ze)if(We.nd)b[De]=(We.qb|Ye<<8)>>>0;else{if(M(be),Ze=wr(We.G[1],We.H[1],be),M(be),xt=wr(We.G[2],We.H[2],be),pt=wr(We.G[3],We.H[3],be),be.h)break;b[De]=(pt<<24|Ze<<16|Ye<<8|xt)>>>0}if(Ze=!1,++De,++ye>=$&&(ye=0,++de,ce!=null&&de<=ae&&!(de%16)&&ce(p,de),Oe!=null))for(;xe<De;)Ye=b[xe++],Oe.X[(506832829*Ye&4294967295)>>>Oe.Mb]=Ye}else if(280>Ye){if(Ye=ni(Ye-256,be),xt=wr(We.G[4],We.H[4],be),M(be),xt=ii($,xt=ni(xt,be)),be.h)break;if(De-B<xt||Z-De<Ye)break e;for(pt=0;pt<Ye;++pt)b[De+pt]=b[De+pt-xt];for(De+=Ye,ye+=Ye;ye>=$;)ye-=$,++de,ce!=null&&de<=ae&&!(de%16)&&ce(p,de);if(e(De<=Z),ye&He&&(We=gn(Ne,ye,de)),Oe!=null)for(;xe<De;)Ye=b[xe++],Oe.X[(506832829*Ye&4294967295)>>>Oe.Mb]=Ye}else{if(!(Ye<Pe))break e;for(Ze=Ye-280,e(Oe!=null);xe<De;)Ye=b[xe++],Oe.X[(506832829*Ye&4294967295)>>>Oe.Mb]=Ye;Ye=De,e(!(Ze>>>(xt=Oe).Xa)),b[Ye]=xt.X[Ze],Ze=!0}Ze||e(be.h==le(be))}if(p.Pb&&be.h&&De<Z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&W(p.s.vb,p.s.Wa);else{if(be.h)break e;ce!=null&&ce(p,de>ae?ae:de),p.a=0,p.$=De-B}return 1}return p.a=3,0}function Ai(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function aa(){var p=new It;return p==null?null:(p.a=0,p.xb=Fb,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),Jr=nt,tf=me,rf=Me,Vo=et,zo=at,qo=ct,hu=ot,E.VP8LMapColor32b=ga,E.VP8LMapColor8b=Zh,p)}function ls(p,b,B,$,Z){var ae=1,ce=[p],de=[b],ye=$.m,be=$.s,Ne=null,De=0;e:for(;;){if(B)for(;ae&&fe(ye,1);){var xe=ce,Ie=de,Pe=$,Ve=1,Oe=Pe.m,He=Pe.gc[Pe.ab],We=fe(Oe,2);if(Pe.Oc&1<<We)ae=0;else{switch(Pe.Oc|=1<<We,He.hc=We,He.Ea=xe[0],He.nc=Ie[0],He.K=[null],++Pe.ab,e(4>=Pe.ab),We){case 0:case 1:He.b=fe(Oe,3)+2,Ve=ls(F(He.Ea,He.b),F(He.nc,He.b),0,Pe,He.K),He.K=He.K[0];break;case 3:var Ze,Ye=fe(Oe,8)+1,xt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(xe[0]=F(He.Ea,xt),He.b=xt,Ze=Ve=ls(Ye,1,0,Pe,He.K)){var pt,Ut=Ye,vt=He,Jt=1<<(8>>vt.b),vn=s(Jt);if(vn==null)Ze=0;else{var Vt=vt.K[0],wt=vt.w;for(vn[0]=vt.K[0][0],pt=1;pt<1*Ut;++pt)vn[pt]=ue(Vt[wt+pt],vn[pt-1]);for(;pt<4*Jt;++pt)vn[pt]=0;vt.K[0]=null,vt.K[0]=vn,Ze=1}}Ve=Ze;break;case 2:break;default:e(0)}ae=Ve}}if(ce=ce[0],de=de[0],ae&&fe(ye,1)&&!(ae=1<=(De=fe(ye,4))&&11>=De)){$.a=3;break e}var st;if(st=ae)t:{var en,Mt,Zt,Rr=$,On=ce,fi=de,qr=De,Hn=B,di=Rr.m,wn=Rr.s,tr=[null],lr=1,Hr=0,ur=q8[qr];r:for(;;){if(Hn&&fe(di,1)){var Dn=fe(di,3)+2,Ms=F(On,Dn),tn=F(fi,Dn),Ci=Ms*tn;if(!ls(Ms,tn,0,Rr,tr))break r;for(tr=tr[0],wn.xc=Dn,en=0;en<Ci;++en){var yr=tr[en]>>8&65535;tr[en]=yr,yr>=lr&&(lr=yr+1)}}if(di.h)break r;for(Mt=0;5>Mt;++Mt){var _n=Db[Mt];!Mt&&0<qr&&(_n+=1<<qr),Hr<_n&&(Hr=_n)}var $i=a(lr*ur,L),pi=lr,Gi=a(pi,ie);if(Gi==null)var Ki=null;else e(65536>=pi),Ki=Gi;var Ri=s(Hr);if(Ki==null||Ri==null||$i==null){Rr.a=1;break r}var Xi=$i;for(en=Zt=0;en<lr;++en){var Tr=Ki[en],Yi=Tr.G,Bs=Tr.H,du=0,eo=1,jn=0;for(Mt=0;5>Mt;++Mt){_n=Db[Mt],Yi[Mt]=Xi,Bs[Mt]=Zt,!Mt&&0<qr&&(_n+=1<<qr);i:{var xp,s1=_n,Ep=Rr,lf=Ri,cP=Xi,hP=Zt,a1=0,Go=Ep.m,fP=fe(Go,1);if(i(lf,0,0,s1),fP){var dP=fe(Go,1)+1,pP=fe(Go,1),Wb=fe(Go,pP==0?1:8);lf[Wb]=1,dP==2&&(lf[Wb=fe(Go,8)]=1);var Ap=1}else{var $b=s(19),Gb=fe(Go,4)+4;if(19<Gb){Ep.a=3;var Sp=0;break i}for(xp=0;xp<Gb;++xp)$b[V8[xp]]=fe(Go,3);var o1=void 0,uf=void 0,Kb=Ep,mP=$b,Tp=s1,Xb=lf,l1=0,Ko=Kb.m,Yb=8,Qb=a(128,L);n:for(;T(Qb,0,7,mP,19);){if(fe(Ko,1)){var gP=2+2*fe(Ko,3);if((o1=2+fe(Ko,gP))>Tp)break n}else o1=Tp;for(uf=0;uf<Tp&&o1--;){M(Ko);var Jb=Qb[0+(127&Q(Ko))];ee(Ko,Ko.u+Jb.g);var _c=Jb.value;if(16>_c)Xb[uf++]=_c,_c!=0&&(Yb=_c);else{var yP=_c==16,Zb=_c-16,vP=B8[Zb],ex=fe(Ko,M8[Zb])+vP;if(uf+ex>Tp)break n;for(var wP=yP?Yb:0;0<ex--;)Xb[uf++]=wP}}l1=1;break n}l1||(Kb.a=3),Ap=l1}(Ap=Ap&&!Go.h)&&(a1=T(cP,hP,8,lf,s1)),Ap&&a1!=0?Sp=a1:(Ep.a=3,Sp=0)}if(Sp==0)break r;if(eo&&U8[Mt]==1&&(eo=Xi[Zt].g==0),du+=Xi[Zt].g,Zt+=Sp,3>=Mt){var cf,u1=Ri[0];for(cf=1;cf<_n;++cf)Ri[cf]>u1&&(u1=Ri[cf]);jn+=u1}}if(Tr.nd=eo,Tr.Qb=0,eo&&(Tr.qb=(Yi[3][Bs[3]+0].value<<24|Yi[1][Bs[1]+0].value<<16|Yi[2][Bs[2]+0].value)>>>0,du==0&&256>Yi[0][Bs[0]+0].value&&(Tr.Qb=1,Tr.qb+=Yi[0][Bs[0]+0].value<<8)),Tr.jc=!Tr.Qb&&6>jn,Tr.jc){var Np,to=Tr;for(Np=0;Np<cu;++Np){var Xo=Np,Yo=to.pd[Xo],kp=to.G[0][to.H[0]+Xo];256<=kp.value?(Yo.g=kp.g+256,Yo.value=kp.value):(Yo.g=0,Yo.value=0,Xo>>=Dr(kp,8,Yo),Xo>>=Dr(to.G[1][to.H[1]+Xo],16,Yo),Xo>>=Dr(to.G[2][to.H[2]+Xo],0,Yo),Dr(to.G[3][to.H[3]+Xo],24,Yo))}}}wn.vc=tr,wn.Wb=lr,wn.Ya=Ki,wn.yc=$i,st=1;break t}st=0}if(!(ae=st)){$.a=3;break e}if(0<De){if(be.ua=1<<De,!K(be.Wa,De)){$.a=1,ae=0;break e}}else be.ua=0;var c1=$,tx=ce,_P=de,h1=c1.s,f1=h1.xc;if(c1.c=tx,c1.i=_P,h1.md=F(tx,f1),h1.wc=f1==0?-1:(1<<f1)-1,B){$.xb=Q8;break e}if((Ne=s(ce*de))==null){$.a=1,ae=0;break e}ae=(ae=Ei($,Ne,0,ce,de,de,null))&&!ye.h;break e}return ae?(Z!=null?Z[0]=Ne:(e(Ne==null),e(B)),$.$=0,B||Ai(be)):Ai(be),ae}function us(p,b){var B=p.c*p.i,$=B+b+16*b;return e(p.c<=b),p.V=s($),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+B+b,1)}function qa(p,b){var B=p.C,$=b-B,Z=p.V,ae=p.Ba+p.c*B;for(e(b<=p.l.o);0<$;){var ce=16<$?16:$,de=p.l.ma,ye=p.l.width,be=ye*ce,Ne=de.ca,De=de.tb+ye*B,xe=p.Ta,Ie=p.Ua;Vn(p,ce,Z,ae),Nb(xe,Ie,Ne,De,be),xi(de,B,B+ce,Ne,De,ye),$-=ce,Z+=ce*p.c,B+=ce}e(B==b),p.C=p.Ma=b}function oa(){this.ub=this.yd=this.td=this.Rb=0}function cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ha(){this.Yb=function(){var p=[];return function b(B,$,Z){for(var ae=Z[$],ce=0;ce<ae&&(B.push(Z.length>$+1?[]:0),!(Z.length<$+1));ce++)b(B[ce],$+1,Z)}(p,0,[3,11]),p}()}function lc(){this.jb=s(3),this.Wc=o([4,8],Ha),this.Xc=o([4,17],Ha)}function eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ai(){this.ld=this.La=this.dd=this.tc=0}function Io(){this.Na=this.la=0}function Co(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ai),this.Y=0,this.ya=Array(new Wa),this.aa=0,this.l=new oi}function ru(){this.y=s(16),this.f=s(8),this.ea=s(8)}function nu(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new oa,this.Kc=new cs,this.ed=new eu,this.Qa=new Ls,this.Ic=this.$c=this.Aa=0,this.D=new tu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,D),this.ia=0,this.pb=a(4,Co),this.Pa=new lc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ru),this.Hd=0,this.rb=Array(new Io),this.sb=0,this.wa=Array(new ai),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wa),this.L=this.aa=0,this.gd=o([4,2],ai),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hs(p,b){return 0>p?0:p>b?b:p}function oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Si(){var p=new nu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,af||(af=ir)),p}function _r(p,b,B){return p.a==0&&(p.a=b,p.sc=B,p.cb=0),0}function la(p,b,B){return 3<=B&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function Ti(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return _r(p,2,"null VP8Io passed to VP8GetHeaders()");var B=b.data,$=b.w,Z=b.ha;if(4>Z)return _r(p,7,"Truncated header.");var ae=B[$+0]|B[$+1]<<8|B[$+2]<<16,ce=p.Od;if(ce.Rb=!(1&ae),ce.td=ae>>1&7,ce.yd=ae>>4&1,ce.ub=ae>>5,3<ce.td)return _r(p,3,"Incorrect keyframe parameters.");if(!ce.yd)return _r(p,4,"Frame not displayable.");$+=3,Z-=3;var de=p.Kc;if(ce.Rb){if(7>Z)return _r(p,7,"cannot parse picture header");if(!la(B,$,Z))return _r(p,3,"Bad code word");de.c=16383&(B[$+4]<<8|B[$+3]),de.Td=B[$+4]>>6,de.i=16383&(B[$+6]<<8|B[$+5]),de.Ud=B[$+6]>>6,$+=7,Z-=7,p.za=de.c+15>>4,p.Ub=de.i+15>>4,b.width=de.c,b.height=de.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((ae=p.Pa).jb,0,255,ae.jb.length),e((ae=p.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(ce.ub>Z)return _r(p,7,"bad partition length");ve(ae=p.m,B,$,ce.ub),$+=ce.ub,Z-=ce.ub,ce.Rb&&(de.Ld=ne(ae),de.Kd=ne(ae)),de=p.Qa;var ye,be=p.Pa;if(e(ae!=null),e(de!=null),de.Cb=ne(ae),de.Cb){if(de.Bb=ne(ae),ne(ae)){for(de.Fb=ne(ae),ye=0;4>ye;++ye)de.Zb[ye]=ne(ae)?oe(ae,7):0;for(ye=0;4>ye;++ye)de.Lb[ye]=ne(ae)?oe(ae,6):0}if(de.Bb)for(ye=0;3>ye;++ye)be.jb[ye]=ne(ae)?se(ae,8):255}else de.Bb=0;if(ae.Ka)return _r(p,3,"cannot parse segment header");if((de=p.ed).zd=ne(ae),de.Tb=se(ae,6),de.wb=se(ae,3),de.Pc=ne(ae),de.Pc&&ne(ae)){for(be=0;4>be;++be)ne(ae)&&(de.vd[be]=oe(ae,6));for(be=0;4>be;++be)ne(ae)&&(de.od[be]=oe(ae,6))}if(p.L=de.Tb==0?0:de.zd?1:2,ae.Ka)return _r(p,3,"cannot parse filter header");var Ne=Z;if(Z=ye=$,$=ye+Ne,de=Ne,p.Xb=(1<<se(p.m,2))-1,Ne<3*(be=p.Xb))B=7;else{for(ye+=3*be,de-=3*be,Ne=0;Ne<be;++Ne){var De=B[Z+0]|B[Z+1]<<8|B[Z+2]<<16;De>de&&(De=de),ve(p.Jc[+Ne],B,ye,De),ye+=De,de-=De,Z+=3}ve(p.Jc[+be],B,ye,de),B=ye<$?0:5}if(B!=0)return _r(p,B,"cannot parse partitions");for(B=se(ye=p.m,7),Z=ne(ye)?oe(ye,4):0,$=ne(ye)?oe(ye,4):0,de=ne(ye)?oe(ye,4):0,be=ne(ye)?oe(ye,4):0,ye=ne(ye)?oe(ye,4):0,Ne=p.Qa,De=0;4>De;++De){if(Ne.Cb){var xe=Ne.Zb[De];Ne.Fb||(xe+=B)}else{if(0<De){p.pb[De]=p.pb[0];continue}xe=B}var Ie=p.pb[De];Ie.Sc[0]=r1[hs(xe+Z,127)],Ie.Sc[1]=n1[hs(xe+0,127)],Ie.Eb[0]=2*r1[hs(xe+$,127)],Ie.Eb[1]=101581*n1[hs(xe+de,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=r1[hs(xe+be,117)],Ie.Qc[1]=n1[hs(xe+ye,127)],Ie.lc=xe+ye}if(!ce.Rb)return _r(p,4,"Not a key frame.");for(ne(ae),ce=p.Pa,B=0;4>B;++B){for(Z=0;8>Z;++Z)for($=0;3>$;++$)for(de=0;11>de;++de)be=te(ae,X8[B][Z][$][de])?se(ae,8):G8[B][Z][$][de],ce.Wc[B][Z].Yb[$][de]=be;for(Z=0;17>Z;++Z)ce.Xc[B][Z]=ce.Wc[B][Y8[Z]]}return p.kc=ne(ae),p.kc&&(p.Bd=se(ae,8)),p.cb=1}function ir(p,b,B,$,Z,ae,ce){var de=b[Z].Yb[B];for(B=0;16>Z;++Z){if(!te(p,de[B+0]))return Z;for(;!te(p,de[B+1]);)if(de=b[++Z].Yb[0],B=0,Z==16)return 16;var ye=b[Z+1].Yb;if(te(p,de[B+2])){var be=p,Ne=0;if(te(be,(xe=de)[(De=B)+3]))if(te(be,xe[De+6])){for(de=0,De=2*(Ne=te(be,xe[De+8]))+(xe=te(be,xe[De+9+Ne])),Ne=0,xe=W8[De];xe[de];++de)Ne+=Ne+te(be,xe[de]);Ne+=3+(8<<De)}else te(be,xe[De+7])?(Ne=7+2*te(be,165),Ne+=te(be,145)):Ne=5+te(be,159);else Ne=te(be,xe[De+4])?3+te(be,xe[De+5]):2;de=ye[2]}else Ne=1,de=ye[1];ye=ce+$8[Z],0>(be=p).b&&U(be);var De,xe=be.b,Ie=(De=be.Ca>>1)-(be.I>>xe)>>31;--be.b,be.Ca+=Ie,be.Ca|=1,be.I-=(De+1&Ie)<<xe,ae[ye]=((Ne^Ie)-Ie)*$[(0<Z)+0]}return 16}function $a(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Sn(p,b,B,$,Z){Z=p[b+B+32*$]+(Z>>3),p[b+B+32*$]=-256&Z?0>Z?0:255:Z}function Cr(p,b,B,$,Z,ae){Sn(p,b,0,B,$+Z),Sn(p,b,1,B,$+ae),Sn(p,b,2,B,$-ae),Sn(p,b,3,B,$-Z)}function Os(p){return(20091*p>>16)+p}function iu(p,b,B,$){var Z,ae=0,ce=s(16);for(Z=0;4>Z;++Z){var de=p[b+0]+p[b+8],ye=p[b+0]-p[b+8],be=(35468*p[b+4]>>16)-Os(p[b+12]),Ne=Os(p[b+4])+(35468*p[b+12]>>16);ce[ae+0]=de+Ne,ce[ae+1]=ye+be,ce[ae+2]=ye-be,ce[ae+3]=de-Ne,ae+=4,b++}for(Z=ae=0;4>Z;++Z)de=(p=ce[ae+0]+4)+ce[ae+8],ye=p-ce[ae+8],be=(35468*ce[ae+4]>>16)-Os(ce[ae+12]),Sn(B,$,0,0,de+(Ne=Os(ce[ae+4])+(35468*ce[ae+12]>>16))),Sn(B,$,1,0,ye+be),Sn(B,$,2,0,ye-be),Sn(B,$,3,0,de-Ne),ae++,$+=32}function Wh(p,b,B,$){var Z=p[b+0]+4,ae=35468*p[b+4]>>16,ce=Os(p[b+4]),de=35468*p[b+1]>>16;Cr(B,$,0,Z+ce,p=Os(p[b+1]),de),Cr(B,$,1,Z+ae,p,de),Cr(B,$,2,Z-ae,p,de),Cr(B,$,3,Z-ce,p,de)}function $h(p,b,B,$,Z){iu(p,b,B,$),Z&&iu(p,b+16,B,$+4)}function fs(p,b,B,$){fu(p,b+0,B,$,1),fu(p,b+32,B,$+128,1)}function uc(p,b,B,$){var Z;for(p=p[b+0]+4,Z=0;4>Z;++Z)for(b=0;4>b;++b)Sn(B,$,b,Z,p)}function ua(p,b,B,$){p[b+0]&&ar(p,b+0,B,$),p[b+16]&&ar(p,b+16,B,$+4),p[b+32]&&ar(p,b+32,B,$+128),p[b+48]&&ar(p,b+48,B,$+128+4)}function Ni(p,b,B,$){var Z,ae=s(16);for(Z=0;4>Z;++Z){var ce=p[b+0+Z]+p[b+12+Z],de=p[b+4+Z]+p[b+8+Z],ye=p[b+4+Z]-p[b+8+Z],be=p[b+0+Z]-p[b+12+Z];ae[0+Z]=ce+de,ae[8+Z]=ce-de,ae[4+Z]=be+ye,ae[12+Z]=be-ye}for(Z=0;4>Z;++Z)ce=(p=ae[0+4*Z]+3)+ae[3+4*Z],de=ae[1+4*Z]+ae[2+4*Z],ye=ae[1+4*Z]-ae[2+4*Z],be=p-ae[3+4*Z],B[$+0]=ce+de>>3,B[$+16]=be+ye>>3,B[$+32]=ce-de>>3,B[$+48]=be-ye>>3,$+=64}function ca(p,b,B){var $,Z=b-32,ae=Wi,ce=255-p[Z-1];for($=0;$<B;++$){var de,ye=ae,be=ce+p[b-1];for(de=0;de<B;++de)p[b+de]=ye[be+p[Z+de]];b+=32}}function cc(p,b){ca(p,b,4)}function hc(p,b){ca(p,b,8)}function fc(p,b){ca(p,b,16)}function Ro(p,b){var B;for(B=0;16>B;++B)n(p,b+32*B,p,b-32,16)}function Ds(p,b){var B;for(B=16;0<B;--B)i(p,b,p[b-1],16),b+=32}function zi(p,b,B){var $;for($=0;16>$;++$)i(b,B+32*$,p,16)}function Gh(p,b){var B,$=16;for(B=0;16>B;++B)$+=p[b-1+32*B]+p[b+B-32];zi($>>5,p,b)}function Ga(p,b){var B,$=8;for(B=0;16>B;++B)$+=p[b-1+32*B];zi($>>4,p,b)}function ki(p,b){var B,$=8;for(B=0;16>B;++B)$+=p[b+B-32];zi($>>4,p,b)}function Kh(p,b){zi(128,p,b)}function Ct(p,b,B){return p+2*b+B+2>>2}function Po(p,b){var B,$=b-32;for($=new Uint8Array([Ct(p[$-1],p[$+0],p[$+1]),Ct(p[$+0],p[$+1],p[$+2]),Ct(p[$+1],p[$+2],p[$+3]),Ct(p[$+2],p[$+3],p[$+4])]),B=0;4>B;++B)n(p,b+32*B,$,0,$.length)}function dc(p,b){var B=p[b-1],$=p[b-1+32],Z=p[b-1+64],ae=p[b-1+96];Y(p,b+0,16843009*Ct(p[b-1-32],B,$)),Y(p,b+32,16843009*Ct(B,$,Z)),Y(p,b+64,16843009*Ct($,Z,ae)),Y(p,b+96,16843009*Ct(Z,ae,ae))}function Ka(p,b){var B,$=4;for(B=0;4>B;++B)$+=p[b+B-32]+p[b-1+32*B];for($>>=3,B=0;4>B;++B)i(p,b+32*B,$,4)}function li(p,b){var B=p[b-1+0],$=p[b-1+32],Z=p[b-1+64],ae=p[b-1-32],ce=p[b+0-32],de=p[b+1-32],ye=p[b+2-32],be=p[b+3-32];p[b+0+96]=Ct($,Z,p[b-1+96]),p[b+1+96]=p[b+0+64]=Ct(B,$,Z),p[b+2+96]=p[b+1+64]=p[b+0+32]=Ct(ae,B,$),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Ct(ce,ae,B),p[b+3+64]=p[b+2+32]=p[b+1+0]=Ct(de,ce,ae),p[b+3+32]=p[b+2+0]=Ct(ye,de,ce),p[b+3+0]=Ct(be,ye,de)}function ds(p,b){var B=p[b+1-32],$=p[b+2-32],Z=p[b+3-32],ae=p[b+4-32],ce=p[b+5-32],de=p[b+6-32],ye=p[b+7-32];p[b+0+0]=Ct(p[b+0-32],B,$),p[b+1+0]=p[b+0+32]=Ct(B,$,Z),p[b+2+0]=p[b+1+32]=p[b+0+64]=Ct($,Z,ae),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Ct(Z,ae,ce),p[b+3+32]=p[b+2+64]=p[b+1+96]=Ct(ae,ce,de),p[b+3+64]=p[b+2+96]=Ct(ce,de,ye),p[b+3+96]=Ct(de,ye,ye)}function su(p,b){var B=p[b-1+0],$=p[b-1+32],Z=p[b-1+64],ae=p[b-1-32],ce=p[b+0-32],de=p[b+1-32],ye=p[b+2-32],be=p[b+3-32];p[b+0+0]=p[b+1+64]=ae+ce+1>>1,p[b+1+0]=p[b+2+64]=ce+de+1>>1,p[b+2+0]=p[b+3+64]=de+ye+1>>1,p[b+3+0]=ye+be+1>>1,p[b+0+96]=Ct(Z,$,B),p[b+0+64]=Ct($,B,ae),p[b+0+32]=p[b+1+96]=Ct(B,ae,ce),p[b+1+32]=p[b+2+96]=Ct(ae,ce,de),p[b+2+32]=p[b+3+96]=Ct(ce,de,ye),p[b+3+32]=Ct(de,ye,be)}function br(p,b){var B=p[b+0-32],$=p[b+1-32],Z=p[b+2-32],ae=p[b+3-32],ce=p[b+4-32],de=p[b+5-32],ye=p[b+6-32],be=p[b+7-32];p[b+0+0]=B+$+1>>1,p[b+1+0]=p[b+0+64]=$+Z+1>>1,p[b+2+0]=p[b+1+64]=Z+ae+1>>1,p[b+3+0]=p[b+2+64]=ae+ce+1>>1,p[b+0+32]=Ct(B,$,Z),p[b+1+32]=p[b+0+96]=Ct($,Z,ae),p[b+2+32]=p[b+1+96]=Ct(Z,ae,ce),p[b+3+32]=p[b+2+96]=Ct(ae,ce,de),p[b+3+64]=Ct(ce,de,ye),p[b+3+96]=Ct(de,ye,be)}function Lo(p,b){var B=p[b-1+0],$=p[b-1+32],Z=p[b-1+64],ae=p[b-1+96];p[b+0+0]=B+$+1>>1,p[b+2+0]=p[b+0+32]=$+Z+1>>1,p[b+2+32]=p[b+0+64]=Z+ae+1>>1,p[b+1+0]=Ct(B,$,Z),p[b+3+0]=p[b+1+32]=Ct($,Z,ae),p[b+3+32]=p[b+1+64]=Ct(Z,ae,ae),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=ae}function au(p,b){var B=p[b-1+0],$=p[b-1+32],Z=p[b-1+64],ae=p[b-1+96],ce=p[b-1-32],de=p[b+0-32],ye=p[b+1-32],be=p[b+2-32];p[b+0+0]=p[b+2+32]=B+ce+1>>1,p[b+0+32]=p[b+2+64]=$+B+1>>1,p[b+0+64]=p[b+2+96]=Z+$+1>>1,p[b+0+96]=ae+Z+1>>1,p[b+3+0]=Ct(de,ye,be),p[b+2+0]=Ct(ce,de,ye),p[b+1+0]=p[b+3+32]=Ct(B,ce,de),p[b+1+32]=p[b+3+64]=Ct($,B,ce),p[b+1+64]=p[b+3+96]=Ct(Z,$,B),p[b+1+96]=Ct(ae,Z,$)}function ha(p,b){var B;for(B=0;8>B;++B)n(p,b+32*B,p,b-32,8)}function pc(p,b){var B;for(B=0;8>B;++B)i(p,b,p[b-1],8),b+=32}function ps(p,b,B){var $;for($=0;8>$;++$)i(b,B+32*$,p,8)}function Oo(p,b){var B,$=8;for(B=0;8>B;++B)$+=p[b+B-32]+p[b-1+32*B];ps($>>4,p,b)}function Ii(p,b){var B,$=4;for(B=0;8>B;++B)$+=p[b+B-32];ps($>>3,p,b)}function Do(p,b){var B,$=4;for(B=0;8>B;++B)$+=p[b-1+32*B];ps($>>3,p,b)}function mc(p,b){ps(128,p,b)}function ui(p,b,B){var $=p[b-B],Z=p[b+0],ae=3*(Z-$)+Q0[1020+p[b-2*B]-p[b+B]],ce=dp[112+(ae+4>>3)];p[b-B]=Wi[255+$+dp[112+(ae+3>>3)]],p[b+0]=Wi[255+Z-ce]}function jo(p,b,B,$){var Z=p[b+0],ae=p[b+B];return ws[255+p[b-2*B]-p[b-B]]>$||ws[255+ae-Z]>$}function fa(p,b,B,$){return 4*ws[255+p[b-B]-p[b+0]]+ws[255+p[b-2*B]-p[b+B]]<=$}function da(p,b,B,$,Z){var ae=p[b-3*B],ce=p[b-2*B],de=p[b-B],ye=p[b+0],be=p[b+B],Ne=p[b+2*B],De=p[b+3*B];return 4*ws[255+de-ye]+ws[255+ce-be]>$?0:ws[255+p[b-4*B]-ae]<=Z&&ws[255+ae-ce]<=Z&&ws[255+ce-de]<=Z&&ws[255+De-Ne]<=Z&&ws[255+Ne-be]<=Z&&ws[255+be-ye]<=Z}function pa(p,b,B,$){var Z=2*$+1;for($=0;16>$;++$)fa(p,b+$,B,Z)&&ui(p,b+$,B)}function ma(p,b,B,$){var Z=2*$+1;for($=0;16>$;++$)fa(p,b+$*B,1,Z)&&ui(p,b+$*B,1)}function gc(p,b,B,$){var Z;for(Z=3;0<Z;--Z)pa(p,b+=4*B,B,$)}function ou(p,b,B,$){var Z;for(Z=3;0<Z;--Z)ma(p,b+=4,B,$)}function ci(p,b,B,$,Z,ae,ce,de){for(ae=2*ae+1;0<Z--;){if(da(p,b,B,ae,ce))if(jo(p,b,B,de))ui(p,b,B);else{var ye=p,be=b,Ne=B,De=ye[be-2*Ne],xe=ye[be-Ne],Ie=ye[be+0],Pe=ye[be+Ne],Ve=ye[be+2*Ne],Oe=27*(We=Q0[1020+3*(Ie-xe)+Q0[1020+De-Pe]])+63>>7,He=18*We+63>>7,We=9*We+63>>7;ye[be-3*Ne]=Wi[255+ye[be-3*Ne]+We],ye[be-2*Ne]=Wi[255+De+He],ye[be-Ne]=Wi[255+xe+Oe],ye[be+0]=Wi[255+Ie-Oe],ye[be+Ne]=Wi[255+Pe-He],ye[be+2*Ne]=Wi[255+Ve-We]}b+=$}}function ms(p,b,B,$,Z,ae,ce,de){for(ae=2*ae+1;0<Z--;){if(da(p,b,B,ae,ce))if(jo(p,b,B,de))ui(p,b,B);else{var ye=p,be=b,Ne=B,De=ye[be-Ne],xe=ye[be+0],Ie=ye[be+Ne],Pe=dp[112+(4+(Ve=3*(xe-De))>>3)],Ve=dp[112+(Ve+3>>3)],Oe=Pe+1>>1;ye[be-2*Ne]=Wi[255+ye[be-2*Ne]+Oe],ye[be-Ne]=Wi[255+De+Ve],ye[be+0]=Wi[255+xe-Pe],ye[be+Ne]=Wi[255+Ie-Oe]}b+=$}}function lu(p,b,B,$,Z,ae){ci(p,b,B,1,16,$,Z,ae)}function js(p,b,B,$,Z,ae){ci(p,b,1,B,16,$,Z,ae)}function Fo(p,b,B,$,Z,ae){var ce;for(ce=3;0<ce;--ce)ms(p,b+=4*B,B,1,16,$,Z,ae)}function O(p,b,B,$,Z,ae){var ce;for(ce=3;0<ce;--ce)ms(p,b+=4,1,B,16,$,Z,ae)}function J(p,b,B,$,Z,ae,ce,de){ci(p,b,Z,1,8,ae,ce,de),ci(B,$,Z,1,8,ae,ce,de)}function _e(p,b,B,$,Z,ae,ce,de){ci(p,b,1,Z,8,ae,ce,de),ci(B,$,1,Z,8,ae,ce,de)}function Se(p,b,B,$,Z,ae,ce,de){ms(p,b+4*Z,Z,1,8,ae,ce,de),ms(B,$+4*Z,Z,1,8,ae,ce,de)}function Ce(p,b,B,$,Z,ae,ce,de){ms(p,b+4,1,Z,8,ae,ce,de),ms(B,$+4,1,Z,8,ae,ce,de)}function qe(){this.ba=new _t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new N,this.vb=new N,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new L}function It(){this.xb=this.a=0,this.l=new oi,this.ca=new _t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=a(4,ft),this.Oc=0}function St(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(p,b,B,$,Z,ae,ce){for(p=p==null?0:p[b+0],b=0;b<ce;++b)Z[ae+b]=p+B[$+b]&255,p=Z[ae+b]}function xr(p,b,B,$,Z,ae,ce){var de;if(p==null)Gt(null,null,B,$,Z,ae,ce);else for(de=0;de<ce;++de)Z[ae+de]=p[b+de]+B[$+de]&255}function mr(p,b,B,$,Z,ae,ce){if(p==null)Gt(null,null,B,$,Z,ae,ce);else{var de,ye=p[b+0],be=ye,Ne=ye;for(de=0;de<ce;++de)be=Ne+(ye=p[b+de])-be,Ne=B[$+de]+(-256&be?0>be?0:255:be)&255,be=ye,Z[ae+de]=Ne}}function g(p,b,B,$){var Z=b.width,ae=b.o;if(e(p!=null&&b!=null),0>B||0>=$||B+$>ae)return null;if(!p.Cc){if(p.ga==null){var ce;if(p.ga=new St,(ce=p.ga==null)||(ce=b.width*b.o,e(p.Gb.length==0),p.Gb=s(ce),p.Uc=0,p.Gb==null?ce=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,ce=1),ce=!ce),!ce){ce=p.ga;var de=p.Fa,ye=p.P,be=p.qc,Ne=p.mb,De=p.nb,xe=ye+1,Ie=be-1,Pe=ce.l;if(e(de!=null&&Ne!=null&&b!=null),$o[0]=null,$o[1]=Gt,$o[2]=xr,$o[3]=mr,ce.ca=Ne,ce.tb=De,ce.c=b.width,ce.i=b.height,e(0<ce.c&&0<ce.i),1>=be)b=0;else if(ce.$a=3&de[ye+0],ce.Z=de[ye+0]>>2&3,ce.Lc=de[ye+0]>>4&3,ye=de[ye+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ye)b=0;else if(Pe.put=kt,Pe.ac=Ln,Pe.bc=Rs,Pe.ma=ce,Pe.width=b.width,Pe.height=b.height,Pe.Da=b.Da,Pe.v=b.v,Pe.va=b.va,Pe.j=b.j,Pe.o=b.o,ce.$a)e:{e(ce.$a==1),b=aa();t:for(;;){if(b==null){b=0;break e}if(e(ce!=null),ce.mc=b,b.c=ce.c,b.i=ce.i,b.l=ce.l,b.l.ma=ce,b.l.width=ce.c,b.l.height=ce.i,b.a=0,he(b.m,de,xe,Ie),!ls(ce.c,ce.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&bi(b.s)?(ce.ic=1,de=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(de),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(ce.ic=0,b=us(b,ce.c)),!b))break t;b=1;break e}ce.mc=null,b=0}else b=Ie>=ce.c*ce.i;ce=!b}if(ce)return null;p.ga.Lc!=1?p.Ga=0:$=ae-B}e(p.ga!=null),e(B+$<=ae);e:{if(b=(de=p.ga).c,ae=de.l.o,de.$a==0){if(xe=p.rc,Ie=p.Vc,Pe=p.Fa,ye=p.P+1+B*b,be=p.mb,Ne=p.nb+B*b,e(ye<=p.P+p.qc),de.Z!=0)for(e($o[de.Z]!=null),ce=0;ce<$;++ce)$o[de.Z](xe,Ie,Pe,ye,be,Ne,b),xe=be,Ie=Ne,Ne+=b,ye+=b;else for(ce=0;ce<$;++ce)n(be,Ne,Pe,ye,b),xe=be,Ie=Ne,Ne+=b,ye+=b;p.rc=xe,p.Vc=Ie}else{if(e(de.mc!=null),b=B+$,e((ce=de.mc)!=null),e(b<=ce.i),ce.C>=b)b=1;else if(de.ic||je(),de.ic){de=ce.V,xe=ce.Ba,Ie=ce.c;var Ve=ce.i,Oe=(Pe=1,ye=ce.$/Ie,be=ce.$%Ie,Ne=ce.m,De=ce.s,ce.$),He=Ie*Ve,We=Ie*b,Ze=De.wc,Ye=Oe<We?gn(De,be,ye):null;e(Oe<=He),e(b<=Ve),e(bi(De));t:for(;;){for(;!Ne.h&&Oe<We;){if(be&Ze||(Ye=gn(De,be,ye)),e(Ye!=null),M(Ne),256>(Ve=wr(Ye.G[0],Ye.H[0],Ne)))de[xe+Oe]=Ve,++Oe,++be>=Ie&&(be=0,++ye<=b&&!(ye%16)&&si(ce,ye));else{if(!(280>Ve)){Pe=0;break t}Ve=ni(Ve-256,Ne);var xt,pt=wr(Ye.G[4],Ye.H[4],Ne);if(M(Ne),!(Oe>=(pt=ii(Ie,pt=ni(pt,Ne)))&&He-Oe>=Ve)){Pe=0;break t}for(xt=0;xt<Ve;++xt)de[xe+Oe+xt]=de[xe+Oe+xt-pt];for(Oe+=Ve,be+=Ve;be>=Ie;)be-=Ie,++ye<=b&&!(ye%16)&&si(ce,ye);Oe<We&&be&Ze&&(Ye=gn(De,be,ye))}e(Ne.h==le(Ne))}si(ce,ye>b?b:ye);break t}!Pe||Ne.h&&Oe<He?(Pe=0,ce.a=Ne.h?5:3):ce.$=Oe,b=Pe}else b=Ei(ce,ce.V,ce.Ba,ce.c,ce.i,b,qa);if(!b){$=0;break e}}B+$>=ae&&(p.Cc=1),$=1}if(!$)return null;if(p.Cc&&(($=p.ga)!=null&&($.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+B*Z}function V(p,b,B,$,Z,ae){for(;0<Z--;){var ce,de=p,ye=b+(B?1:0),be=p,Ne=b+(B?0:3);for(ce=0;ce<$;++ce){var De=be[Ne+4*ce];De!=255&&(De*=32897,de[ye+4*ce+0]=de[ye+4*ce+0]*De>>23,de[ye+4*ce+1]=de[ye+4*ce+1]*De>>23,de[ye+4*ce+2]=de[ye+4*ce+2]*De>>23)}b+=ae}}function G(p,b,B,$,Z){for(;0<$--;){var ae;for(ae=0;ae<B;++ae){var ce=p[b+2*ae+0],de=15&(be=p[b+2*ae+1]),ye=4369*de,be=(240&be|be>>4)*ye>>16;p[b+2*ae+0]=(240&ce|ce>>4)*ye>>16&240|(15&ce|ce<<4)*ye>>16>>4&15,p[b+2*ae+1]=240&be|de}b+=Z}}function pe(p,b,B,$,Z,ae,ce,de){var ye,be,Ne=255;for(be=0;be<Z;++be){for(ye=0;ye<$;++ye){var De=p[b+ye];ae[ce+4*ye]=De,Ne&=De}b+=B,ce+=de}return Ne!=255}function Re(p,b,B,$,Z){var ae;for(ae=0;ae<Z;++ae)B[$+ae]=p[b+ae]>>8}function je(){sf=V,Sb=G,Tb=pe,Nb=Re}function rt(p,b,B){E[p]=function($,Z,ae,ce,de,ye,be,Ne,De,xe,Ie,Pe,Ve,Oe,He,We,Ze){var Ye,xt=Ze-1>>1,pt=de[ye+0]|be[Ne+0]<<16,Ut=De[xe+0]|Ie[Pe+0]<<16;e($!=null);var vt=3*pt+Ut+131074>>2;for(b($[Z+0],255&vt,vt>>16,Ve,Oe),ae!=null&&(vt=3*Ut+pt+131074>>2,b(ae[ce+0],255&vt,vt>>16,He,We)),Ye=1;Ye<=xt;++Ye){var Jt=de[ye+Ye]|be[Ne+Ye]<<16,vn=De[xe+Ye]|Ie[Pe+Ye]<<16,Vt=pt+Jt+Ut+vn+524296,wt=Vt+2*(Jt+Ut)>>3;vt=wt+pt>>1,pt=(Vt=Vt+2*(pt+vn)>>3)+Jt>>1,b($[Z+2*Ye-1],255&vt,vt>>16,Ve,Oe+(2*Ye-1)*B),b($[Z+2*Ye-0],255&pt,pt>>16,Ve,Oe+(2*Ye-0)*B),ae!=null&&(vt=Vt+Ut>>1,pt=wt+vn>>1,b(ae[ce+2*Ye-1],255&vt,vt>>16,He,We+(2*Ye-1)*B),b(ae[ce+2*Ye+0],255&pt,pt>>16,He,We+(2*Ye+0)*B)),pt=Jt,Ut=vn}1&Ze||(vt=3*pt+Ut+131074>>2,b($[Z+Ze-1],255&vt,vt>>16,Ve,Oe+(Ze-1)*B),ae!=null&&(vt=3*Ut+pt+131074>>2,b(ae[ce+Ze-1],255&vt,vt>>16,He,We+(Ze-1)*B)))}}function Ot(){_s[pp]=J8,_s[mp]=Mb,_s[Lb]=Z8,_s[gp]=Bb,_s[yp]=Ub,_s[J0]=Vb,_s[Ob]=eP,_s[Z0]=Mb,_s[e1]=Bb,_s[vp]=Ub,_s[t1]=Vb}function Er(p){return p&-16384?0>p?0:255:p>>tP}function Kt(p,b){return Er((19077*p>>8)+(26149*b>>8)-14234)}function Ar(p,b,B){return Er((19077*p>>8)-(6419*b>>8)-(13320*B>>8)+8708)}function Tn(p,b){return Er((19077*p>>8)+(33050*b>>8)-17685)}function zn(p,b,B,$,Z){$[Z+0]=Kt(p,B),$[Z+1]=Ar(p,b,B),$[Z+2]=Tn(p,b)}function Sr(p,b,B,$,Z){$[Z+0]=Tn(p,b),$[Z+1]=Ar(p,b,B),$[Z+2]=Kt(p,B)}function qn(p,b,B,$,Z){var ae=Ar(p,b,B);b=ae<<3&224|Tn(p,b)>>3,$[Z+0]=248&Kt(p,B)|ae>>5,$[Z+1]=b}function gs(p,b,B,$,Z){var ae=240&Tn(p,b)|15;$[Z+0]=240&Kt(p,B)|Ar(p,b,B)>>4,$[Z+1]=ae}function Xa(p,b,B,$,Z){$[Z+0]=255,zn(p,b,B,$,Z+1)}function Xh(p,b,B,$,Z){Sr(p,b,B,$,Z),$[Z+3]=255}function hi(p,b,B,$,Z){zn(p,b,B,$,Z),$[Z+3]=255}function Ya(p,b,B){E[p]=function($,Z,ae,ce,de,ye,be,Ne,De){for(var xe=Ne+(-2&De)*B;Ne!=xe;)b($[Z+0],ae[ce+0],de[ye+0],be,Ne),b($[Z+1],ae[ce+0],de[ye+0],be,Ne+B),Z+=2,++ce,++ye,Ne+=2*B;1&De&&b($[Z+0],ae[ce+0],de[ye+0],be,Ne)}}function yc(p,b,B){return B==0?p==0?b==0?6:5:b==0?4:0:B}function cp(p,b,B,$,Z){switch(p>>>30){case 3:fu(b,B,$,Z,0);break;case 2:vs(b,B,$,Z);break;case 1:ar(b,B,$,Z)}}function ys(p,b){var B,$,Z=b.M,ae=b.Nb,ce=p.oc,de=p.pc+40,ye=p.oc,be=p.pc+584,Ne=p.oc,De=p.pc+600;for(B=0;16>B;++B)ce[de+32*B-1]=129;for(B=0;8>B;++B)ye[be+32*B-1]=129,Ne[De+32*B-1]=129;for(0<Z?ce[de-1-32]=ye[be-1-32]=Ne[De-1-32]=129:(i(ce,de-32-1,127,21),i(ye,be-32-1,127,9),i(Ne,De-32-1,127,9)),$=0;$<p.za;++$){var xe=b.ya[b.aa+$];if(0<$){for(B=-1;16>B;++B)n(ce,de+32*B-4,ce,de+32*B+12,4);for(B=-1;8>B;++B)n(ye,be+32*B-4,ye,be+32*B+4,4),n(Ne,De+32*B-4,Ne,De+32*B+4,4)}var Ie=p.Gd,Pe=p.Hd+$,Ve=xe.ad,Oe=xe.Hc;if(0<Z&&(n(ce,de-32,Ie[Pe].y,0,16),n(ye,be-32,Ie[Pe].f,0,8),n(Ne,De-32,Ie[Pe].ea,0,8)),xe.Za){var He=ce,We=de-32+16;for(0<Z&&($>=p.za-1?i(He,We,Ie[Pe].y[15],4):n(He,We,Ie[Pe+1].y,0,4)),B=0;4>B;B++)He[We+128+B]=He[We+256+B]=He[We+384+B]=He[We+0+B];for(B=0;16>B;++B,Oe<<=2)He=ce,We=de+qb[B],Fs[xe.Ob[B]](He,We),cp(Oe,Ve,16*+B,He,We)}else if(He=yc($,Z,xe.Ob[0]),Wo[He](ce,de),Oe!=0)for(B=0;16>B;++B,Oe<<=2)cp(Oe,Ve,16*+B,ce,de+qb[B]);for(B=xe.Gc,He=yc($,Z,xe.Dd),Za[He](ye,be),Za[He](Ne,De),Oe=Ve,He=ye,We=be,255&(xe=0|B)&&(170&xe?va(Oe,256,He,We):gr(Oe,256,He,We)),xe=Ne,Oe=De,255&(B>>=8)&&(170&B?va(Ve,320,xe,Oe):gr(Ve,320,xe,Oe)),Z<p.Ub-1&&(n(Ie[Pe].y,0,ce,de+480,16),n(Ie[Pe].f,0,ye,be+224,8),n(Ie[Pe].ea,0,Ne,De+224,8)),B=8*ae*p.B,Ie=p.sa,Pe=p.ta+16*$+16*ae*p.R,Ve=p.qa,xe=p.ra+8*$+B,Oe=p.Ha,He=p.Ia+8*$+B,B=0;16>B;++B)n(Ie,Pe+B*p.R,ce,de+32*B,16);for(B=0;8>B;++B)n(Ve,xe+B*p.B,ye,be+32*B,8),n(Oe,He+B*p.B,Ne,De+32*B,8)}}function uu(p,b,B,$,Z,ae,ce,de,ye){var be=[0],Ne=[0],De=0,xe=ye!=null?ye.kd:0,Ie=ye??new Xe;if(p==null||12>B)return 7;Ie.data=p,Ie.w=b,Ie.ha=B,b=[b],B=[B],Ie.gb=[Ie.gb];e:{var Pe=b,Ve=B,Oe=Ie.gb;if(e(p!=null),e(Ve!=null),e(Oe!=null),Oe[0]=0,12<=Ve[0]&&!r(p,Pe[0],"RIFF")){if(r(p,Pe[0]+8,"WEBP")){Oe=3;break e}var He=z(p,Pe[0]+4);if(12>He||4294967286<He){Oe=3;break e}if(xe&&He>Ve[0]-8){Oe=7;break e}Oe[0]=He,Pe[0]+=12,Ve[0]-=12}Oe=0}if(Oe!=0)return Oe;for(He=0<Ie.gb[0],B=B[0];;){e:{var We=p;Ve=b,Oe=B;var Ze=be,Ye=Ne,xt=Pe=[0];if((vt=De=[De])[0]=0,8>Oe[0])Oe=7;else{if(!r(We,Ve[0],"VP8X")){if(z(We,Ve[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var pt=z(We,Ve[0]+8),Ut=1+Ee(We,Ve[0]+12);if(2147483648<=Ut*(We=1+Ee(We,Ve[0]+15))){Oe=3;break e}xt!=null&&(xt[0]=pt),Ze!=null&&(Ze[0]=Ut),Ye!=null&&(Ye[0]=We),Ve[0]+=18,Oe[0]-=18,vt[0]=1}Oe=0}}if(De=De[0],Pe=Pe[0],Oe!=0)return Oe;if(Ve=!!(2&Pe),!He&&De)return 3;if(ae!=null&&(ae[0]=!!(16&Pe)),ce!=null&&(ce[0]=Ve),de!=null&&(de[0]=0),ce=be[0],Pe=Ne[0],De&&Ve&&ye==null){Oe=0;break}if(4>B){Oe=7;break}if(He&&De||!He&&!De&&!r(p,b[0],"ALPH")){B=[B],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{pt=p,Oe=b,He=B;var vt=Ie.gb;Ze=Ie.na,Ye=Ie.P,xt=Ie.Sa,Ut=22,e(pt!=null),e(He!=null),We=Oe[0];var Jt=He[0];for(e(Ze!=null),e(xt!=null),Ze[0]=null,Ye[0]=null,xt[0]=0;;){if(Oe[0]=We,He[0]=Jt,8>Jt){Oe=7;break e}var vn=z(pt,We+4);if(4294967286<vn){Oe=3;break e}var Vt=8+vn+1&-2;if(Ut+=Vt,0<vt&&Ut>vt){Oe=3;break e}if(!r(pt,We,"VP8 ")||!r(pt,We,"VP8L")){Oe=0;break e}if(Jt[0]<Vt){Oe=7;break e}r(pt,We,"ALPH")||(Ze[0]=pt,Ye[0]=We+8,xt[0]=vn),We+=Vt,Jt-=Vt}}if(B=B[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Oe!=0)break}B=[B],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(vt=p,Oe=b,He=B,Ze=Ie.gb[0],Ye=Ie.Ja,xt=Ie.xa,pt=Oe[0],We=!r(vt,pt,"VP8 "),Ut=!r(vt,pt,"VP8L"),e(vt!=null),e(He!=null),e(Ye!=null),e(xt!=null),8>He[0])Oe=7;else{if(We||Ut){if(vt=z(vt,pt+4),12<=Ze&&vt>Ze-12){Oe=3;break e}if(xe&&vt>He[0]-8){Oe=7;break e}Ye[0]=vt,Oe[0]+=8,He[0]-=8,xt[0]=Ut}else xt[0]=5<=He[0]&&vt[pt+0]==47&&!(vt[pt+4]>>5),Ye[0]=He[0];Oe=0}if(B=B[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],b=b[0],Oe!=0)break;if(4294967286<Ie.Ja)return 3;if(de==null||Ve||(de[0]=Ie.xa?2:1),ce=[ce],Pe=[Pe],Ie.xa){if(5>B){Oe=7;break}de=ce,xe=Pe,Ve=ae,p==null||5>B?p=0:5<=B&&p[b+0]==47&&!(p[b+4]>>5)?(He=[0],vt=[0],Ze=[0],he(Ye=new X,p,b,B),_i(Ye,He,vt,Ze)?(de!=null&&(de[0]=He[0]),xe!=null&&(xe[0]=vt[0]),Ve!=null&&(Ve[0]=Ze[0]),p=1):p=0):p=0}else{if(10>B){Oe=7;break}de=Pe,p==null||10>B||!la(p,b+3,B-3)?p=0:(xe=p[b+0]|p[b+1]<<8|p[b+2]<<16,Ve=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=Ie.Ja||!Ve||!p?p=0:(ce&&(ce[0]=Ve),de&&(de[0]=p),p=1))}if(!p||(ce=ce[0],Pe=Pe[0],De&&(be[0]!=ce||Ne[0]!=Pe)))return 3;ye!=null&&(ye[0]=Ie,ye.offset=b-ye.w,e(4294967286>b-ye.w),e(ye.offset==ye.ha-B));break}return Oe==0||Oe==7&&De&&ye==null?(ae!=null&&(ae[0]|=Ie.na!=null&&0<Ie.na.length),$!=null&&($[0]=ce),Z!=null&&(Z[0]=Pe),0):Oe}function Yh(p,b,B){var $=b.width,Z=b.height,ae=0,ce=0,de=$,ye=Z;if(b.Da=p!=null&&0<p.Da,b.Da&&(de=p.cd,ye=p.bd,ae=p.v,ce=p.j,11>B||(ae&=-2,ce&=-2),0>ae||0>ce||0>=de||0>=ye||ae+de>$||ce+ye>Z))return 0;if(b.v=ae,b.j=ce,b.va=ae+de,b.o=ce+ye,b.U=de,b.T=ye,b.da=p!=null&&0<p.da,b.da){if(!k(de,ye,B=[p.ib],ae=[p.hb]))return 0;b.ib=B[0],b.hb=ae[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*$/4&&b.hb<3*Z/4,b.Kb=0),1}function Qh(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function Mo(p,b,B,$){if($==null||0>=p||0>=b)return 2;if(B!=null){if(B.Da){var Z=B.cd,ae=B.bd,ce=-2&B.v,de=-2&B.j;if(0>ce||0>de||0>=Z||0>=ae||ce+Z>p||de+ae>b)return 2;p=Z,b=ae}if(B.da){if(!k(p,b,Z=[B.ib],ae=[B.hb]))return 2;p=Z[0],b=ae[0]}}$.width=p,$.height=b;e:{var ye=$.width,be=$.height;if(p=$.S,0>=ye||0>=be||!(p>=pp&&13>p))p=2;else{if(0>=$.Rd&&$.sd==null){ce=ae=Z=b=0;var Ne=(de=ye*Hb[p])*be;if(11>p||(ae=(be+1)/2*(b=(ye+1)/2),p==12&&(ce=(Z=ye)*be)),(be=s(Ne+2*ae+ce))==null){p=1;break e}$.sd=be,11>p?((ye=$.f.RGBA).eb=be,ye.fb=0,ye.A=de,ye.size=Ne):((ye=$.f.kb).y=be,ye.O=0,ye.fa=de,ye.Fd=Ne,ye.f=be,ye.N=0+Ne,ye.Ab=b,ye.Cd=ae,ye.ea=be,ye.W=0+Ne+ae,ye.Db=b,ye.Ed=ae,p==12&&(ye.F=be,ye.J=0+Ne+2*ae),ye.Tc=ce,ye.lb=Z)}if(b=1,Z=$.S,ae=$.width,ce=$.height,Z>=pp&&13>Z)if(11>Z)p=$.f.RGBA,b&=(de=Math.abs(p.A))*(ce-1)+ae<=p.size,b&=de>=ae*Hb[Z],b&=p.eb!=null;else{p=$.f.kb,de=(ae+1)/2,Ne=(ce+1)/2,ye=Math.abs(p.fa),be=Math.abs(p.Ab);var De=Math.abs(p.Db),xe=Math.abs(p.lb),Ie=xe*(ce-1)+ae;b&=ye*(ce-1)+ae<=p.Fd,b&=be*(Ne-1)+de<=p.Cd,b=(b&=De*(Ne-1)+de<=p.Ed)&ye>=ae&be>=de&De>=de,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,Z==12&&(b&=xe>=ae,b&=Ie<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||B!=null&&B.fd&&(p=Qh($)),p}var cu=64,qi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hi=24,Bo=32,Qa=8,Uo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(p){return p},E.Predictor2=function(p,b,B){return b[B+0]},E.Predictor3=function(p,b,B){return b[B+1]},E.Predictor4=function(p,b,B){return b[B-1]},E.Predictor5=function(p,b,B){return ke(ke(p,b[B+1]),b[B+0])},E.Predictor6=function(p,b,B){return ke(p,b[B-1])},E.Predictor7=function(p,b,B){return ke(p,b[B+0])},E.Predictor8=function(p,b,B){return ke(b[B-1],b[B+0])},E.Predictor9=function(p,b,B){return ke(b[B+0],b[B+1])},E.Predictor10=function(p,b,B){return ke(ke(p,b[B-1]),ke(b[B+0],b[B+1]))},E.Predictor11=function(p,b,B){var $=b[B+0];return 0>=Ue($>>24&255,p>>24&255,(b=b[B-1])>>24&255)+Ue($>>16&255,p>>16&255,b>>16&255)+Ue($>>8&255,p>>8&255,b>>8&255)+Ue(255&$,255&p,255&b)?$:p},E.Predictor12=function(p,b,B){var $=b[B+0];return(Fe((p>>24&255)+($>>24&255)-((b=b[B-1])>>24&255))<<24|Fe((p>>16&255)+($>>16&255)-(b>>16&255))<<16|Fe((p>>8&255)+($>>8&255)-(b>>8&255))<<8|Fe((255&p)+(255&$)-(255&b)))>>>0},E.Predictor13=function(p,b,B){var $=b[B-1];return(Le((p=ke(p,b[B+0]))>>24&255,$>>24&255)<<24|Le(p>>16&255,$>>16&255)<<16|Le(p>>8&255,$>>8&255)<<8|Le(255&p,255&$))>>>0};var Jh=E.PredictorAdd0;E.PredictorAdd1=Qe,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var vc=E.PredictorAdd2;Te("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Jr,hp=E.ColorIndexInverseTransform,ga=E.MapARGB,ya=E.VP8LColorIndexInverseTransformAlpha,Zh=E.MapAlpha,ef=E.VP8LPredictorsAdd=[];ef.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var tf,rf,Vo,zo,qo,hu,Ho,fu,vs,va,ar,gr,Zr,yn,Ja,nf,wc,fp,wb,_b,bb,xb,Eb,Ab,sf,Sb,Tb,Nb,kb=s(511),Ib=s(2041),Cb=s(225),Rb=s(767),Pb=0,Q0=Ib,dp=Cb,Wi=Rb,ws=kb,pp=0,mp=1,Lb=2,gp=3,yp=4,J0=5,Ob=6,Z0=7,e1=8,vp=9,t1=10,M8=[2,3,7],B8=[3,3,11],Db=[280,256,256,256,40],U8=[0,1,1,1,0],V8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],z8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],q8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],H8=8,r1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],n1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],af=null,W8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],G8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],K8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Y8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wo=[],Fs=[],Za=[],Q8=1,Fb=2,$o=[],_s=[];rt("UpsampleRgbLinePair",zn,3),rt("UpsampleBgrLinePair",Sr,3),rt("UpsampleRgbaLinePair",hi,4),rt("UpsampleBgraLinePair",Xh,4),rt("UpsampleArgbLinePair",Xa,4),rt("UpsampleRgba4444LinePair",gs,2),rt("UpsampleRgb565LinePair",qn,2);var J8=E.UpsampleRgbLinePair,Z8=E.UpsampleBgrLinePair,Mb=E.UpsampleRgbaLinePair,Bb=E.UpsampleBgraLinePair,Ub=E.UpsampleArgbLinePair,Vb=E.UpsampleRgba4444LinePair,eP=E.UpsampleRgb565LinePair,wp=16,_p=1<<wp-1,of=-227,i1=482,tP=6,zb=0,rP=s(256),nP=s(256),iP=s(256),sP=s(256),aP=s(i1-of),oP=s(i1-of);Ya("YuvToRgbRow",zn,3),Ya("YuvToBgrRow",Sr,3),Ya("YuvToRgbaRow",hi,4),Ya("YuvToBgraRow",Xh,4),Ya("YuvToArgbRow",Xa,4),Ya("YuvToRgba4444Row",gs,2),Ya("YuvToRgb565Row",qn,2);var qb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bp=[0,2,8],lP=[8,7,6,4,4,2,2,2,1,1,1,1],uP=1;this.WebPDecodeRGBA=function(p,b,B,$,Z){var ae=mp,ce=new qe,de=new _t;ce.ba=de,de.S=ae,de.width=[de.width],de.height=[de.height];var ye=de.width,be=de.height,Ne=new bt;if(Ne==null||p==null)var De=2;else e(Ne!=null),De=uu(p,b,B,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(De!=0?ye=0:(ye!=null&&(ye[0]=Ne.width[0]),be!=null&&(be[0]=Ne.height[0]),ye=1),ye){de.width=de.width[0],de.height=de.height[0],$!=null&&($[0]=de.width),Z!=null&&(Z[0]=de.height);e:{if($=new oi,(Z=new Xe).data=p,Z.w=b,Z.ha=B,Z.kd=1,b=[0],e(Z!=null),((p=uu(Z.data,Z.w,Z.ha,null,null,null,b,null,Z))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(ce!=null),$.data=Z.data,$.w=Z.w+Z.offset,$.ha=Z.ha-Z.offset,$.put=kt,$.ac=Ln,$.bc=Rs,$.ma=ce,Z.xa){if((p=aa())==null){ce=1;break e}if(function(xe,Ie){var Pe=[0],Ve=[0],Oe=[0];t:for(;;){if(xe==null)return 0;if(Ie==null)return xe.a=2,0;if(xe.l=Ie,xe.a=0,he(xe.m,Ie.data,Ie.w,Ie.ha),!_i(xe.m,Pe,Ve,Oe)){xe.a=3;break t}if(xe.xb=Fb,Ie.width=Pe[0],Ie.height=Ve[0],!ls(Pe[0],Ve[0],1,xe,null))break t;return 1}return e(xe.a!=0),0}(p,$)){if($=(b=Mo($.width,$.height,ce.Oa,ce.ba))==0){t:{$=p;r:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((B=$.l)!=null),e((Z=B.ma)!=null),$.xb!=0){if($.ca=Z.ba,$.tb=Z.tb,e($.ca!=null),!Yh(Z.Oa,B,gp)){$.a=2;break r}if(!us($,B.width)||B.da)break r;if((B.da||At($.ca.S))&&je(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&je()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!K($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Ei($,$.V,$.Ba,$.c,$.i,B.o,Ps))break r;Z.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(b=p.a)}else b=p.a}else{if((p=new Si)==null){ce=1;break e}if(p.Fa=Z.na,p.P=Z.P,p.qc=Z.Sa,Ti(p,$)){if((b=Mo($.width,$.height,ce.Oa,ce.ba))==0){if(p.Aa=0,B=ce.Oa,e((Z=p)!=null),B!=null){if(0<(ye=0>(ye=B.Md)?0:100<ye?255:255*ye/100)){for(be=Ne=0;4>be;++be)12>(De=Z.pb[be]).lc&&(De.ia=ye*lP[0>De.lc?0:De.lc]>>3),Ne|=De.ia;Ne&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=B.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(xe,Ie){if(xe==null)return 0;if(Ie==null)return _r(xe,2,"NULL VP8Io parameter in VP8Decode().");if(!xe.cb&&!Ti(xe,Ie))return 0;if(e(xe.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(xe.L=0);var Pe=bp[xe.L];if(xe.L==2?(xe.yb=0,xe.zb=0):(xe.yb=Ie.v-Pe>>4,xe.zb=Ie.j-Pe>>4,0>xe.yb&&(xe.yb=0),0>xe.zb&&(xe.zb=0)),xe.Va=Ie.o+15+Pe>>4,xe.Hb=Ie.va+15+Pe>>4,xe.Hb>xe.za&&(xe.Hb=xe.za),xe.Va>xe.Ub&&(xe.Va=xe.Ub),0<xe.L){var Ve=xe.ed;for(Pe=0;4>Pe;++Pe){var Oe;if(xe.Qa.Cb){var He=xe.Qa.Lb[Pe];xe.Qa.Fb||(He+=Ve.Tb)}else He=Ve.Tb;for(Oe=0;1>=Oe;++Oe){var We=xe.gd[Pe][Oe],Ze=He;if(Ve.Pc&&(Ze+=Ve.vd[0],Oe&&(Ze+=Ve.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var Ye=Ze;0<Ve.wb&&(Ye=4<Ve.wb?Ye>>2:Ye>>1)>9-Ve.wb&&(Ye=9-Ve.wb),1>Ye&&(Ye=1),We.dd=Ye,We.tc=2*Ze+Ye,We.ld=40<=Ze?2:15<=Ze?1:0}else We.tc=0;We.La=Oe}}}Pe=0}else _r(xe,6,"Frame setup failed"),Pe=xe.a;if(Pe=Pe==0){if(Pe){xe.$c=0,0<xe.Aa||(xe.Ic=uP);t:{Pe=xe.Ic,Ve=4*(Ye=xe.za);var xt=32*Ye,pt=Ye+1,Ut=0<xe.L?Ye*(0<xe.Aa?2:1):0,vt=(xe.Aa==2?2:1)*Ye;if((We=Ve+832+(Oe=3*(16*Pe+bp[xe.L])/2*xt)+(He=xe.Fa!=null&&0<xe.Fa.length?xe.Kc.c*xe.Kc.i:0))!=We)Pe=0;else{if(We>xe.Vb){if(xe.Vb=0,xe.Ec=s(We),xe.Fc=0,xe.Ec==null){Pe=_r(xe,1,"no memory during frame initialization.");break t}xe.Vb=We}We=xe.Ec,Ze=xe.Fc,xe.Ac=We,xe.Bc=Ze,Ze+=Ve,xe.Gd=a(xt,ru),xe.Hd=0,xe.rb=a(pt+1,Io),xe.sb=1,xe.wa=Ut?a(Ut,ai):null,xe.Y=0,xe.D.Nb=0,xe.D.wa=xe.wa,xe.D.Y=xe.Y,0<xe.Aa&&(xe.D.Y+=Ye),e(!0),xe.oc=We,xe.pc=Ze,Ze+=832,xe.ya=a(vt,Wa),xe.aa=0,xe.D.ya=xe.ya,xe.D.aa=xe.aa,xe.Aa==2&&(xe.D.aa+=Ye),xe.R=16*Ye,xe.B=8*Ye,Ye=(xt=bp[xe.L])*xe.R,xt=xt/2*xe.B,xe.sa=We,xe.ta=Ze+Ye,xe.qa=xe.sa,xe.ra=xe.ta+16*Pe*xe.R+xt,xe.Ha=xe.qa,xe.Ia=xe.ra+8*Pe*xe.B+xt,xe.$c=0,Ze+=Oe,xe.mb=He?We:null,xe.nb=He?Ze:null,e(Ze+He<=xe.Fc+xe.Vb),$a(xe),i(xe.Ac,xe.Bc,0,Ve),Pe=1}}if(Pe){if(Ie.ka=0,Ie.y=xe.sa,Ie.O=xe.ta,Ie.f=xe.qa,Ie.N=xe.ra,Ie.ea=xe.Ha,Ie.Vd=xe.Ia,Ie.fa=xe.R,Ie.Rc=xe.B,Ie.F=null,Ie.J=0,!Pb){for(Pe=-255;255>=Pe;++Pe)kb[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)Ib[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)Cb[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)Rb[255+Pe]=0>Pe?0:255<Pe?255:Pe;Pb=1}Ho=Ni,fu=$h,va=fs,ar=uc,gr=ua,vs=Wh,Zr=lu,yn=js,Ja=J,nf=_e,wc=Fo,fp=O,wb=Se,_b=Ce,bb=pa,xb=ma,Eb=gc,Ab=ou,Fs[0]=Ka,Fs[1]=cc,Fs[2]=Po,Fs[3]=dc,Fs[4]=li,Fs[5]=su,Fs[6]=ds,Fs[7]=br,Fs[8]=au,Fs[9]=Lo,Wo[0]=Gh,Wo[1]=fc,Wo[2]=Ro,Wo[3]=Ds,Wo[4]=Ga,Wo[5]=ki,Wo[6]=Kh,Za[0]=Oo,Za[1]=hc,Za[2]=ha,Za[3]=pc,Za[4]=Do,Za[5]=Ii,Za[6]=mc,Pe=1}else Pe=0}Pe&&(Pe=function(Jt,vn){for(Jt.M=0;Jt.M<Jt.Va;++Jt.M){var Vt,wt=Jt.Jc[Jt.M&Jt.Xb],st=Jt.m,en=Jt;for(Vt=0;Vt<en.za;++Vt){var Mt=st,Zt=en,Rr=Zt.Ac,On=Zt.Bc+4*Vt,fi=Zt.zc,qr=Zt.ya[Zt.aa+Vt];if(Zt.Qa.Bb?qr.$b=te(Mt,Zt.Pa.jb[0])?2+te(Mt,Zt.Pa.jb[2]):te(Mt,Zt.Pa.jb[1]):qr.$b=0,Zt.kc&&(qr.Ad=te(Mt,Zt.Bd)),qr.Za=!te(Mt,145)+0,qr.Za){var Hn=qr.Ob,di=0;for(Zt=0;4>Zt;++Zt){var wn,tr=fi[0+Zt];for(wn=0;4>wn;++wn){tr=K8[Rr[On+wn]][tr];for(var lr=jb[te(Mt,tr[0])];0<lr;)lr=jb[2*lr+te(Mt,tr[lr])];tr=-lr,Rr[On+wn]=tr}n(Hn,di,Rr,On,4),di+=4,fi[0+Zt]=tr}}else tr=te(Mt,156)?te(Mt,128)?1:3:te(Mt,163)?2:0,qr.Ob[0]=tr,i(Rr,On,tr,4),i(fi,0,tr,4);qr.Dd=te(Mt,142)?te(Mt,114)?te(Mt,183)?1:3:2:0}if(en.m.Ka)return _r(Jt,7,"Premature end-of-partition0 encountered.");for(;Jt.ja<Jt.za;++Jt.ja){if(en=wt,Mt=(st=Jt).rb[st.sb-1],Rr=st.rb[st.sb+st.ja],Vt=st.ya[st.aa+st.ja],On=st.kc?Vt.Ad:0)Mt.la=Rr.la=0,Vt.Za||(Mt.Na=Rr.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var Hr,ur;if(Mt=Rr,Rr=en,On=st.Pa.Xc,fi=st.ya[st.aa+st.ja],qr=st.pb[fi.$b],Zt=fi.ad,Hn=0,di=st.rb[st.sb-1],tr=wn=0,i(Zt,Hn,0,384),fi.Za)var Dn=0,Ms=On[3];else{lr=s(16);var tn=Mt.Na+di.Na;if(tn=af(Rr,On[1],tn,qr.Eb,0,lr,0),Mt.Na=di.Na=(0<tn)+0,1<tn)Ho(lr,0,Zt,Hn);else{var Ci=lr[0]+3>>3;for(lr=0;256>lr;lr+=16)Zt[Hn+lr]=Ci}Dn=1,Ms=On[0]}var yr=15&Mt.la,_n=15&di.la;for(lr=0;4>lr;++lr){var $i=1&_n;for(Ci=ur=0;4>Ci;++Ci)yr=yr>>1|($i=(tn=af(Rr,Ms,tn=$i+(1&yr),qr.Sc,Dn,Zt,Hn))>Dn)<<7,ur=ur<<2|(3<tn?3:1<tn?2:Zt[Hn+0]!=0),Hn+=16;yr>>=4,_n=_n>>1|$i<<7,wn=(wn<<8|ur)>>>0}for(Ms=yr,Dn=_n>>4,Hr=0;4>Hr;Hr+=2){for(ur=0,yr=Mt.la>>4+Hr,_n=di.la>>4+Hr,lr=0;2>lr;++lr){for($i=1&_n,Ci=0;2>Ci;++Ci)tn=$i+(1&yr),yr=yr>>1|($i=0<(tn=af(Rr,On[2],tn,qr.Qc,0,Zt,Hn)))<<3,ur=ur<<2|(3<tn?3:1<tn?2:Zt[Hn+0]!=0),Hn+=16;yr>>=2,_n=_n>>1|$i<<5}tr|=ur<<4*Hr,Ms|=yr<<4<<Hr,Dn|=(240&_n)<<Hr}Mt.la=Ms,di.la=Dn,fi.Hc=wn,fi.Gc=tr,fi.ia=43690&tr?0:qr.ia,On=!(wn|tr)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Vt.$b][Vt.Za],st.wa[st.Y+st.ja].La|=!On),en.Ka)return _r(Jt,7,"Premature end-of-file encountered.")}if($a(Jt),st=vn,en=1,Vt=(wt=Jt).D,Mt=0<wt.L&&wt.M>=wt.zb&&wt.M<=wt.Va,wt.Aa==0)t:{if(Vt.M=wt.M,Vt.uc=Mt,ys(wt,Vt),en=1,Vt=(ur=wt.D).Nb,Mt=(tr=bp[wt.L])*wt.R,Rr=tr/2*wt.B,lr=16*Vt*wt.R,Ci=8*Vt*wt.B,On=wt.sa,fi=wt.ta-Mt+lr,qr=wt.qa,Zt=wt.ra-Rr+Ci,Hn=wt.Ha,di=wt.Ia-Rr+Ci,_n=(yr=ur.M)==0,wn=yr>=wt.Va-1,wt.Aa==2&&ys(wt,ur),ur.uc)for($i=(tn=wt).D.M,e(tn.D.uc),ur=tn.yb;ur<tn.Hb;++ur){Dn=ur,Ms=$i;var pi=(Gi=(jn=tn).D).Nb;Hr=jn.R;var Gi=Gi.wa[Gi.Y+Dn],Ki=jn.sa,Ri=jn.ta+16*pi*Hr+16*Dn,Xi=Gi.dd,Tr=Gi.tc;if(Tr!=0)if(e(3<=Tr),jn.L==1)0<Dn&&xb(Ki,Ri,Hr,Tr+4),Gi.La&&Ab(Ki,Ri,Hr,Tr),0<Ms&&bb(Ki,Ri,Hr,Tr+4),Gi.La&&Eb(Ki,Ri,Hr,Tr);else{var Yi=jn.B,Bs=jn.qa,du=jn.ra+8*pi*Yi+8*Dn,eo=jn.Ha,jn=jn.Ia+8*pi*Yi+8*Dn;pi=Gi.ld,0<Dn&&(yn(Ki,Ri,Hr,Tr+4,Xi,pi),nf(Bs,du,eo,jn,Yi,Tr+4,Xi,pi)),Gi.La&&(fp(Ki,Ri,Hr,Tr,Xi,pi),_b(Bs,du,eo,jn,Yi,Tr,Xi,pi)),0<Ms&&(Zr(Ki,Ri,Hr,Tr+4,Xi,pi),Ja(Bs,du,eo,jn,Yi,Tr+4,Xi,pi)),Gi.La&&(wc(Ki,Ri,Hr,Tr,Xi,pi),wb(Bs,du,eo,jn,Yi,Tr,Xi,pi))}}if(wt.ia&&alert("todo:DitherRow"),st.put!=null){if(ur=16*yr,yr=16*(yr+1),_n?(st.y=wt.sa,st.O=wt.ta+lr,st.f=wt.qa,st.N=wt.ra+Ci,st.ea=wt.Ha,st.W=wt.Ia+Ci):(ur-=tr,st.y=On,st.O=fi,st.f=qr,st.N=Zt,st.ea=Hn,st.W=di),wn||(yr-=tr),yr>st.o&&(yr=st.o),st.F=null,st.J=null,wt.Fa!=null&&0<wt.Fa.length&&ur<yr&&(st.J=g(wt,st,ur,yr-ur),st.F=wt.mb,st.F==null&&st.F.length==0)){en=_r(wt,3,"Could not decode alpha data.");break t}ur<st.j&&(tr=st.j-ur,ur=st.j,e(!(1&tr)),st.O+=wt.R*tr,st.N+=wt.B*(tr>>1),st.W+=wt.B*(tr>>1),st.F!=null&&(st.J+=st.width*tr)),ur<yr&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=ur-st.j,st.U=st.va-st.v,st.T=yr-ur,en=st.put(st))}Vt+1!=wt.Ic||wn||(n(wt.sa,wt.ta-Mt,On,fi+16*wt.R,Mt),n(wt.qa,wt.ra-Rr,qr,Zt+8*wt.B,Rr),n(wt.Ha,wt.Ia-Rr,Hn,di+8*wt.B,Rr))}if(!en)return _r(Jt,6,"Output aborted.")}return 1}(xe,Ie)),Ie.bc!=null&&Ie.bc(Ie),Pe&=1}return Pe?(xe.cb=0,Pe):0})(p,$)||(b=p.a)}}else b=p.a}b==0&&ce.Oa!=null&&ce.Oa.fd&&(b=Qh(ce.ba))}ce=b}ae=ce!=0?null:11>ae?de.f.RGBA.eb:de.f.kb.y}else ae=null;return ae};var Hb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,H){for(var j="",T=0;T<4;T++)j+=String.fromCharCode(E[H++]);return j}function c(E,H){return E[H+0]|E[H+1]<<8}function f(E,H){return(E[H+0]|E[H+1]<<8|E[H+2]<<16)>>>0}function m(E,H){return(E[H+0]|E[H+1]<<8|E[H+2]<<16|E[H+3]<<24)>>>0}new l;var h=[0],x=[0],_=[],A=new l,d=t,y=function(E,H){var j={},T=0,L=!1,C=0,ie=0;if(j.frames=[],!function(D,X){for(var Q=0;Q<4;Q++)if(D[X+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(E,H)){for(m(E,H+=4),H+=8;H<E.length;){var ve=u(E,H),se=m(E,H+=4);H+=4;var oe=se+(1&se);switch(ve){case"VP8 ":case"VP8L":j.frames[T]===void 0&&(j.frames[T]={}),(fe=j.frames[T]).src_off=L?ie:H-8,fe.src_size=C+se+8,T++,L&&(L=!1,C=0,ie=0);break;case"VP8X":(fe=j.header={}).feature_flags=E[H];var he=H+4;fe.canvas_width=1+f(E,he),he+=3,fe.canvas_height=1+f(E,he),he+=3;break;case"ALPH":L=!0,C=oe+8,ie=H-8;break;case"ANIM":(fe=j.header).bgcolor=m(E,H),he=H+4,fe.loop_count=c(E,he),he+=2;break;case"ANMF":var Ae,fe;(fe=j.frames[T]={}).offset_x=2*f(E,H),H+=3,fe.offset_y=2*f(E,H),H+=3,fe.width=1+f(E,H),H+=3,fe.height=1+f(E,H),H+=3,fe.duration=f(E,H),H+=3,Ae=E[H++],fe.dispose=1&Ae,fe.blend=Ae>>1&1}ve!="ANMF"&&(H+=oe)}return j}}(d,0);y.response=d,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,w=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],x=[v.canvas_width];for(var I=0;I<w.length&&w[I].blend!=0;I++);}var q=w[0],R=A.WebPDecodeRGBA(d,q.src_off,q.src_size,x,h);q.rgba=R,q.imgwidth=x[0],q.imgheight=h[0];for(var P=0;P<x[0]*h[0]*4;P++)_[P]=R[P];return this.width=x,this.height=h,this.data=_,this}(function(t){var e,r,n,i,s,a,o,l,u,c=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new a,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new a,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=D;Object.defineProperty(this,"pdf",{get:function(){return X}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(K){Q=!!K}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(K){le=!!K}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(K){isNaN(K)||(ee=K)}});var M=0;Object.defineProperty(this,"posY",{get:function(){return M},set:function(K){isNaN(K)||(M=K)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(K){var W;typeof K=="number"?W=[K,K,K,K]:((W=new Array(4))[0]=K[0],W[1]=K.length>=2?K[1]:W[0],W[2]=K.length>=3?K[2]:W[0],W[3]=K.length>=4?K[3]:W[1]),u.margin=W}});var U=!1;Object.defineProperty(this,"autoPaging",{get:function(){return U},set:function(K){U=K}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(K){ne=K}});var te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return te},set:function(K){te=K}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(K){K instanceof c&&(u=K)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(K){u.path=K}});var Y=[];Object.defineProperty(this,"ctxStack",{get:function(){return Y},set:function(K){Y=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var W;W=m(K),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var W=m(K);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var re=null,Ee=null,z=null;Object.defineProperty(this,"fontFaces",{get:function(){return z},set:function(K){re=null,Ee=null,z=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var W;if(this.ctx.font=K,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var N=W[1];W[2];var k=W[3],F=W[4];W[5];var ue=W[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(F)[2];F=Math.floor(we==="px"?parseFloat(F)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(F)*this.pdf.getFontSize():parseFloat(F)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(F);var ge=function(Te){var Me,et,at=[],ct=Te.trim();if(ct==="")return o2;if(ct in m6)return[m6[ct]];for(;ct!=="";){switch(et=null,Me=(ct=y6(ct)).charAt(0)){case'"':case"'":et=aQ(ct.substring(1),Me);break;default:et=oQ(ct)}if(et===null||(at.push(et[0]),(ct=y6(et[1]))!==""&&ct.charAt(0)!==","))return o2;ct=ct.replace(/^,/,"")}return at}(ue);if(this.fontFaces){var ke=function(Te,Me){var et=Te.getFontList(),at=JSON.stringify(et);if(re===null||Ee!==at){var ct=function(ot){var lt=[];return Object.keys(ot).forEach(function(Bt){ot[Bt].forEach(function(At){var Nt=null;switch(At){case"bold":Nt={family:Bt,weight:"bold"};break;case"italic":Nt={family:Bt,style:"italic"};break;case"bolditalic":Nt={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:Bt}}Nt!==null&&(Nt.ref={name:Bt,style:At},lt.push(Nt))})}),lt}(et);re=function(ot){for(var lt={},Bt=0;Bt<ot.length;++Bt){var At=a2(ot[Bt]),Nt=At.family,nr=At.stretch,_t=At.style,bt=At.weight;lt[Nt]=lt[Nt]||{},lt[Nt][nr]=lt[Nt][nr]||{},lt[Nt][nr][_t]=lt[Nt][nr][_t]||{},lt[Nt][nr][_t][bt]=At}return lt}(ct.concat(Me)),Ee=at}return re}(this.pdf,this.fontFaces),Fe=ge.map(function(Te){return{family:Te,stretch:"normal",weight:k,style:N}}),Le=function(Te,Me,et){for(var at=(et=et||{}).defaultFontFamily||"times",ct=Object.assign({},sQ,et.genericFontFamilies||{}),ot=null,lt=null,Bt=0;Bt<Me.length;++Bt)if(ct[(ot=a2(Me[Bt])).family]&&(ot.family=ct[ot.family]),Te.hasOwnProperty(ot.family)){lt=Te[ot.family];break}if(!(lt=lt||Te[at]))throw new Error("Could not find a font-family for the rule '"+g6(ot)+"' and default family '"+at+"'.");if(lt=function(At,Nt){if(Nt[At])return Nt[At];var nr=t5[At],_t=nr<=t5.normal?-1:1,bt=p6(Nt,L8,nr,_t);if(!bt)throw new Error("Could not find a matching font-stretch value for "+At);return bt}(ot.stretch,lt),lt=function(At,Nt){if(Nt[At])return Nt[At];for(var nr=P8[At],_t=0;_t<nr.length;++_t)if(Nt[nr[_t]])return Nt[nr[_t]];throw new Error("Could not find a matching font-style for "+At)}(ot.style,lt),!(lt=function(At,Nt){if(Nt[At])return Nt[At];if(At===400&&Nt[500])return Nt[500];if(At===500&&Nt[400])return Nt[400];var nr=iQ[At],_t=p6(Nt,O8,nr,At<400?-1:1);if(!_t)throw new Error("Could not find a matching font-weight for value "+At);return _t}(ot.weight,lt)))throw new Error("Failed to resolve a font for the rule '"+g6(ot)+"'.");return lt}(ke,Fe);this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var Ue="";(k==="bold"||parseInt(k,10)>=700||N==="bold")&&(Ue="bold"),N==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var Qe="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<ge.length;it++){if(this.pdf.internal.getFont(ge[it],Ue,{noFallback:!0,disableWarning:!0})!==void 0){Qe=ge[it];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(ge[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=ge[it],Ue="bold";else if(this.pdf.internal.getFont(ge[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=ge[it],Ue="normal";break}}if(Qe===""){for(var me=0;me<ge.length;me++)if(nt[ge[me]]){Qe=nt[ge[me]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,X){if(isNaN(D)||isNaN(X))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(D,X)},f.prototype.closePath=function(){var D=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&hr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){D=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(D.x,D.y)},f.prototype.lineTo=function(D,X){if(isNaN(D)||isNaN(X))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,X,Q,le){if(isNaN(Q)||isNaN(le)||isNaN(D)||isNaN(X))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(Q,le)),M=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"qct",x1:M.x,y1:M.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},f.prototype.bezierCurveTo=function(D,X,Q,le,ee,M){if(isNaN(ee)||isNaN(M)||isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var U=this.ctx.transform.applyToPoint(new a(ee,M)),ne=this.ctx.transform.applyToPoint(new a(D,X)),te=this.ctx.transform.applyToPoint(new a(Q,le));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:te.x,y2:te.y,x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},f.prototype.arc=function(D,X,Q,le,ee,M){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le)||isNaN(ee))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(M=!!M,!this.ctx.transform.isIdentity){var U=this.ctx.transform.applyToPoint(new a(D,X));D=U.x,X=U.y;var ne=this.ctx.transform.applyToPoint(new a(0,Q)),te=this.ctx.transform.applyToPoint(new a(0,0));Q=Math.sqrt(Math.pow(ne.x-te.x,2)+Math.pow(ne.y-te.y,2))}Math.abs(ee-le)>=2*Math.PI&&(le=0,ee=2*Math.PI),this.path.push({type:"arc",x:D,y:X,radius:Q,startAngle:le,endAngle:ee,counterclockwise:M})},f.prototype.arcTo=function(D,X,Q,le,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,X,Q,le){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,X),this.lineTo(D+Q,X),this.lineTo(D+Q,X+le),this.lineTo(D,X+le),this.lineTo(D,X),this.lineTo(D+Q,X),this.lineTo(D,X)},f.prototype.fillRect=function(D,X,Q,le){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,X,Q,le),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(D,X,Q,le){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,X,Q,le),this.stroke())},f.prototype.clearRect=function(D,X,Q,le){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,X,Q,le))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(X),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var X,Q,le,ee;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))X=0,Q=0,le=0,ee=0;else{var M=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(M!==null)X=parseInt(M[1]),Q=parseInt(M[2]),le=parseInt(M[3]),ee=1;else if((M=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)X=parseInt(M[1]),Q=parseInt(M[2]),le=parseInt(M[3]),ee=parseFloat(M[4]);else{if(ee=1,typeof D=="string"&&D.charAt(0)!=="#"){var U=new S8(D);D=U.ok?U.toHex():"#000000"}D.length===4?(X=D.substring(1,2),X+=X,Q=D.substring(2,3),Q+=Q,le=D.substring(3,4),le+=le):(X=D.substring(1,3),Q=D.substring(3,5),le=D.substring(5,7)),X=parseInt(X,16),Q=parseInt(Q,16),le=parseInt(le,16)}}return{r:X,g:Q,b:le,a:ee,style:D}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,X,Q,le){if(isNaN(X)||isNaN(Q)||typeof D!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!h.call(this)){var ee=oe(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;T.call(this,{text:D,x:X,y:Q,scale:M,angle:ee,align:this.textAlign,maxWidth:le})}},f.prototype.strokeText=function(D,X,Q,le){if(isNaN(X)||isNaN(Q)||typeof D!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){le=isNaN(le)?void 0:le;var ee=oe(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;T.call(this,{text:D,x:X,y:Q,scale:M,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:le})}},f.prototype.measureText=function(D){if(typeof D!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Q=this.pdf.internal.scaleFactor,le=X.internal.getFontSize(),ee=X.getStringUnitWidth(D)*le/X.internal.scaleFactor;return new function(M){var U=(M=M||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return U}}),this}({width:ee*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(D,X){if(isNaN(D)||isNaN(X))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(D,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(D){if(isNaN(D))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(D,X){if(isNaN(D)||isNaN(X))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,D,X);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(D,X,Q,le,ee,M){if(isNaN(D)||isNaN(X)||isNaN(Q)||isNaN(le)||isNaN(ee)||isNaN(M))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var U=new l(D,X,Q,le,ee,M);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.setTransform=function(D,X,Q,le,ee,M){D=isNaN(D)?1:D,X=isNaN(X)?0:X,Q=isNaN(Q)?0:Q,le=isNaN(le)?1:le,ee=isNaN(ee)?0:ee,M=isNaN(M)?0:M,this.ctx.transform=new l(D,X,Q,le,ee,M)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,X,Q,le,ee,M,U,ne,te){var Y=this.pdf.getImageProperties(D),re=1,Ee=1,z=1,K=1;le!==void 0&&ne!==void 0&&(z=ne/le,K=te/ee,re=Y.width/le*ne/le,Ee=Y.height/ee*te/ee),M===void 0&&(M=X,U=Q,X=0,Q=0),le!==void 0&&ne===void 0&&(ne=le,te=ee),le===void 0&&ne===void 0&&(ne=Y.width,te=Y.height);var W=this.ctx.transform.decompose(),N=oe(W.rotate.shx),k=new l,F=(k=(k=(k=k.multiply(W.translate)).multiply(W.skew)).multiply(W.scale)).applyToRectangle(new o(M-X*z,U-Q*K,le*re,ee*Ee));if(this.autoPaging){for(var ue,we=A.call(this,F),ge=[],ke=0;ke<we.length;ke+=1)ge.indexOf(we[ke])===-1&&ge.push(we[ke]);v(ge);for(var Fe=ge[0],Le=ge[ge.length-1],Ue=Fe;Ue<Le+1;Ue++){this.pdf.setPage(Ue);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Ue===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=Ue===1?0:it+(Ue-2)*me;if(this.ctx.clip_path.length!==0){var Me=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-Te+nt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Me}var et=JSON.parse(JSON.stringify(F));et=y([et],this.posX+this.margin[3],-Te+nt+this.ctx.prevPageLastElemOffset)[0];var at=(Ue>Fe||Ue<Le)&&_.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,me,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",et.x,et.y,et.w,et.h,null,null,N),at&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",F.x,F.y,F.w,F.h,null,null,N)};var A=function(D,X,Q){var le=[];X=X||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":le.push(Math.floor((D.y+ee)/Q)+1);break;case"arc":le.push(Math.floor((D.y+ee-D.radius)/Q)+1),le.push(Math.floor((D.y+ee+D.radius)/Q)+1);break;case"qct":var M=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);le.push(Math.floor((M.y+ee)/Q)+1),le.push(Math.floor((M.y+M.h+ee)/Q)+1);break;case"bct":var U=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);le.push(Math.floor((U.y+ee)/Q)+1),le.push(Math.floor((U.y+U.h+ee)/Q)+1);break;case"rect":le.push(Math.floor((D.y+ee)/Q)+1),le.push(Math.floor((D.y+D.h+ee)/Q)+1)}for(var ne=0;ne<le.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<le[ne];)d.call(this);return le},d=function(){var D=this.fillStyle,X=this.strokeStyle,Q=this.font,le=this.lineCap,ee=this.lineWidth,M=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=X,this.font=Q,this.lineCap=le,this.lineWidth=ee,this.lineJoin=M},y=function(D,X,Q){for(var le=0;le<D.length;le++)switch(D[le].type){case"bct":D[le].x2+=X,D[le].y2+=Q;case"qct":D[le].x1+=X,D[le].y1+=Q;default:D[le].x+=X,D[le].y+=Q}return D},v=function(D){return D.sort(function(X,Q){return X-Q})},w=function(D,X){var Q=this.fillStyle,le=this.strokeStyle,ee=this.lineCap,M=this.lineWidth,U=Math.abs(M*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var te,Y,re=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),z=[],K=0;K<Ee.length;K++)if(Ee[K].x!==void 0)for(var W=A.call(this,Ee[K]),N=0;N<W.length;N+=1)z.indexOf(W[N])===-1&&z.push(W[N]);for(var k=0;k<z.length;k++)for(;this.pdf.internal.getNumberOfPages()<z[k];)d.call(this);v(z);for(var F=z[0],ue=z[z.length-1],we=F;we<ue+1;we++){this.pdf.setPage(we),this.fillStyle=Q,this.strokeStyle=le,this.lineCap=ee,this.lineWidth=U,this.lineJoin=ne;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=we===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=we===1?0:Fe+(we-2)*Le;if(this.ctx.clip_path.length!==0){var Qe=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-Ue+ke+this.ctx.prevPageLastElemOffset),I.call(this,D,!0),this.path=Qe}if(Y=JSON.parse(JSON.stringify(re)),this.path=y(Y,this.posX+this.margin[3],-Ue+ke+this.ctx.prevPageLastElemOffset),X===!1||we===0){var nt=(we>F||we<ue)&&_.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Le,null).clip().discardPath()),I.call(this,D,X),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=M}this.path=re}else this.lineWidth=U,I.call(this,D,X),this.lineWidth=M},I=function(D,X){if((D!=="stroke"||X||!x.call(this))&&(D==="stroke"||X||!h.call(this))){for(var Q,le,ee=[],M=this.path,U=0;U<M.length;U++){var ne=M[U];switch(ne.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ne,deltas:[],abs:[]});break;case"lt":var te=ee.length;if(M[U-1]&&!isNaN(M[U-1].x)&&(Q=[ne.x-M[U-1].x,ne.y-M[U-1].y],te>0)){for(;te>=0;te--)if(ee[te-1].close!==!0&&ee[te-1].begin!==!0){ee[te-1].deltas.push(Q),ee[te-1].abs.push(ne);break}}break;case"bct":Q=[ne.x1-M[U-1].x,ne.y1-M[U-1].y,ne.x2-M[U-1].x,ne.y2-M[U-1].y,ne.x-M[U-1].x,ne.y-M[U-1].y],ee[ee.length-1].deltas.push(Q);break;case"qct":var Y=M[U-1].x+2/3*(ne.x1-M[U-1].x),re=M[U-1].y+2/3*(ne.y1-M[U-1].y),Ee=ne.x+2/3*(ne.x1-ne.x),z=ne.y+2/3*(ne.y1-ne.y),K=ne.x,W=ne.y;Q=[Y-M[U-1].x,re-M[U-1].y,Ee-M[U-1].x,z-M[U-1].y,K-M[U-1].x,W-M[U-1].y],ee[ee.length-1].deltas.push(Q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ne)}}le=X?null:D==="stroke"?"stroke":"fill";for(var N=!1,k=0;k<ee.length;k++)if(ee[k].arc)for(var F=ee[k].abs,ue=0;ue<F.length;ue++){var we=F[ue];we.type==="arc"?P.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,X,!N):L.call(this,we.x,we.y),N=!0}else if(ee[k].close===!0)this.pdf.internal.out("h"),N=!1;else if(ee[k].begin!==!0){var ge=ee[k].start.x,ke=ee[k].start.y;C.call(this,ee[k].deltas,ge,ke),N=!0}le&&E.call(this,le),X&&H.call(this)}},q=function(D){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+X-Q;case"hanging":return D+X-2*Q;case"middle":return D+X/2-Q;default:return D}},R=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(X,Q){this.colorStops.push([X,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(D,X,Q,le,ee,M,U,ne,te){for(var Y=ve.call(this,Q,le,ee,M),re=0;re<Y.length;re++){var Ee=Y[re];re===0&&(te?j.call(this,Ee.x1+D,Ee.y1+X):L.call(this,Ee.x1+D,Ee.y1+X)),ie.call(this,D,X,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ne?H.call(this):E.call(this,U)},E=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(D,X){this.pdf.internal.out(r(D)+" "+n(X)+" m")},T=function(D){var X;switch(D.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Q,le,ee,M=this.pdf.getTextDimensions(D.text),U=q.call(this,D.y),ne=R.call(this,U)-M.h,te=this.ctx.transform.applyToPoint(new a(D.x,U));if(this.autoPaging){var Y=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale);for(var Ee=this.ctx.transform.applyToRectangle(new o(D.x,U,M.w,M.h)),z=re.applyToRectangle(new o(D.x,ne,M.w,M.h)),K=A.call(this,z),W=[],N=0;N<K.length;N+=1)W.indexOf(K[N])===-1&&W.push(K[N]);v(W);for(var k=W[0],F=W[W.length-1],ue=k;ue<F+1;ue++){this.pdf.setPage(ue);var we=ue===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],Fe=ke-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Ue=Le-this.margin[3],Qe=ue===1?0:ge+(ue-2)*Fe;if(this.ctx.clip_path.length!==0){var nt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-1*Qe+we),I.call(this,"fill",!0),this.path=nt}var it=y([JSON.parse(JSON.stringify(z))],this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*D.scale),ee=this.lineWidth,this.lineWidth=ee*D.scale);var me=this.autoPaging!=="text";if(me||it.y+it.h<=ke){if(me||it.y>=we&&it.x<=Le){var Te=me?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Le-it.x)[0],Me=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset)[0],et=me&&(ue>k||ue<F)&&_.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Fe,null).clip().discardPath()),this.pdf.text(Te,Me.x,Me.y,{angle:D.angle,align:X,renderingMode:D.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else it.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-it.y);D.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ee)}}else D.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*D.scale),ee=this.lineWidth,this.lineWidth=ee*D.scale),this.pdf.text(D.text,te.x+this.posX,te.y+this.posY,{angle:D.angle,align:X,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ee)},L=function(D,X,Q,le){Q=Q||0,le=le||0,this.pdf.internal.out(r(D+Q)+" "+n(X+le)+" l")},C=function(D,X,Q){return this.pdf.lines(D,X,Q,null,null)},ie=function(D,X,Q,le,ee,M,U,ne){this.pdf.internal.out([e(i(Q+D)),e(s(le+X)),e(i(ee+D)),e(s(M+X)),e(i(U+D)),e(s(ne+X)),"c"].join(" "))},ve=function(D,X,Q,le){for(var ee=2*Math.PI,M=Math.PI/2;X>Q;)X-=ee;var U=Math.abs(Q-X);U<ee&&le&&(U=ee-U);for(var ne=[],te=le?-1:1,Y=X;U>1e-5;){var re=Y+te*Math.min(U,M);ne.push(se.call(this,D,Y,re)),U-=Math.abs(re-Y),Y=re}return ne},se=function(D,X,Q){var le=(Q-X)/2,ee=D*Math.cos(le),M=D*Math.sin(le),U=ee,ne=-M,te=U*U+ne*ne,Y=te+U*ee+ne*M,re=4/3*(Math.sqrt(2*te*Y)-Y)/(U*M-ne*ee),Ee=U-re*ne,z=ne+re*U,K=Ee,W=-z,N=le+X,k=Math.cos(N),F=Math.sin(N);return{x1:D*Math.cos(X),y1:D*Math.sin(X),x2:Ee*k-z*F,y2:Ee*F+z*k,x3:K*k-W*F,y3:K*F+W*k,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},oe=function(D){return 180*D/Math.PI},he=function(D,X,Q,le,ee,M){var U=D+.5*(Q-D),ne=X+.5*(le-X),te=ee+.5*(Q-ee),Y=M+.5*(le-M),re=Math.min(D,ee,U,te),Ee=Math.max(D,ee,U,te),z=Math.min(X,M,ne,Y),K=Math.max(X,M,ne,Y);return new o(re,z,Ee-re,K-z)},Ae=function(D,X,Q,le,ee,M,U,ne){var te,Y,re,Ee,z,K,W,N,k,F,ue,we,ge,ke,Fe=Q-D,Le=le-X,Ue=ee-Q,Qe=M-le,nt=U-ee,it=ne-M;for(Y=0;Y<41;Y++)k=(W=(re=D+(te=Y/40)*Fe)+te*((z=Q+te*Ue)-re))+te*(z+te*(ee+te*nt-z)-W),F=(N=(Ee=X+te*Le)+te*((K=le+te*Qe)-Ee))+te*(K+te*(M+te*it-K)-N),Y==0?(ue=k,we=F,ge=k,ke=F):(ue=Math.min(ue,k),we=Math.min(we,F),ge=Math.max(ge,k),ke=Math.max(ke,F));return new o(Math.round(ue),Math.round(we),Math.round(ge-ue),Math.round(ke-we))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,X,Q=(D=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:X}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Et.API),function(t){var e=function(a){var o,l,u,c,f,m,h,x,_,A;for(l=[],u=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(A=f%85))/85)-(_=f%85))/85)-(x=f%85))/85)-(h=f%85))/85)%85,l.push(m+33,h+33,x+33,_+33,A+33)):l.push(122);return function(d,y){for(var v=y;v>0;v--)d.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,c,f,m=String,h="length",x=255,_="charCodeAt",A="slice",d="replace";for(a[A](-2),a=a[A](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),u=[],c=0,f=(a+=o="uuuuu"[A](a[h]%5||5))[h];f>c;c+=5)l=52200625*(a[_](c)-33)+614125*(a[_](c+1)-33)+7225*(a[_](c+2)-33)+85*(a[_](c+3)-33)+(a[_](c+4)-33),u.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(y,v){for(var w=v;w>0;w--)y.pop()}(u,o[h]),m.fromCharCode.apply(m,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=Kw(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(Et.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var f=new XMLHttpRequest,m=0,h=function(x){var _=x.length,A=[],d=String.fromCharCode;for(m=0;m<_;m+=1)A.push(d(255&x.charCodeAt(m)));return A.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Et.API),function(t){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):$f(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):$f(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=hr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var x=c[h],_=x.src.find(function(A){return A.format==="truetype"});_&&u.addFont(_.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,c),m}).then(c,f).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:a.convert(Object.assign({},c),Promise.prototype),m=u.call(f,o,l);return a.convert(m,c.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Et.getPageSize=function(o,l,u){if(hr(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var x,_=0,A=0;if(h.hasOwnProperty(m))_=h[m][1]/f,A=h[m][0]/f;else try{_=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",A>_&&(x=A,A=_,_=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>A&&(x=A,A=_,_=x)}return{width:A,height:_,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(a2):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(Et.API),Et.API.addJS=function(t){return w6=t,this.internal.events.subscribe("postPutResources",function(){wm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wm!==void 0&&v6!==void 0&&this.internal.out("/Names <</JavaScript "+wm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var f=r.internal.newObject();c.push(f);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Et.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,_={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=h,e.indexOf(f.charCodeAt(A+1))!==-1){m=256*f.charCodeAt(A+5)+f.charCodeAt(A+6),_={width:256*f.charCodeAt(A+7)+f.charCodeAt(A+8),height:m,numcomponents:f.charCodeAt(A+9)};break}h=256*f.charCodeAt(A+2)+f.charCodeAt(A+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(Et.API),Et.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=HY(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(P){for(var E=P.width,H=P.height,j=P.data,T=P.palette,L=P.depth,C=!1,ie=[],ve=[],se=void 0,oe=!1,he=0,Ae=0;Ae<T.length;Ae++){var fe=ES(T[Ae],4),D=fe[0],X=fe[1],Q=fe[2],le=fe[3];ie.push(D,X,Q),le!=null&&(le===0?(he++,ve.length<1&&ve.push(Ae)):le<255&&(oe=!0))}if(oe||he>1){C=!0,ve=void 0;var ee=E*H;se=new Uint8Array(ee);for(var M=new DataView(j.buffer),U=0;U<ee;U++){var ne=l2(M,U,L),te=ES(T[ne],4)[3];se[U]=te}}else he===0&&(ve=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:C?8:void 0,colorBytes:j,alphaBytes:se,needSMask:C,palette:ie,mask:ve}}(s):l===2||l===4?function(P){for(var E=P.data,H=P.width,j=P.height,T=P.channels,L=P.depth,C=T===2?"DeviceGray":"DeviceRGB",ie=T-1,ve=H*j,se=ie,oe=ve*se,he=1*ve,Ae=Math.ceil(oe*L/8),fe=Math.ceil(he*L/8),D=new Uint8Array(Ae),X=new Uint8Array(fe),Q=new DataView(E.buffer),le=new DataView(D.buffer),ee=new DataView(X.buffer),M=!1,U=0;U<ve;U++){for(var ne=U*T,te=0;te<se;te++)k6(le,l2(Q,ne+te,L),U*se+te,L);var Y=l2(Q,ne+se,L);Y<(1<<L)-1&&(M=!0),k6(ee,Y,1*U,L)}return{colorSpace:C,colorsPerPixel:ie,sMaskBitsPerComponent:M?L:void 0,colorBytes:D,alphaBytes:X,needSMask:M}}(s):function(P){var E=P.data,H=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(j){for(var T=j.length,L=new Uint8Array(2*T),C=new DataView(L.buffer,L.byteOffset,L.byteLength),ie=0;ie<T;ie++)C.setUint16(2*ie,j[ie],!1);return L}(E):E,needSMask:!1}}(s);var f,m,h,x=i,_=x.colorSpace,A=x.colorsPerPixel,d=x.sMaskBitsPerComponent,y=x.colorBytes,v=x.alphaBytes,w=x.needSMask,I=x.palette,q=x.mask,R=null;return n!==Et.API.image_compression.NONE&&typeof Kw=="function"?(R=function(P){var E;switch(P){case Et.API.image_compression.FAST:E=11;break;case Et.API.image_compression.MEDIUM:E=13;break;case Et.API.image_compression.SLOW:E=14;break;default:E=12}return E}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(R," /Colors ").concat(A," /BitsPerComponent ").concat(c," /Columns ").concat(a),t=E6(y,Math.ceil(a*A*c/8),A,c,n),w&&(h=E6(v,Math.ceil(a*d/8),1,d,n))):(f=void 0,m=void 0,t=y,w&&(h=v)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:m,transparency:q,palette:I,sMask:h,predictor:R,width:a,height:o,bitsPerComponent:c,sMaskBitsPerComponent:d,colorSpace:_}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new hQ(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new u2(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(Et.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){vr.log("bit decode error:"+r)}},zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new zs(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new u2(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Et.API),C6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new C6(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new u2(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Et.API),Et.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],m=n[u+2],h=n[u+3];s[o++]=c,s[o++]=f,s[o++]=m,a[l++]=h}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Et.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tc=Et.API,_m=Tc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=t.length,x=0,_=o[0]||l,A=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(m=f&&hr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/c:0,A.push((o[n]||_)/l+m)),x=n;return A},_6=Tc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tc.processArabic&&(t=Tc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:_m.apply(this,arguments).reduce(function(s,a){return s+a},0)},b6=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},x6=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],f=[c],m=r.textIndent||0,h=0,x=0,_=t.split(" "),A=_m.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var d=Array(l).join(" "),y=[];_.map(function(w){(w=w.split(/\s*\n/)).length>1?y=y.concat(w.map(function(I,q){return(q&&I.length?`
`:"")+I})):y.push(w[0])}),_=y,l=_6.apply(this,[d,r])}for(s=0,a=_.length;s<a;s++){var v=0;if(n=_[s],l&&n[0]==`
`&&(n=n.substr(1),v=1),m+h+(x=(i=_m.apply(this,[n,r])).reduce(function(w,I){return w+I},0))>e||v){if(x>e){for(o=b6.apply(this,[n,i,e-(m+h),e]),c.push(o.shift()),c=[o.pop()];o.length;)f.push([o.shift()]);x=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(w,I){return w+I},0)}else c=[n];f.push(c),m=x+l,h=A}else c.push(n),m+=h+x,h=A}return u=l?function(w,I){return(I?d:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},Tc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(x6.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var h,x,_,A,d=["{"];for(var y in m){if(h=m[y],isNaN(parseInt(y,10))?x="'"+y+"'":(y=parseInt(y,10),x=(x=a(y).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof h=="number")h<0?(_=a(h).slice(3),A="-"):(_=a(h).slice(2),A=""),_=A+_.slice(0,-1)+i[_.slice(-1)];else{if(hr(h)!=="object")throw new Error("Don't know what to do with value type "+hr(h)+".");_=o(h)}d.push(x+_)}return d.push("}"),d.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,x,_,A,d={},y=1,v=d,w=[],I="",q="",R=m.length-1,P=1;P<R;P+=1)(A=m[P])=="'"?h?(_=h.join(""),h=void 0):h=[]:h?h.push(A):A=="{"?(w.push([v,_]),v={},_=void 0):A=="}"?((x=w.pop())[0][x[1]]=v,_=void 0,v=x[0]):A=="-"?y=-1:_===void 0?n.hasOwnProperty(A)?(I+=n[A],_=parseInt(I,16)*y,y=1,I=""):I+=A:n.hasOwnProperty(A)?(q+=n[A],v[_]=parseInt(q,16)*y,y=1,_=void 0,q=""):q+=A;return d},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var h=m.font,x=f.Unicode[h.postScriptName];x&&(h.metadata.Unicode={},h.metadata.Unicode.widths=x.widths,h.metadata.Unicode.kerning=x.kerning);var _=c.Unicode[h.postScriptName];_&&(h.metadata.Unicode.encoding=_,h.encoding=_.codePages[0])}])}(Et.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Wm(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Et),Et.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Lt.canvg?Promise.resolve(Lt.canvg):$f(()=>import("./index.es-NdGg88hY.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Et.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Et.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,f=0;function m(x,_){var A,d=!1;for(A=0;A<x.length;A+=1)x[A]===_&&(d=!0);return d}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(hr(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,_=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?_.push("/"+x+" /"+r[x].value):_.push("/"+x+" "+r[x].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Et.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,m=s.length;f<m;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,f,m;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(o=Object.keys(s).sort(function(h,x){return h-x})).length;f<m;f++)a=o[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",x=0;x<m.length;x++)h+=String.fromCharCode(m[x]);var _=u();c({data:h,addLength1:!0,objectId:_}),l("endobj");var A=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var d=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Oc(o.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Oc(o.fontName)),l("/FontDescriptor "+d+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Oc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var x=u();c({data:m,addLength1:!0,objectId:x}),l("endobj");var _=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var A=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Oc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var d=0;d<o.metadata.hmtx.widths.length;d++)o.metadata.hmtx.widths[d]=parseInt(o.metadata.hmtx.widths[d]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Oc(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},f=s.mutex||{},m=f.pdfEscape,h=f.activeFontKey,x=f.fonts,_=h,A="",d=0,y="",v=x[_].encoding;if(x[_].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:f};for(y=o,_=h,Array.isArray(o)&&(y=o[0]),d=0;d<y.length;d+=1)x[_].metadata.hasOwnProperty("cmap")&&(a=x[_].metadata.cmap.unicode.codeMap[y[d].charCodeAt(0)]),a||y[d].charCodeAt(0)<256&&x[_].metadata.hasOwnProperty("Unicode")?A+=y[d]:A+="";var w="";return parseInt(_.slice(1))<14||v==="WinAnsiEncoding"?w=m(A,_).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(w=r(A,x[_])),f.isHex=!0,{text:w,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Et),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var w=function(j){var T=j.charCodeAt(),L=T>>8,C=_[L];return C!==void 0?f[256*C+(255&T)]:L===252||L===253?"AL":d.test(L)?"L":L===8?"R":"N"},I=function(j){for(var T,L=0;L<j.length;L++){if((T=w(j.charAt(L)))==="L")return!1;if(T==="R")return!0}return!1},q=function(j,T,L,C){var ie,ve,se,oe,he=T[C];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(he="AN");break;case"AL":y=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":C<1||C+1>=T.length||(ie=L[C-1])!=="EN"&&ie!=="AN"||(ve=T[C+1])!=="EN"&&ve!=="AN"?he="N":y&&(ve="AN"),he=ve===ie?ve:"N";break;case"ES":he=(ie=C>0?L[C-1]:"B")==="EN"&&C+1<T.length&&T[C+1]==="EN"?"EN":"N";break;case"ET":if(C>0&&L[C-1]==="EN"){he="EN";break}if(y){he="N";break}for(se=C+1,oe=T.length;se<oe&&T[se]==="ET";)se++;he=se<oe&&T[se]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(oe=T.length,se=C+1;se<oe&&T[se]==="NSM";)se++;if(se<oe){var Ae=j[C],fe=Ae>=1425&&Ae<=2303||Ae===64286;if(ie=T[se],fe&&(ie==="R"||ie==="AL")){he="R";break}}}he=C<1||(ie=T[C-1])==="B"?"N":L[C-1];break;case"B":y=!1,i=!0,he=v;break;case"S":s=!0,he="N"}return he},R=function(j,T,L){var C=j.split("");return L&&P(C,L,{hiLevel:v}),C.reverse(),T&&T.reverse(),C.join("")},P=function(j,T,L){var C,ie,ve,se,oe,he=-1,Ae=j.length,fe=0,D=[],X=v?h:m,Q=[];for(y=!1,i=!1,s=!1,ie=0;ie<Ae;ie++)Q[ie]=w(j[ie]);for(ve=0;ve<Ae;ve++){if(oe=fe,D[ve]=q(j,Q,D,ve),C=240&(fe=X[oe][x[D[ve]]]),fe&=15,T[ve]=se=X[fe][5],C>0)if(C===16){for(ie=he;ie<ve;ie++)T[ie]=1;he=-1}else he=-1;if(X[fe][6])he===-1&&(he=ve);else if(he>-1){for(ie=he;ie<ve;ie++)T[ie]=se;he=-1}Q[ve]==="B"&&(T[ve]=0),L.hiLevel|=se}s&&function(le,ee,M){for(var U=0;U<M;U++)if(le[U]==="S"){ee[U]=v;for(var ne=U-1;ne>=0&&le[ne]==="WS";ne--)ee[ne]=v}}(Q,T,Ae)},E=function(j,T,L,C,ie){if(!(ie.hiLevel<j)){if(j===1&&v===1&&!i)return T.reverse(),void(L&&L.reverse());for(var ve,se,oe,he,Ae=T.length,fe=0;fe<Ae;){if(C[fe]>=j){for(oe=fe+1;oe<Ae&&C[oe]>=j;)oe++;for(he=fe,se=oe-1;he<se;he++,se--)ve=T[he],T[he]=T[se],T[se]=ve,L&&(ve=L[he],L[he]=L[se],L[se]=ve);fe=oe}fe++}}},H=function(j,T,L){var C=j.split(""),ie={hiLevel:v};return L||(L=[]),P(C,L,ie),function(ve,se,oe){if(oe.hiLevel!==0&&c)for(var he,Ae=0;Ae<ve.length;Ae++)se[Ae]===1&&(he=A.indexOf(ve[Ae]))>=0&&(ve[Ae]=A[he+1])}(C,L,ie),E(2,C,T,L,ie),E(1,C,T,L,ie),C.join("")};return this.__bidiEngine__.doBidiReorder=function(j,T,L){if(function(ie,ve){if(ve)for(var se=0;se<ie.length;se++)ve[se]=se;o===void 0&&(o=I(ie)),u===void 0&&(u=I(ie))}(j,T),a||!l||u)if(a&&l&&o^u)v=o?1:0,j=R(j,T,L);else if(!a&&l&&u)v=o?1:0,j=H(j,T,L),j=R(j,T);else if(!a||o||l||u){if(a&&!l&&o^u)j=R(j,T),o?(v=0,j=H(j,T,L)):(v=1,j=H(j,T,L),j=R(j,T));else if(a&&o&&!l&&u)v=1,j=H(j,T,L),j=R(j,T);else if(!a&&!l&&o^u){var C=c;o?(v=1,j=H(j,T,L),v=0,c=!1,j=H(j,T,L),c=C):(v=0,j=H(j,T,L),j=R(j,T),v=1,c=!1,j=H(j,T,L),c=C,j=R(j,T))}}else v=0,j=H(j,T,L);else v=o?1:0,j=H(j,T,L);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,c=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new fQ(this.contents),this.head=new pQ(this),this.name=new wQ(this),this.cmap=new j8(this),this.toUnicode={},this.hhea=new mQ(this),this.maxp=new _Q(this),this.hmtx=new bQ(this),this.post=new yQ(this),this.os2=new gQ(this),this.loca=new SQ(this),this.glyf=new xQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var sa,Vl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),fQ=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,f,m,h,x,_;for(_ in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),a=Math.floor(f/l),c=16*h-f,(i=new Vl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(a),i.writeShort(c),s=16*h,u=i.pos+s,o=null,x=[],r)for(m=r[_],i.writeString(_),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),x=x.concat(m),_==="head"&&(o=u),u+=m.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=F8.call(r);r.length%4;)r.push(0);for(s=new Vl(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),dQ={}.hasOwnProperty,za=function(t,e){for(var r in e)dQ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};sa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Vl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),R6=function(){function t(e,r){var n,i,s,a,o,l,u,c,f,m,h,x,_,A,d,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,s=function(){var w,I;for(I=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)I.push(e.readUInt16());return I}(),e.pos+=2,_=function(){var w,I;for(I=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)I.push(e.readUInt16());return I}(),u=function(){var w,I;for(I=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)I.push(e.readUInt16());return I}(),c=function(){var w,I;for(I=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)I.push(e.readUInt16());return I}(),i=(this.length-e.pos+this.offset)/2,o=function(){var w,I;for(I=[],l=w=0;0<=i?w<i:w>i;l=0<=i?++w:--w)I.push(e.readUInt16());return I}(),l=d=0,v=s.length;d<v;l=++d)for(A=s[l],n=y=x=_[l];x<=A?y<=A:y>=A;n=x<=A?++y:--y)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-x)-(m-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=f}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,f,m,h,x,_,A,d,y,v,w,I,q,R,P,E,H,j,T,L,C,ie,ve,se,oe,he,Ae,fe,D,X,Q,le,ee,M,U,ne,te,Y,re;switch(C=new Vl,a=Object.keys(e).sort(function(Ee,z){return Ee-z}),r){case"macroman":for(_=0,A=function(){var Ee=[];for(x=0;x<256;++x)Ee.push(0);return Ee}(),y={0:0},s={},ie=0,he=a.length;ie<he;ie++)y[ne=e[i=a[ie]]]==null&&(y[ne]=++_),s[i]={old:e[i],new:y[e[i]]},A[i]=y[e[i]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(A),{charMap:s,subtable:C.data,maxGlyphID:_+1};case"unicode":for(T=[],f=[],v=0,y={},n={},d=u=null,ve=0,Ae=a.length;ve<Ae;ve++)y[I=e[i=a[ve]]]==null&&(y[I]=++v),n[i]={old:I,new:y[I]},o=y[I]-i,d!=null&&o===u||(d&&f.push(d),T.push(i),u=o),d=i;for(d&&f.push(d),f.push(65535),T.push(65535),H=2*(E=T.length),P=2*Math.pow(Math.log(E)/Math.LN2,2),m=Math.log(P/2)/Math.LN2,R=2*E-P,l=[],q=[],h=[],x=se=0,fe=T.length;se<fe;x=++se){if(j=T[x],c=f[x],j===65535){l.push(0),q.push(0);break}if(j-(L=n[j].new)>=32768)for(l.push(0),q.push(2*(h.length+E-x)),i=oe=j;j<=c?oe<=c:oe>=c;i=j<=c?++oe:--oe)h.push(n[i].new);else l.push(L-j),q.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*E+2*h.length),C.writeUInt16(0),C.writeUInt16(H),C.writeUInt16(P),C.writeUInt16(m),C.writeUInt16(R),M=0,D=f.length;M<D;M++)i=f[M],C.writeUInt16(i);for(C.writeUInt16(0),U=0,X=T.length;U<X;U++)i=T[U],C.writeUInt16(i);for(te=0,Q=l.length;te<Q;te++)o=l[te],C.writeUInt16(o);for(Y=0,le=q.length;Y<le;Y++)w=q[Y],C.writeUInt16(w);for(re=0,ee=h.length;re<ee;re++)_=h[re],C.writeUInt16(_);return{charMap:n,subtable:C.data,maxGlyphID:v+1}}},t}(),j8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new R6(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=R6.encode(e,r),(i=new Vl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),mQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),gQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),yQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),vQ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,c,f,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=c=0,f=n.length;c<f;s=++c)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new vQ(u,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),_Q=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),bQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,m;for(m=[],u=0,c=(f=this.metrics).length;u<c;u++)s=f[u],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),F8=[].slice,xQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,c,f;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Vl(r.read(i))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[e]=a===-1?new AQ(o,u,f,l,c):new EQ(o,a,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),EQ=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),AQ=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vl(F8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),SQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return za(t,sa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},t}(),TQ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,f,m,h,x,_,A,d;for(i in n=j8.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},d=n.charMap)h[(l=d[i]).old]=l.new;for(x in m=n.maxGlyphID,a)x in h||(h[x]=m++);return c=function(y){var v,w;for(v in w={},y)w[y[v]]=v;return w}(h),f=Object.keys(c).sort(function(y,v){return y-v}),_=function(){var y,v,w;for(w=[],y=0,v=f.length;y<v;y++)o=f[y],w.push(c[o]);return w}(),s=this.font.glyf.encode(a,_,h),u=this.font.loca.encode(s.offsets,_),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Et.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function NQ({documents:t,onUpdate:e,onDelete:r}){const[n,i]=Ge.useState(""),[s,a]=Ge.useState("all"),[o,l]=Ge.useState("all"),[u,c]=Ge.useState("all"),[f,m]=Ge.useState(null),[h,x]=Ge.useState(null),[_,A]=Ge.useState(""),[d,y]=Ge.useState("resposta"),[v,w]=Ge.useState(!1),[I,q]=Ge.useState([]),[R,P]=Ge.useState(!1),[E,H]=Ge.useState(!1),[j,T]=Ge.useState(null),[L,C]=Ge.useState(!1),[ie,ve]=Ge.useState(null),[se,oe]=Ge.useState(""),[he,Ae]=Ge.useState([]),[fe,D]=Ge.useState(!1),X=async me=>{const Te=Array.from(me.target.files);if(Te.length!==0){P(!0);try{const Me=`comment_${Date.now()}`,et=Te.map(ct=>Fw(ct,Me)),at=await Promise.all(et);q([...I,...at])}catch(Me){console.error("Erro ao fazer upload:",Me),alert("Erro ao fazer upload da imagem.")}finally{P(!1)}}},Q=me=>{q(I.filter((Te,Me)=>Me!==me))},le=async me=>{if(!(!_.trim()&&me==="resposta"&&I.length===0)){w(!0);try{const Te={type:me,text:_.trim(),author:"Desenvolvedor",screenshots:I};await Wz(f.id,Te),me==="aprovado_reteste"&&await e(f.id,{status:"aprovado"}),me==="reprovado_reteste"&&await e(f.id,{status:"reprovado"}),me==="solicitar_reteste"&&await e(f.id,{status:"em_reteste"}),A(""),q([]);const Me=t.find(et=>et.id===f.id);Me&&m({...Me,comments:[...Me.comments||[],Te]})}catch(Te){console.error("Erro ao enviar comentrio:",Te),alert("Erro ao enviar comentrio. Tente novamente.")}finally{w(!1)}}},ee=me=>{switch(me){case"solicitar_reteste":return"Solicitou Reteste";case"aprovado_reteste":return"Aprovou aps Reteste";case"reprovado_reteste":return"Reprovou Reteste";case"feedback":return"Feedback";default:return"Resposta"}},M=me=>{switch(me){case"solicitar_reteste":return"bg-orange-100 text-orange-700";case"aprovado_reteste":return"bg-green-100 text-green-700";case"reprovado_reteste":return"bg-red-100 text-red-700";case"feedback":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},U=me=>{ve(me.id),oe(me.text||""),Ae(me.screenshots||[])},ne=()=>{ve(null),oe(""),Ae([])},te=async me=>{const Te=Array.from(me.target.files);if(Te.length!==0){P(!0);try{const Me=`edit_comment_${Date.now()}`,et=Te.map(ct=>Fw(ct,Me)),at=await Promise.all(et);Ae([...he,...at])}catch(Me){console.error("Erro ao fazer upload:",Me),alert("Erro ao fazer upload da imagem.")}finally{P(!1)}}},Y=me=>{Ae(he.filter((Te,Me)=>Me!==me))},re=async()=>{D(!0);try{await $z(f.id,ie,{text:se,screenshots:he});const me=(f.comments||[]).map(Te=>Te.id===ie?{...Te,text:se,screenshots:he}:Te);m({...f,comments:me}),ne()}catch(me){console.error("Erro ao salvar comentrio:",me),alert("Erro ao salvar comentrio.")}finally{D(!1)}},Ee=()=>{T({title:f.title,feature:f.feature,module:f.module||"",testType:f.testType,priority:f.priority,status:f.status,tester:f.tester,environment:f.environment||"",preconditions:f.preconditions||"",observations:f.observations||"",steps:f.steps||[{action:"",expectedResult:"",actualResult:"",status:"pendente"}]}),H(!0)},z=()=>{H(!1),T(null)},K=(me,Te)=>{T({...j,[me]:Te})},W=(me,Te,Me)=>{const et=[...j.steps];et[me][Te]=Me,T({...j,steps:et})},N=()=>{T({...j,steps:[...j.steps,{action:"",expectedResult:"",actualResult:"",status:"pendente"}]})},k=me=>{if(j.steps.length>1){const Te=j.steps.filter((Me,et)=>et!==me);T({...j,steps:Te})}},F=async()=>{C(!0);try{await e(f.id,j),m({...f,...j}),H(!1),T(null)}catch(me){console.error("Erro ao salvar:",me),alert("Erro ao salvar alteraes.")}finally{C(!1)}},ue=t.filter(me=>{const Te=me.title.toLowerCase().includes(n.toLowerCase())||me.feature.toLowerCase().includes(n.toLowerCase()),Me=s==="all"||me.status===s,et=o==="all"||me.testType===o,at=u==="all"||me.category===u;return Te&&Me&&et&&at}),we=me=>{const Te=nt(me),Me=new Blob([Te],{type:"text/plain"}),et=URL.createObjectURL(Me),at=document.createElement("a");at.href=et,at.download=`teste-${me.title.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(at),at.click(),document.body.removeChild(at),URL.revokeObjectURL(et),x(null)},ge=me=>{const Te=ke(me),Me=new Blob([Te],{type:"text/markdown"}),et=URL.createObjectURL(Me),at=document.createElement("a");at.href=et,at.download=`teste-${me.title.replace(/\s+/g,"-").toLowerCase()}.md`,document.body.appendChild(at),at.click(),document.body.removeChild(at),URL.revokeObjectURL(et),x(null)},ke=me=>{let Te=`# ${me.title}

`;return Te+=`## Informaes Gerais

`,Te+=`| Campo | Valor |
|-------|-------|
`,Te+=`| Feature | ${me.feature} |
`,Te+=`| Mdulo | ${me.module||"N/A"} |
`,Te+=`| Tipo | ${me.testType} |
`,Te+=`| Prioridade | ${me.priority} |
`,Te+=`| Status | **${me.status.toUpperCase()}** |
`,Te+=`| Testador | ${me.tester} |
`,Te+=`| Ambiente | ${me.environment||"N/A"} |
`,me.errorType&&(Te+=`| Tipo de Erro | ${me.errorType==="bug"?"Bug":"Regra de Negcio"} |
`),Te+=`| Data | ${new Date(me.createdAt).toLocaleString("pt-BR")} |

`,me.requirement&&(Te+=`## Requisito

`,Te+=`**Cdigo:** ${me.requirement}

`,me.requirementDescription&&(Te+=`**Descrio:** ${me.requirementDescription}

`)),me.improvement&&(Te+=`## Sugesto de Melhoria

`,Te+=`**Melhoria:** ${me.improvement}

`,me.improvementJustification&&(Te+=`**Justificativa:** ${me.improvementJustification}

`)),me.preconditions&&(Te+=`## Pr-condies

${me.preconditions}

`),Te+=`## Passos do Teste

`,me.steps.forEach((Me,et)=>{Te+=`### Passo ${et+1}

`,Te+=`- **Ao:** ${Me.action}
`,Te+=`- **Esperado:** ${Me.expectedResult}
`,Te+=`- **Obtido:** ${Me.actualResult}
`,Te+=`- **Status:** ${Me.status}

`}),me.elements&&me.elements.length>0&&me.elements[0].name&&(Te+=`## Elementos da Interface

`,Te+=`| Nome | Selector | Tipo |
|------|----------|------|
`,me.elements.forEach(Me=>{Me.name&&(Te+=`| ${Me.name} | \`${Me.selector}\` | ${Me.type} |
`)}),Te+=`
`),me.screenshots&&me.screenshots.length>0&&(Te+=`## Screenshots / Evidncias

`,me.screenshots.forEach((Me,et)=>{Te+=`![${Me.name}](${Me.url})

`})),me.observations&&(Te+=`## Observaes

${me.observations}

`),Te},Fe=async me=>{try{const Me=await(await fetch(me)).blob();return new Promise(et=>{const at=new FileReader;at.onloadend=()=>et(at.result),at.readAsDataURL(Me)})}catch(Te){return console.error("Erro ao carregar imagem:",Te),null}},Le=async me=>{try{return await(await(await fetch(me)).blob()).arrayBuffer()}catch(Te){return console.error("Erro ao carregar imagem:",Te),null}},Ue=async me=>{let Te=null;try{Te=await Le("/DocSimplesReports/logo.jpg")}catch{console.log("Logo no encontrado para DOCX")}const Me=[];if(Te&&Me.push(new sr({children:[new iS({data:Te,transformation:{width:50,height:50},type:"jpg"})],spacing:{after:100}})),Me.push(new sr({children:[new cn({text:"DocSimples Reports",bold:!0,size:32,color:"2563EB"})],spacing:{after:100}}),new sr({children:[new cn({text:"Sistema de Documentao de Testes",size:20,color:"666666"})],spacing:{after:400}}),new sr({text:me.title,heading:Zo.TITLE}),new sr({text:`Feature: ${me.feature} | Mdulo: ${me.module||"N/A"}`,spacing:{after:200}}),new sr({text:`Status: ${me.status.toUpperCase()} | Tipo: ${me.testType} | Prioridade: ${me.priority}`,spacing:{after:200}}),new sr({text:`Testador: ${me.tester} | Ambiente: ${me.environment||"N/A"}`,spacing:{after:200}}),new sr({text:`Data: ${new Date(me.createdAt).toLocaleString("pt-BR")}`,spacing:{after:200}})),me.errorType&&Me.push(new sr({text:`Tipo de Erro: ${me.errorType==="bug"?"Bug":"Regra de Negcio"}`,spacing:{after:400}})),me.requirement&&(Me.push(new sr({text:"Requisito",heading:Zo.HEADING_1}),new sr({children:[new cn({text:"Cdigo: ",bold:!0}),new cn(me.requirement)]})),me.requirementDescription&&Me.push(new sr({children:[new cn({text:"Descrio: ",bold:!0}),new cn(me.requirementDescription)],spacing:{after:300}}))),me.improvement&&(Me.push(new sr({text:"Sugesto de Melhoria",heading:Zo.HEADING_1}),new sr({children:[new cn({text:"Melhoria: ",bold:!0}),new cn(me.improvement)]})),me.improvementJustification&&Me.push(new sr({children:[new cn({text:"Justificativa: ",bold:!0}),new cn(me.improvementJustification)],spacing:{after:300}}))),me.preconditions&&Me.push(new sr({text:"Pr-condies",heading:Zo.HEADING_1}),new sr({text:me.preconditions,spacing:{after:300}})),Me.push(new sr({text:"Passos do Teste",heading:Zo.HEADING_1})),me.steps.forEach((ct,ot)=>{Me.push(new sr({text:`Passo ${ot+1}`,heading:Zo.HEADING_2}),new sr({children:[new cn({text:"Ao: ",bold:!0}),new cn(ct.action)]}),new sr({children:[new cn({text:"Esperado: ",bold:!0}),new cn(ct.expectedResult)]}),new sr({children:[new cn({text:"Obtido: ",bold:!0}),new cn(ct.actualResult)]}),new sr({children:[new cn({text:"Status: ",bold:!0}),new cn(ct.status)],spacing:{after:200}}))}),me.screenshots&&me.screenshots.length>0){Me.push(new sr({text:"Screenshots / Evidncias",heading:Zo.HEADING_1}));for(const ct of me.screenshots)try{const ot=await Le(ct.url);ot&&Me.push(new sr({children:[new iS({data:ot,transformation:{width:400,height:300},type:"jpg"})],spacing:{after:200}}),new sr({text:ct.name,spacing:{after:300}}))}catch{Me.push(new sr({text:`[Imagem: ${ct.name}] - ${ct.url}`,spacing:{after:200}}))}}me.observations&&Me.push(new sr({text:"Observaes",heading:Zo.HEADING_1}),new sr({text:me.observations}));const et=new xK({sections:[{children:Me}]}),at=await FK.toBlob(et);MK.saveAs(at,`teste-${me.title.replace(/\s+/g,"-").toLowerCase()}.docx`),x(null)},Qe=async me=>{const Te=new Et;let Me=20;const et=7,at=Te.internal.pageSize.height,ct=20;try{const lt=await Fe("/DocSimplesReports/logo.jpg");lt&&Te.addImage(lt,"JPEG",ct,Me,15,15)}catch{console.log("Logo no encontrado para PDF")}Te.setFontSize(16),Te.setFont("helvetica","bold"),Te.setTextColor(37,99,235),Te.text("DocSimples Reports",ct+20,Me+8),Te.setFontSize(10),Te.setFont("helvetica","normal"),Te.setTextColor(100,100,100),Te.text("Sistema de Documentao de Testes",ct+20,Me+14),Me+=22,Te.setDrawColor(200,200,200),Te.line(ct,Me,190,Me),Me+=10,Te.setTextColor(0,0,0);const ot=(lt,Bt=!1,At=12)=>{Me>at-20&&(Te.addPage(),Me=20),Te.setFontSize(At),Te.setFont("helvetica",Bt?"bold":"normal"),Te.splitTextToSize(lt,170).forEach(nr=>{Me>at-20&&(Te.addPage(),Me=20),Te.text(nr,ct,Me),Me+=et})};if(ot(me.title,!0,18),Me+=5,ot(`Feature: ${me.feature} | Mdulo: ${me.module||"N/A"}`),ot(`Status: ${me.status.toUpperCase()} | Tipo: ${me.testType} | Prioridade: ${me.priority}`),ot(`Testador: ${me.tester} | Ambiente: ${me.environment||"N/A"}`),ot(`Data: ${new Date(me.createdAt).toLocaleString("pt-BR")}`),me.errorType&&ot(`Tipo de Erro: ${me.errorType==="bug"?"Bug":"Regra de Negcio"}`),Me+=10,me.requirement&&(ot("Requisito",!0,14),ot(`Cdigo: ${me.requirement}`),me.requirementDescription&&ot(`Descrio: ${me.requirementDescription}`),Me+=5),me.improvement&&(ot("Sugesto de Melhoria",!0,14),ot(`Melhoria: ${me.improvement}`),me.improvementJustification&&ot(`Justificativa: ${me.improvementJustification}`),Me+=5),me.preconditions&&(ot("Pr-condies",!0,14),ot(me.preconditions),Me+=5),ot("Passos do Teste",!0,14),me.steps.forEach((lt,Bt)=>{Me+=3,ot(`Passo ${Bt+1}`,!0),ot(`Ao: ${lt.action}`),ot(`Esperado: ${lt.expectedResult}`),ot(`Obtido: ${lt.actualResult}`),ot(`Status: ${lt.status}`)}),me.screenshots&&me.screenshots.length>0){Me+=10,ot("Screenshots / Evidncias",!0,14),Me+=5;for(const lt of me.screenshots)try{const Bt=await Fe(lt.url);Bt&&(Me>at-80&&(Te.addPage(),Me=20),Te.addImage(Bt,"JPEG",ct,Me,80,60),Me+=65,ot(lt.name),Me+=5)}catch{ot(`[Imagem: ${lt.name}]`)}}me.observations&&(Me+=5,ot("Observaes",!0,14),ot(me.observations)),Te.save(`teste-${me.title.replace(/\s+/g,"-").toLowerCase()}.pdf`),x(null)},nt=me=>{let Te=`DOCUMENTO DE TESTE DE HOMOLOGAO
`;return Te+=`${"=".repeat(50)}

`,Te+=`Ttulo: ${me.title}
`,Te+=`Feature: ${me.feature}
`,Te+=`Mdulo: ${me.module||"N/A"}
`,Te+=`Tipo: ${me.testType}
`,Te+=`Prioridade: ${me.priority}
`,Te+=`Status: ${me.status.toUpperCase()}
`,Te+=`Testador: ${me.tester}
`,Te+=`Ambiente: ${me.environment||"N/A"}
`,me.errorType&&(Te+=`Tipo de Erro: ${me.errorType==="bug"?"Bug":"Regra de Negcio"}
`),Te+=`Data: ${new Date(me.createdAt).toLocaleString("pt-BR")}

`,me.requirement&&(Te+=`REQUISITO:
${"-".repeat(30)}
`,Te+=`Cdigo: ${me.requirement}
`,me.requirementDescription&&(Te+=`Descrio: ${me.requirementDescription}
`),Te+=`
`),me.improvement&&(Te+=`SUGESTO DE MELHORIA:
${"-".repeat(30)}
`,Te+=`Melhoria: ${me.improvement}
`,me.improvementJustification&&(Te+=`Justificativa: ${me.improvementJustification}
`),Te+=`
`),me.preconditions&&(Te+=`PR-CONDIES:
${"-".repeat(30)}
${me.preconditions}

`),Te+=`PASSOS DO TESTE:
${"-".repeat(30)}
`,me.steps.forEach((Me,et)=>{Te+=`
Passo ${et+1}:
`,Te+=`  Ao: ${Me.action}
`,Te+=`  Esperado: ${Me.expectedResult}
`,Te+=`  Obtido: ${Me.actualResult}
`,Te+=`  Status: ${Me.status}
`}),me.elements&&me.elements.length>0&&me.elements[0].name&&(Te+=`
ELEMENTOS DA INTERFACE:
${"-".repeat(30)}
`,me.elements.forEach(Me=>{Me.name&&(Te+=`  - ${Me.name}: ${Me.selector} (${Me.type})
`)})),me.observations&&(Te+=`
OBSERVAES:
${"-".repeat(30)}
${me.observations}
`),me.evidences&&(Te+=`
EVIDNCIAS:
${"-".repeat(30)}
${me.evidences}
`),Te},it=({status:me})=>{switch(me){case"aprovado":return S.jsx(bg,{className:"w-5 h-5 text-green-500"});case"reprovado":return S.jsx(Lm,{className:"w-5 h-5 text-red-500"});case"em_reteste":return S.jsx(TE,{className:"w-5 h-5 text-orange-500"});case"melhoria":return S.jsx(bg,{className:"w-5 h-5 text-blue-500"});default:return S.jsx(ow,{className:"w-5 h-5 text-yellow-500"})}};return S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documentos de Teste"}),S.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," documento(s) registrado(s)"]})]})}),S.jsx("div",{className:"card",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[S.jsxs("div",{className:"flex-1 relative",children:[S.jsx(pD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),S.jsx("input",{type:"text",value:n,onChange:me=>i(me.target.value),className:"input-field pl-10",placeholder:"Buscar por ttulo ou feature..."})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("select",{value:s,onChange:me=>a(me.target.value),className:"input-field w-40",children:[S.jsx("option",{value:"all",children:"Todos Status"}),S.jsx("option",{value:"pendente",children:"Pendente"}),S.jsx("option",{value:"aprovado",children:"Aprovado"}),S.jsx("option",{value:"reprovado",children:"Reprovado"}),S.jsx("option",{value:"em_reteste",children:"Em Reteste"}),S.jsx("option",{value:"bloqueado",children:"Bloqueado"})]}),S.jsxs("select",{value:o,onChange:me=>l(me.target.value),className:"input-field w-40",children:[S.jsx("option",{value:"all",children:"Todos Tipos"}),S.jsx("option",{value:"funcional",children:"Funcional"}),S.jsx("option",{value:"exploratorio",children:"Exploratrio"}),S.jsx("option",{value:"regressao",children:"Regresso"}),S.jsx("option",{value:"integracao",children:"Integrao"})]}),S.jsxs("select",{value:u,onChange:me=>c(me.target.value),className:"input-field w-44",children:[S.jsx("option",{value:"all",children:"Todas Categorias"}),S.jsx("option",{value:"regra_negocio",children:"Regra de Negcio"}),S.jsx("option",{value:"bug",children:"Bug"}),S.jsx("option",{value:"melhoria",children:"Melhoria"})]})]})]})}),ue.length===0?S.jsxs("div",{className:"card text-center py-12",children:[S.jsx(f0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),S.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.length===0?"Nenhum documento registrado":"Nenhum resultado encontrado"}),S.jsx("p",{className:"text-gray-600 mt-1",children:t.length===0?"Registre um teste para comear":"Tente ajustar os filtros de busca"})]}):S.jsx("div",{className:"grid gap-4",children:ue.map(me=>S.jsx("div",{className:"card hover:shadow-md transition-shadow",children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx(it,{status:me.status}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900",children:me.title}),S.jsxs("p",{className:"text-sm text-gray-600",children:[me.feature," ",me.module&&` ${me.module}`]}),S.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[S.jsx("span",{className:`badge ${me.status==="aprovado"?"badge-success":me.status==="reprovado"?"badge-error":me.status==="em_reteste"?"bg-orange-100 text-orange-700":me.status==="melhoria"?"bg-blue-100 text-blue-700":"badge-warning"}`,children:me.status==="em_reteste"?"Em Reteste":me.status}),S.jsx("span",{className:"badge badge-info",children:me.testType}),S.jsx("span",{className:"text-xs text-gray-500",children:new Date(me.createdAt).toLocaleDateString("pt-BR")})]})]})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:()=>m(me),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg",title:"Visualizar",children:S.jsx(oD,{className:"w-4 h-4"})}),S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>x(h===me.id?null:me.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded-lg flex items-center",title:"Exportar",children:[S.jsx(Ed,{className:"w-4 h-4"}),S.jsx(_E,{className:"w-3 h-3 ml-1"})]}),h===me.id&&S.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[S.jsx("button",{onClick:()=>we(me),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".txt"}),S.jsx("button",{onClick:()=>ge(me),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".md (Markdown)"}),S.jsx("button",{onClick:()=>Ue(me),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".docx (Word)"}),S.jsx("button",{onClick:()=>Qe(me),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".pdf"})]})]}),S.jsx("button",{onClick:()=>r(me.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded-lg",title:"Excluir",children:S.jsx(Ru,{className:"w-4 h-4"})})]})]})},me.id))}),f&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-gray-900",children:E?"Editar Documento":f.title}),f.jiraKey&&!E&&S.jsxs("a",{href:f.jiraUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1 mt-1",children:[" ",f.jiraKey]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[!E&&S.jsx("button",{onClick:Ee,className:"p-2 text-gray-500 hover:text-primary-600 rounded-lg hover:bg-gray-100",title:"Editar",children:S.jsx(SE,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>{m(null),H(!1),T(null)},className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:""})]})]}),E&&j?S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),S.jsx("input",{type:"text",value:j.title,onChange:me=>K("title",me.target.value),className:"input-field"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature"}),S.jsx("input",{type:"text",value:j.feature,onChange:me=>K("feature",me.target.value),className:"input-field"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdulo"}),S.jsx("input",{type:"text",value:j.module,onChange:me=>K("module",me.target.value),className:"input-field"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Testador"}),S.jsx("input",{type:"text",value:j.tester,onChange:me=>K("tester",me.target.value),className:"input-field"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Teste"}),S.jsxs("select",{value:j.testType,onChange:me=>K("testType",me.target.value),className:"input-field",children:[S.jsx("option",{value:"funcional",children:"Funcional"}),S.jsx("option",{value:"exploratorio",children:"Exploratrio"}),S.jsx("option",{value:"regressao",children:"Regresso"}),S.jsx("option",{value:"integracao",children:"Integrao"}),S.jsx("option",{value:"usabilidade",children:"Usabilidade"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),S.jsxs("select",{value:j.priority,onChange:me=>K("priority",me.target.value),className:"input-field",children:[S.jsx("option",{value:"baixa",children:"Baixa"}),S.jsx("option",{value:"media",children:"Mdia"}),S.jsx("option",{value:"alta",children:"Alta"}),S.jsx("option",{value:"critica",children:"Crtica"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),S.jsxs("select",{value:j.status,onChange:me=>K("status",me.target.value),className:"input-field",children:[S.jsx("option",{value:"pendente",children:"Pendente"}),S.jsx("option",{value:"aprovado",children:"Aprovado"}),S.jsx("option",{value:"reprovado",children:"Reprovado"}),S.jsx("option",{value:"em_reteste",children:"Em Reteste"}),S.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ambiente"}),S.jsx("input",{type:"text",value:j.environment,onChange:me=>K("environment",me.target.value),className:"input-field"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr-condies"}),S.jsx("textarea",{value:j.preconditions,onChange:me=>K("preconditions",me.target.value),className:"textarea-field",rows:"2"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Passos do Teste"}),S.jsxs("button",{type:"button",onClick:N,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[S.jsx(xg,{className:"w-4 h-4"})," Adicionar Passo"]})]}),S.jsx("div",{className:"space-y-3",children:j.steps.map((me,Te)=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Passo ",Te+1]}),j.steps.length>1&&S.jsx("button",{type:"button",onClick:()=>k(Te),className:"text-red-500 hover:text-red-700",children:S.jsx(Ru,{className:"w-4 h-4"})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx("input",{type:"text",value:me.action,onChange:Me=>W(Te,"action",Me.target.value),className:"input-field text-sm",placeholder:"Ao"}),S.jsx("input",{type:"text",value:me.expectedResult,onChange:Me=>W(Te,"expectedResult",Me.target.value),className:"input-field text-sm",placeholder:"Resultado Esperado"}),S.jsx("input",{type:"text",value:me.actualResult,onChange:Me=>W(Te,"actualResult",Me.target.value),className:"input-field text-sm",placeholder:"Resultado Obtido"}),S.jsxs("select",{value:me.status,onChange:Me=>W(Te,"status",Me.target.value),className:"input-field text-sm",children:[S.jsx("option",{value:"pendente",children:"Pendente"}),S.jsx("option",{value:"passou",children:"Passou"}),S.jsx("option",{value:"falhou",children:"Falhou"})]})]})]},Te))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),S.jsx("textarea",{value:j.observations,onChange:me=>K("observations",me.target.value),className:"textarea-field",rows:"3"})]}),S.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[S.jsx("button",{onClick:z,className:"btn-secondary",disabled:L,children:"Cancelar"}),S.jsxs("button",{onClick:F,className:"btn-primary flex items-center gap-2",disabled:L,children:[L?S.jsx(ho,{className:"w-4 h-4 animate-spin"}):S.jsx(Eg,{className:"w-4 h-4"}),L?"Salvando...":"Salvar Alteraes"]})]})]}):S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Feature"}),S.jsx("p",{className:"font-medium",children:f.feature})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Mdulo"}),S.jsx("p",{className:"font-medium",children:f.module||"N/A"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Tipo"}),S.jsx("p",{className:"font-medium capitalize",children:f.testType})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),S.jsx("span",{className:`badge ${f.status==="aprovado"?"badge-success":f.status==="reprovado"?"badge-error":f.status==="em_reteste"?"bg-orange-100 text-orange-700":f.status==="melhoria"?"bg-blue-100 text-blue-700":"badge-warning"}`,children:f.status==="em_reteste"?"Em Reteste":f.status})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Testador"}),S.jsx("p",{className:"font-medium",children:f.tester})]}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Ambiente"}),S.jsx("p",{className:"font-medium break-all",title:f.environment||"N/A",children:f.environment||"N/A"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Prioridade"}),S.jsx("p",{className:"font-medium capitalize",children:f.priority})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Data"}),S.jsx("p",{className:"font-medium",children:new Date(f.createdAt).toLocaleDateString("pt-BR")})]}),f.errorType&&S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Tipo de Erro"}),S.jsx("span",{className:`badge ${f.errorType==="bug"?"badge-error":"bg-purple-100 text-purple-700"}`,children:f.errorType==="bug"?"Bug":"Regra de Negcio"})]})]}),f.requirement&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Requisito"}),S.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[S.jsx("p",{className:"font-medium text-gray-800",children:f.requirement}),f.requirementDescription&&S.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:f.requirementDescription})]})]}),f.improvement&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sugesto de Melhoria"}),S.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[S.jsx("p",{className:"font-medium text-gray-800",children:f.improvement}),f.improvementJustification&&S.jsxs("p",{className:"text-gray-600 mt-2 text-sm",children:[S.jsx("strong",{children:"Justificativa:"})," ",f.improvementJustification]})]})]}),f.preconditions&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Pr-condies"}),S.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:f.preconditions})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Passos do Teste"}),S.jsx("div",{className:"space-y-3",children:f.steps.map((me,Te)=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Passo ",Te+1]}),S.jsx("span",{className:`badge ${me.status==="passou"?"badge-success":me.status==="falhou"?"badge-error":"badge-warning"}`,children:me.status})]}),S.jsxs("div",{className:"space-y-1 text-sm",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Ao:"})," ",me.action]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Esperado:"})," ",me.expectedResult]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Obtido:"})," ",me.actualResult]})]})]},Te))})]}),f.elements&&f.elements.some(me=>me.name)&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Elementos da Interface"}),S.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:S.jsxs("table",{className:"w-full text-sm",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"text-left text-gray-500",children:[S.jsx("th",{className:"pb-2",children:"Nome"}),S.jsx("th",{className:"pb-2",children:"Selector"}),S.jsx("th",{className:"pb-2",children:"Tipo"})]})}),S.jsx("tbody",{children:f.elements.filter(me=>me.name).map((me,Te)=>S.jsxs("tr",{children:[S.jsx("td",{className:"py-1",children:me.name}),S.jsx("td",{className:"py-1 font-mono text-xs",children:me.selector}),S.jsx("td",{className:"py-1",children:me.type})]},Te))})]})})]}),f.screenshots&&f.screenshots.length>0&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Screenshots / Prints"}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f.screenshots.map((me,Te)=>S.jsxs("a",{href:me.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:[S.jsx("img",{src:me.url,alt:me.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200 hover:border-primary-500 transition-colors"}),S.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:me.name})]},Te))})]}),f.observations&&S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Observaes"}),S.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:f.observations})]}),S.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[S.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[S.jsx(fD,{className:"w-5 h-5 text-primary-600"}),"Interao / Feedback"]}),f.comments&&f.comments.length>0&&S.jsx("div",{className:"space-y-3 mb-4 max-h-80 overflow-y-auto",children:f.comments.map((me,Te)=>S.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:ie===me.id?S.jsxs("div",{className:"space-y-3",children:[S.jsx("textarea",{value:se,onChange:Me=>oe(Me.target.value),className:"textarea-field text-sm",rows:"3",placeholder:"Editar comentrio..."}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"file",id:`edit-comment-screenshot-${me.id}`,multiple:!0,accept:"image/*",onChange:te,className:"hidden",disabled:R}),S.jsxs("label",{htmlFor:`edit-comment-screenshot-${me.id}`,className:"flex items-center gap-1 text-xs px-2 py-1 border border-gray-300 rounded cursor-pointer hover:bg-gray-100",children:[R?S.jsx(ho,{className:"w-3 h-3 animate-spin"}):S.jsx(xE,{className:"w-3 h-3"}),S.jsx("span",{children:"Anexar"})]})]}),he.length>0&&S.jsx("div",{className:"flex flex-wrap gap-2",children:he.map((Me,et)=>S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:Me.url,alt:Me.name,className:"h-14 w-auto object-cover rounded border border-gray-200"}),S.jsx("button",{type:"button",onClick:()=>Y(et),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100",children:S.jsx(Ad,{className:"w-2 h-2"})})]},et))}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:re,disabled:fe,className:"flex items-center gap-1 text-xs px-3 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50",children:[fe?S.jsx(ho,{className:"w-3 h-3 animate-spin"}):S.jsx(Eg,{className:"w-3 h-3"}),"Salvar"]}),S.jsx("button",{onClick:ne,disabled:fe,className:"text-xs px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Cancelar"})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-medium text-sm text-gray-900",children:me.author}),S.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M(me.type)}`,children:ee(me.type)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>U(me),className:"p-1 text-gray-400 hover:text-primary-600 rounded",title:"Editar",children:S.jsx(SE,{className:"w-3 h-3"})}),S.jsx("span",{className:"text-xs text-gray-500",children:me.createdAt?new Date(me.createdAt).toLocaleString("pt-BR"):""})]})]}),me.text&&S.jsx("p",{className:"text-sm text-gray-700",children:me.text}),me.screenshots&&me.screenshots.length>0&&S.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:me.screenshots.map((Me,et)=>S.jsx("a",{href:Me.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:S.jsx("img",{src:Me.url,alt:Me.name,className:"h-20 w-auto object-cover rounded border border-gray-200 hover:border-primary-500"})},et))})]})},me.id||Te))}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("textarea",{value:_,onChange:me=>A(me.target.value),placeholder:"Escreva uma resposta ou descrio da correo realizada...",className:"textarea-field",rows:"3"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("input",{type:"file",id:"comment-screenshot",multiple:!0,accept:"image/*",onChange:X,className:"hidden",disabled:R}),S.jsxs("label",{htmlFor:"comment-screenshot",className:"flex items-center gap-2 text-sm px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[R?S.jsx(ho,{className:"w-4 h-4 animate-spin"}):S.jsx(xE,{className:"w-4 h-4"}),S.jsx("span",{children:R?"Enviando...":"Anexar Screenshot"})]}),I.length>0&&S.jsxs("span",{className:"text-xs text-gray-500",children:[I.length," imagem(ns)"]})]}),I.length>0&&S.jsx("div",{className:"flex flex-wrap gap-2",children:I.map((me,Te)=>S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:me.url,alt:me.name,className:"h-16 w-auto object-cover rounded border border-gray-200"}),S.jsx("button",{type:"button",onClick:()=>Q(Te),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx(Ad,{className:"w-3 h-3"})})]},Te))}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsxs("button",{onClick:()=>le("resposta"),disabled:v||!_.trim()&&I.length===0,className:"btn-secondary flex items-center gap-2 text-sm disabled:opacity-50",children:[S.jsx(mD,{className:"w-4 h-4"}),"Enviar Resposta"]}),f.status!=="em_reteste"&&S.jsxs("button",{onClick:()=>le("solicitar_reteste"),disabled:v,className:"flex items-center gap-2 text-sm px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors disabled:opacity-50",children:[S.jsx(TE,{className:"w-4 h-4"}),"Solicitar Reteste"]}),f.status==="em_reteste"&&S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:()=>le("aprovado_reteste"),disabled:v,className:"flex items-center gap-2 text-sm px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors disabled:opacity-50",children:[S.jsx(vD,{className:"w-4 h-4"}),"Aprovar Reteste"]}),S.jsxs("button",{onClick:()=>le("reprovado_reteste"),disabled:v,className:"flex items-center gap-2 text-sm px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50",children:[S.jsx(yD,{className:"w-4 h-4"}),"Reprovar Reteste"]})]})]}),v&&S.jsx("p",{className:"text-sm text-gray-500",children:"Enviando..."})]})]})]}),!E&&S.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-4 flex justify-end space-x-2",children:[S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>x(h==="modal"?null:"modal"),className:"btn-secondary flex items-center space-x-1",children:[S.jsx(Ed,{className:"w-4 h-4"}),S.jsx("span",{children:"Exportar"}),S.jsx(_E,{className:"w-3 h-3"})]}),h==="modal"&&S.jsxs("div",{className:"absolute bottom-full right-0 mb-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[S.jsx("button",{onClick:()=>we(f),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".txt"}),S.jsx("button",{onClick:()=>ge(f),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".md (Markdown)"}),S.jsx("button",{onClick:()=>Ue(f),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".docx (Word)"}),S.jsx("button",{onClick:()=>Qe(f),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".pdf"})]})]}),S.jsx("button",{onClick:()=>m(null),className:"btn-primary",children:"Fechar"})]})]})})]})}function kQ({documents:t}){const[e,r]=Ge.useState(null),[n,i]=Ge.useState(""),[s,a]=Ge.useState(""),[o,l]=Ge.useState({gherkin:!1,playwright:!1}),u=m=>{var A;r(m);let h=`# language: pt

`;h+=`Funcionalidade: ${m.feature}
`,m.module&&(h+=`  # Mdulo: ${m.module}
`),h+=`  # Prioridade: ${m.priority}
`,h+=`  # Tipo: ${m.testType}

`,h+=`  Cenrio: ${m.title}
`,m.preconditions&&m.preconditions.split(`
`).filter(y=>y.trim()).forEach((y,v)=>{h+=`    ${v===0?"Dado":"E"} ${y.trim()}
`}),m.steps.forEach((d,y)=>{if(d.action){const v=y===0&&!m.preconditions?"Dado":"Quando";h+=`    ${v} ${d.action}
`}d.expectedResult&&(h+=`    Ento ${d.expectedResult}
`)}),i(h);let x=`import { test, expect } from '@playwright/test';

`;x+=`test.describe('${m.feature}', () => {
`,x+=`  test('${m.title}', async ({ page }) => {
`;const _=((A=m.elements)==null?void 0:A.filter(d=>d.name&&d.selector))||[];_.length>0&&(x+=`    // Selectors
`,_.forEach(d=>{const y=d.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase();x+=`    const ${y} = '${d.selector}';
`}),x+=`
`),x+=`    // Pr-condies
`,m.preconditions&&(x+=`    // ${m.preconditions.replace(/\n/g,`
    // `)}
`),x+=`    await page.goto('URL_DA_APLICACAO');

`,m.steps.forEach((d,y)=>{x+=`    // Passo ${y+1}: ${d.action||"N/A"}
`;const v=_.find(w=>{var I;return(I=d.action)==null?void 0:I.toLowerCase().includes(w.name.toLowerCase())});if(v){const w=v.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase();switch(v.type){case"button":x+=`    await page.click(${w});
`;break;case"input":x+=`    await page.fill(${w}, 'VALOR');
`;break;case"link":x+=`    await page.click(${w});
`;break;case"select":x+=`    await page.selectOption(${w}, 'VALOR');
`;break;case"checkbox":case"radio":x+=`    await page.check(${w});
`;break;case"text":x+=`    await expect(page.locator(${w})).toBeVisible();
`;break;default:x+=`    await page.locator(${w}).click();
`}}else x+=`    // TODO: Implementar ao
`;d.expectedResult&&(x+=`    // Esperado: ${d.expectedResult}
`,x+=`    // await expect(page.locator('SELECTOR')).toHaveText('TEXTO');
`),x+=`
`}),x+=`  });
`,x+=`});
`,a(x)},c=async(m,h)=>{await navigator.clipboard.writeText(m),l({...o,[h]:!0}),setTimeout(()=>l({...o,[h]:!1}),2e3)},f=(m,h)=>{const x=new Blob([m],{type:"text/plain"}),_=URL.createObjectURL(x),A=document.createElement("a");A.href=_,A.download=h,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(_)};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerador Gherkin & Playwright"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Selecione um documento de teste para gerar cenrios Gherkin e cdigo Playwright"})]}),S.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[S.jsx("div",{className:"lg:col-span-1",children:S.jsxs("div",{className:"card",children:[S.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Documentos Disponveis"}),t.length===0?S.jsxs("div",{className:"text-center py-8 text-gray-500",children:[S.jsx(f0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),S.jsx("p",{className:"text-sm",children:"Nenhum documento disponvel"})]}):S.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:t.map(m=>S.jsxs("button",{onClick:()=>u(m),className:`w-full text-left p-3 rounded-lg border transition-colors ${(e==null?void 0:e.id)===m.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[S.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:m.title}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.feature}),S.jsx("div",{className:"flex items-center gap-2 mt-2",children:S.jsx("span",{className:`badge text-xs ${m.status==="aprovado"?"badge-success":m.status==="reprovado"?"badge-error":"badge-warning"}`,children:m.status})})]},m.id))})]})}),S.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Gc,{className:"w-5 h-5 text-purple-600"}),S.jsx("h2",{className:"font-semibold text-gray-900",children:"Cenrio Gherkin"})]}),n&&S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:()=>c(n,"gherkin"),className:"btn-secondary text-sm flex items-center space-x-1",children:o.gherkin?S.jsxs(S.Fragment,{children:[S.jsx(aw,{className:"w-4 h-4 text-green-500"}),S.jsx("span",{children:"Copiado!"})]}):S.jsxs(S.Fragment,{children:[S.jsx(bE,{className:"w-4 h-4"}),S.jsx("span",{children:"Copiar"})]})}),S.jsxs("button",{onClick:()=>f(n,`${(e==null?void 0:e.feature)||"feature"}.feature`),className:"btn-secondary text-sm flex items-center space-x-1",children:[S.jsx(Ed,{className:"w-4 h-4"}),S.jsx("span",{children:"Download"})]})]})]}),n?S.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:S.jsx("code",{children:n})}):S.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center text-gray-500",children:[S.jsx(Gc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),S.jsx("p",{children:"Selecione um documento para gerar o cenrio Gherkin"})]})]}),S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Gc,{className:"w-5 h-5 text-green-600"}),S.jsx("h2",{className:"font-semibold text-gray-900",children:"Cdigo Playwright"})]}),s&&S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:()=>c(s,"playwright"),className:"btn-secondary text-sm flex items-center space-x-1",children:o.playwright?S.jsxs(S.Fragment,{children:[S.jsx(aw,{className:"w-4 h-4 text-green-500"}),S.jsx("span",{children:"Copiado!"})]}):S.jsxs(S.Fragment,{children:[S.jsx(bE,{className:"w-4 h-4"}),S.jsx("span",{children:"Copiar"})]})}),S.jsxs("button",{onClick:()=>{var m;return f(s,`${((m=e==null?void 0:e.feature)==null?void 0:m.replace(/\s+/g,"-").toLowerCase())||"test"}.spec.ts`)},className:"btn-secondary text-sm flex items-center space-x-1",children:[S.jsx(Ed,{className:"w-4 h-4"}),S.jsx("span",{children:"Download"})]})]})]}),s?S.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:S.jsx("code",{children:s})}):S.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center text-gray-500",children:[S.jsx(Gc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),S.jsx("p",{children:"Selecione um documento para gerar o cdigo Playwright"})]})]})]})]})]})}function IQ({requirements:t,onAdd:e,onUpdate:r,onDelete:n}){const[i,s]=Ge.useState(!1),[a,o]=Ge.useState(null),[l,u]=Ge.useState({name:"",description:"",inputClasses:[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:[{class:"",expectedResult:""}],boundaryValues:""}),c=()=>{u({name:"",description:"",inputClasses:[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:[{class:"",expectedResult:""}],boundaryValues:""})},f=(q,R,P)=>{const E=[...l.inputClasses];E[q][R]=P,u({...l,inputClasses:E})},m=()=>{u({...l,inputClasses:[...l.inputClasses,{class:"",validValues:"",invalidValues:"",representative:""}]})},h=q=>{l.inputClasses.length>1&&u({...l,inputClasses:l.inputClasses.filter((R,P)=>P!==q)})},x=(q,R,P)=>{const E=[...l.outputClasses];E[q][R]=P,u({...l,outputClasses:E})},_=()=>{u({...l,outputClasses:[...l.outputClasses,{class:"",expectedResult:""}]})},A=q=>{l.outputClasses.length>1&&u({...l,outputClasses:l.outputClasses.filter((R,P)=>P!==q)})},d=q=>{q.preventDefault(),a?(r(a,l),o(null)):e(l),c(),s(!1)},y=q=>{u({name:q.name,description:q.description,inputClasses:q.inputClasses||[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:q.outputClasses||[{class:"",expectedResult:""}],boundaryValues:q.boundaryValues||""}),o(q.id),s(!0)},v=()=>{c(),o(null),s(!1)},w=q=>{var P;let R=`# language: pt

`;return R+=`# Requisito: ${q.name}
`,R+=`# ${q.description}

`,R+=`Funcionalidade: ${q.name}

`,(P=q.inputClasses)==null||P.forEach((E,H)=>{E.validValues&&(R+=`  @valido
`,R+=`  Esquema do Cenrio: ${q.name} - Valores vlidos para ${E.class}
`,R+=`    Dado que o usurio est na tela de ${q.name.toLowerCase()}
`,R+=`    Quando o usurio informa <valor> no campo "${E.class}"
`,R+=`    Ento o sistema deve aceitar o valor

`,R+=`    Exemplos:
`,R+=`      | valor |
`,E.validValues.split(",").forEach(j=>{R+=`      | ${j.trim()} |
`}),R+=`
`),E.invalidValues&&(R+=`  @invalido
`,R+=`  Esquema do Cenrio: ${q.name} - Valores invlidos para ${E.class}
`,R+=`    Dado que o usurio est na tela de ${q.name.toLowerCase()}
`,R+=`    Quando o usurio informa <valor> no campo "${E.class}"
`,R+=`    Ento o sistema deve rejeitar o valor
`,R+=`    E exibir mensagem de erro apropriada

`,R+=`    Exemplos:
`,R+=`      | valor |
`,E.invalidValues.split(",").forEach(j=>{R+=`      | ${j.trim()} |
`}),R+=`
`)}),q.boundaryValues&&(R+=`  @limite
`,R+=`  Cenrio: ${q.name} - Teste de valores limite
`,R+=`    # Valores limite: ${q.boundaryValues}
`,R+=`    Dado que o usurio est na tela de ${q.name.toLowerCase()}
`,R+=`    Quando o usurio testa os valores limite
`,R+=`    Ento o sistema deve comportar-se corretamente nos limites

`),R},I=q=>{const R=w(q),P=new Blob([R],{type:"text/plain"}),E=URL.createObjectURL(P),H=document.createElement("a");H.href=E,H.download=`${q.name.replace(/\s+/g,"-").toLowerCase()}.feature`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(E)};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tabela de Partio de Equivalncia"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie requisitos com classes de equivalncia e valores limite"})]}),!i&&S.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[S.jsx(xg,{className:"w-4 h-4"}),S.jsx("span",{children:"Novo Requisito"})]})]}),i&&S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Editar Requisito":"Novo Requisito"}),S.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700",children:S.jsx(Ad,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:d,className:"space-y-6",children:[S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Requisito *"}),S.jsx("input",{type:"text",value:l.name,onChange:q=>u({...l,name:q.target.value}),className:"input-field",placeholder:"Ex: Validao de CPF",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),S.jsx("input",{type:"text",value:l.description,onChange:q=>u({...l,description:q.target.value}),className:"input-field",placeholder:"Descrio breve do requisito"})]})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classes de Entrada (Partio)"}),S.jsx("button",{type:"button",onClick:m,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"+ Adicionar Classe"})]}),S.jsx("div",{className:"space-y-3",children:l.inputClasses.map((q,R)=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Classe ",R+1]}),l.inputClasses.length>1&&S.jsx("button",{type:"button",onClick:()=>h(R),className:"text-red-500 hover:text-red-700",children:S.jsx(Ru,{className:"w-4 h-4"})})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Nome da Classe"}),S.jsx("input",{type:"text",value:q.class,onChange:P=>f(R,"class",P.target.value),className:"input-field",placeholder:"Ex: Idade"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valor Representativo"}),S.jsx("input",{type:"text",value:q.representative,onChange:P=>f(R,"representative",P.target.value),className:"input-field",placeholder:"Ex: 25"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valores Vlidos (separados por vrgula)"}),S.jsx("input",{type:"text",value:q.validValues,onChange:P=>f(R,"validValues",P.target.value),className:"input-field",placeholder:"Ex: 18, 25, 30, 65"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valores Invlidos (separados por vrgula)"}),S.jsx("input",{type:"text",value:q.invalidValues,onChange:P=>f(R,"invalidValues",P.target.value),className:"input-field",placeholder:"Ex: -1, 0, 150, abc"})]})]})]},R))})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classes de Sada"}),S.jsx("button",{type:"button",onClick:_,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"+ Adicionar Sada"})]}),S.jsx("div",{className:"space-y-3",children:l.outputClasses.map((q,R)=>S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("input",{type:"text",value:q.class,onChange:P=>x(R,"class",P.target.value),className:"input-field flex-1",placeholder:"Classe de sada"}),S.jsx("input",{type:"text",value:q.expectedResult,onChange:P=>x(R,"expectedResult",P.target.value),className:"input-field flex-1",placeholder:"Resultado esperado"}),l.outputClasses.length>1&&S.jsx("button",{type:"button",onClick:()=>A(R),className:"text-red-500 hover:text-red-700",children:S.jsx(Ru,{className:"w-4 h-4"})})]},R))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valores Limite (Boundary)"}),S.jsx("textarea",{value:l.boundaryValues,onChange:q=>u({...l,boundaryValues:q.target.value}),className:"textarea-field",rows:"2",placeholder:"Ex: Mnimo: 0, Mximo: 120, Logo abaixo: -1, Logo acima: 121"})]}),S.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[S.jsx("button",{type:"button",onClick:v,className:"btn-secondary",children:"Cancelar"}),S.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[S.jsx(Eg,{className:"w-4 h-4"}),S.jsx("span",{children:a?"Atualizar":"Salvar"})]})]})]})]}),t.length===0&&!i?S.jsxs("div",{className:"card text-center py-12",children:[S.jsx(J5,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),S.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum requisito cadastrado"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Adicione um requisito para criar tabelas de partio"})]}):S.jsx("div",{className:"space-y-4",children:t.map(q=>S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:q.name}),q.description&&S.jsx("p",{className:"text-gray-600 text-sm mt-1",children:q.description})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:()=>I(q),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded-lg",title:"Exportar Gherkin",children:S.jsx(Ed,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>y(q),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:S.jsx(dD,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>n(q.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded-lg",title:"Excluir",children:S.jsx(Ru,{className:"w-4 h-4"})})]})]}),q.inputClasses&&q.inputClasses.some(R=>R.class)&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Classes de Entrada"}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Classe"}),S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Valores Vlidos"}),S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Valores Invlidos"}),S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Representativo"})]})}),S.jsx("tbody",{children:q.inputClasses.filter(R=>R.class).map((R,P)=>S.jsxs("tr",{className:"border-t border-gray-200",children:[S.jsx("td",{className:"px-3 py-2 font-medium",children:R.class}),S.jsx("td",{className:"px-3 py-2 text-green-700",children:R.validValues||"-"}),S.jsx("td",{className:"px-3 py-2 text-red-700",children:R.invalidValues||"-"}),S.jsx("td",{className:"px-3 py-2",children:R.representative||"-"})]},P))})]})})]}),q.outputClasses&&q.outputClasses.some(R=>R.class)&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Classes de Sada"}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Classe"}),S.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Resultado Esperado"})]})}),S.jsx("tbody",{children:q.outputClasses.filter(R=>R.class).map((R,P)=>S.jsxs("tr",{className:"border-t border-gray-200",children:[S.jsx("td",{className:"px-3 py-2 font-medium",children:R.class}),S.jsx("td",{className:"px-3 py-2",children:R.expectedResult||"-"})]},P))})]})})]}),q.boundaryValues&&S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Valores Limite"}),S.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:q.boundaryValues})]})]},q.id))})]})}function CQ({onLogin:t}){const[e,r]=Ge.useState(""),[n,i]=Ge.useState(""),[s,a]=Ge.useState(!1),[o,l]=Ge.useState(null),u=async c=>{c.preventDefault(),a(!0),l(null);try{await Zz(e,n),t()}catch(f){console.error("Erro no login:",f),f.code==="auth/user-not-found"||f.code==="auth/wrong-password"||f.code==="auth/invalid-credential"?l("Email ou senha invlidos"):f.code==="auth/too-many-requests"?l("Muitas tentativas. Tente novamente mais tarde."):l("Erro ao fazer login. Tente novamente.")}finally{a(!1)}};return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("img",{src:"/DocSimplesReports/logo.jpg",alt:"Logo",className:"w-16 h-16 mx-auto mb-4 rounded-full object-contain"}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DocSimples Reports"}),S.jsx("p",{className:"text-gray-500 mt-1",children:"Sistema de Documentao de Testes"})]}),S.jsxs("form",{onSubmit:u,className:"space-y-5",children:[o&&S.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[S.jsx(nk,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),S.jsx("p",{className:"text-sm text-red-700",children:o})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),S.jsxs("div",{className:"relative",children:[S.jsx(cD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),S.jsx("input",{type:"email",value:e,onChange:c=>r(c.target.value),className:"input-field pl-10",placeholder:"seu@email.com",required:!0,disabled:s})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),S.jsxs("div",{className:"relative",children:[S.jsx(uD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),S.jsx("input",{type:"password",value:n,onChange:c=>i(c.target.value),className:"input-field pl-10",placeholder:"",required:!0,disabled:s})]})]}),S.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-3 flex items-center justify-center space-x-2",children:s?S.jsxs(S.Fragment,{children:[S.jsx(ho,{className:"w-5 h-5 animate-spin"}),S.jsx("span",{children:"Entrando..."})]}):S.jsx("span",{children:"Entrar"})})]}),S.jsx("p",{className:"text-center text-xs text-gray-400 mt-6",children:"Acesso restrito a colaboradores autorizados"})]})})}function RQ({user:t,onLogout:e}){const[r,n]=Ge.useState(!1),i=zd(),s=[{path:"/",label:"Incio",icon:lD},{path:"/registro",label:"Registrar Teste",icon:lw},{path:"/documentos",label:"Documentos",icon:f0},{path:"/gherkin",label:"Gerar Gherkin",icon:Gc},{path:"/particao",label:"Tabela Partio",icon:J5}];return S.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between h-16",children:[S.jsx("div",{className:"flex items-center",children:S.jsxs(Su,{to:"/",className:"flex items-center space-x-2",children:[S.jsx("img",{src:"/DocSimplesReports/logo.jpg",alt:"Logo",className:"w-8 h-8 rounded-lg object-contain"}),S.jsx("span",{className:"font-bold text-xl text-gray-900",children:"DocSimples Reports"})]})}),S.jsx("div",{className:"hidden md:flex items-center space-x-1",children:s.map(a=>{const o=a.icon,l=i.pathname===a.path;return S.jsxs(Su,{to:a.path,className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[S.jsx(o,{className:"w-4 h-4"}),S.jsx("span",{children:a.label})]},a.path)})}),S.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[S.jsx("span",{className:"text-sm text-gray-600",children:t==null?void 0:t.email}),S.jsxs("button",{onClick:e,className:"flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[S.jsx(AE,{className:"w-4 h-4"}),S.jsx("span",{children:"Sair"})]})]}),S.jsx("div",{className:"md:hidden flex items-center",children:S.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:r?S.jsx(Ad,{className:"w-6 h-6"}):S.jsx(hD,{className:"w-6 h-6"})})})]}),r&&S.jsxs("div",{className:"md:hidden pb-4",children:[s.map(a=>{const o=a.icon,l=i.pathname===a.path;return S.jsxs(Su,{to:a.path,onClick:()=>n(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ${l?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"}`,children:[S.jsx(o,{className:"w-4 h-4"}),S.jsx("span",{children:a.label})]},a.path)}),S.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2",children:[S.jsx("p",{className:"px-3 py-1 text-xs text-gray-500",children:t==null?void 0:t.email}),S.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 w-full",children:[S.jsx(AE,{className:"w-4 h-4"}),S.jsx("span",{children:"Sair"})]})]})]})]})})}function PQ(){const[t,e]=Ge.useState(null),[r,n]=Ge.useState(!0),[i,s]=Ge.useState([]),[a,o]=Ge.useState([]),[l,u]=Ge.useState(!0),[c,f]=Ge.useState(null);Ge.useEffect(()=>{const v=tq(w=>{e(w),n(!1)});return()=>v()},[]),Ge.useEffect(()=>{if(!t){u(!1);return}let v,w;try{v=Kz(I=>{console.log("[App] Recebidos documentos:",I.length),s(I),u(!1)},I=>{console.error("[App] Erro Firebase testDocuments:",I),f(`Erro ao carregar documentos: ${I.message}`),u(!1)}),w=Jz(I=>{console.log("[App] Recebidos requirements:",I.length),o(I)},I=>{console.error("[App] Erro Firebase requirements:",I)})}catch(I){console.error("Erro ao conectar com Firebase:",I),f("Erro ao conectar com o banco de dados. Verifique a configurao do Firebase."),u(!1)}return()=>{v&&v(),w&&w()}},[t]);const m=async()=>{try{await eq()}catch(v){console.error("Erro ao fazer logout:",v)}},h=async v=>{try{await qz(v)}catch(w){console.error("Erro ao adicionar documento:",w),alert("Erro ao salvar. Verifique a conexo.")}},x=async(v,w)=>{try{await Hz(v,w)}catch(I){console.error("Erro ao atualizar documento:",I)}},_=async v=>{try{await Gz(v)}catch(w){console.error("Erro ao excluir documento:",w)}},A=async v=>{try{await Xz(v)}catch(w){console.error("Erro ao adicionar requisito:",w)}},d=async(v,w)=>{try{await Yz(v,w)}catch(I){console.error("Erro ao atualizar requisito:",I)}},y=async v=>{try{await Qz(v)}catch(w){console.error("Erro ao excluir requisito:",w)}};return r?S.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx(ho,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),S.jsx("p",{className:"text-gray-600",children:"Verificando autenticao..."})]})}):t?l?S.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx(ho,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),S.jsx("p",{className:"text-gray-600",children:"Conectando ao banco de dados..."})]})}):c?S.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:S.jsxs("div",{className:"card max-w-md text-center",children:[S.jsx("p",{className:"text-red-600 font-medium",children:c}),S.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Configure as credenciais do Firebase em src/firebase.js"})]})}):S.jsx(YO,{children:S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsx(RQ,{user:t,onLogout:m}),S.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:S.jsxs(qO,{children:[S.jsx(Nc,{path:"/",element:S.jsx(bD,{testDocuments:i,requirements:a})}),S.jsx(Nc,{path:"/registro",element:S.jsx(iq,{onSave:h})}),S.jsx(Nc,{path:"/documentos",element:S.jsx(NQ,{documents:i,onUpdate:x,onDelete:_})}),S.jsx(Nc,{path:"/gherkin",element:S.jsx(kQ,{documents:i})}),S.jsx(Nc,{path:"/particao",element:S.jsx(IQ,{requirements:a,onAdd:A,onUpdate:d,onDelete:y})})]})})]})}):S.jsx(CQ,{onLogin:()=>{}})}c2.createRoot(document.getElementById("root")).render(S.jsx(z6.StrictMode,{children:S.jsx(PQ,{})}));export{hr as _,hf as c,AP as g};
