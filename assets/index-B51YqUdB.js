var tP=Object.defineProperty;var rP=(t,e,r)=>e in t?tP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var lr=(t,e,r)=>rP(t,typeof e!="symbol"?e+"":e,r);function nP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g6={exports:{}},Ug={},y6={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=Symbol.for("react.element"),sP=Symbol.for("react.portal"),oP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),fP=Symbol.for("react.suspense"),dP=Symbol.for("react.memo"),pP=Symbol.for("react.lazy"),Wb=Symbol.iterator;function mP(t){return t===null||typeof t!="object"?null:(t=Wb&&t[Wb]||t["@@iterator"],typeof t=="function"?t:null)}var v6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w6=Object.assign,_6={};function Ih(t,e,r){this.props=t,this.context=e,this.refs=_6,this.updater=r||v6}Ih.prototype.isReactComponent={};Ih.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ih.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b6(){}b6.prototype=Ih.prototype;function Vw(t,e,r){this.props=t,this.context=e,this.refs=_6,this.updater=r||v6}var zw=Vw.prototype=new b6;zw.constructor=Vw;w6(zw,Ih.prototype);zw.isPureReactComponent=!0;var Hb=Array.isArray,x6=Object.prototype.hasOwnProperty,qw={current:null},E6={key:!0,ref:!0,__self:!0,__source:!0};function A6(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)x6.call(e,n)&&!E6.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Rd,type:t,key:s,ref:o,props:i,_owner:qw.current}}function gP(t,e){return{$$typeof:Rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rd}function yP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $b=/\/+/g;function J1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yP(""+t.key):e.toString(36)}function mm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rd:case sP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+J1(o,0):n,Hb(i)?(r="",t!=null&&(r=t.replace($b,"$&/")+"/"),mm(i,e,r,"",function(u){return u})):i!=null&&(Ww(i)&&(i=gP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($b,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Hb(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+J1(s,a);o+=mm(s,e,r,l,i)}else if(l=mP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+J1(s,a++),o+=mm(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ep(t,e,r){if(t==null)return t;var n=[],i=0;return mm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},gm={transition:null},wP={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:gm,ReactCurrentOwner:qw};function S6(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Ep,forEach:function(t,e,r){Ep(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ep(t,function(){e++}),e},toArray:function(t){return Ep(t,function(e){return e})||[]},only:function(t){if(!Ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=Ih;zt.Fragment=oP;zt.Profiler=lP;zt.PureComponent=Vw;zt.StrictMode=aP;zt.Suspense=fP;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;zt.act=S6;zt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=w6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)x6.call(e,l)&&!E6.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Rd,type:t.type,key:i,ref:s,props:n,_owner:o}};zt.createContext=function(t){return t={$$typeof:cP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uP,_context:t},t.Consumer=t};zt.createElement=A6;zt.createFactory=function(t){var e=A6.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:hP,render:t}};zt.isValidElement=Ww;zt.lazy=function(t){return{$$typeof:pP,_payload:{_status:-1,_result:t},_init:vP}};zt.memo=function(t,e){return{$$typeof:dP,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};zt.unstable_act=S6;zt.useCallback=function(t,e){return yi.current.useCallback(t,e)};zt.useContext=function(t){return yi.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};zt.useEffect=function(t,e){return yi.current.useEffect(t,e)};zt.useId=function(){return yi.current.useId()};zt.useImperativeHandle=function(t,e,r){return yi.current.useImperativeHandle(t,e,r)};zt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return yi.current.useMemo(t,e)};zt.useReducer=function(t,e,r){return yi.current.useReducer(t,e,r)};zt.useRef=function(t){return yi.current.useRef(t)};zt.useState=function(t){return yi.current.useState(t)};zt.useSyncExternalStore=function(t,e,r){return yi.current.useSyncExternalStore(t,e,r)};zt.useTransition=function(){return yi.current.useTransition()};zt.version="18.3.1";y6.exports=zt;var Ye=y6.exports;const T6=iP(Ye),_P=nP({__proto__:null,default:T6},[Ye]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=Ye,xP=Symbol.for("react.element"),EP=Symbol.for("react.fragment"),AP=Object.prototype.hasOwnProperty,SP=bP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TP={key:!0,ref:!0,__self:!0,__source:!0};function N6(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)AP.call(e,n)&&!TP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xP,type:t,key:s,ref:o,props:i,_owner:SP.current}}Ug.Fragment=EP;Ug.jsx=N6;Ug.jsxs=N6;g6.exports=Ug;var z=g6.exports,Yv={},I6={exports:{}},is={},k6={exports:{}},C6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ae,de){var Ae=ae.length;ae.push(de);e:for(;0<Ae;){var he=Ae-1>>>1,O=ae[he];if(0<i(O,de))ae[he]=de,ae[Ae]=O,Ae=he;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var de=ae[0],Ae=ae.pop();if(Ae!==de){ae[0]=Ae;e:for(var he=0,O=ae.length,K=O>>>1;he<K;){var Q=2*(he+1)-1,ue=ae[Q],ee=Q+1,j=ae[ee];if(0>i(ue,Ae))ee<O&&0>i(j,ue)?(ae[he]=j,ae[ee]=Ae,he=ee):(ae[he]=ue,ae[Q]=Ae,he=Q);else if(ee<O&&0>i(j,Ae))ae[he]=j,ae[ee]=Ae,he=ee;else break e}}return de}function i(ae,de){var Ae=ae.sortIndex-de.sortIndex;return Ae!==0?Ae:ae.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,m=3,h=!1,E=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ae){for(var de=r(u);de!==null;){if(de.callback===null)n(u);else if(de.startTime<=ae)n(u),de.sortIndex=de.expirationTime,e(l,de);else break;de=r(u)}}function y(ae){if(b=!1,v(ae),!E)if(r(l)!==null)E=!0,ye(L);else{var de=r(u);de!==null&&se(y,de.startTime-ae)}}function L(ae,de){E=!1,b&&(b=!1,d(S),S=-1),h=!0;var Ae=m;try{for(v(de),f=r(l);f!==null&&(!(f.expirationTime>de)||ae&&!D());){var he=f.callback;if(typeof he=="function"){f.callback=null,m=f.priorityLevel;var O=he(f.expirationTime<=de);de=t.unstable_now(),typeof O=="function"?f.callback=O:f===r(l)&&n(l),v(de)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var Q=r(u);Q!==null&&se(y,Q.startTime-de),K=!1}return K}finally{f=null,m=Ae,h=!1}}var W=!1,A=null,S=-1,_=5,q=-1;function D(){return!(t.unstable_now()-q<_)}function I(){if(A!==null){var ae=t.unstable_now();q=ae;var de=!0;try{de=A(!0,ae)}finally{de?P():(W=!1,A=null)}}else W=!1}var P;if(typeof w=="function")P=function(){w(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,oe=C.port2;C.port1.onmessage=I,P=function(){oe.postMessage(null)}}else P=function(){T(I,0)};function ye(ae){A=ae,W||(W=!0,P())}function se(ae,de){S=T(function(){ae(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,ye(L))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ae){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var Ae=m;m=de;try{return ae()}finally{m=Ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,de){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ae=m;m=ae;try{return de()}finally{m=Ae}},t.unstable_scheduleCallback=function(ae,de,Ae){var he=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?he+Ae:he):Ae=he,ae){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Ae+O,ae={id:c++,callback:de,priorityLevel:ae,startTime:Ae,expirationTime:O,sortIndex:-1},Ae>he?(ae.sortIndex=Ae,e(u,ae),r(l)===null&&ae===r(u)&&(b?(d(S),S=-1):b=!0,se(y,Ae-he))):(ae.sortIndex=O,e(l,ae),E||h||(E=!0,ye(L))),ae},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ae){var de=m;return function(){var Ae=m;m=de;try{return ae.apply(this,arguments)}finally{m=Ae}}}})(C6);k6.exports=C6;var NP=k6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=Ye,ns=NP;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R6=new Set,Zf={};function Bu(t,e){lh(t,e),lh(t+"Capture",e)}function lh(t,e){for(Zf[t]=e,t=0;t<e.length;t++)R6.add(e[t])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qv=Object.prototype.hasOwnProperty,kP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gb={},Kb={};function CP(t){return Qv.call(Kb,t)?!0:Qv.call(Gb,t)?!1:kP.test(t)?Kb[t]=!0:(Gb[t]=!0,!1)}function RP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PP(t,e,r,n){if(e===null||typeof e>"u"||RP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mn[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mn[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mn[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mn[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mn[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mn[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mn[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mn[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mn[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hw=/[\-:]([a-z])/g;function $w(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hw,$w);Mn[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hw,$w);Mn[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hw,$w);Mn[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mn[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mn[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gw(t,e,r,n){var i=Mn.hasOwnProperty(e)?Mn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PP(e,r,i,n)&&(r=null),n||i===null?CP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Aa=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),Nc=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),P6=Symbol.for("react.provider"),L6=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),e2=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),O6=Symbol.for("react.offscreen"),Xb=Symbol.iterator;function lf(t){return t===null||typeof t!="object"?null:(t=Xb&&t[Xb]||t["@@iterator"],typeof t=="function"?t:null)}var Br=Object.assign,Z1;function Af(t){if(Z1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Z1=e&&e[1]||""}return`
`+Z1+t}var e0=!1;function t0(t,e){if(!t||e0)return"";e0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{e0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Af(t):""}function LP(t){switch(t.tag){case 5:return Af(t.type);case 16:return Af("Lazy");case 13:return Af("Suspense");case 19:return Af("SuspenseList");case 0:case 2:case 15:return t=t0(t.type,!1),t;case 11:return t=t0(t.type.render,!1),t;case 1:return t=t0(t.type,!0),t;default:return""}}function t2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ic:return"Fragment";case Nc:return"Portal";case Jv:return"Profiler";case Kw:return"StrictMode";case Zv:return"Suspense";case e2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L6:return(t.displayName||"Context")+".Consumer";case P6:return(t._context.displayName||"Context")+".Provider";case Xw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:t2(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return t2(t(e))}catch{}}return null}function OP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t2(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=D6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sp(t){t._valueTracker||(t._valueTracker=DP(t))}function F6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=D6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function r2(t,e){var r=e.checked;return Br({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Nl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j6(t,e){e=e.checked,e!=null&&Gw(t,"checked",e,!1)}function n2(t,e){j6(t,e);var r=Nl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i2(t,e.type,r):e.hasOwnProperty("defaultValue")&&i2(t,e.type,Nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function i2(t,e,r){(e!=="number"||Wm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sf=Array.isArray;function zc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Nl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function s2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return Br({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Qe(92));if(Sf(r)){if(1<r.length)throw Error(Qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Nl(r)}}function M6(t,e){var r=Nl(e.value),n=Nl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tp,U6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tp=Tp||document.createElement("div"),Tp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FP=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(t){FP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Of[e]=Of[t]})});function V6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Of.hasOwnProperty(t)&&Of[t]?(""+e).trim():e+"px"}function z6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=V6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var jP=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a2(t,e){if(e){if(jP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function l2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u2=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var c2=null,qc=null,Wc=null;function ex(t){if(t=Od(t)){if(typeof c2!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=Hg(e),c2(t.stateNode,t.type,e))}}function q6(t){qc?Wc?Wc.push(t):Wc=[t]:qc=t}function W6(){if(qc){var t=qc,e=Wc;if(Wc=qc=null,ex(t),e)for(t=0;t<e.length;t++)ex(e[t])}}function H6(t,e){return t(e)}function $6(){}var r0=!1;function G6(t,e,r){if(r0)return t(e,r);r0=!0;try{return H6(t,e,r)}finally{r0=!1,(qc!==null||Wc!==null)&&($6(),W6())}}function td(t,e){var r=t.stateNode;if(r===null)return null;var n=Hg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Qe(231,e,typeof r));return r}var h2=!1;if(ma)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){h2=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{h2=!1}function MP(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Df=!1,Hm=null,$m=!1,f2=null,BP={onError:function(t){Df=!0,Hm=t}};function UP(t,e,r,n,i,s,o,a,l){Df=!1,Hm=null,MP.apply(BP,arguments)}function VP(t,e,r,n,i,s,o,a,l){if(UP.apply(this,arguments),Df){if(Df){var u=Hm;Df=!1,Hm=null}else throw Error(Qe(198));$m||($m=!0,f2=u)}}function Uu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function K6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tx(t){if(Uu(t)!==t)throw Error(Qe(188))}function zP(t){var e=t.alternate;if(!e){if(e=Uu(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return tx(i),t;if(s===n)return tx(i),e;s=s.sibling}throw Error(Qe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(r.alternate!==n)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?t:e}function X6(t){return t=zP(t),t!==null?Y6(t):null}function Y6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y6(t);if(e!==null)return e;t=t.sibling}return null}var Q6=ns.unstable_scheduleCallback,rx=ns.unstable_cancelCallback,qP=ns.unstable_shouldYield,WP=ns.unstable_requestPaint,rn=ns.unstable_now,HP=ns.unstable_getCurrentPriorityLevel,Jw=ns.unstable_ImmediatePriority,J6=ns.unstable_UserBlockingPriority,Gm=ns.unstable_NormalPriority,$P=ns.unstable_LowPriority,Z6=ns.unstable_IdlePriority,Vg=null,Co=null;function GP(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Vg,t,void 0,(t.current.flags&128)===128)}catch{}}var Gs=Math.clz32?Math.clz32:YP,KP=Math.log,XP=Math.LN2;function YP(t){return t>>>=0,t===0?32:31-(KP(t)/XP|0)|0}var Np=64,Ip=4194304;function Tf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Km(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Tf(a):(s&=o,s!==0&&(n=Tf(s)))}else o=r&~i,o!==0?n=Tf(o):s!==0&&(n=Tf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Gs(e),i=1<<r,n|=t[r],e&=~i;return n}function QP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gs(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=QP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function d2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eT(){var t=Np;return Np<<=1,!(Np&4194240)&&(Np=64),t}function n0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Pd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gs(e),t[e]=r}function ZP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Gs(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Zw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var cr=0;function tT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rT,e5,nT,iT,sT,p2=!1,kp=[],fl=null,dl=null,pl=null,rd=new Map,nd=new Map,el=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(t,e){switch(t){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function cf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Od(e),e!==null&&e5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tL(t,e,r,n,i){switch(e){case"focusin":return fl=cf(fl,t,e,r,n,i),!0;case"dragenter":return dl=cf(dl,t,e,r,n,i),!0;case"mouseover":return pl=cf(pl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,cf(rd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,nd.set(s,cf(nd.get(s)||null,t,e,r,n,i)),!0}return!1}function oT(t){var e=pu(t.target);if(e!==null){var r=Uu(e);if(r!==null){if(e=r.tag,e===13){if(e=K6(r),e!==null){t.blockedOn=e,sT(t.priority,function(){nT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ym(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=m2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);u2=n,r.target.dispatchEvent(n),u2=null}else return e=Od(r),e!==null&&e5(e),t.blockedOn=r,!1;e.shift()}return!0}function ix(t,e,r){ym(t)&&r.delete(e)}function rL(){p2=!1,fl!==null&&ym(fl)&&(fl=null),dl!==null&&ym(dl)&&(dl=null),pl!==null&&ym(pl)&&(pl=null),rd.forEach(ix),nd.forEach(ix)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,p2||(p2=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,rL)))}function id(t){function e(i){return hf(i,t)}if(0<kp.length){hf(kp[0],t);for(var r=1;r<kp.length;r++){var n=kp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fl!==null&&hf(fl,t),dl!==null&&hf(dl,t),pl!==null&&hf(pl,t),rd.forEach(e),nd.forEach(e),r=0;r<el.length;r++)n=el[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<el.length&&(r=el[0],r.blockedOn===null);)oT(r),r.blockedOn===null&&el.shift()}var Hc=Aa.ReactCurrentBatchConfig,Xm=!0;function nL(t,e,r,n){var i=cr,s=Hc.transition;Hc.transition=null;try{cr=1,t5(t,e,r,n)}finally{cr=i,Hc.transition=s}}function iL(t,e,r,n){var i=cr,s=Hc.transition;Hc.transition=null;try{cr=4,t5(t,e,r,n)}finally{cr=i,Hc.transition=s}}function t5(t,e,r,n){if(Xm){var i=m2(t,e,r,n);if(i===null)d0(t,e,n,Ym,r),nx(t,n);else if(tL(i,t,e,r,n))n.stopPropagation();else if(nx(t,n),e&4&&-1<eL.indexOf(t)){for(;i!==null;){var s=Od(i);if(s!==null&&rT(s),s=m2(t,e,r,n),s===null&&d0(t,e,n,Ym,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else d0(t,e,n,null,r)}}var Ym=null;function m2(t,e,r,n){if(Ym=null,t=Qw(n),t=pu(t),t!==null)if(e=Uu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=K6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ym=t,null}function aT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HP()){case Jw:return 1;case J6:return 4;case Gm:case $P:return 16;case Z6:return 536870912;default:return 16}default:return 16}}var al=null,r5=null,vm=null;function lT(){if(vm)return vm;var t,e=r5,r=e.length,n,i="value"in al?al.value:al.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return vm=i.slice(t,1<n?1-n:void 0)}function wm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cp(){return!0}function sx(){return!1}function ss(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cp:sx,this.isPropagationStopped=sx,this}return Br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),e}var kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n5=ss(kh),Ld=Br({},kh,{view:0,detail:0}),sL=ss(Ld),i0,s0,ff,zg=Br({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ff&&(ff&&t.type==="mousemove"?(i0=t.screenX-ff.screenX,s0=t.screenY-ff.screenY):s0=i0=0,ff=t),i0)},movementY:function(t){return"movementY"in t?t.movementY:s0}}),ox=ss(zg),oL=Br({},zg,{dataTransfer:0}),aL=ss(oL),lL=Br({},Ld,{relatedTarget:0}),o0=ss(lL),uL=Br({},kh,{animationName:0,elapsedTime:0,pseudoElement:0}),cL=ss(uL),hL=Br({},kh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fL=ss(hL),dL=Br({},kh,{data:0}),ax=ss(dL),pL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gL[t])?!!e[t]:!1}function i5(){return yL}var vL=Br({},Ld,{key:function(t){if(t.key){var e=pL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i5,charCode:function(t){return t.type==="keypress"?wm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wL=ss(vL),_L=Br({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lx=ss(_L),bL=Br({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i5}),xL=ss(bL),EL=Br({},kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),AL=ss(EL),SL=Br({},zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TL=ss(SL),NL=[9,13,27,32],s5=ma&&"CompositionEvent"in window,Ff=null;ma&&"documentMode"in document&&(Ff=document.documentMode);var IL=ma&&"TextEvent"in window&&!Ff,uT=ma&&(!s5||Ff&&8<Ff&&11>=Ff),ux=" ",cx=!1;function cT(t,e){switch(t){case"keyup":return NL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kc=!1;function kL(t,e){switch(t){case"compositionend":return hT(e);case"keypress":return e.which!==32?null:(cx=!0,ux);case"textInput":return t=e.data,t===ux&&cx?null:t;default:return null}}function CL(t,e){if(kc)return t==="compositionend"||!s5&&cT(t,e)?(t=lT(),vm=r5=al=null,kc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uT&&e.locale!=="ko"?null:e.data;default:return null}}var RL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RL[t.type]:e==="textarea"}function fT(t,e,r,n){q6(n),e=Qm(e,"onChange"),0<e.length&&(r=new n5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var jf=null,sd=null;function PL(t){ET(t,0)}function qg(t){var e=Pc(t);if(F6(e))return t}function LL(t,e){if(t==="change")return e}var dT=!1;if(ma){var a0;if(ma){var l0="oninput"in document;if(!l0){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),l0=typeof fx.oninput=="function"}a0=l0}else a0=!1;dT=a0&&(!document.documentMode||9<document.documentMode)}function dx(){jf&&(jf.detachEvent("onpropertychange",pT),sd=jf=null)}function pT(t){if(t.propertyName==="value"&&qg(sd)){var e=[];fT(e,sd,t,Qw(t)),G6(PL,e)}}function OL(t,e,r){t==="focusin"?(dx(),jf=e,sd=r,jf.attachEvent("onpropertychange",pT)):t==="focusout"&&dx()}function DL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qg(sd)}function FL(t,e){if(t==="click")return qg(e)}function jL(t,e){if(t==="input"||t==="change")return qg(e)}function ML(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ys=typeof Object.is=="function"?Object.is:ML;function od(t,e){if(Ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qv.call(e,i)||!Ys(t[i],e[i]))return!1}return!0}function px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mx(t,e){var r=px(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=px(r)}}function mT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gT(){for(var t=window,e=Wm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wm(t.document)}return e}function o5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BL(t){var e=gT(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mT(r.ownerDocument.documentElement,r)){if(n!==null&&o5(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=mx(r,s);var o=mx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UL=ma&&"documentMode"in document&&11>=document.documentMode,Cc=null,g2=null,Mf=null,y2=!1;function gx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;y2||Cc==null||Cc!==Wm(n)||(n=Cc,"selectionStart"in n&&o5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mf&&od(Mf,n)||(Mf=n,n=Qm(g2,"onSelect"),0<n.length&&(e=new n5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cc)))}function Rp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Rc={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},u0={},yT={};ma&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function Wg(t){if(u0[t])return u0[t];if(!Rc[t])return t;var e=Rc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yT)return u0[t]=e[r];return t}var vT=Wg("animationend"),wT=Wg("animationiteration"),_T=Wg("animationstart"),bT=Wg("transitionend"),xT=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(t,e){xT.set(t,e),Bu(e,[t])}for(var c0=0;c0<yx.length;c0++){var h0=yx[c0],VL=h0.toLowerCase(),zL=h0[0].toUpperCase()+h0.slice(1);jl(VL,"on"+zL)}jl(vT,"onAnimationEnd");jl(wT,"onAnimationIteration");jl(_T,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(bT,"onTransitionEnd");lh("onMouseEnter",["mouseout","mouseover"]);lh("onMouseLeave",["mouseout","mouseover"]);lh("onPointerEnter",["pointerout","pointerover"]);lh("onPointerLeave",["pointerout","pointerover"]);Bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nf));function vx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VP(n,e,void 0,t),t.currentTarget=null}function ET(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;vx(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;vx(i,a,u),s=l}}}if($m)throw t=f2,$m=!1,f2=null,t}function Cr(t,e){var r=e[x2];r===void 0&&(r=e[x2]=new Set);var n=t+"__bubble";r.has(n)||(AT(e,t,2,!1),r.add(n))}function f0(t,e,r){var n=0;e&&(n|=4),AT(r,t,n,e)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Pp]){t[Pp]=!0,R6.forEach(function(r){r!=="selectionchange"&&(qL.has(r)||f0(r,!1,t),f0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pp]||(e[Pp]=!0,f0("selectionchange",!1,e))}}function AT(t,e,r,n){switch(aT(e)){case 1:var i=nL;break;case 4:i=iL;break;default:i=t5}r=i.bind(null,e,r,t),i=void 0,!h2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function d0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pu(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}G6(function(){var u=s,c=Qw(r),f=[];e:{var m=xT.get(t);if(m!==void 0){var h=n5,E=t;switch(t){case"keypress":if(wm(r)===0)break e;case"keydown":case"keyup":h=wL;break;case"focusin":E="focus",h=o0;break;case"focusout":E="blur",h=o0;break;case"beforeblur":case"afterblur":h=o0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=aL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xL;break;case vT:case wT:case _T:h=cL;break;case bT:h=AL;break;case"scroll":h=sL;break;case"wheel":h=TL;break;case"copy":case"cut":case"paste":h=fL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lx}var b=(e&4)!==0,T=!b&&t==="scroll",d=b?m!==null?m+"Capture":null:m;b=[];for(var w=u,v;w!==null;){v=w;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,d!==null&&(y=td(w,d),y!=null&&b.push(ld(w,y,v)))),T)break;w=w.return}0<b.length&&(m=new h(m,E,null,r,c),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==u2&&(E=r.relatedTarget||r.fromElement)&&(pu(E)||E[ga]))break e;if((h||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,h?(E=r.relatedTarget||r.toElement,h=u,E=E?pu(E):null,E!==null&&(T=Uu(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=u),h!==E)){if(b=ox,y="onMouseLeave",d="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=lx,y="onPointerLeave",d="onPointerEnter",w="pointer"),T=h==null?m:Pc(h),v=E==null?m:Pc(E),m=new b(y,w+"leave",h,r,c),m.target=T,m.relatedTarget=v,y=null,pu(c)===u&&(b=new b(d,w+"enter",E,r,c),b.target=v,b.relatedTarget=T,y=b),T=y,h&&E)t:{for(b=h,d=E,w=0,v=b;v;v=fc(v))w++;for(v=0,y=d;y;y=fc(y))v++;for(;0<w-v;)b=fc(b),w--;for(;0<v-w;)d=fc(d),v--;for(;w--;){if(b===d||d!==null&&b===d.alternate)break t;b=fc(b),d=fc(d)}b=null}else b=null;h!==null&&wx(f,m,h,b,!1),E!==null&&T!==null&&wx(f,T,E,b,!0)}}e:{if(m=u?Pc(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var L=LL;else if(hx(m))if(dT)L=jL;else{L=DL;var W=OL}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=FL);if(L&&(L=L(t,u))){fT(f,L,r,c);break e}W&&W(t,m,u),t==="focusout"&&(W=m._wrapperState)&&W.controlled&&m.type==="number"&&i2(m,"number",m.value)}switch(W=u?Pc(u):window,t){case"focusin":(hx(W)||W.contentEditable==="true")&&(Cc=W,g2=u,Mf=null);break;case"focusout":Mf=g2=Cc=null;break;case"mousedown":y2=!0;break;case"contextmenu":case"mouseup":case"dragend":y2=!1,gx(f,r,c);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":gx(f,r,c)}var A;if(s5)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else kc?cT(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(uT&&r.locale!=="ko"&&(kc||S!=="onCompositionStart"?S==="onCompositionEnd"&&kc&&(A=lT()):(al=c,r5="value"in al?al.value:al.textContent,kc=!0)),W=Qm(u,S),0<W.length&&(S=new ax(S,t,null,r,c),f.push({event:S,listeners:W}),A?S.data=A:(A=hT(r),A!==null&&(S.data=A)))),(A=IL?kL(t,r):CL(t,r))&&(u=Qm(u,"onBeforeInput"),0<u.length&&(c=new ax("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=A))}ET(f,e)})}function ld(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,r),s!=null&&n.unshift(ld(t,s,i)),s=td(t,e),s!=null&&n.push(ld(t,s,i))),t=t.return}return n}function fc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wx(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=td(r,s),l!=null&&o.unshift(ld(r,l,a))):i||(l=td(r,s),l!=null&&o.push(ld(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var WL=/\r\n?/g,HL=/\u0000|\uFFFD/g;function _x(t){return(typeof t=="string"?t:""+t).replace(WL,`
`).replace(HL,"")}function Lp(t,e,r){if(e=_x(e),_x(t)!==e&&r)throw Error(Qe(425))}function Jm(){}var v2=null,w2=null;function _2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b2=typeof setTimeout=="function"?setTimeout:void 0,$L=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,GL=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(t){return bx.resolve(null).then(t).catch(KL)}:b2;function KL(t){setTimeout(function(){throw t})}function p0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),id(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);id(e)}function ml(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ch=Math.random().toString(36).slice(2),To="__reactFiber$"+Ch,ud="__reactProps$"+Ch,ga="__reactContainer$"+Ch,x2="__reactEvents$"+Ch,XL="__reactListeners$"+Ch,YL="__reactHandles$"+Ch;function pu(t){var e=t[To];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ga]||r[To]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xx(t);t!==null;){if(r=t[To])return r;t=xx(t)}return e}t=r,r=t.parentNode}return null}function Od(t){return t=t[To]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function Hg(t){return t[ud]||null}var E2=[],Lc=-1;function Ml(t){return{current:t}}function Lr(t){0>Lc||(t.current=E2[Lc],E2[Lc]=null,Lc--)}function Nr(t,e){Lc++,E2[Lc]=t.current,t.current=e}var Il={},ei=Ml(Il),Di=Ml(!1),Tu=Il;function uh(t,e){var r=t.type.contextTypes;if(!r)return Il;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(t){return t=t.childContextTypes,t!=null}function Zm(){Lr(Di),Lr(ei)}function Ex(t,e,r){if(ei.current!==Il)throw Error(Qe(168));Nr(ei,e),Nr(Di,r)}function ST(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Qe(108,OP(t)||"Unknown",i));return Br({},r,n)}function eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Il,Tu=ei.current,Nr(ei,t),Nr(Di,Di.current),!0}function Ax(t,e,r){var n=t.stateNode;if(!n)throw Error(Qe(169));r?(t=ST(t,e,Tu),n.__reactInternalMemoizedMergedChildContext=t,Lr(Di),Lr(ei),Nr(ei,t)):Lr(Di),Nr(Di,r)}var aa=null,$g=!1,m0=!1;function TT(t){aa===null?aa=[t]:aa.push(t)}function QL(t){$g=!0,TT(t)}function Bl(){if(!m0&&aa!==null){m0=!0;var t=0,e=cr;try{var r=aa;for(cr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}aa=null,$g=!1}catch(i){throw aa!==null&&(aa=aa.slice(t+1)),Q6(Jw,Bl),i}finally{cr=e,m0=!1}}return null}var Oc=[],Dc=0,tg=null,rg=0,_s=[],bs=0,Nu=null,ua=1,ca="";function uu(t,e){Oc[Dc++]=rg,Oc[Dc++]=tg,tg=t,rg=e}function NT(t,e,r){_s[bs++]=ua,_s[bs++]=ca,_s[bs++]=Nu,Nu=t;var n=ua;t=ca;var i=32-Gs(n)-1;n&=~(1<<i),r+=1;var s=32-Gs(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ua=1<<32-Gs(e)+i|r<<i|n,ca=s+t}else ua=1<<s|r<<i|n,ca=t}function a5(t){t.return!==null&&(uu(t,1),NT(t,1,0))}function l5(t){for(;t===tg;)tg=Oc[--Dc],Oc[Dc]=null,rg=Oc[--Dc],Oc[Dc]=null;for(;t===Nu;)Nu=_s[--bs],_s[bs]=null,ca=_s[--bs],_s[bs]=null,ua=_s[--bs],_s[bs]=null}var rs=null,Ji=null,Fr=!1,Ws=null;function IT(t,e){var r=As(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Sx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rs=t,Ji=ml(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rs=t,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Nu!==null?{id:ua,overflow:ca}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=As(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rs=t,Ji=null,!0):!1;default:return!1}}function A2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S2(t){if(Fr){var e=Ji;if(e){var r=e;if(!Sx(t,e)){if(A2(t))throw Error(Qe(418));e=ml(r.nextSibling);var n=rs;e&&Sx(t,e)?IT(n,r):(t.flags=t.flags&-4097|2,Fr=!1,rs=t)}}else{if(A2(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,Fr=!1,rs=t}}}function Tx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rs=t}function Op(t){if(t!==rs)return!1;if(!Fr)return Tx(t),Fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_2(t.type,t.memoizedProps)),e&&(e=Ji)){if(A2(t))throw kT(),Error(Qe(418));for(;e;)IT(t,e),e=ml(e.nextSibling)}if(Tx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ji=ml(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ji=null}}else Ji=rs?ml(t.stateNode.nextSibling):null;return!0}function kT(){for(var t=Ji;t;)t=ml(t.nextSibling)}function ch(){Ji=rs=null,Fr=!1}function u5(t){Ws===null?Ws=[t]:Ws.push(t)}var JL=Aa.ReactCurrentBatchConfig;function df(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var n=r.stateNode}if(!n)throw Error(Qe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,t))}return t}function Dp(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nx(t){var e=t._init;return e(t._payload)}function CT(t){function e(d,w){if(t){var v=d.deletions;v===null?(d.deletions=[w],d.flags|=16):v.push(w)}}function r(d,w){if(!t)return null;for(;w!==null;)e(d,w),w=w.sibling;return null}function n(d,w){for(d=new Map;w!==null;)w.key!==null?d.set(w.key,w):d.set(w.index,w),w=w.sibling;return d}function i(d,w){return d=wl(d,w),d.index=0,d.sibling=null,d}function s(d,w,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<w?(d.flags|=2,w):v):(d.flags|=2,w)):(d.flags|=1048576,w)}function o(d){return t&&d.alternate===null&&(d.flags|=2),d}function a(d,w,v,y){return w===null||w.tag!==6?(w=x0(v,d.mode,y),w.return=d,w):(w=i(w,v),w.return=d,w)}function l(d,w,v,y){var L=v.type;return L===Ic?c(d,w,v.props.children,y,v.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ja&&Nx(L)===w.type)?(y=i(w,v.props),y.ref=df(d,w,v),y.return=d,y):(y=Tm(v.type,v.key,v.props,null,d.mode,y),y.ref=df(d,w,v),y.return=d,y)}function u(d,w,v,y){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=E0(v,d.mode,y),w.return=d,w):(w=i(w,v.children||[]),w.return=d,w)}function c(d,w,v,y,L){return w===null||w.tag!==7?(w=bu(v,d.mode,y,L),w.return=d,w):(w=i(w,v),w.return=d,w)}function f(d,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=x0(""+w,d.mode,v),w.return=d,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ap:return v=Tm(w.type,w.key,w.props,null,d.mode,v),v.ref=df(d,null,w),v.return=d,v;case Nc:return w=E0(w,d.mode,v),w.return=d,w;case Ja:var y=w._init;return f(d,y(w._payload),v)}if(Sf(w)||lf(w))return w=bu(w,d.mode,v,null),w.return=d,w;Dp(d,w)}return null}function m(d,w,v,y){var L=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return L!==null?null:a(d,w,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ap:return v.key===L?l(d,w,v,y):null;case Nc:return v.key===L?u(d,w,v,y):null;case Ja:return L=v._init,m(d,w,L(v._payload),y)}if(Sf(v)||lf(v))return L!==null?null:c(d,w,v,y,null);Dp(d,v)}return null}function h(d,w,v,y,L){if(typeof y=="string"&&y!==""||typeof y=="number")return d=d.get(v)||null,a(w,d,""+y,L);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ap:return d=d.get(y.key===null?v:y.key)||null,l(w,d,y,L);case Nc:return d=d.get(y.key===null?v:y.key)||null,u(w,d,y,L);case Ja:var W=y._init;return h(d,w,v,W(y._payload),L)}if(Sf(y)||lf(y))return d=d.get(v)||null,c(w,d,y,L,null);Dp(w,y)}return null}function E(d,w,v,y){for(var L=null,W=null,A=w,S=w=0,_=null;A!==null&&S<v.length;S++){A.index>S?(_=A,A=null):_=A.sibling;var q=m(d,A,v[S],y);if(q===null){A===null&&(A=_);break}t&&A&&q.alternate===null&&e(d,A),w=s(q,w,S),W===null?L=q:W.sibling=q,W=q,A=_}if(S===v.length)return r(d,A),Fr&&uu(d,S),L;if(A===null){for(;S<v.length;S++)A=f(d,v[S],y),A!==null&&(w=s(A,w,S),W===null?L=A:W.sibling=A,W=A);return Fr&&uu(d,S),L}for(A=n(d,A);S<v.length;S++)_=h(A,d,S,v[S],y),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?S:_.key),w=s(_,w,S),W===null?L=_:W.sibling=_,W=_);return t&&A.forEach(function(D){return e(d,D)}),Fr&&uu(d,S),L}function b(d,w,v,y){var L=lf(v);if(typeof L!="function")throw Error(Qe(150));if(v=L.call(v),v==null)throw Error(Qe(151));for(var W=L=null,A=w,S=w=0,_=null,q=v.next();A!==null&&!q.done;S++,q=v.next()){A.index>S?(_=A,A=null):_=A.sibling;var D=m(d,A,q.value,y);if(D===null){A===null&&(A=_);break}t&&A&&D.alternate===null&&e(d,A),w=s(D,w,S),W===null?L=D:W.sibling=D,W=D,A=_}if(q.done)return r(d,A),Fr&&uu(d,S),L;if(A===null){for(;!q.done;S++,q=v.next())q=f(d,q.value,y),q!==null&&(w=s(q,w,S),W===null?L=q:W.sibling=q,W=q);return Fr&&uu(d,S),L}for(A=n(d,A);!q.done;S++,q=v.next())q=h(A,d,S,q.value,y),q!==null&&(t&&q.alternate!==null&&A.delete(q.key===null?S:q.key),w=s(q,w,S),W===null?L=q:W.sibling=q,W=q);return t&&A.forEach(function(I){return e(d,I)}),Fr&&uu(d,S),L}function T(d,w,v,y){if(typeof v=="object"&&v!==null&&v.type===Ic&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ap:e:{for(var L=v.key,W=w;W!==null;){if(W.key===L){if(L=v.type,L===Ic){if(W.tag===7){r(d,W.sibling),w=i(W,v.props.children),w.return=d,d=w;break e}}else if(W.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ja&&Nx(L)===W.type){r(d,W.sibling),w=i(W,v.props),w.ref=df(d,W,v),w.return=d,d=w;break e}r(d,W);break}else e(d,W);W=W.sibling}v.type===Ic?(w=bu(v.props.children,d.mode,y,v.key),w.return=d,d=w):(y=Tm(v.type,v.key,v.props,null,d.mode,y),y.ref=df(d,w,v),y.return=d,d=y)}return o(d);case Nc:e:{for(W=v.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){r(d,w.sibling),w=i(w,v.children||[]),w.return=d,d=w;break e}else{r(d,w);break}else e(d,w);w=w.sibling}w=E0(v,d.mode,y),w.return=d,d=w}return o(d);case Ja:return W=v._init,T(d,w,W(v._payload),y)}if(Sf(v))return E(d,w,v,y);if(lf(v))return b(d,w,v,y);Dp(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(r(d,w.sibling),w=i(w,v),w.return=d,d=w):(r(d,w),w=x0(v,d.mode,y),w.return=d,d=w),o(d)):r(d,w)}return T}var hh=CT(!0),RT=CT(!1),ng=Ml(null),ig=null,Fc=null,c5=null;function h5(){c5=Fc=ig=null}function f5(t){var e=ng.current;Lr(ng),t._currentValue=e}function T2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $c(t,e){ig=t,c5=Fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oi=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(c5!==t)if(t={context:t,memoizedValue:e,next:null},Fc===null){if(ig===null)throw Error(Qe(308));Fc=t,ig.dependencies={lanes:0,firstContext:t}}else Fc=Fc.next=t;return e}var mu=null;function d5(t){mu===null?mu=[t]:mu.push(t)}function PT(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,d5(e)):(r.next=i.next,i.next=r),e.interleaved=r,ya(t,n)}function ya(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Za=!1;function p5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ya(t,r)}return i=n.interleaved,i===null?(e.next=e,d5(n)):(e.next=i.next,i.next=e),n.interleaved=e,ya(t,r)}function _m(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zw(t,r)}}function Ix(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sg(t,e,r,n){var i=t.updateQueue;Za=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,h=a.eventTime;if((n&m)===m){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,b=a;switch(m=e,h=r,b.tag){case 1:if(E=b.payload,typeof E=="function"){f=E.call(h,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,m=typeof E=="function"?E.call(h,f,m):E,m==null)break e;f=Br({},f,m);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else h={eventTime:h,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ku|=o,t.lanes=o,t.memoizedState=f}}function kx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Qe(191,i));i.call(n)}}}var Dd={},Ro=Ml(Dd),cd=Ml(Dd),hd=Ml(Dd);function gu(t){if(t===Dd)throw Error(Qe(174));return t}function m5(t,e){switch(Nr(hd,e),Nr(cd,t),Nr(Ro,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o2(e,t)}Lr(Ro),Nr(Ro,e)}function fh(){Lr(Ro),Lr(cd),Lr(hd)}function OT(t){gu(hd.current);var e=gu(Ro.current),r=o2(e,t.type);e!==r&&(Nr(cd,t),Nr(Ro,r))}function g5(t){cd.current===t&&(Lr(Ro),Lr(cd))}var jr=Ml(0);function og(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var g0=[];function y5(){for(var t=0;t<g0.length;t++)g0[t]._workInProgressVersionPrimary=null;g0.length=0}var bm=Aa.ReactCurrentDispatcher,y0=Aa.ReactCurrentBatchConfig,Iu=0,Mr=null,_n=null,Nn=null,ag=!1,Bf=!1,fd=0,ZL=0;function Wn(){throw Error(Qe(321))}function v5(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ys(t[r],e[r]))return!1;return!0}function w5(t,e,r,n,i,s){if(Iu=s,Mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bm.current=t===null||t.memoizedState===null?n7:i7,t=r(n,i),Bf){s=0;do{if(Bf=!1,fd=0,25<=s)throw Error(Qe(301));s+=1,Nn=_n=null,e.updateQueue=null,bm.current=s7,t=r(n,i)}while(Bf)}if(bm.current=lg,e=_n!==null&&_n.next!==null,Iu=0,Nn=_n=Mr=null,ag=!1,e)throw Error(Qe(300));return t}function _5(){var t=fd!==0;return fd=0,t}function bo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Mr.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Ns(){if(_n===null){var t=Mr.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Nn===null?Mr.memoizedState:Nn.next;if(e!==null)Nn=e,_n=t;else{if(t===null)throw Error(Qe(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?Mr.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function dd(t,e){return typeof e=="function"?e(t):e}function v0(t){var e=Ns(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=_n,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Iu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Mr.lanes|=c,ku|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ys(n,e.memoizedState)||(Oi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Mr.lanes|=s,ku|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function w0(t){var e=Ns(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ys(s,e.memoizedState)||(Oi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function DT(){}function FT(t,e){var r=Mr,n=Ns(),i=e(),s=!Ys(n.memoizedState,i);if(s&&(n.memoizedState=i,Oi=!0),n=n.queue,b5(BT.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Nn!==null&&Nn.memoizedState.tag&1){if(r.flags|=2048,pd(9,MT.bind(null,r,n,i,e),void 0,null),kn===null)throw Error(Qe(349));Iu&30||jT(r,e,i)}return i}function jT(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function MT(t,e,r,n){e.value=r,e.getSnapshot=n,UT(e)&&VT(t)}function BT(t,e,r){return r(function(){UT(e)&&VT(t)})}function UT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ys(t,r)}catch{return!0}}function VT(t){var e=ya(t,1);e!==null&&Ks(e,t,1,-1)}function Cx(t){var e=bo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},e.queue=t,t=t.dispatch=r7.bind(null,Mr,t),[e.memoizedState,t]}function pd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function zT(){return Ns().memoizedState}function xm(t,e,r,n){var i=bo();Mr.flags|=t,i.memoizedState=pd(1|e,r,void 0,n===void 0?null:n)}function Gg(t,e,r,n){var i=Ns();n=n===void 0?null:n;var s=void 0;if(_n!==null){var o=_n.memoizedState;if(s=o.destroy,n!==null&&v5(n,o.deps)){i.memoizedState=pd(e,r,s,n);return}}Mr.flags|=t,i.memoizedState=pd(1|e,r,s,n)}function Rx(t,e){return xm(8390656,8,t,e)}function b5(t,e){return Gg(2048,8,t,e)}function qT(t,e){return Gg(4,2,t,e)}function WT(t,e){return Gg(4,4,t,e)}function HT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $T(t,e,r){return r=r!=null?r.concat([t]):null,Gg(4,4,HT.bind(null,e,t),r)}function x5(){}function GT(t,e){var r=Ns();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v5(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function KT(t,e){var r=Ns();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v5(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function XT(t,e,r){return Iu&21?(Ys(r,e)||(r=eT(),Mr.lanes|=r,ku|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oi=!0),t.memoizedState=r)}function e7(t,e){var r=cr;cr=r!==0&&4>r?r:4,t(!0);var n=y0.transition;y0.transition={};try{t(!1),e()}finally{cr=r,y0.transition=n}}function YT(){return Ns().memoizedState}function t7(t,e,r){var n=vl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QT(t))JT(e,r);else if(r=PT(t,e,r,n),r!==null){var i=gi();Ks(r,t,n,i),ZT(r,e,n)}}function r7(t,e,r){var n=vl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QT(t))JT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ys(a,o)){var l=e.interleaved;l===null?(i.next=i,d5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=PT(t,e,i,n),r!==null&&(i=gi(),Ks(r,t,n,i),ZT(r,e,n))}}function QT(t){var e=t.alternate;return t===Mr||e!==null&&e===Mr}function JT(t,e){Bf=ag=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ZT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zw(t,r)}}var lg={readContext:Ts,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},n7={readContext:Ts,useCallback:function(t,e){return bo().memoizedState=[t,e===void 0?null:e],t},useContext:Ts,useEffect:Rx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xm(4194308,4,HT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xm(4194308,4,t,e)},useInsertionEffect:function(t,e){return xm(4,2,t,e)},useMemo:function(t,e){var r=bo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=bo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=t7.bind(null,Mr,t),[n.memoizedState,t]},useRef:function(t){var e=bo();return t={current:t},e.memoizedState=t},useState:Cx,useDebugValue:x5,useDeferredValue:function(t){return bo().memoizedState=t},useTransition:function(){var t=Cx(!1),e=t[0];return t=e7.bind(null,t[1]),bo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Mr,i=bo();if(Fr){if(r===void 0)throw Error(Qe(407));r=r()}else{if(r=e(),kn===null)throw Error(Qe(349));Iu&30||jT(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Rx(BT.bind(null,n,s,t),[t]),n.flags|=2048,pd(9,MT.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=bo(),e=kn.identifierPrefix;if(Fr){var r=ca,n=ua;r=(n&~(1<<32-Gs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ZL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i7={readContext:Ts,useCallback:GT,useContext:Ts,useEffect:b5,useImperativeHandle:$T,useInsertionEffect:qT,useLayoutEffect:WT,useMemo:KT,useReducer:v0,useRef:zT,useState:function(){return v0(dd)},useDebugValue:x5,useDeferredValue:function(t){var e=Ns();return XT(e,_n.memoizedState,t)},useTransition:function(){var t=v0(dd)[0],e=Ns().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:FT,useId:YT,unstable_isNewReconciler:!1},s7={readContext:Ts,useCallback:GT,useContext:Ts,useEffect:b5,useImperativeHandle:$T,useInsertionEffect:qT,useLayoutEffect:WT,useMemo:KT,useReducer:w0,useRef:zT,useState:function(){return w0(dd)},useDebugValue:x5,useDeferredValue:function(t){var e=Ns();return _n===null?e.memoizedState=t:XT(e,_n.memoizedState,t)},useTransition:function(){var t=w0(dd)[0],e=Ns().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:FT,useId:YT,unstable_isNewReconciler:!1};function zs(t,e){if(t&&t.defaultProps){e=Br({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function N2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Br({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kg={isMounted:function(t){return(t=t._reactInternals)?Uu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gi(),i=vl(t),s=pa(n,i);s.payload=e,r!=null&&(s.callback=r),e=gl(t,s,i),e!==null&&(Ks(e,t,i,n),_m(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gi(),i=vl(t),s=pa(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=gl(t,s,i),e!==null&&(Ks(e,t,i,n),_m(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gi(),n=vl(t),i=pa(r,n);i.tag=2,e!=null&&(i.callback=e),e=gl(t,i,n),e!==null&&(Ks(e,t,n,r),_m(e,t,n))}};function Px(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!od(r,n)||!od(i,s):!0}function eN(t,e,r){var n=!1,i=Il,s=e.contextType;return typeof s=="object"&&s!==null?s=Ts(s):(i=Fi(e)?Tu:ei.current,n=e.contextTypes,s=(n=n!=null)?uh(t,i):Il),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Lx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kg.enqueueReplaceState(e,e.state,null)}function I2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},p5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ts(s):(s=Fi(e)?Tu:ei.current,i.context=uh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N2(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kg.enqueueReplaceState(i,i.state,null),sg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dh(t,e){try{var r="",n=e;do r+=LP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function k2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var o7=typeof WeakMap=="function"?WeakMap:Map;function tN(t,e,r){r=pa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cg||(cg=!0,B2=n),k2(t,e)},r}function rN(t,e,r){r=pa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){k2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){k2(t,e),typeof n!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ox(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new o7;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_7.bind(null,t,e,r),e.then(t,t))}function Dx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pa(-1,1),e.tag=2,gl(r,e,1))),r.lanes|=1),t)}var a7=Aa.ReactCurrentOwner,Oi=!1;function mi(t,e,r,n){e.child=t===null?RT(e,null,r,n):hh(e,t.child,r,n)}function jx(t,e,r,n,i){r=r.render;var s=e.ref;return $c(e,i),n=w5(t,e,r,n,s,i),r=_5(),t!==null&&!Oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(Fr&&r&&a5(e),e.flags|=1,mi(t,e,n,i),e.child)}function Mx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!C5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,nN(t,e,s,n,i)):(t=Tm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:od,r(o,n)&&t.ref===e.ref)return va(t,e,i)}return e.flags|=1,t=wl(s,n),t.ref=e.ref,t.return=e,e.child=t}function nN(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(od(s,n)&&t.ref===e.ref)if(Oi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Oi=!0);else return e.lanes=t.lanes,va(t,e,i)}return C2(t,e,r,n,i)}function iN(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Mc,Qi),Qi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nr(Mc,Qi),Qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nr(Mc,Qi),Qi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Nr(Mc,Qi),Qi|=n;return mi(t,e,i,r),e.child}function sN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function C2(t,e,r,n,i){var s=Fi(r)?Tu:ei.current;return s=uh(e,s),$c(e,i),r=w5(t,e,r,n,s,i),n=_5(),t!==null&&!Oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(Fr&&n&&a5(e),e.flags|=1,mi(t,e,r,i),e.child)}function Bx(t,e,r,n,i){if(Fi(r)){var s=!0;eg(e)}else s=!1;if($c(e,i),e.stateNode===null)Em(t,e),eN(e,r,n),I2(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=Fi(r)?Tu:ei.current,u=uh(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Lx(e,o,n,u),Za=!1;var m=e.memoizedState;o.state=m,sg(e,n,o,i),l=e.memoizedState,a!==n||m!==l||Di.current||Za?(typeof c=="function"&&(N2(e,r,c,n),l=e.memoizedState),(a=Za||Px(e,r,a,n,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,LT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zs(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=Fi(r)?Tu:ei.current,l=uh(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Lx(e,o,n,l),Za=!1,m=e.memoizedState,o.state=m,sg(e,n,o,i);var E=e.memoizedState;a!==f||m!==E||Di.current||Za?(typeof h=="function"&&(N2(e,r,h,n),E=e.memoizedState),(u=Za||Px(e,r,u,n,m,E,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=E),o.props=n,o.state=E,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return R2(t,e,r,n,s,i)}function R2(t,e,r,n,i,s){sN(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ax(e,r,!1),va(t,e,s);n=e.stateNode,a7.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=hh(e,t.child,null,s),e.child=hh(e,null,a,s)):mi(t,e,a,s),e.memoizedState=n.state,i&&Ax(e,r,!0),e.child}function oN(t){var e=t.stateNode;e.pendingContext?Ex(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ex(t,e.context,!1),m5(t,e.containerInfo)}function Ux(t,e,r,n,i){return ch(),u5(i),e.flags|=256,mi(t,e,r,n),e.child}var P2={dehydrated:null,treeContext:null,retryLane:0};function L2(t){return{baseLanes:t,cachePool:null,transitions:null}}function aN(t,e,r){var n=e.pendingProps,i=jr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nr(jr,i&1),t===null)return S2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qg(o,n,0,null),t=bu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=L2(r),e.memoizedState=P2,t):E5(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return l7(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=wl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wl(a,s):(s=bu(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?L2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=P2,n}return s=t.child,t=s.sibling,n=wl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function E5(t,e){return e=Qg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fp(t,e,r,n){return n!==null&&u5(n),hh(e,t.child,null,r),t=E5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l7(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=_0(Error(Qe(422))),Fp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Qg({mode:"visible",children:n.children},i,0,null),s=bu(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&hh(e,t.child,null,o),e.child.memoizedState=L2(o),e.memoizedState=P2,s);if(!(e.mode&1))return Fp(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Qe(419)),n=_0(s,n,void 0),Fp(t,e,o,n)}if(a=(o&t.childLanes)!==0,Oi||a){if(n=kn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ya(t,i),Ks(n,t,i,-1))}return k5(),n=_0(Error(Qe(421))),Fp(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=b7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ji=ml(i.nextSibling),rs=e,Fr=!0,Ws=null,t!==null&&(_s[bs++]=ua,_s[bs++]=ca,_s[bs++]=Nu,ua=t.id,ca=t.overflow,Nu=e),e=E5(e,n.children),e.flags|=4096,e)}function Vx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),T2(t.return,e,r)}function b0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function lN(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(mi(t,e,n.children,r),n=jr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,r,e);else if(t.tag===19)Vx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nr(jr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&og(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),b0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&og(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}b0(e,!0,r,null,s);break;case"together":b0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Em(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function va(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ku|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,r=wl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=wl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function u7(t,e,r){switch(e.tag){case 3:oN(e),ch();break;case 5:OT(e);break;case 1:Fi(e.type)&&eg(e);break;case 4:m5(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nr(ng,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nr(jr,jr.current&1),e.flags|=128,null):r&e.child.childLanes?aN(t,e,r):(Nr(jr,jr.current&1),t=va(t,e,r),t!==null?t.sibling:null);Nr(jr,jr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nr(jr,jr.current),n)break;return null;case 22:case 23:return e.lanes=0,iN(t,e,r)}return va(t,e,r)}var uN,O2,cN,hN;uN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};O2=function(){};cN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,gu(Ro.current);var s=null;switch(r){case"input":i=r2(t,i),n=r2(t,n),s=[];break;case"select":i=Br({},i,{value:void 0}),n=Br({},n,{value:void 0}),s=[];break;case"textarea":i=s2(t,i),n=s2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Jm)}a2(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Cr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hN=function(t,e,r,n){r!==n&&(e.flags|=4)};function pf(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function c7(t,e,r){var n=e.pendingProps;switch(l5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return Fi(e.type)&&Zm(),Hn(e),null;case 3:return n=e.stateNode,fh(),Lr(Di),Lr(ei),y5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Op(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(z2(Ws),Ws=null))),O2(t,e),Hn(e),null;case 5:g5(e);var i=gu(hd.current);if(r=e.type,t!==null&&e.stateNode!=null)cN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Qe(166));return Hn(e),null}if(t=gu(Ro.current),Op(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[To]=e,n[ud]=s,t=(e.mode&1)!==0,r){case"dialog":Cr("cancel",n),Cr("close",n);break;case"iframe":case"object":case"embed":Cr("load",n);break;case"video":case"audio":for(i=0;i<Nf.length;i++)Cr(Nf[i],n);break;case"source":Cr("error",n);break;case"img":case"image":case"link":Cr("error",n),Cr("load",n);break;case"details":Cr("toggle",n);break;case"input":Yb(n,s),Cr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",n);break;case"textarea":Jb(n,s),Cr("invalid",n)}a2(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lp(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lp(n.textContent,a,t),i=["children",""+a]):Zf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Cr("scroll",n)}switch(r){case"input":Sp(n),Qb(n,s,!0);break;case"textarea":Sp(n),Zb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[To]=e,t[ud]=n,uN(t,e,!1,!1),e.stateNode=t;e:{switch(o=l2(r,n),r){case"dialog":Cr("cancel",t),Cr("close",t),i=n;break;case"iframe":case"object":case"embed":Cr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Nf.length;i++)Cr(Nf[i],t);i=n;break;case"source":Cr("error",t),i=n;break;case"img":case"image":case"link":Cr("error",t),Cr("load",t),i=n;break;case"details":Cr("toggle",t),i=n;break;case"input":Yb(t,n),i=r2(t,n),Cr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Br({},n,{value:void 0}),Cr("invalid",t);break;case"textarea":Jb(t,n),i=s2(t,n),Cr("invalid",t);break;default:i=n}a2(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?z6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U6(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ed(t,l):typeof l=="number"&&ed(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Cr("scroll",t):l!=null&&Gw(t,s,l,o))}switch(r){case"input":Sp(t),Qb(t,n,!1);break;case"textarea":Sp(t),Zb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Nl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zc(t,!!n.multiple,s,!1):n.defaultValue!=null&&zc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)hN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Qe(166));if(r=gu(hd.current),gu(Ro.current),Op(e)){if(n=e.stateNode,r=e.memoizedProps,n[To]=e,(s=n.nodeValue!==r)&&(t=rs,t!==null))switch(t.tag){case 3:Lp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[To]=e,e.stateNode=n}return Hn(e),null;case 13:if(Lr(jr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fr&&Ji!==null&&e.mode&1&&!(e.flags&128))kT(),ch(),e.flags|=98560,s=!1;else if(s=Op(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[To]=e}else ch(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else Ws!==null&&(z2(Ws),Ws=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||jr.current&1?bn===0&&(bn=3):k5())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return fh(),O2(t,e),t===null&&ad(e.stateNode.containerInfo),Hn(e),null;case 10:return f5(e.type._context),Hn(e),null;case 17:return Fi(e.type)&&Zm(),Hn(e),null;case 19:if(Lr(jr),s=e.memoizedState,s===null)return Hn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)pf(s,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=og(t),o!==null){for(e.flags|=128,pf(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nr(jr,jr.current&1|2),e.child}t=t.sibling}s.tail!==null&&rn()>ph&&(e.flags|=128,n=!0,pf(s,!1),e.lanes=4194304)}else{if(!n)if(t=og(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fr)return Hn(e),null}else 2*rn()-s.renderingStartTime>ph&&r!==1073741824&&(e.flags|=128,n=!0,pf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rn(),e.sibling=null,r=jr.current,Nr(jr,n?r&1|2:r&1),e):(Hn(e),null);case 22:case 23:return I5(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qi&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function h7(t,e){switch(l5(e),e.tag){case 1:return Fi(e.type)&&Zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fh(),Lr(Di),Lr(ei),y5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g5(e),null;case 13:if(Lr(jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));ch()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lr(jr),null;case 4:return fh(),null;case 10:return f5(e.type._context),null;case 22:case 23:return I5(),null;case 24:return null;default:return null}}var jp=!1,Jn=!1,f7=typeof WeakSet=="function"?WeakSet:Set,ot=null;function jc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kr(t,e,n)}else r.current=null}function D2(t,e,r){try{r()}catch(n){Kr(t,e,n)}}var zx=!1;function d7(t,e){if(v2=Xm,t=gT(),o5(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===i&&(a=o),m===s&&++c===n&&(l=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(w2={focusedElem:t,selectionRange:r},Xm=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,T=E.memoizedState,d=e.stateNode,w=d.getSnapshotBeforeUpdate(e.elementType===e.type?b:zs(e.type,b),T);d.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(y){Kr(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return E=zx,zx=!1,E}function Uf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&D2(e,r,s)}i=i.next}while(i!==n)}}function Xg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function F2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fN(t){var e=t.alternate;e!==null&&(t.alternate=null,fN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[To],delete e[ud],delete e[x2],delete e[XL],delete e[YL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dN(t){return t.tag===5||t.tag===3||t.tag===4}function qx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function j2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Jm));else if(n!==4&&(t=t.child,t!==null))for(j2(t,e,r),t=t.sibling;t!==null;)j2(t,e,r),t=t.sibling}function M2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(M2(t,e,r),t=t.sibling;t!==null;)M2(t,e,r),t=t.sibling}var On=null,qs=!1;function Ka(t,e,r){for(r=r.child;r!==null;)pN(t,e,r),r=r.sibling}function pN(t,e,r){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Vg,r)}catch{}switch(r.tag){case 5:Jn||jc(r,e);case 6:var n=On,i=qs;On=null,Ka(t,e,r),On=n,qs=i,On!==null&&(qs?(t=On,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):On.removeChild(r.stateNode));break;case 18:On!==null&&(qs?(t=On,r=r.stateNode,t.nodeType===8?p0(t.parentNode,r):t.nodeType===1&&p0(t,r),id(t)):p0(On,r.stateNode));break;case 4:n=On,i=qs,On=r.stateNode.containerInfo,qs=!0,Ka(t,e,r),On=n,qs=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&D2(r,e,o),i=i.next}while(i!==n)}Ka(t,e,r);break;case 1:if(!Jn&&(jc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Kr(r,e,a)}Ka(t,e,r);break;case 21:Ka(t,e,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,Ka(t,e,r),Jn=n):Ka(t,e,r);break;default:Ka(t,e,r)}}function Wx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new f7),e.forEach(function(n){var i=x7.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,qs=!1;break e;case 3:On=a.stateNode.containerInfo,qs=!0;break e;case 4:On=a.stateNode.containerInfo,qs=!0;break e}a=a.return}if(On===null)throw Error(Qe(160));pN(s,o,i),On=null,qs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Kr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mN(e,t),e=e.sibling}function mN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),go(t),n&4){try{Uf(3,t,t.return),Xg(3,t)}catch(b){Kr(t,t.return,b)}try{Uf(5,t,t.return)}catch(b){Kr(t,t.return,b)}}break;case 1:Bs(e,t),go(t),n&512&&r!==null&&jc(r,r.return);break;case 5:if(Bs(e,t),go(t),n&512&&r!==null&&jc(r,r.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(b){Kr(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&j6(i,s),l2(a,o);var u=l2(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?z6(i,f):c==="dangerouslySetInnerHTML"?U6(i,f):c==="children"?ed(i,f):Gw(i,c,f,u)}switch(a){case"input":n2(i,s);break;case"textarea":M6(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?zc(i,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?zc(i,!!s.multiple,s.defaultValue,!0):zc(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(b){Kr(t,t.return,b)}}break;case 6:if(Bs(e,t),go(t),n&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Kr(t,t.return,b)}}break;case 3:if(Bs(e,t),go(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(b){Kr(t,t.return,b)}break;case 4:Bs(e,t),go(t);break;case 13:Bs(e,t),go(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(T5=rn())),n&4&&Wx(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Jn=(u=Jn)||c,Bs(e,t),Jn=u):Bs(e,t),go(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ot=t,c=t.child;c!==null;){for(f=ot=c;ot!==null;){switch(m=ot,h=m.child,m.tag){case 0:case 11:case 14:case 15:Uf(4,m,m.return);break;case 1:jc(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){Kr(n,r,b)}}break;case 5:jc(m,m.return);break;case 22:if(m.memoizedState!==null){$x(f);continue}}h!==null?(h.return=m,ot=h):$x(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V6("display",o))}catch(b){Kr(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Kr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(e,t),go(t),n&4&&Wx(t);break;case 21:break;default:Bs(e,t),go(t)}}function go(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dN(r)){var n=r;break e}r=r.return}throw Error(Qe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ed(i,""),n.flags&=-33);var s=qx(t);M2(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=qx(t);j2(t,a,o);break;default:throw Error(Qe(161))}}catch(l){Kr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p7(t,e,r){ot=t,gN(t)}function gN(t,e,r){for(var n=(t.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||jp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=jp;var u=Jn;if(jp=o,(Jn=l)&&!u)for(ot=i;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?Gx(i):l!==null?(l.return=o,ot=l):Gx(i);for(;s!==null;)ot=s,gN(s),s=s.sibling;ot=i,jp=a,Jn=u}Hx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):Hx(t)}}function Hx(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||Xg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:zs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kx(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kx(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&id(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Jn||e.flags&512&&F2(e)}catch(m){Kr(e,e.return,m)}}if(e===t){ot=null;break}if(r=e.sibling,r!==null){r.return=e.return,ot=r;break}ot=e.return}}function $x(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ot=r;break}ot=e.return}}function Gx(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xg(4,e)}catch(l){Kr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Kr(e,i,l)}}var s=e.return;try{F2(e)}catch(l){Kr(e,s,l)}break;case 5:var o=e.return;try{F2(e)}catch(l){Kr(e,o,l)}}}catch(l){Kr(e,e.return,l)}if(e===t){ot=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ot=a;break}ot=e.return}}var m7=Math.ceil,ug=Aa.ReactCurrentDispatcher,A5=Aa.ReactCurrentOwner,Ss=Aa.ReactCurrentBatchConfig,er=0,kn=null,cn=null,jn=0,Qi=0,Mc=Ml(0),bn=0,md=null,ku=0,Yg=0,S5=0,Vf=null,Pi=null,T5=0,ph=1/0,oa=null,cg=!1,B2=null,yl=null,Mp=!1,ll=null,hg=0,zf=0,U2=null,Am=-1,Sm=0;function gi(){return er&6?rn():Am!==-1?Am:Am=rn()}function vl(t){return t.mode&1?er&2&&jn!==0?jn&-jn:JL.transition!==null?(Sm===0&&(Sm=eT()),Sm):(t=cr,t!==0||(t=window.event,t=t===void 0?16:aT(t.type)),t):1}function Ks(t,e,r,n){if(50<zf)throw zf=0,U2=null,Error(Qe(185));Pd(t,r,n),(!(er&2)||t!==kn)&&(t===kn&&(!(er&2)&&(Yg|=r),bn===4&&tl(t,jn)),ji(t,n),r===1&&er===0&&!(e.mode&1)&&(ph=rn()+500,$g&&Bl()))}function ji(t,e){var r=t.callbackNode;JP(t,e);var n=Km(t,t===kn?jn:0);if(n===0)r!==null&&rx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&rx(r),e===1)t.tag===0?QL(Kx.bind(null,t)):TT(Kx.bind(null,t)),GL(function(){!(er&6)&&Bl()}),r=null;else{switch(tT(n)){case 1:r=Jw;break;case 4:r=J6;break;case 16:r=Gm;break;case 536870912:r=Z6;break;default:r=Gm}r=AN(r,yN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yN(t,e){if(Am=-1,Sm=0,er&6)throw Error(Qe(327));var r=t.callbackNode;if(Gc()&&t.callbackNode!==r)return null;var n=Km(t,t===kn?jn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fg(t,n);else{e=n;var i=er;er|=2;var s=wN();(kn!==t||jn!==e)&&(oa=null,ph=rn()+500,_u(t,e));do try{v7();break}catch(a){vN(t,a)}while(!0);h5(),ug.current=s,er=i,cn!==null?e=0:(kn=null,jn=0,e=bn)}if(e!==0){if(e===2&&(i=d2(t),i!==0&&(n=i,e=V2(t,i))),e===1)throw r=md,_u(t,0),tl(t,n),ji(t,rn()),r;if(e===6)tl(t,n);else{if(i=t.current.alternate,!(n&30)&&!g7(i)&&(e=fg(t,n),e===2&&(s=d2(t),s!==0&&(n=s,e=V2(t,s))),e===1))throw r=md,_u(t,0),tl(t,n),ji(t,rn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Qe(345));case 2:cu(t,Pi,oa);break;case 3:if(tl(t,n),(n&130023424)===n&&(e=T5+500-rn(),10<e)){if(Km(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=b2(cu.bind(null,t,Pi,oa),e);break}cu(t,Pi,oa);break;case 4:if(tl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Gs(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=rn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m7(n/1960))-n,10<n){t.timeoutHandle=b2(cu.bind(null,t,Pi,oa),n);break}cu(t,Pi,oa);break;case 5:cu(t,Pi,oa);break;default:throw Error(Qe(329))}}}return ji(t,rn()),t.callbackNode===r?yN.bind(null,t):null}function V2(t,e){var r=Vf;return t.current.memoizedState.isDehydrated&&(_u(t,e).flags|=256),t=fg(t,e),t!==2&&(e=Pi,Pi=r,e!==null&&z2(e)),t}function z2(t){Pi===null?Pi=t:Pi.push.apply(Pi,t)}function g7(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ys(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tl(t,e){for(e&=~S5,e&=~Yg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gs(e),n=1<<r;t[r]=-1,e&=~n}}function Kx(t){if(er&6)throw Error(Qe(327));Gc();var e=Km(t,0);if(!(e&1))return ji(t,rn()),null;var r=fg(t,e);if(t.tag!==0&&r===2){var n=d2(t);n!==0&&(e=n,r=V2(t,n))}if(r===1)throw r=md,_u(t,0),tl(t,e),ji(t,rn()),r;if(r===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cu(t,Pi,oa),ji(t,rn()),null}function N5(t,e){var r=er;er|=1;try{return t(e)}finally{er=r,er===0&&(ph=rn()+500,$g&&Bl())}}function Cu(t){ll!==null&&ll.tag===0&&!(er&6)&&Gc();var e=er;er|=1;var r=Ss.transition,n=cr;try{if(Ss.transition=null,cr=1,t)return t()}finally{cr=n,Ss.transition=r,er=e,!(er&6)&&Bl()}}function I5(){Qi=Mc.current,Lr(Mc)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$L(r)),cn!==null)for(r=cn.return;r!==null;){var n=r;switch(l5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zm();break;case 3:fh(),Lr(Di),Lr(ei),y5();break;case 5:g5(n);break;case 4:fh();break;case 13:Lr(jr);break;case 19:Lr(jr);break;case 10:f5(n.type._context);break;case 22:case 23:I5()}r=r.return}if(kn=t,cn=t=wl(t.current,null),jn=Qi=e,bn=0,md=null,S5=Yg=ku=0,Pi=Vf=null,mu!==null){for(e=0;e<mu.length;e++)if(r=mu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}mu=null}return t}function vN(t,e){do{var r=cn;try{if(h5(),bm.current=lg,ag){for(var n=Mr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ag=!1}if(Iu=0,Nn=_n=Mr=null,Bf=!1,fd=0,A5.current=null,r===null||r.return===null){bn=1,md=e,cn=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Dx(o);if(h!==null){h.flags&=-257,Fx(h,o,a,s,e),h.mode&1&&Ox(s,u,e),e=h,l=u;var E=e.updateQueue;if(E===null){var b=new Set;b.add(l),e.updateQueue=b}else E.add(l);break e}else{if(!(e&1)){Ox(s,u,e),k5();break e}l=Error(Qe(426))}}else if(Fr&&a.mode&1){var T=Dx(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Fx(T,o,a,s,e),u5(dh(l,a));break e}}s=l=dh(l,a),bn!==4&&(bn=2),Vf===null?Vf=[s]:Vf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var d=tN(s,l,e);Ix(s,d);break e;case 1:a=l;var w=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(yl===null||!yl.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=rN(s,a,e);Ix(s,y);break e}}s=s.return}while(s!==null)}bN(r)}catch(L){e=L,cn===r&&r!==null&&(cn=r=r.return);continue}break}while(!0)}function wN(){var t=ug.current;return ug.current=lg,t===null?lg:t}function k5(){(bn===0||bn===3||bn===2)&&(bn=4),kn===null||!(ku&268435455)&&!(Yg&268435455)||tl(kn,jn)}function fg(t,e){var r=er;er|=2;var n=wN();(kn!==t||jn!==e)&&(oa=null,_u(t,e));do try{y7();break}catch(i){vN(t,i)}while(!0);if(h5(),er=r,ug.current=n,cn!==null)throw Error(Qe(261));return kn=null,jn=0,bn}function y7(){for(;cn!==null;)_N(cn)}function v7(){for(;cn!==null&&!qP();)_N(cn)}function _N(t){var e=EN(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?bN(t):cn=e,A5.current=null}function bN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=h7(r,e),r!==null){r.flags&=32767,cn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,cn=null;return}}else if(r=c7(r,e,Qi),r!==null){cn=r;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);bn===0&&(bn=5)}function cu(t,e,r){var n=cr,i=Ss.transition;try{Ss.transition=null,cr=1,w7(t,e,r,n)}finally{Ss.transition=i,cr=n}return null}function w7(t,e,r,n){do Gc();while(ll!==null);if(er&6)throw Error(Qe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(ZP(t,s),t===kn&&(cn=kn=null,jn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mp||(Mp=!0,AN(Gm,function(){return Gc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ss.transition,Ss.transition=null;var o=cr;cr=1;var a=er;er|=4,A5.current=null,d7(t,r),mN(r,t),BL(w2),Xm=!!v2,w2=v2=null,t.current=r,p7(r),WP(),er=a,cr=o,Ss.transition=s}else t.current=r;if(Mp&&(Mp=!1,ll=t,hg=i),s=t.pendingLanes,s===0&&(yl=null),GP(r.stateNode),ji(t,rn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cg)throw cg=!1,t=B2,B2=null,t;return hg&1&&t.tag!==0&&Gc(),s=t.pendingLanes,s&1?t===U2?zf++:(zf=0,U2=t):zf=0,Bl(),null}function Gc(){if(ll!==null){var t=tT(hg),e=Ss.transition,r=cr;try{if(Ss.transition=null,cr=16>t?16:t,ll===null)var n=!1;else{if(t=ll,ll=null,hg=0,er&6)throw Error(Qe(331));var i=er;for(er|=4,ot=t.current;ot!==null;){var s=ot,o=s.child;if(ot.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ot=u;ot!==null;){var c=ot;switch(c.tag){case 0:case 11:case 15:Uf(8,c,s)}var f=c.child;if(f!==null)f.return=c,ot=f;else for(;ot!==null;){c=ot;var m=c.sibling,h=c.return;if(fN(c),c===u){ot=null;break}if(m!==null){m.return=h,ot=m;break}ot=h}}}var E=s.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}ot=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ot=o;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uf(9,s,s.return)}var d=s.sibling;if(d!==null){d.return=s.return,ot=d;break e}ot=s.return}}var w=t.current;for(ot=w;ot!==null;){o=ot;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ot=v;else e:for(o=w;ot!==null;){if(a=ot,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xg(9,a)}}catch(L){Kr(a,a.return,L)}if(a===o){ot=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,ot=y;break e}ot=a.return}}if(er=i,Bl(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Vg,t)}catch{}n=!0}return n}finally{cr=r,Ss.transition=e}}return!1}function Xx(t,e,r){e=dh(r,e),e=tN(t,e,1),t=gl(t,e,1),e=gi(),t!==null&&(Pd(t,1,e),ji(t,e))}function Kr(t,e,r){if(t.tag===3)Xx(t,t,r);else for(;e!==null;){if(e.tag===3){Xx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yl===null||!yl.has(n))){t=dh(r,t),t=rN(e,t,1),e=gl(e,t,1),t=gi(),e!==null&&(Pd(e,1,t),ji(e,t));break}}e=e.return}}function _7(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gi(),t.pingedLanes|=t.suspendedLanes&r,kn===t&&(jn&r)===r&&(bn===4||bn===3&&(jn&130023424)===jn&&500>rn()-T5?_u(t,0):S5|=r),ji(t,e)}function xN(t,e){e===0&&(t.mode&1?(e=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):e=1);var r=gi();t=ya(t,e),t!==null&&(Pd(t,e,r),ji(t,r))}function b7(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xN(t,r)}function x7(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Qe(314))}n!==null&&n.delete(e),xN(t,r)}var EN;EN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Di.current)Oi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Oi=!1,u7(t,e,r);Oi=!!(t.flags&131072)}else Oi=!1,Fr&&e.flags&1048576&&NT(e,rg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Em(t,e),t=e.pendingProps;var i=uh(e,ei.current);$c(e,r),i=w5(null,e,n,t,i,r);var s=_5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(n)?(s=!0,eg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p5(e),i.updater=Kg,e.stateNode=i,i._reactInternals=e,I2(e,n,t,r),e=R2(null,e,n,!0,s,r)):(e.tag=0,Fr&&s&&a5(e),mi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Em(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=A7(n),t=zs(n,t),i){case 0:e=C2(null,e,n,t,r);break e;case 1:e=Bx(null,e,n,t,r);break e;case 11:e=jx(null,e,n,t,r);break e;case 14:e=Mx(null,e,n,zs(n.type,t),r);break e}throw Error(Qe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zs(n,i),C2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zs(n,i),Bx(t,e,n,i,r);case 3:e:{if(oN(e),t===null)throw Error(Qe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,LT(t,e),sg(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dh(Error(Qe(423)),e),e=Ux(t,e,n,r,i);break e}else if(n!==i){i=dh(Error(Qe(424)),e),e=Ux(t,e,n,r,i);break e}else for(Ji=ml(e.stateNode.containerInfo.firstChild),rs=e,Fr=!0,Ws=null,r=RT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ch(),n===i){e=va(t,e,r);break e}mi(t,e,n,r)}e=e.child}return e;case 5:return OT(e),t===null&&S2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_2(n,i)?o=null:s!==null&&_2(n,s)&&(e.flags|=32),sN(t,e),mi(t,e,o,r),e.child;case 6:return t===null&&S2(e),null;case 13:return aN(t,e,r);case 4:return m5(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hh(e,null,n,r):mi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zs(n,i),jx(t,e,n,i,r);case 7:return mi(t,e,e.pendingProps,r),e.child;case 8:return mi(t,e,e.pendingProps.children,r),e.child;case 12:return mi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nr(ng,n._currentValue),n._currentValue=o,s!==null)if(Ys(s.value,o)){if(s.children===i.children&&!Di.current){e=va(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=pa(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),T2(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),T2(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,$c(e,r),i=Ts(i),n=n(i),e.flags|=1,mi(t,e,n,r),e.child;case 14:return n=e.type,i=zs(n,e.pendingProps),i=zs(n.type,i),Mx(t,e,n,i,r);case 15:return nN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zs(n,i),Em(t,e),e.tag=1,Fi(n)?(t=!0,eg(e)):t=!1,$c(e,r),eN(e,n,i),I2(e,n,i,r),R2(null,e,n,!0,t,r);case 19:return lN(t,e,r);case 22:return iN(t,e,r)}throw Error(Qe(156,e.tag))};function AN(t,e){return Q6(t,e)}function E7(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,e,r,n){return new E7(t,e,r,n)}function C5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A7(t){if(typeof t=="function")return C5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xw)return 11;if(t===Yw)return 14}return 2}function wl(t,e){var r=t.alternate;return r===null?(r=As(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Tm(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")C5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ic:return bu(r.children,i,s,e);case Kw:o=8,i|=8;break;case Jv:return t=As(12,r,e,i|2),t.elementType=Jv,t.lanes=s,t;case Zv:return t=As(13,r,e,i),t.elementType=Zv,t.lanes=s,t;case e2:return t=As(19,r,e,i),t.elementType=e2,t.lanes=s,t;case O6:return Qg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P6:o=10;break e;case L6:o=9;break e;case Xw:o=11;break e;case Yw:o=14;break e;case Ja:o=16,n=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=As(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function bu(t,e,r,n){return t=As(7,t,n,e),t.lanes=r,t}function Qg(t,e,r,n){return t=As(22,t,n,e),t.elementType=O6,t.lanes=r,t.stateNode={isHidden:!1},t}function x0(t,e,r){return t=As(6,t,null,e),t.lanes=r,t}function E0(t,e,r){return e=As(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S7(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n0(0),this.expirationTimes=n0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R5(t,e,r,n,i,s,o,a,l){return t=new S7(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=As(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p5(s),t}function T7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function SN(t){if(!t)return Il;t=t._reactInternals;e:{if(Uu(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var r=t.type;if(Fi(r))return ST(t,r,e)}return e}function TN(t,e,r,n,i,s,o,a,l){return t=R5(r,n,!0,t,i,s,o,a,l),t.context=SN(null),r=t.current,n=gi(),i=vl(r),s=pa(n,i),s.callback=e??null,gl(r,s,i),t.current.lanes=i,Pd(t,i,n),ji(t,n),t}function Jg(t,e,r,n){var i=e.current,s=gi(),o=vl(i);return r=SN(r),e.context===null?e.context=r:e.pendingContext=r,e=pa(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=gl(i,e,o),t!==null&&(Ks(t,i,o,s),_m(t,i,o)),o}function dg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function P5(t,e){Yx(t,e),(t=t.alternate)&&Yx(t,e)}function N7(){return null}var NN=typeof reportError=="function"?reportError:function(t){console.error(t)};function L5(t){this._internalRoot=t}Zg.prototype.render=L5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));Jg(t,e,null,null)};Zg.prototype.unmount=L5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cu(function(){Jg(null,t,null,null)}),e[ga]=null}};function Zg(t){this._internalRoot=t}Zg.prototype.unstable_scheduleHydration=function(t){if(t){var e=iT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<el.length&&e!==0&&e<el[r].priority;r++);el.splice(r,0,t),r===0&&oT(t)}};function O5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function e1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qx(){}function I7(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=dg(o);s.call(u)}}var o=TN(e,n,t,0,null,!1,!1,"",Qx);return t._reactRootContainer=o,t[ga]=o.current,ad(t.nodeType===8?t.parentNode:t),Cu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=dg(l);a.call(u)}}var l=R5(t,0,!1,null,null,!1,!1,"",Qx);return t._reactRootContainer=l,t[ga]=l.current,ad(t.nodeType===8?t.parentNode:t),Cu(function(){Jg(e,l,r,n)}),l}function t1(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dg(o);a.call(l)}}Jg(e,o,t,i)}else o=I7(r,e,t,i,n);return dg(o)}rT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tf(e.pendingLanes);r!==0&&(Zw(e,r|1),ji(e,rn()),!(er&6)&&(ph=rn()+500,Bl()))}break;case 13:Cu(function(){var n=ya(t,1);if(n!==null){var i=gi();Ks(n,t,1,i)}}),P5(t,1)}};e5=function(t){if(t.tag===13){var e=ya(t,134217728);if(e!==null){var r=gi();Ks(e,t,134217728,r)}P5(t,134217728)}};nT=function(t){if(t.tag===13){var e=vl(t),r=ya(t,e);if(r!==null){var n=gi();Ks(r,t,e,n)}P5(t,e)}};iT=function(){return cr};sT=function(t,e){var r=cr;try{return cr=t,e()}finally{cr=r}};c2=function(t,e,r){switch(e){case"input":if(n2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Hg(n);if(!i)throw Error(Qe(90));F6(n),n2(n,i)}}}break;case"textarea":M6(t,r);break;case"select":e=r.value,e!=null&&zc(t,!!r.multiple,e,!1)}};H6=N5;$6=Cu;var k7={usingClientEntryPoint:!1,Events:[Od,Pc,Hg,q6,W6,N5]},mf={findFiberByHostInstance:pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C7={bundleType:mf.bundleType,version:mf.version,rendererPackageName:mf.rendererPackageName,rendererConfig:mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X6(t),t===null?null:t.stateNode},findFiberByHostInstance:mf.findFiberByHostInstance||N7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Vg=Bp.inject(C7),Co=Bp}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k7;is.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O5(e))throw Error(Qe(200));return T7(t,e,null,r)};is.createRoot=function(t,e){if(!O5(t))throw Error(Qe(299));var r=!1,n="",i=NN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R5(t,1,!1,null,null,r,!1,n,i),t[ga]=e.current,ad(t.nodeType===8?t.parentNode:t),new L5(e)};is.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=X6(e),t=t===null?null:t.stateNode,t};is.flushSync=function(t){return Cu(t)};is.hydrate=function(t,e,r){if(!e1(e))throw Error(Qe(200));return t1(null,t,e,!0,r)};is.hydrateRoot=function(t,e,r){if(!O5(t))throw Error(Qe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=NN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=TN(e,null,t,1,r??null,i,!1,s,o),t[ga]=e.current,ad(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Zg(e)};is.render=function(t,e,r){if(!e1(e))throw Error(Qe(200));return t1(null,t,e,!1,r)};is.unmountComponentAtNode=function(t){if(!e1(t))throw Error(Qe(40));return t._reactRootContainer?(Cu(function(){t1(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1};is.unstable_batchedUpdates=N5;is.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!e1(r))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return t1(t,e,r,!1,n)};is.version="18.3.1-next-f1338f8080-20240426";function IN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IN)}catch(t){console.error(t)}}IN(),I6.exports=is;var R7=I6.exports,Jx=R7;Yv.createRoot=Jx.createRoot,Yv.hydrateRoot=Jx.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}var ul;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ul||(ul={}));const Zx="popstate";function P7(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Vu(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),q2("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:pg(s))}function n(i,s){r1(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return O7(e,r,n,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function r1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L7(){return Math.random().toString(36).substr(2,8)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function q2(t,e,r,n){return r===void 0&&(r=null),gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vu(e):e,{state:r,key:e&&e.key||n||L7()})}function pg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function O7(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=ul.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(gd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=ul.Pop;let T=c(),d=T==null?null:T-u;u=T,l&&l({action:a,location:b.location,delta:d})}function m(T,d){a=ul.Push;let w=q2(b.location,T,d);r&&r(w,T),u=c()+1;let v=eE(w,u),y=b.createHref(w);try{o.pushState(v,"",y)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(y)}s&&l&&l({action:a,location:b.location,delta:1})}function h(T,d){a=ul.Replace;let w=q2(b.location,T,d);r&&r(w,T),u=c();let v=eE(w,u),y=b.createHref(w);o.replaceState(v,"",y),s&&l&&l({action:a,location:b.location,delta:0})}function E(T){let d=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof T=="string"?T:pg(T);return w=w.replace(/ $/,"%20"),pn(d,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,d)}let b={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zx,f),l=T,()=>{i.removeEventListener(Zx,f),l=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let d=E(T);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:m,replace:h,go(T){return o.go(T)}};return b}var tE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tE||(tE={}));function D7(t,e,r){return r===void 0&&(r="/"),F7(t,e,r)}function F7(t,e,r,n){let i=typeof e=="string"?Vu(e):e,s=D5(i.pathname||"/",r);if(s==null)return null;let o=kN(t);j7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=X7(s);a=$7(o[l],u)}return a}function kN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(pn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=_l([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kN(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:W7(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CN(s.path))i(s,o,l)}),e}function CN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=CN(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function j7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:H7(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const M7=/^:[\w-]+$/,B7=3,U7=2,V7=1,z7=10,q7=-2,rE=t=>t==="*";function W7(t,e){let r=t.split("/"),n=r.length;return r.some(rE)&&(n+=q7),e&&(n+=U7),r.filter(i=>!rE(i)).reduce((i,s)=>i+(M7.test(s)?B7:s===""?V7:z7),n)}function H7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $7(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=G7({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:_l([s,f.pathname]),pathnameBase:eO(_l([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=_l([s,f.pathnameBase]))}return o}function G7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=K7(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:m,isOptional:h}=c;if(m==="*"){let b=a[f]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const E=a[f];return h&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function K7(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),r1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function X7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return r1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Y7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q7=t=>Y7.test(t);function J7(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Vu(t):t,s;if(r)if(Q7(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),r1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=nE(r.substring(1),"/"):s=nE(r,e)}else s=e;return{pathname:s,search:tO(n),hash:rO(i)}}function nE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function A0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function RN(t,e){let r=Z7(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function PN(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Vu(t):(i=gd({},t),pn(!i.pathname||!i.pathname.includes("?"),A0("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),A0("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),A0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=J7(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _l=t=>t.join("/").replace(/\/\/+/g,"/"),eO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LN=["post","put","patch","delete"];new Set(LN);const iO=["get",...LN];new Set(iO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}const F5=Ye.createContext(null),sO=Ye.createContext(null),zu=Ye.createContext(null),n1=Ye.createContext(null),qu=Ye.createContext({outlet:null,matches:[],isDataRoute:!1}),ON=Ye.createContext(null);function oO(t,e){let{relative:r}=e===void 0?{}:e;Fd()||pn(!1);let{basename:n,navigator:i}=Ye.useContext(zu),{hash:s,pathname:o,search:a}=jN(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:_l([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Fd(){return Ye.useContext(n1)!=null}function jd(){return Fd()||pn(!1),Ye.useContext(n1).location}function DN(t){Ye.useContext(zu).static||Ye.useLayoutEffect(t)}function FN(){let{isDataRoute:t}=Ye.useContext(qu);return t?wO():aO()}function aO(){Fd()||pn(!1);let t=Ye.useContext(F5),{basename:e,future:r,navigator:n}=Ye.useContext(zu),{matches:i}=Ye.useContext(qu),{pathname:s}=jd(),o=JSON.stringify(RN(i,r.v7_relativeSplatPath)),a=Ye.useRef(!1);return DN(()=>{a.current=!0}),Ye.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=PN(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_l([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,o,s,t])}function jN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Ye.useContext(zu),{matches:i}=Ye.useContext(qu),{pathname:s}=jd(),o=JSON.stringify(RN(i,n.v7_relativeSplatPath));return Ye.useMemo(()=>PN(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function lO(t,e){return uO(t,e)}function uO(t,e,r,n){Fd()||pn(!1);let{navigator:i}=Ye.useContext(zu),{matches:s}=Ye.useContext(qu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=jd(),c;if(e){var f;let T=typeof e=="string"?Vu(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||pn(!1),c=T}else c=u;let m=c.pathname||"/",h=m;if(l!=="/"){let T=l.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=D7(t,{pathname:h}),b=pO(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:_l([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:_l([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,r,n);return e&&b?Ye.createElement(n1.Provider,{value:{location:yd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ul.Pop}},b):b}function cO(){let t=vO(),e=nO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ye.createElement(Ye.Fragment,null,Ye.createElement("h2",null,"Unexpected Application Error!"),Ye.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ye.createElement("pre",{style:i},r):null,null)}const hO=Ye.createElement(cO,null);class fO extends Ye.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Ye.createElement(qu.Provider,{value:this.props.routeContext},Ye.createElement(ON.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dO(t){let{routeContext:e,match:r,children:n}=t,i=Ye.useContext(F5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ye.createElement(qu.Provider,{value:e},n)}function pO(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||pn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:h}=r,E=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,m)=>{let h,E=!1,b=null,T=null;r&&(h=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||hO,l&&(u<0&&m===0?(_O("route-fallback"),E=!0,T=null):u===m&&(E=!0,T=f.route.hydrateFallbackElement||null)));let d=e.concat(o.slice(0,m+1)),w=()=>{let v;return h?v=b:E?v=T:f.route.Component?v=Ye.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,Ye.createElement(dO,{match:f,routeContext:{outlet:c,matches:d,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?Ye.createElement(fO,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:w(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):w()},null)}var MN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MN||{}),BN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(BN||{});function mO(t){let e=Ye.useContext(F5);return e||pn(!1),e}function gO(t){let e=Ye.useContext(sO);return e||pn(!1),e}function yO(t){let e=Ye.useContext(qu);return e||pn(!1),e}function UN(t){let e=yO(),r=e.matches[e.matches.length-1];return r.route.id||pn(!1),r.route.id}function vO(){var t;let e=Ye.useContext(ON),r=gO(),n=UN();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function wO(){let{router:t}=mO(MN.UseNavigateStable),e=UN(BN.UseNavigateStable),r=Ye.useRef(!1);return DN(()=>{r.current=!0}),Ye.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yd({fromRouteId:e},s)))},[t,e])}const iE={};function _O(t,e,r){iE[t]||(iE[t]=!0)}function bO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wc(t){pn(!1)}function xO(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ul.Pop,navigator:s,static:o=!1,future:a}=t;Fd()&&pn(!1);let l=e.replace(/^\/*/,"/"),u=Ye.useMemo(()=>({basename:l,navigator:s,static:o,future:yd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Vu(n));let{pathname:c="/",search:f="",hash:m="",state:h=null,key:E="default"}=n,b=Ye.useMemo(()=>{let T=D5(c,l);return T==null?null:{location:{pathname:T,search:f,hash:m,state:h,key:E},navigationType:i}},[l,c,f,m,h,E,i]);return b==null?null:Ye.createElement(zu.Provider,{value:u},Ye.createElement(n1.Provider,{children:r,value:b}))}function EO(t){let{children:e,location:r}=t;return lO(W2(e),r)}new Promise(()=>{});function W2(t,e){e===void 0&&(e=[]);let r=[];return Ye.Children.forEach(t,(n,i)=>{if(!Ye.isValidElement(n))return;let s=[...e,i];if(n.type===Ye.Fragment){r.push.apply(r,W2(n.props.children,s));return}n.type!==wc&&pn(!1),!n.props.index||!n.props.children||pn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=W2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H2.apply(this,arguments)}function AO(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function SO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TO(t,e){return t.button===0&&(!e||e==="_self")&&!SO(t)}const NO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IO="6";try{window.__reactRouterVersion=IO}catch{}const kO="startTransition",sE=_P[kO];function CO(t){let{basename:e,children:r,future:n,window:i}=t,s=Ye.useRef();s.current==null&&(s.current=P7({window:i,v5Compat:!0}));let o=s.current,[a,l]=Ye.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=Ye.useCallback(f=>{u&&sE?sE(()=>l(f)):l(f)},[l,u]);return Ye.useLayoutEffect(()=>o.listen(c),[o,c]),Ye.useEffect(()=>bO(n),[n]),Ye.createElement(xO,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const RO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=Ye.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,m=AO(e,NO),{basename:h}=Ye.useContext(zu),E,b=!1;if(typeof u=="string"&&PO.test(u)&&(E=u,RO))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),L=D5(y.pathname,h);y.origin===v.origin&&L!=null?u=L+y.search+y.hash:b=!0}catch{}let T=oO(u,{relative:i}),d=LO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(v){n&&n(v),v.defaultPrevented||d(v)}return Ye.createElement("a",H2({},m,{href:E||T,onClick:b||s?n:w,ref:r,target:l}))});var oE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oE||(oE={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function LO(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=FN(),u=jd(),c=jN(t,{relative:o});return Ye.useCallback(f=>{if(TO(f,r)){f.preventDefault();let m=n!==void 0?n:pg(u)===pg(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yr=(t,e)=>{const r=Ye.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>Ye.createElement("svg",{ref:c,...OO,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${DO(t)}`,a].join(" "),...u},[...e.map(([f,m])=>Ye.createElement(f,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=yr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=yr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=yr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=yr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=yr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=yr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=yr("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=yr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=yr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=yr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=yr("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=yr("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=yr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=yr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=yr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=yr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=yr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=yr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=yr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=yr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=yr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=yr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=yr("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=yr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=yr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=yr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function $O({testDocuments:t,requirements:e}){const r=t.filter(l=>l.status==="pendente").length,n=t.filter(l=>l.status==="aprovado").length,i=t.filter(l=>l.status==="reprovado").length,s=[{label:"Total de Testes",value:t.length,color:"bg-blue-500"},{label:"Aprovados",value:n,color:"bg-green-500"},{label:"Reprovados",value:i,color:"bg-red-500"},{label:"Pendentes",value:r,color:"bg-yellow-500"},{label:"Requisitos",value:e.length,color:"bg-purple-500"}],o=[{title:"Registrar Teste",description:"Colaboradora registra um novo teste de homologao",icon:K2,path:"/registro",color:"bg-blue-100 text-blue-600"},{title:"Ver Documentos",description:"Visualizar e gerenciar documentos de teste",icon:i1,path:"/documentos",color:"bg-green-100 text-green-600"},{title:"Gerar Gherkin",description:"Converter testes para formato Gherkin + Playwright",icon:Bc,path:"/gherkin",color:"bg-purple-100 text-purple-600"},{title:"Tabela de Partio",description:"Gerenciar requisitos com tabela de partio",icon:j5,path:"/particao",color:"bg-orange-100 text-orange-600"}],a=t.slice(-5).reverse();return z.jsxs("div",{className:"space-y-8",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocSimples Reports"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Sistema de documentao de testes de homologao com gerao automtica de Gherkin e Playwright"})]}),z.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:s.map(l=>z.jsxs("div",{className:"card",children:[z.jsx("div",{className:`w-2 h-2 rounded-full ${l.color} mb-2`}),z.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value}),z.jsx("p",{className:"text-sm text-gray-600",children:l.label})]},l.label))}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(l=>{const u=l.icon;return z.jsxs(Kc,{to:l.path,className:"card hover:shadow-md transition-shadow group",children:[z.jsx("div",{className:`w-12 h-12 rounded-lg ${l.color} flex items-center justify-center mb-4`,children:z.jsx(u,{className:"w-6 h-6"})}),z.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:l.title}),z.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),z.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium mt-3",children:[z.jsx("span",{children:"Acessar"}),z.jsx(FO,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]},l.path)})})]}),a.length>0&&z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Testes Recentes"}),z.jsx(Kc,{to:"/documentos",className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:"Ver todos "})]}),z.jsx("div",{className:"card",children:z.jsx("div",{className:"divide-y divide-gray-200",children:a.map(l=>z.jsxs("div",{className:"py-3 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-3",children:[l.status==="aprovado"?z.jsx($2,{className:"w-5 h-5 text-green-500"}):l.status==="reprovado"?z.jsx($2,{className:"w-5 h-5 text-red-500"}):z.jsx(zN,{className:"w-5 h-5 text-yellow-500"}),z.jsxs("div",{children:[z.jsx("p",{className:"font-medium text-gray-900",children:l.title}),z.jsx("p",{className:"text-sm text-gray-500",children:l.feature})]})]}),z.jsx("span",{className:`badge ${l.status==="aprovado"?"badge-success":l.status==="reprovado"?"badge-error":"badge-warning"}`,children:l.status})]},l.id))})})]}),t.length===0&&z.jsxs("div",{className:"card text-center py-12",children:[z.jsx(K2,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum teste registrado"}),z.jsx("p",{className:"text-gray-600 mt-1",children:"Comece registrando seu primeiro teste de homologao"}),z.jsx(Kc,{to:"/registro",className:"btn-primary inline-block mt-4",children:"Registrar Teste"})]})]})}const GO=()=>{};var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},KO=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(m=64)),n.push(r[c],r[f],r[m],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new XO;const m=s<<2|a>>4;if(n.push(m),u!==64){const h=a<<4&240|u>>2;if(n.push(h),f!==64){const E=u<<6&192|f;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YO=function(t){const e=WN(t);return HN.encodeByteArray(e,!0)},gg=function(t){return YO(t).replace(/\./g,"")},$N=function(t){try{return HN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=()=>QO().__FIREBASE_DEFAULTS__,ZO=()=>{if(typeof process>"u"||typeof hE>"u")return;const t=hE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$N(t[1]);return e&&JSON.parse(e)},s1=()=>{try{return GO()||JO()||ZO()||eD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GN=t=>{var e,r;return(r=(e=s1())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},KN=t=>{const e=GN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},XN=()=>{var t;return(t=s1())==null?void 0:t.config},YN=t=>{var e;return(e=s1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gg(JSON.stringify(r)),gg(JSON.stringify(o)),""].join(".")}const qf={};function rD(){const t={prod:[],emulator:[]};for(const e of Object.keys(qf))qf[e]?t.emulator.push(e):t.prod.push(e);return t}function nD(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let fE=!1;function U5(t,e){if(typeof window>"u"||typeof document>"u"||!Ul(window.location.host)||qf[t]===e||qf[t]||fE)return;qf[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=rD().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,h){m.setAttribute("width","24"),m.setAttribute("id",h),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{fE=!0,o()},m}function c(m,h){m.setAttribute("id",h),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=nD(n),h=r("text"),E=document.getElementById(h)||document.createElement("span"),b=r("learnmore"),T=document.getElementById(b)||document.createElement("a"),d=r("preprendIcon"),w=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;a(v),c(T,b);const y=u();l(w,d),v.append(w,E,T,y),document.body.appendChild(v)}s?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function sD(){var e;const t=(e=s1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uD(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cD(){return!sD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hD(){try{return typeof indexedDB=="object"}catch{return!1}}function fD(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="FirebaseError";class Uo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=dD,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Md.prototype.create)}}class Md{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pD(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Uo(i,a,n)}}function pD(t,e){return t.replace(mD,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const mD=/\{\$([^}]+)}/g;function gD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ru(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(dE(s)&&dE(o)){if(!Ru(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function If(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function yD(t,e){const r=new vD(t,e);return r.subscribe.bind(r)}class vD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");wD(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=S0),i.error===void 0&&(i.error=S0),i.complete===void 0&&(i.complete=S0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function S0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new tD;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xD(e))try{this.getOrInitializeService({instanceIdentifier:hu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=hu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hu){return this.instances.has(e)}getOptions(e=hu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:bD(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hu){return this.component?this.component.multipleInstances?e:hu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bD(t){return t===hu?void 0:t}function xD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new _D(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($t||($t={}));const AD={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},SD=$t.INFO,TD={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},ND=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=TD[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V5{constructor(e){this.name=e,this._logLevel=SD,this._logHandler=ND,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const ID=(t,e)=>e.some(r=>t instanceof r);let pE,mE;function kD(){return pE||(pE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CD(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JN=new WeakMap,Y2=new WeakMap,ZN=new WeakMap,T0=new WeakMap,z5=new WeakMap;function RD(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(bl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&JN.set(r,t)}).catch(()=>{}),z5.set(e,t),e}function PD(t){if(Y2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Y2.set(t,e)}let Q2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Y2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LD(t){Q2=t(Q2)}function OD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(N0(this),e,...r);return ZN.set(n,e.sort?e.sort():[e]),bl(n)}:CD().includes(t)?function(...e){return t.apply(N0(this),e),bl(JN.get(this))}:function(...e){return bl(t.apply(N0(this),e))}}function DD(t){return typeof t=="function"?OD(t):(t instanceof IDBTransaction&&PD(t),ID(t,kD())?new Proxy(t,Q2):t)}function bl(t){if(t instanceof IDBRequest)return RD(t);if(T0.has(t))return T0.get(t);const e=DD(t);return e!==t&&(T0.set(t,e),z5.set(e,t)),e}const N0=t=>z5.get(t);function FD(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bl(o);return n&&o.addEventListener("upgradeneeded",l=>{n(bl(o.result),l.oldVersion,l.newVersion,bl(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const jD=["get","getKey","getAll","getAllKeys","count"],MD=["put","add","delete","clear"],I0=new Map;function gE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(I0.get(e))return I0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=MD.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||jD.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&l.done]))[0]};return I0.set(e,s),s}LD(t=>({...t,get:(e,r,n)=>gE(e,r)||t.get(e,r,n),has:(e,r)=>!!gE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(UD(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function UD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const J2="@firebase/app",yE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new V5("@firebase/app"),VD="@firebase/app-compat",zD="@firebase/analytics-compat",qD="@firebase/analytics",WD="@firebase/app-check-compat",HD="@firebase/app-check",$D="@firebase/auth",GD="@firebase/auth-compat",KD="@firebase/database",XD="@firebase/data-connect",YD="@firebase/database-compat",QD="@firebase/functions",JD="@firebase/functions-compat",ZD="@firebase/installations",e9="@firebase/installations-compat",t9="@firebase/messaging",r9="@firebase/messaging-compat",n9="@firebase/performance",i9="@firebase/performance-compat",s9="@firebase/remote-config",o9="@firebase/remote-config-compat",a9="@firebase/storage",l9="@firebase/storage-compat",u9="@firebase/firestore",c9="@firebase/ai",h9="@firebase/firestore-compat",f9="firebase",d9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="[DEFAULT]",p9={[J2]:"fire-core",[VD]:"fire-core-compat",[qD]:"fire-analytics",[zD]:"fire-analytics-compat",[HD]:"fire-app-check",[WD]:"fire-app-check-compat",[$D]:"fire-auth",[GD]:"fire-auth-compat",[KD]:"fire-rtdb",[XD]:"fire-data-connect",[YD]:"fire-rtdb-compat",[QD]:"fire-fn",[JD]:"fire-fn-compat",[ZD]:"fire-iid",[e9]:"fire-iid-compat",[t9]:"fire-fcm",[r9]:"fire-fcm-compat",[n9]:"fire-perf",[i9]:"fire-perf-compat",[s9]:"fire-rc",[o9]:"fire-rc-compat",[a9]:"fire-gcs",[l9]:"fire-gcs-compat",[u9]:"fire-fst",[h9]:"fire-fst-compat",[c9]:"fire-vertex","fire-js":"fire-js",[f9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map,m9=new Map,ew=new Map;function vE(t,e){try{t.container.addComponent(e)}catch(r){wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Pu(t){const e=t.name;if(ew.has(e))return wa.debug(`There were multiple attempts to register component ${e}.`),!1;ew.set(e,t);for(const r of yg.values())vE(r,t);for(const r of m9.values())vE(r,t);return!0}function o1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new Md("app","Firebase",g9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=d9;function eI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Z2,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(r||(r=XN()),!r)throw xl.create("no-options");const s=yg.get(i);if(s){if(Ru(r,s.options)&&Ru(n,s.config))return s;throw xl.create("duplicate-app",{appName:i})}const o=new ED(i);for(const l of ew.values())o.addComponent(l);const a=new y9(r,n,o);return yg.set(i,a),a}function q5(t=Z2){const e=yg.get(t);if(!e&&t===Z2&&XN())return eI();if(!e)throw xl.create("no-app",{appName:t});return e}function Po(t,e,r){let n=p9[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wa.warn(o.join(" "));return}Pu(new kl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="firebase-heartbeat-database",w9=1,wd="firebase-heartbeat-store";let k0=null;function tI(){return k0||(k0=FD(v9,w9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(r){console.warn(r)}}}}).catch(t=>{throw xl.create("idb-open",{originalErrorMessage:t.message})})),k0}async function _9(t){try{const r=(await tI()).transaction(wd),n=await r.objectStore(wd).get(rI(t));return await r.done,n}catch(e){if(e instanceof Uo)wa.warn(e.message);else{const r=xl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wa.warn(r.message)}}}async function wE(t,e){try{const n=(await tI()).transaction(wd,"readwrite");await n.objectStore(wd).put(e,rI(t)),await n.done}catch(r){if(r instanceof Uo)wa.warn(r.message);else{const n=xl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});wa.warn(n.message)}}}function rI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=1024,x9=30;class E9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new S9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_E();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x9){const o=T9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){wa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=_E(),{heartbeatsToSend:n,unsentEntries:i}=A9(this._heartbeatsCache.heartbeats),s=gg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return wa.warn(r),""}}}function _E(){return new Date().toISOString().substring(0,10)}function A9(t,e=b9){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bE(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class S9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hD()?fD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function bE(t){return gg(JSON.stringify({version:2,heartbeats:t})).length}function T9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){Pu(new kl("platform-logger",e=>new BD(e),"PRIVATE")),Pu(new kl("heartbeat",e=>new E9(e),"PRIVATE")),Po(J2,yE,t),Po(J2,yE,"esm2020"),Po("fire-js","")}N9("");var I9="firebase",k9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(I9,k9,"app");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var El,nI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function _(){}_.prototype=S.prototype,A.F=S.prototype,A.prototype=new _,A.prototype.constructor=A,A.D=function(q,D,I){for(var P=Array(arguments.length-2),C=2;C<arguments.length;C++)P[C-2]=arguments[C];return S.prototype[D].apply(q,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,_){_||(_=0);const q=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)q[D]=S.charCodeAt(_++)|S.charCodeAt(_++)<<8|S.charCodeAt(_++)<<16|S.charCodeAt(_++)<<24;else for(D=0;D<16;++D)q[D]=S[_++]|S[_++]<<8|S[_++]<<16|S[_++]<<24;S=A.g[0],_=A.g[1],D=A.g[2];let I=A.g[3],P;P=S+(I^_&(D^I))+q[0]+3614090360&4294967295,S=_+(P<<7&4294967295|P>>>25),P=I+(D^S&(_^D))+q[1]+3905402710&4294967295,I=S+(P<<12&4294967295|P>>>20),P=D+(_^I&(S^_))+q[2]+606105819&4294967295,D=I+(P<<17&4294967295|P>>>15),P=_+(S^D&(I^S))+q[3]+3250441966&4294967295,_=D+(P<<22&4294967295|P>>>10),P=S+(I^_&(D^I))+q[4]+4118548399&4294967295,S=_+(P<<7&4294967295|P>>>25),P=I+(D^S&(_^D))+q[5]+1200080426&4294967295,I=S+(P<<12&4294967295|P>>>20),P=D+(_^I&(S^_))+q[6]+2821735955&4294967295,D=I+(P<<17&4294967295|P>>>15),P=_+(S^D&(I^S))+q[7]+4249261313&4294967295,_=D+(P<<22&4294967295|P>>>10),P=S+(I^_&(D^I))+q[8]+1770035416&4294967295,S=_+(P<<7&4294967295|P>>>25),P=I+(D^S&(_^D))+q[9]+2336552879&4294967295,I=S+(P<<12&4294967295|P>>>20),P=D+(_^I&(S^_))+q[10]+4294925233&4294967295,D=I+(P<<17&4294967295|P>>>15),P=_+(S^D&(I^S))+q[11]+2304563134&4294967295,_=D+(P<<22&4294967295|P>>>10),P=S+(I^_&(D^I))+q[12]+1804603682&4294967295,S=_+(P<<7&4294967295|P>>>25),P=I+(D^S&(_^D))+q[13]+4254626195&4294967295,I=S+(P<<12&4294967295|P>>>20),P=D+(_^I&(S^_))+q[14]+2792965006&4294967295,D=I+(P<<17&4294967295|P>>>15),P=_+(S^D&(I^S))+q[15]+1236535329&4294967295,_=D+(P<<22&4294967295|P>>>10),P=S+(D^I&(_^D))+q[1]+4129170786&4294967295,S=_+(P<<5&4294967295|P>>>27),P=I+(_^D&(S^_))+q[6]+3225465664&4294967295,I=S+(P<<9&4294967295|P>>>23),P=D+(S^_&(I^S))+q[11]+643717713&4294967295,D=I+(P<<14&4294967295|P>>>18),P=_+(I^S&(D^I))+q[0]+3921069994&4294967295,_=D+(P<<20&4294967295|P>>>12),P=S+(D^I&(_^D))+q[5]+3593408605&4294967295,S=_+(P<<5&4294967295|P>>>27),P=I+(_^D&(S^_))+q[10]+38016083&4294967295,I=S+(P<<9&4294967295|P>>>23),P=D+(S^_&(I^S))+q[15]+3634488961&4294967295,D=I+(P<<14&4294967295|P>>>18),P=_+(I^S&(D^I))+q[4]+3889429448&4294967295,_=D+(P<<20&4294967295|P>>>12),P=S+(D^I&(_^D))+q[9]+568446438&4294967295,S=_+(P<<5&4294967295|P>>>27),P=I+(_^D&(S^_))+q[14]+3275163606&4294967295,I=S+(P<<9&4294967295|P>>>23),P=D+(S^_&(I^S))+q[3]+4107603335&4294967295,D=I+(P<<14&4294967295|P>>>18),P=_+(I^S&(D^I))+q[8]+1163531501&4294967295,_=D+(P<<20&4294967295|P>>>12),P=S+(D^I&(_^D))+q[13]+2850285829&4294967295,S=_+(P<<5&4294967295|P>>>27),P=I+(_^D&(S^_))+q[2]+4243563512&4294967295,I=S+(P<<9&4294967295|P>>>23),P=D+(S^_&(I^S))+q[7]+1735328473&4294967295,D=I+(P<<14&4294967295|P>>>18),P=_+(I^S&(D^I))+q[12]+2368359562&4294967295,_=D+(P<<20&4294967295|P>>>12),P=S+(_^D^I)+q[5]+4294588738&4294967295,S=_+(P<<4&4294967295|P>>>28),P=I+(S^_^D)+q[8]+2272392833&4294967295,I=S+(P<<11&4294967295|P>>>21),P=D+(I^S^_)+q[11]+1839030562&4294967295,D=I+(P<<16&4294967295|P>>>16),P=_+(D^I^S)+q[14]+4259657740&4294967295,_=D+(P<<23&4294967295|P>>>9),P=S+(_^D^I)+q[1]+2763975236&4294967295,S=_+(P<<4&4294967295|P>>>28),P=I+(S^_^D)+q[4]+1272893353&4294967295,I=S+(P<<11&4294967295|P>>>21),P=D+(I^S^_)+q[7]+4139469664&4294967295,D=I+(P<<16&4294967295|P>>>16),P=_+(D^I^S)+q[10]+3200236656&4294967295,_=D+(P<<23&4294967295|P>>>9),P=S+(_^D^I)+q[13]+681279174&4294967295,S=_+(P<<4&4294967295|P>>>28),P=I+(S^_^D)+q[0]+3936430074&4294967295,I=S+(P<<11&4294967295|P>>>21),P=D+(I^S^_)+q[3]+3572445317&4294967295,D=I+(P<<16&4294967295|P>>>16),P=_+(D^I^S)+q[6]+76029189&4294967295,_=D+(P<<23&4294967295|P>>>9),P=S+(_^D^I)+q[9]+3654602809&4294967295,S=_+(P<<4&4294967295|P>>>28),P=I+(S^_^D)+q[12]+3873151461&4294967295,I=S+(P<<11&4294967295|P>>>21),P=D+(I^S^_)+q[15]+530742520&4294967295,D=I+(P<<16&4294967295|P>>>16),P=_+(D^I^S)+q[2]+3299628645&4294967295,_=D+(P<<23&4294967295|P>>>9),P=S+(D^(_|~I))+q[0]+4096336452&4294967295,S=_+(P<<6&4294967295|P>>>26),P=I+(_^(S|~D))+q[7]+1126891415&4294967295,I=S+(P<<10&4294967295|P>>>22),P=D+(S^(I|~_))+q[14]+2878612391&4294967295,D=I+(P<<15&4294967295|P>>>17),P=_+(I^(D|~S))+q[5]+4237533241&4294967295,_=D+(P<<21&4294967295|P>>>11),P=S+(D^(_|~I))+q[12]+1700485571&4294967295,S=_+(P<<6&4294967295|P>>>26),P=I+(_^(S|~D))+q[3]+2399980690&4294967295,I=S+(P<<10&4294967295|P>>>22),P=D+(S^(I|~_))+q[10]+4293915773&4294967295,D=I+(P<<15&4294967295|P>>>17),P=_+(I^(D|~S))+q[1]+2240044497&4294967295,_=D+(P<<21&4294967295|P>>>11),P=S+(D^(_|~I))+q[8]+1873313359&4294967295,S=_+(P<<6&4294967295|P>>>26),P=I+(_^(S|~D))+q[15]+4264355552&4294967295,I=S+(P<<10&4294967295|P>>>22),P=D+(S^(I|~_))+q[6]+2734768916&4294967295,D=I+(P<<15&4294967295|P>>>17),P=_+(I^(D|~S))+q[13]+1309151649&4294967295,_=D+(P<<21&4294967295|P>>>11),P=S+(D^(_|~I))+q[4]+4149444226&4294967295,S=_+(P<<6&4294967295|P>>>26),P=I+(_^(S|~D))+q[11]+3174756917&4294967295,I=S+(P<<10&4294967295|P>>>22),P=D+(S^(I|~_))+q[2]+718787259&4294967295,D=I+(P<<15&4294967295|P>>>17),P=_+(I^(D|~S))+q[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+I&4294967295}n.prototype.v=function(A,S){S===void 0&&(S=A.length);const _=S-this.blockSize,q=this.C;let D=this.h,I=0;for(;I<S;){if(D==0)for(;I<=_;)i(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<S;)if(q[D++]=A.charCodeAt(I++),D==this.blockSize){i(this,q),D=0;break}}else for(;I<S;)if(q[D++]=A[I++],D==this.blockSize){i(this,q),D=0;break}}this.h=D,this.o+=S},n.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var _=A.length-8;_<A.length;++_)A[_]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,_=0;_<4;++_)for(let q=0;q<32;q+=8)A[S++]=this.g[_]>>>q&255;return A};function s(A,S){var _=a;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=S(A)}function o(A,S){this.h=S;const _=[];let q=!0;for(let D=A.length-1;D>=0;D--){const I=A[D]|0;q&&I==S||(_[D]=I,q=!1)}this.g=_}var a={};function l(A){return-128<=A&&A<128?s(A,function(S){return new o([S|0],S<0?-1:0)}):new o([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return T(u(-A));const S=[];let _=1;for(let q=0;A>=_;q++)S[q]=A/_|0,_*=4294967296;return new o(S,0)}function c(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return T(c(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=u(Math.pow(S,8));let q=f;for(let I=0;I<A.length;I+=8){var D=Math.min(8,A.length-I);const P=parseInt(A.substring(I,I+D),S);D<8?(D=u(Math.pow(S,D)),q=q.j(D).add(u(P))):(q=q.j(_),q=q.add(u(P)))}return q}var f=l(0),m=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-T(this).m();let A=0,S=1;for(let _=0;_<this.g.length;_++){const q=this.i(_);A+=(q>=0?q:4294967296+q)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(b(this))return"-"+T(this).toString(A);const S=u(Math.pow(A,6));var _=this;let q="";for(;;){const D=y(_,S).g;_=d(_,D.j(S));let I=((_.g.length>0?_.g[0]:_.h)>>>0).toString(A);if(_=D,E(_))return I+q;for(;I.length<6;)I="0"+I;q=I+q}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=d(this,A),b(A)?-1:E(A)?0:1};function T(A){const S=A.g.length,_=[];for(let q=0;q<S;q++)_[q]=~A.g[q];return new o(_,~A.h).add(m)}t.abs=function(){return b(this)?T(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),_=[];let q=0;for(let D=0;D<=S;D++){let I=q+(this.i(D)&65535)+(A.i(D)&65535),P=(I>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);q=P>>>16,I&=65535,P&=65535,_[D]=P<<16|I}return new o(_,_[_.length-1]&-2147483648?-1:0)};function d(A,S){return A.add(T(S))}t.j=function(A){if(E(this)||E(A))return f;if(b(this))return b(A)?T(this).j(T(A)):T(T(this).j(A));if(b(A))return T(this.j(T(A)));if(this.l(h)<0&&A.l(h)<0)return u(this.m()*A.m());const S=this.g.length+A.g.length,_=[];for(var q=0;q<2*S;q++)_[q]=0;for(q=0;q<this.g.length;q++)for(let D=0;D<A.g.length;D++){const I=this.i(q)>>>16,P=this.i(q)&65535,C=A.i(D)>>>16,oe=A.i(D)&65535;_[2*q+2*D]+=P*oe,w(_,2*q+2*D),_[2*q+2*D+1]+=I*oe,w(_,2*q+2*D+1),_[2*q+2*D+1]+=P*C,w(_,2*q+2*D+1),_[2*q+2*D+2]+=I*C,w(_,2*q+2*D+2)}for(A=0;A<S;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=S;A<2*S;A++)_[A]=0;return new o(_,0)};function w(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function v(A,S){this.g=A,this.h=S}function y(A,S){if(E(S))throw Error("division by zero");if(E(A))return new v(f,f);if(b(A))return S=y(T(A),S),new v(T(S.g),T(S.h));if(b(S))return S=y(A,T(S)),new v(T(S.g),S.h);if(A.g.length>30){if(b(A)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var _=m,q=S;q.l(A)<=0;)_=L(_),q=L(q);var D=W(_,1),I=W(q,1);for(q=W(q,2),_=W(_,2);!E(q);){var P=I.add(q);P.l(A)<=0&&(D=D.add(_),I=P),q=W(q,1),_=W(_,1)}return S=d(A,D.j(S)),new v(D,S)}for(D=f;A.l(S)>=0;){for(_=Math.max(1,Math.floor(A.m()/S.m())),q=Math.ceil(Math.log(_)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),I=u(_),P=I.j(S);b(P)||P.l(A)>0;)_-=q,I=u(_),P=I.j(S);E(I)&&(I=m),D=D.add(I),A=d(A,P)}return new v(D,A)}t.B=function(A){return y(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),_=[];for(let q=0;q<S;q++)_[q]=this.i(q)&A.i(q);return new o(_,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),_=[];for(let q=0;q<S;q++)_[q]=this.i(q)|A.i(q);return new o(_,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),_=[];for(let q=0;q<S;q++)_[q]=this.i(q)^A.i(q);return new o(_,this.h^A.h)};function L(A){const S=A.g.length+1,_=[];for(let q=0;q<S;q++)_[q]=A.i(q)<<1|A.i(q-1)>>>31;return new o(_,A.h)}function W(A,S){const _=S>>5;S%=32;const q=A.g.length-_,D=[];for(let I=0;I<q;I++)D[I]=S>0?A.i(I+_)>>>S|A.i(I+_+1)<<32-S:A.i(I+_);return new o(D,A.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,nI=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,El=o}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,Cf,sI,Nm,tw,oI,aI,lI;(function(){var t,e=Object.defineProperty;function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Up=="object"&&Up];for(var U=0;U<g.length;++U){var G=g[U];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(g,U){if(U)e:{var G=n;g=g.split(".");for(var pe=0;pe<g.length-1;pe++){var ke=g[pe];if(!(ke in G))break e;G=G[ke]}g=g[g.length-1],pe=G[g],U=U(pe),U!=pe&&U!=null&&e(G,g,{configurable:!0,writable:!0,value:U})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(U){var G=[],pe;for(pe in U)Object.prototype.hasOwnProperty.call(U,pe)&&G.push([pe,U[pe]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(g){var U=typeof g;return U=="object"&&g!=null||U=="function"}function l(g,U,G){return g.call.apply(g.bind,arguments)}function u(g,U,G){return u=l,u.apply(null,arguments)}function c(g,U){var G=Array.prototype.slice.call(arguments,1);return function(){var pe=G.slice();return pe.push.apply(pe,arguments),g.apply(this,pe)}}function f(g,U){function G(){}G.prototype=U.prototype,g.Z=U.prototype,g.prototype=new G,g.prototype.constructor=g,g.Ob=function(pe,ke,Oe){for(var Je=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Je[Pt-2]=arguments[Pt];return U.prototype[ke].apply(pe,Je)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function h(g){const U=g.length;if(U>0){const G=Array(U);for(let pe=0;pe<U;pe++)G[pe]=g[pe];return G}return[]}function E(g,U){for(let pe=1;pe<arguments.length;pe++){const ke=arguments[pe];var G=typeof ke;if(G=G!="object"?G:ke?Array.isArray(ke)?"array":G:"null",G=="array"||G=="object"&&typeof ke.length=="number"){G=g.length||0;const Oe=ke.length||0;g.length=G+Oe;for(let Je=0;Je<Oe;Je++)g[G+Je]=ke[Je]}else g.push(ke)}}class b{constructor(U,G){this.i=U,this.j=G,this.h=0,this.g=null}get(){let U;return this.h>0?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function T(g){o.setTimeout(()=>{throw g},0)}function d(){var g=A;let U=null;return g.g&&(U=g.g,g.g=g.g.next,g.g||(g.h=null),U.next=null),U}class w{constructor(){this.h=this.g=null}add(U,G){const pe=v.get();pe.set(U,G),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var v=new b(()=>new y,g=>g.reset());class y{constructor(){this.next=this.g=this.h=null}set(U,G){this.h=U,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let L,W=!1,A=new w,S=()=>{const g=Promise.resolve(void 0);L=()=>{g.then(_)}};function _(){for(var g;g=d();){try{g.h.call(g.g)}catch(G){T(G)}var U=v;U.j(g),U.h<100&&(U.h++,g.next=U.g,U.g=g)}W=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,U){this.type=g,this.g=this.target=U,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,U=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const G=()=>{};o.addEventListener("test",G,U),o.removeEventListener("test",G,U)}catch{}return g}();function P(g){return/^[\s\xa0]*$/.test(g)}function C(g,U){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,U)}f(C,D),C.prototype.init=function(g,U){const G=this.type=g.type,pe=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=U,U=g.relatedTarget,U||(G=="mouseover"?U=g.fromElement:G=="mouseout"&&(U=g.toElement)),this.relatedTarget=U,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),ye=0;function se(g,U,G,pe,ke){this.listener=g,this.proxy=null,this.src=U,this.type=G,this.capture=!!pe,this.ha=ke,this.key=++ye,this.da=this.fa=!1}function ae(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function de(g,U,G){for(const pe in g)U.call(G,g[pe],pe,g)}function Ae(g,U){for(const G in g)U.call(void 0,g[G],G,g)}function he(g){const U={};for(const G in g)U[G]=g[G];return U}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(g,U){let G,pe;for(let ke=1;ke<arguments.length;ke++){pe=arguments[ke];for(G in pe)g[G]=pe[G];for(let Oe=0;Oe<O.length;Oe++)G=O[Oe],Object.prototype.hasOwnProperty.call(pe,G)&&(g[G]=pe[G])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,U,G,pe,ke){const Oe=g.toString();g=this.g[Oe],g||(g=this.g[Oe]=[],this.h++);const Je=ee(g,U,pe,ke);return Je>-1?(U=g[Je],G||(U.fa=!1)):(U=new se(U,this.src,Oe,!!pe,ke),U.fa=G,g.push(U)),U};function ue(g,U){const G=U.type;if(G in g.g){var pe=g.g[G],ke=Array.prototype.indexOf.call(pe,U,void 0),Oe;(Oe=ke>=0)&&Array.prototype.splice.call(pe,ke,1),Oe&&(ae(U),g.g[G].length==0&&(delete g.g[G],g.h--))}}function ee(g,U,G,pe){for(let ke=0;ke<g.length;++ke){const Oe=g[ke];if(!Oe.da&&Oe.listener==U&&Oe.capture==!!G&&Oe.ha==pe)return ke}return-1}var j="closure_lm_"+(Math.random()*1e6|0),B={};function ne(g,U,G,pe,ke){if(Array.isArray(U)){for(let Oe=0;Oe<U.length;Oe++)ne(g,U[Oe],G,pe,ke);return null}return G=k(G),g&&g[oe]?g.J(U,G,a(pe)?!!pe.capture:!1,ke):te(g,U,G,!1,pe,ke)}function te(g,U,G,pe,ke,Oe){if(!U)throw Error("Invalid event type");const Je=a(ke)?!!ke.capture:!!ke;let Pt=H(g);if(Pt||(g[j]=Pt=new Q(g)),G=Pt.add(U,G,pe,Je,Oe),G.proxy)return G;if(pe=Y(),G.proxy=pe,pe.src=g,pe.listener=G,g.addEventListener)I||(ke=Je),ke===void 0&&(ke=!1),g.addEventListener(U.toString(),pe,ke);else if(g.attachEvent)g.attachEvent(V(U.toString()),pe);else if(g.addListener&&g.removeListener)g.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Y(){function g(G){return U.call(g.src,g.listener,G)}const U=X;return g}function re(g,U,G,pe,ke){if(Array.isArray(U))for(var Oe=0;Oe<U.length;Oe++)re(g,U[Oe],G,pe,ke);else pe=a(pe)?!!pe.capture:!!pe,G=k(G),g&&g[oe]?(g=g.i,Oe=String(U).toString(),Oe in g.g&&(U=g.g[Oe],G=ee(U,G,pe,ke),G>-1&&(ae(U[G]),Array.prototype.splice.call(U,G,1),U.length==0&&(delete g.g[Oe],g.h--)))):g&&(g=H(g))&&(U=g.g[U.toString()],g=-1,U&&(g=ee(U,G,pe,ke)),(G=g>-1?U[g]:null)&&xe(G))}function xe(g){if(typeof g!="number"&&g&&!g.da){var U=g.src;if(U&&U[oe])ue(U.i,g);else{var G=g.type,pe=g.proxy;U.removeEventListener?U.removeEventListener(G,pe,g.capture):U.detachEvent?U.detachEvent(V(G),pe):U.addListener&&U.removeListener&&U.removeListener(pe),(G=H(U))?(ue(G,g),G.h==0&&(G.src=null,U[j]=null)):ae(g)}}}function V(g){return g in B?B[g]:B[g]="on"+g}function X(g,U){if(g.da)g=!0;else{U=new C(U,this);const G=g.listener,pe=g.ha||g.src;g.fa&&xe(g),g=G.call(pe,U)}return g}function H(g){return g=g[j],g instanceof Q?g:null}var N="__closure_events_fn_"+(Math.random()*1e9>>>0);function k(g){return typeof g=="function"?g:(g[N]||(g[N]=function(U){return g.handleEvent(U)}),g[N])}function F(){q.call(this),this.i=new Q(this),this.M=this,this.G=null}f(F,q),F.prototype[oe]=!0,F.prototype.removeEventListener=function(g,U,G,pe){re(this,g,U,G,pe)};function ce(g,U){var G,pe=g.G;if(pe)for(G=[];pe;pe=pe.G)G.push(pe);if(g=g.M,pe=U.type||U,typeof U=="string")U=new D(U,g);else if(U instanceof D)U.target=U.target||g;else{var ke=U;U=new D(pe,g),K(U,ke)}ke=!0;let Oe,Je;if(G)for(Je=G.length-1;Je>=0;Je--)Oe=U.g=G[Je],ke=ve(Oe,pe,!0,U)&&ke;if(Oe=U.g=g,ke=ve(Oe,pe,!0,U)&&ke,ke=ve(Oe,pe,!1,U)&&ke,G)for(Je=0;Je<G.length;Je++)Oe=U.g=G[Je],ke=ve(Oe,pe,!1,U)&&ke}F.prototype.N=function(){if(F.Z.N.call(this),this.i){var g=this.i;for(const U in g.g){const G=g.g[U];for(let pe=0;pe<G.length;pe++)ae(G[pe]);delete g.g[U],g.h--}}this.G=null},F.prototype.J=function(g,U,G,pe){return this.i.add(String(g),U,!1,G,pe)},F.prototype.K=function(g,U,G,pe){return this.i.add(String(g),U,!0,G,pe)};function ve(g,U,G,pe){if(U=g.i.g[String(U)],!U)return!0;U=U.concat();let ke=!0;for(let Oe=0;Oe<U.length;++Oe){const Je=U[Oe];if(Je&&!Je.da&&Je.capture==G){const Pt=Je.listener,xr=Je.ha||Je.src;Je.fa&&ue(g.i,Je),ke=Pt.call(xr,pe)!==!1&&ke}}return ke&&!pe.defaultPrevented}function me(g,U){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=u(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(U)>2147483647?-1:o.setTimeout(g,U||0)}function Te(g){g.g=me(()=>{g.g=null,g.i&&(g.i=!1,Te(g))},g.l);const U=g.h;g.h=null,g.m.apply(null,U)}class De extends q{constructor(U,G){super(),this.m=U,this.l=G,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(g){q.call(this),this.h=g,this.g={}}f(Re,q);var Be=[];function Ke(g){de(g.g,function(U,G){this.g.hasOwnProperty(G)&&xe(U)},g),g.g={}}Re.prototype.N=function(){Re.Z.N.call(this),Ke(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=o.JSON.stringify,tt=o.JSON.parse,xt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function rt(){}function rr(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){D.call(this,"d")}f(kt,D);function Ct(){D.call(this,"c")}f(Ct,D);var jt={},mt=null;function Jt(){return mt=mt||new F}jt.Ia="serverreachability";function bt(g){D.call(this,jt.Ia,g)}f(bt,D);function At(g){const U=Jt();ce(U,new bt(U))}jt.STAT_EVENT="statevent";function nr(g,U){D.call(this,jt.STAT_EVENT,g),this.stat=U}f(nr,D);function pt(g){const U=Jt();ce(U,new nr(U,g))}jt.Ja="timingevent";function gt(g,U){D.call(this,jt.Ja,g),this.size=U}f(gt,D);function qt(g,U){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},U)}function Ui(){this.g=!0}Ui.prototype.ua=function(){this.g=!1};function En(g,U,G,pe,ke,Oe){g.info(function(){if(g.g)if(Oe){var Je="",Pt=Oe.split("&");for(let Ht=0;Ht<Pt.length;Ht++){var xr=Pt[Ht].split("=");if(xr.length>1){const Er=xr[0];xr=xr[1];const Sn=Er.split("_");Je=Sn.length>=2&&Sn[1]=="type"?Je+(Er+"="+xr+"&"):Je+(Er+"=redacted&")}}}else Je=null;else Je=Oe;return"XMLHTTP REQ ("+pe+") [attempt "+ke+"]: "+U+`
`+G+`
`+Je})}function ks(g,U,G,pe,ke,Oe,Je){g.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+ke+"]: "+U+`
`+G+`
`+Oe+" "+Je})}function Cn(g,U,G,pe){g.info(function(){return"XMLHTTP TEXT ("+U+"): "+Cs(g,G)+(pe?" "+pe:"")})}function Et(g,U){g.info(function(){return"TIMEOUT: "+U})}Ui.prototype.info=function(){};function Cs(g,U){if(!g.g)return U;if(!U)return null;try{const Oe=JSON.parse(U);if(Oe){for(g=0;g<Oe.length;g++)if(Array.isArray(Oe[g])){var G=Oe[g];if(!(G.length<2)){var pe=G[1];if(Array.isArray(pe)&&!(pe.length<1)){var ke=pe[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(let Je=1;Je<pe.length;Je++)pe[Je]=""}}}}return Ze(Oe)}catch{return U}}var wi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ri={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ni;function vr(){}f(vr,rt),vr.prototype.g=function(){return new XMLHttpRequest},ni=new vr;function Or(g){return encodeURIComponent(String(g))}function mn(g){var U=1;g=g.split(":");const G=[];for(;U>0&&g.length;)G.push(g.shift()),U--;return g.length&&G.push(g.join(":")),G}function Un(g,U,G,pe){this.j=g,this.i=U,this.l=G,this.S=pe||1,this.V=new Re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}var _i={},bi={};function ii(g,U,G){g.M=1,g.A=$o(Ai(U)),g.u=G,g.R=!0,xi(g,null)}function xi(g,U){g.F=Date.now(),as(g),g.B=Ai(g.A);var G=g.B,pe=g.S;Array.isArray(pe)||(pe=[String(pe)]),nc(G.i,"t",pe),g.C=0,G=g.j.L,g.h=new Rs,g.g=st(g.j,G?U:null,!g.u),g.P>0&&(g.O=new De(u(g.Y,g,g.g),g.P)),U=g.V,G=g.g,pe=g.ba;var ke="readystatechange";Array.isArray(ke)||(ke&&(Be[0]=ke.toString()),ke=Be);for(let Oe=0;Oe<ke.length;Oe++){const Je=ne(G,ke[Oe],pe||U.handleEvent,!1,U.h||U);if(!Je)break;U.g[Je.key]=Je}U=g.J?he(g.J):{},g.u?(g.v||(g.v="POST"),U["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,U)):(g.v="GET",g.g.ea(g.B,g.v,null,U)),At(),En(g.i,g.v,g.B,g.l,g.S,g.u)}Un.prototype.ba=function(g){g=g.target;const U=this.O;U&&Ii(g)==3?U.j():this.Y(g)},Un.prototype.Y=function(g){try{if(g==this.g)e:{const Pt=Ii(this.g),xr=this.g.ya(),Ht=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||Pa(this.g)))){this.K||Pt!=4||xr==7||(xr==8||Ht<=0?At(3):At(2)),no(this);var U=this.g.ca();this.X=U;var G=Ei(this);if(this.o=U==200,ks(this.i,this.v,this.B,this.l,this.S,Pt,U),this.o){if(this.U&&!this.L){t:{if(this.g){var pe,ke=this.g;if((pe=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(pe)){var Oe=pe;break t}}Oe=null}if(g=Oe)Cn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wo(this,g);else{this.o=!1,this.m=3,pt(12),Ps(this),ls(this);break e}}if(this.R){g=!0;let Er;for(;!this.K&&this.C<G.length;)if(Er=os(this,G),Er==bi){Pt==4&&(this.m=4,pt(14),g=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==_i){this.m=4,pt(15),Cn(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Cn(this.i,this.l,Er,null),Wo(this,Er);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||G.length!=0||this.h.h||(this.m=1,pt(16),g=!1),this.o=this.o&&g,!g)Cn(this.i,this.l,G,"[Invalid Chunked Response]"),Ps(this),ls(this);else if(G.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Oa(Je),Je.P=!0,pt(11))}}else Cn(this.i,this.l,G,null),Wo(this,G);Pt==4&&Ps(this),this.o&&!this.K&&(Pt==4?we(this.j,this):(this.o=!1,as(this)))}else oc(this.g),U==400&&G.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Ps(this),ls(this)}}}catch{}finally{}};function Ei(g){if(!ro(g))return g.g.la();const U=Pa(g.g);if(U==="")return"";let G="";const pe=U.length,ke=Ii(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ps(g),ls(g),"";g.h.i=new o.TextDecoder}for(let Oe=0;Oe<pe;Oe++)g.h.h=!0,G+=g.h.i.decode(U[Oe],{stream:!(ke&&Oe==pe-1)});return U.length=0,g.h.g+=G,g.C=0,g.h.g}function ro(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function os(g,U){var G=g.C,pe=U.indexOf(`
`,G);return pe==-1?bi:(G=Number(U.substring(G,pe)),isNaN(G)?_i:(pe+=1,pe+G>U.length?bi:(U=U.slice(pe,pe+G),g.C=pe+G,U)))}Un.prototype.cancel=function(){this.K=!0,Ps(this)};function as(g){g.T=Date.now()+g.H,qo(g,g.H)}function qo(g,U){if(g.D!=null)throw Error("WatchDog timer not null");g.D=qt(u(g.aa,g),U)}function no(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Un.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Et(this.i,this.B),this.M!=2&&(At(),pt(17)),Ps(this),this.m=2,ls(this)):qo(this,this.T-g)};function ls(g){g.j.I==0||g.K||we(g.j,g)}function Ps(g){no(g);var U=g.O;U&&typeof U.dispose=="function"&&U.dispose(),g.O=null,Ke(g.V),g.g&&(U=g.g,g.g=null,U.abort(),U.dispose())}function Wo(g,U){try{var G=g.j;if(G.I!=0&&(G.g==g||Na(G.h,g))){if(!g.L&&Na(G.h,g)&&G.I==3){try{var pe=G.Ba.g.parse(U)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var ke=pe;if(ke[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<g.F)J(G),uo(G);else break e;Ds(G),pt(18)}}else G.xa=ke[1],0<G.xa-G.K&&ke[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=qt(u(G.Va,G),6e3));Ta(G.h)<=1&&G.ta&&(G.ta=void 0)}else Ie(G,11)}else if((g.L||G.g==g)&&J(G),!P(U))for(ke=G.Ba.g.parse(U),U=0;U<ke.length;U++){let Ht=ke[U];const Er=Ht[0];if(!(Er<=G.K))if(G.K=Er,Ht=Ht[1],G.I==2)if(Ht[0]=="c"){G.M=Ht[1],G.ba=Ht[2];const Sn=Ht[3];Sn!=null&&(G.ka=Sn,G.j.info("VER="+G.ka));const Vn=Ht[4];Vn!=null&&(G.za=Vn,G.j.info("SVER="+G.za));const Ar=Ht[5];Ar!=null&&typeof Ar=="number"&&Ar>0&&(pe=1.5*Ar,G.O=pe,G.j.info("backChannelRequestTimeoutMs_="+pe)),pe=G;const zn=g.g;if(zn){const ps=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var Oe=pe.h;Oe.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Ho(Oe,Oe.h),Oe.h=null))}if(pe.G){const Xo=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(pe.wa=Xo,tr(pe.J,pe.G,Xo))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-g.F,G.j.info("Handshake RTT: "+G.T+"ms")),pe=G;var Je=g;if(pe.na=He(pe,pe.L?pe.ba:null,pe.W),Je.L){Gl(pe.h,Je);var Pt=Je,xr=pe.O;xr&&(Pt.H=xr),Pt.D&&(no(Pt),as(Pt)),pe.g=Je}else eu(pe);G.i.length>0&&ho(G)}else Ht[0]!="stop"&&Ht[0]!="close"||Ie(G,7);else G.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ie(G,7):lo(G):Ht[0]!="noop"&&G.l&&G.l.qa(Ht),G.A=0)}}At(4)}catch{}}var Zu=class{constructor(g,U){this.g=g,this.map=U}};function $l(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function si(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ta(g){return g.h?1:g.g?g.g.size:0}function Na(g,U){return g.h?g.h==U:g.g?g.g.has(U):!1}function Ho(g,U){g.g?g.g.add(U):g.h=U}function Gl(g,U){g.h&&g.h==U?g.h=null:g.g&&g.g.has(U)&&g.g.delete(U)}$l.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Kl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let U=g.i;for(const G of g.g.values())U=U.concat(G.G);return U}return h(g.i)}var Xl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(g,U){if(g){g=g.split("&");for(let G=0;G<g.length;G++){const pe=g[G].indexOf("=");let ke,Oe=null;pe>=0?(ke=g[G].substring(0,pe),Oe=g[G].substring(pe+1)):ke=g[G],U(ke,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function oi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let U;g instanceof oi?(this.l=g.l,wr(this,g.j),this.o=g.o,this.g=g.g,io(this,g.u),this.h=g.h,Si(this,Ia(g.i)),this.m=g.m):g&&(U=String(g).match(Xl))?(this.l=!1,wr(this,U[1]||"",!0),this.o=An(U[2]||""),this.g=An(U[3]||"",!0),io(this,U[4]),this.h=An(U[5]||"",!0),Si(this,U[6]||"",!0),this.m=An(U[7]||"")):(this.l=!1,this.i=new so(null,this.l))}oi.prototype.toString=function(){const g=[];var U=this.j;U&&g.push(Ir(U,Yl,!0),":");var G=this.g;return(G||U=="file")&&(g.push("//"),(U=this.o)&&g.push(Ir(U,Yl,!0),"@"),g.push(Or(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&g.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&g.push("/"),g.push(Ir(G,G.charAt(0)=="/"?zh:Vh,!0))),(G=this.i.toString())&&g.push("?",G),(G=this.m)&&g.push("#",Ir(G,ec)),g.join("")},oi.prototype.resolve=function(g){const U=Ai(this);let G=!!g.j;G?wr(U,g.j):G=!!g.o,G?U.o=g.o:G=!!g.g,G?U.g=g.g:G=g.u!=null;var pe=g.h;if(G)io(U,g.u);else if(G=!!g.h){if(pe.charAt(0)!="/")if(this.g&&!this.h)pe="/"+pe;else{var ke=U.h.lastIndexOf("/");ke!=-1&&(pe=U.h.slice(0,ke+1)+pe)}if(ke=pe,ke==".."||ke==".")pe="";else if(ke.indexOf("./")!=-1||ke.indexOf("/.")!=-1){pe=ke.lastIndexOf("/",0)==0,ke=ke.split("/");const Oe=[];for(let Je=0;Je<ke.length;){const Pt=ke[Je++];Pt=="."?pe&&Je==ke.length&&Oe.push(""):Pt==".."?((Oe.length>1||Oe.length==1&&Oe[0]!="")&&Oe.pop(),pe&&Je==ke.length&&Oe.push("")):(Oe.push(Pt),pe=!0)}pe=Oe.join("/")}else pe=ke}return G?U.h=pe:G=g.i.toString()!=="",G?Si(U,Ia(g.i)):G=!!g.m,G&&(U.m=g.m),U};function Ai(g){return new oi(g)}function wr(g,U,G){g.j=G?An(U,!0):U,g.j&&(g.j=g.j.replace(/:$/,""))}function io(g,U){if(U){if(U=Number(U),isNaN(U)||U<0)throw Error("Bad port number "+U);g.u=U}else g.u=null}function Si(g,U,G){U instanceof so?(g.i=U,Vi(g.i,g.l)):(G||(U=Ir(U,cs)),g.i=new so(U,g.l))}function tr(g,U,G){g.i.set(U,G)}function $o(g){return tr(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function An(g,U){return g?U?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ir(g,U,G){return typeof g=="string"?(g=encodeURI(g).replace(U,Ls),G&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ls(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Yl=/[#\/\?@]/g,Vh=/[#\?:]/g,zh=/[#\?]/g,cs=/[#\?@]/g,ec=/#/g;function so(g,U){this.h=this.g=null,this.i=g||null,this.j=!!U}function Ti(g){g.g||(g.g=new Map,g.h=0,g.i&&us(g.i,function(U,G){g.add(decodeURIComponent(U.replace(/\+/g," ")),G)}))}t=so.prototype,t.add=function(g,U){Ti(this),this.i=null,g=Os(this,g);let G=this.g.get(g);return G||this.g.set(g,G=[]),G.push(U),this.h+=1,this};function oo(g,U){Ti(g),U=Os(g,U),g.g.has(U)&&(g.i=null,g.h-=g.g.get(U).length,g.g.delete(U))}function tc(g,U){return Ti(g),U=Os(g,U),g.g.has(U)}t.forEach=function(g,U){Ti(this),this.g.forEach(function(G,pe){G.forEach(function(ke){g.call(U,ke,pe,this)},this)},this)};function rc(g,U){Ti(g);let G=[];if(typeof U=="string")tc(g,U)&&(G=G.concat(g.g.get(Os(g,U))));else for(g=Array.from(g.g.values()),U=0;U<g.length;U++)G=G.concat(g[U]);return G}t.set=function(g,U){return Ti(this),this.i=null,g=Os(this,g),tc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[U]),this.h+=1,this},t.get=function(g,U){return g?(g=rc(this,g),g.length>0?String(g[0]):U):U};function nc(g,U,G){oo(g,U),G.length>0&&(g.i=null,g.g.set(Os(g,U),h(G)),g.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],U=Array.from(this.g.keys());for(let pe=0;pe<U.length;pe++){var G=U[pe];const ke=Or(G);G=rc(this,G);for(let Oe=0;Oe<G.length;Oe++){let Je=ke;G[Oe]!==""&&(Je+="="+Or(G[Oe])),g.push(Je)}}return this.i=g.join("&")};function Ia(g){const U=new so;return U.i=g.i,g.g&&(U.g=new Map(g.g),U.h=g.h),U}function Os(g,U){return U=String(U),g.j&&(U=U.toLowerCase()),U}function Vi(g,U){U&&!g.j&&(Ti(g),g.i=null,g.g.forEach(function(G,pe){const ke=pe.toLowerCase();pe!=ke&&(oo(this,pe),nc(this,ke,G))},g)),g.j=U}function qh(g,U){const G=new Ui;if(o.Image){const pe=new Image;pe.onload=c(Ni,G,"TestLoadImage: loaded",!0,U,pe),pe.onerror=c(Ni,G,"TestLoadImage: error",!1,U,pe),pe.onabort=c(Ni,G,"TestLoadImage: abort",!1,U,pe),pe.ontimeout=c(Ni,G,"TestLoadImage: timeout",!1,U,pe),o.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=g}else U(!1)}function Go(g,U){const G=new Ui,pe=new AbortController,ke=setTimeout(()=>{pe.abort(),Ni(G,"TestPingServer: timeout",!1,U)},1e4);fetch(g,{signal:pe.signal}).then(Oe=>{clearTimeout(ke),Oe.ok?Ni(G,"TestPingServer: ok",!0,U):Ni(G,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(ke),Ni(G,"TestPingServer: error",!1,U)})}function Ni(g,U,G,pe,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),pe(G)}catch{}}function Wh(){this.g=new xt}function Tt(g){this.i=g.Sb||null,this.h=g.ab||!1}f(Tt,rt),Tt.prototype.g=function(){return new ka(this.i,this.h)};function ka(g,U){F.call(this),this.H=g,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ka,F),t=ka.prototype,t.open=function(g,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=U,this.readyState=1,ai(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const U={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(U.body=g),(this.H||o).fetch(new Request(this.D,U)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var U=g.value?g.value:new Uint8Array(0);(U=this.B.decode(U,{stream:!g.done}))&&(this.response=this.responseText+=U)}g.done?Ko(this):ai(this),this.readyState==3&&ic(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ko(this))},t.Na=function(g){this.g&&(this.response=g,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ai(g)}t.setRequestHeader=function(g,U){this.A.append(g,U)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],U=this.h.entries();for(var G=U.next();!G.done;)G=G.value,g.push(G[0]+": "+G[1]),G=U.next();return g.join(`\r
`)};function ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function hs(g){let U="";return de(g,function(G,pe){U+=pe,U+=":",U+=G,U+=`\r
`}),U}function Ql(g,U,G){e:{for(pe in G){var pe=!1;break e}pe=!0}pe||(G=hs(G),typeof g=="string"?G!=null&&Or(G):tr(g,U,G))}function _r(g){F.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(_r,F);var Ca=/^https?$/i,Jl=["POST","PUT"];t=_r.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,U,G,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);U=U?U.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ni.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(U,String(g),!0),this.B=!1}catch(Oe){ao(this,Oe);return}if(g=G||"",G=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var ke in pe)G.set(ke,pe[ke]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const Oe of pe.keys())G.set(Oe,pe.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(G.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),ke=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Jl,U,void 0)>=0)||pe||ke||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Je]of G)this.g.setRequestHeader(Oe,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Oe){ao(this,Oe)}};function ao(g,U){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=U,g.o=5,sc(g),Ra(g)}function sc(g){g.A||(g.A=!0,ce(g,"complete"),ce(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ce(this,"complete"),ce(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),_r.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},t.Xa=function(){fs(this)};function fs(g){if(g.h&&typeof s<"u"){if(g.v&&Ii(g)==4)setTimeout(g.Ca.bind(g),0);else if(ce(g,"readystatechange"),Ii(g)==4){g.h=!1;try{const Oe=g.ca();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var G;if(!(G=U)){var pe;if(pe=Oe===0){let Je=String(g.D).match(Xl)[1]||null;!Je&&o.self&&o.self.location&&(Je=o.self.location.protocol.slice(0,-1)),pe=!Ca.test(Je?Je.toLowerCase():"")}G=pe}if(G)ce(g,"complete"),ce(g,"success");else{g.o=6;try{var ke=Ii(g)>2?g.g.statusText:""}catch{ke=""}g.l=ke+" ["+g.ca()+"]",sc(g)}}finally{Ra(g)}}}}function Ra(g,U){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const G=g.g;g.g=null,U||ce(g,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var U=this.g.responseText;return g&&U.indexOf(g)==0&&(U=U.substring(g.length)),tt(U)}};function Pa(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(g){const U={};g=(g.g&&Ii(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<g.length;pe++){if(P(g[pe]))continue;var G=mn(g[pe]);const ke=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Oe=U[ke]||[];U[ke]=Oe,Oe.push(G)}Ae(U,function(pe){return pe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(g,U,G){return G&&G.internalChannelParams&&G.internalChannelParams[g]||U}function La(g){this.za=0,this.i=[],this.j=new Ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,g),this.Za=li("retryDelaySeedMs",1e4,g),this.Ta=li("forwardChannelMaxRetries",2,g),this.va=li("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(g&&g.concurrentRequestLimit),this.Ba=new Wh,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=La.prototype,t.ka=8,t.I=1,t.connect=function(g,U,G,pe){pt(0),this.W=g,this.H=U||{},G&&pe!==void 0&&(this.H.OSID=G,this.H.OAID=pe),this.F=this.X,this.J=He(this,null,this.W),ho(this)};function lo(g){if(co(g),g.I==3){var U=g.V++,G=Ai(g.J);if(tr(G,"SID",g.M),tr(G,"RID",U),tr(G,"TYPE","terminate"),ui(g,G),U=new Un(g,g.j,U),U.M=2,U.A=$o(Ai(G)),G=!1,o.navigator&&o.navigator.sendBeacon)try{G=o.navigator.sendBeacon(U.A.toString(),"")}catch{}!G&&o.Image&&(new Image().src=U.A,G=!0),G||(U.g=st(U.j,null),U.g.ea(U.A)),U.F=Date.now(),as(U)}Ue(g)}function uo(g){g.g&&(Oa(g),g.g.cancel(),g.g=null)}function co(g){uo(g),g.v&&(o.clearTimeout(g.v),g.v=null),J(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function ho(g){if(!si(g.h)&&!g.m){g.m=!0;var U=g.Ea;L||S(),W||(L(),W=!0),A.add(U,g),g.D=0}}function ac(g,U){return Ta(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=U.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=qt(u(g.Ea,g,U),Ee(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ke=new Un(this,this.j,g);let Oe=this.o;if(this.U&&(Oe?(Oe=he(Oe),K(Oe,this.U)):Oe=this.U),this.u!==null||this.R||(ke.J=Oe,Oe=null),this.S)e:{for(var U=0,G=0;G<this.i.length;G++){t:{var pe=this.i[G];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if(U+=pe,U>4096){U=G;break e}if(U===4096||G===this.i.length-1){U=G+1;break e}}U=1e3}else U=1e3;U=ds(this,ke,U),G=Ai(this.J),tr(G,"RID",g),tr(G,"CVER",22),this.G&&tr(G,"X-HTTP-Session-Id",this.G),ui(this,G),Oe&&(this.R?U="headers="+Or(hs(Oe))+"&"+U:this.u&&Ql(G,this.u,Oe)),Ho(this.h,ke),this.Ra&&tr(G,"TYPE","init"),this.S?(tr(G,"$req",U),tr(G,"SID","null"),ke.U=!0,ii(ke,G,null)):ii(ke,G,U),this.I=2}}else this.I==3&&(g?Zl(this,g):this.i.length==0||si(this.h)||Zl(this))};function Zl(g,U){var G;U?G=U.l:G=g.V++;const pe=Ai(g.J);tr(pe,"SID",g.M),tr(pe,"RID",G),tr(pe,"AID",g.K),ui(g,pe),g.u&&g.o&&Ql(pe,g.u,g.o),G=new Un(g,g.j,G,g.D+1),g.u===null&&(G.J=g.o),U&&(g.i=U.G.concat(g.i)),U=ds(g,G,1e3),G.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ho(g.h,G),ii(G,pe,U)}function ui(g,U){g.H&&de(g.H,function(G,pe){tr(U,pe,G)}),g.l&&de({},function(G,pe){tr(U,pe,G)})}function ds(g,U,G){G=Math.min(g.i.length,G);const pe=g.l?u(g.l.Ka,g.l,g):null;e:{var ke=g.i;let Pt=-1;for(;;){const xr=["count="+G];Pt==-1?G>0?(Pt=ke[0].g,xr.push("ofs="+Pt)):Pt=0:xr.push("ofs="+Pt);let Ht=!0;for(let Er=0;Er<G;Er++){var Oe=ke[Er].g;const Sn=ke[Er].map;if(Oe-=Pt,Oe<0)Pt=Math.max(0,ke[Er].g-100),Ht=!1;else try{Oe="req"+Oe+"_"||"";try{var Je=Sn instanceof Map?Sn:Object.entries(Sn);for(const[Vn,Ar]of Je){let zn=Ar;a(Ar)&&(zn=Ze(Ar)),xr.push(Oe+Vn+"="+encodeURIComponent(zn))}}catch(Vn){throw xr.push(Oe+"type="+encodeURIComponent("_badmap")),Vn}}catch{pe&&pe(Sn)}}if(Ht){Je=xr.join("&");break e}}Je=void 0}return g=g.i.splice(0,G),U.G=g,Je}function eu(g){if(!g.g&&!g.v){g.Y=1;var U=g.Da;L||S(),W||(L(),W=!0),A.add(U,g),g.A=0}}function Ds(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=qt(u(g.Da,g),Ee(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=qt(u(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),uo(this),R(this))};function Oa(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function R(g){g.g=new Un(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var U=Ai(g.na);tr(U,"RID","rpc"),tr(U,"SID",g.M),tr(U,"AID",g.K),tr(U,"CI",g.F?"0":"1"),!g.F&&g.ia&&tr(U,"TO",g.ia),tr(U,"TYPE","xmlhttp"),ui(g,U),g.u&&g.o&&Ql(U,g.u,g.o),g.O&&(g.g.H=g.O);var G=g.g;g=g.ba,G.M=1,G.A=$o(Ai(U)),G.u=null,G.R=!0,xi(G,g)}t.Va=function(){this.C!=null&&(this.C=null,uo(this),Ds(this),pt(19))};function J(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function we(g,U){var G=null;if(g.g==U){J(g),Oa(g),g.g=null;var pe=2}else if(Na(g.h,U))G=U.G,Gl(g.h,U),pe=1;else return;if(g.I!=0){if(U.o)if(pe==1){G=U.u?U.u.length:0,U=Date.now()-U.F;var ke=g.D;pe=Jt(),ce(pe,new gt(pe,G)),ho(g)}else eu(g);else if(ke=U.m,ke==3||ke==0&&U.X>0||!(pe==1&&ac(g,U)||pe==2&&Ds(g)))switch(G&&G.length>0&&(U=g.h,U.i=U.i.concat(G)),ke){case 1:Ie(g,5);break;case 4:Ie(g,10);break;case 3:Ie(g,6);break;default:Ie(g,2)}}}function Ee(g,U){let G=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(G*=2),G*U}function Ie(g,U){if(g.j.info("Error code "+U),U==2){var G=u(g.bb,g),pe=g.Ua;const ke=!pe;pe=new oi(pe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wr(pe,"https"),$o(pe),ke?qh(pe.toString(),G):Go(pe.toString(),G)}else pt(2);g.I=0,g.l&&g.l.pa(U),Ue(g),co(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Ue(g){if(g.I=0,g.ja=[],g.l){const U=Kl(g.h);(U.length!=0||g.i.length!=0)&&(E(g.ja,U),E(g.ja,g.i),g.h.i.length=0,h(g.i),g.i.length=0),g.l.oa()}}function He(g,U,G){var pe=G instanceof oi?Ai(G):new oi(G);if(pe.g!="")U&&(pe.g=U+"."+pe.g),io(pe,pe.u);else{var ke=o.location;pe=ke.protocol,U=U?U+"."+ke.hostname:ke.hostname,ke=+ke.port;const Oe=new oi(null);pe&&wr(Oe,pe),U&&(Oe.g=U),ke&&io(Oe,ke),G&&(Oe.h=G),pe=Oe}return G=g.G,U=g.wa,G&&U&&tr(pe,G,U),tr(pe,"VER",g.ka),ui(g,pe),pe}function st(g,U,G){if(U&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return U=g.Aa&&!g.ma?new _r(new Tt({ab:G})):new _r(g.ma),U.Fa(g.L),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ut(){}t=ut.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function St(){}St.prototype.g=function(g,U){return new wt(g,U)};function wt(g,U){F.call(this),this.g=new La(U),this.l=g,this.h=U&&U.messageUrlParams||null,g=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(g?g["X-WebChannel-Content-Type"]=U.messageContentType:g={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.sa&&(g?g["X-WebChannel-Client-Profile"]=U.sa:g={"X-WebChannel-Client-Profile":U.sa}),this.g.U=g,(g=U&&U.Qb)&&!P(g)&&(this.g.u=g),this.A=U&&U.supportsCrossDomainXhr||!1,this.v=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!P(U)&&(this.g.G=U,g=this.h,g!==null&&U in g&&(g=this.h,U in g&&delete g[U])),this.j=new dr(this)}f(wt,F),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){lo(this.g)},wt.prototype.o=function(g){var U=this.g;if(typeof g=="string"){var G={};G.__data__=g,g=G}else this.v&&(G={},G.__data__=Ze(g),g=G);U.i.push(new Zu(U.Ya++,g)),U.I==3&&ho(U)},wt.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,wt.Z.N.call(this)};function Wt(g){kt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var U=g.__sm__;if(U){e:{for(const G in U){g=G;break e}g=void 0}(this.i=g)&&(g=this.i,U=U!==null&&g in U?U[g]:void 0),this.data=U}else this.data=g}f(Wt,kt);function br(){Ct.call(this),this.status=1}f(br,Ct);function dr(g){this.g=g}f(dr,ut),dr.prototype.ra=function(){ce(this.g,"a")},dr.prototype.qa=function(g){ce(this.g,new Wt(g))},dr.prototype.pa=function(g){ce(this.g,new br)},dr.prototype.oa=function(){ce(this.g,"b")},St.prototype.createWebChannel=St.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,lI=function(){return new St},aI=function(){return Jt()},oI=jt,tw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,Nm=wi,ri.COMPLETE="complete",sI=ri,rr.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",F.prototype.listen=F.prototype.J,Cf=rr,_r.prototype.listenOnce=_r.prototype.K,_r.prototype.getLastError=_r.prototype.Ha,_r.prototype.getLastErrorCode=_r.prototype.ya,_r.prototype.getStatus=_r.prototype.ca,_r.prototype.getResponseJson=_r.prototype.La,_r.prototype.getResponseText=_r.prototype.la,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Fa,iI=_r}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore",AE="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new V5("@firebase/firestore");function _c(){return Lu.logLevel}function it(t,...e){if(Lu.logLevel<=$t.DEBUG){const r=e.map(W5);Lu.debug(`Firestore (${Rh}): ${t}`,...r)}}function _a(t,...e){if(Lu.logLevel<=$t.ERROR){const r=e.map(W5);Lu.error(`Firestore (${Rh}): ${t}`,...r)}}function mh(t,...e){if(Lu.logLevel<=$t.WARN){const r=e.map(W5);Lu.warn(`Firestore (${Rh}): ${t}`,...r)}}function W5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,uI(t,n,r)}function uI(t,e,r){let n=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw _a(n),new Error(n)}function sr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||uI(e,i,n)}function Dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Uo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qn.UNAUTHENTICATED))}shutdown(){}}class R9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class P9{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){sr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xu)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(sr(typeof n.accessToken=="string",31837,{l:n}),new cI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sr(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class L9{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O9{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new L9(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D9{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){sr(this.o===void 0,3512);const n=s=>{s.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,it("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(sr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new SE(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=F9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Gt(t,e){return t<e?-1:t>e?1:0}function rw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return C0(i)===C0(s)?Gt(i,s):C0(i)?1:-1}return Gt(t.length,e.length)}const j9=55296,M9=57343;function C0(t){const e=t.charCodeAt(0);return e>=j9&&e<=M9}function gh(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="__name__";class Eo{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&It(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Eo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Eo?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Eo.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Gt(e.length,r.length)}static compareSegments(e,r){const n=Eo.isNumericId(e),i=Eo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Eo.extractNumericId(e).compare(Eo.extractNumericId(r)):rw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return El.fromString(e.substring(4,e.length-2))}}class Tr extends Eo{construct(e,r,n){return new Tr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new nt(qe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Tr(r)}static emptyPath(){return new Tr([])}}const B9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Eo{construct(e,r,n){return new Fn(e,r,n)}static isValidIdentifier(e){return B9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new Fn([TE])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new nt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new nt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new nt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new nt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Tr.fromString(e))}static fromName(e){return new _t(Tr.fromString(e).popFirst(5))}static empty(){return new _t(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Tr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Tr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,r){if(!r)throw new nt(qe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U9(t,e,r,n){if(e===!0&&n===!0)throw new nt(qe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function NE(t){if(!_t.isDocumentKey(t))throw new nt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){if(_t.isDocumentKey(t))throw new nt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function a1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It(12329,{type:typeof t})}function Al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=a1(t);throw new nt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ud(t,e){if(!fI(t))throw new nt(qe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new nt(qe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,CE=1e6;class Rr{static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*CE);return new Rr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new nt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new nt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<kE)throw new nt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ud(e,Rr._jsonSchema))return new Rr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rr._jsonSchemaVersion="firestore/timestamp/1.0",Rr._jsonSchema={type:fn("string",Rr._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Rr(0,0))}static max(){return new Lt(new Rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function V9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(n===1e9?new Rr(r+1,0):new Rr(r,n));return new Cl(i,_t.empty(),e)}function z9(t){return new Cl(t.readTime,t.key,_d)}class Cl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Cl(Lt.min(),_t.empty(),_d)}static max(){return new Cl(Lt.max(),_t.empty(),_d)}}function q9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=_t.comparator(t.documentKey,e.documentKey),r!==0?r:Gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){if(t.code!==qe.FAILED_PRECONDITION||t.message!==W9)throw t;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new We((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof We?r:We.resolve(r)}catch(r){return We.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):We.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):We.reject(r)}static resolve(e){return new We((r,n)=>{r(e)})}static reject(e){return new We((r,n)=>{n(e)})}static waitFor(e){return new We((r,n)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&r()},l=>n(l))}),o=!0,s===i&&r()})}static or(e){let r=We.resolve(!1);for(const n of e)r=r.next(i=>i?We.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new We((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{o[u]=c,++a,a===s&&n(o)},c=>i(c))}})}static doWhile(e,r){return new We((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function $9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Lh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}l1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=-1;function u1(t){return t==null}function vg(t){return t===0&&1/t==-1/0}function G9(t){return typeof t=="number"&&Number.isInteger(t)&&!vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="";function K9(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=RE(e)),e=X9(t.get(r),e);return RE(e)}function X9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case dI:r+="";break;default:r+=s}}return r}function RE(t){return t+dI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Vl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function pI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.comparator=e,this.root=r||Dn.EMPTY}insert(e,r){return new Vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vp(this.root,e,this.comparator,!0)}}class Vp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Dn.RED,this.left=i??Dn.EMPTY,this.right=s??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Dn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw It(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Dn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new xn(this.comparator);return r.data=e,r}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Zi([])}unionWith(e){let r=new xn(Fn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Zi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return gh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mI("Invalid base64 string: "+s):s}}(e);return new Bn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Bn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const Y9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(t){if(sr(!!t,39018),typeof t=="string"){let e=0;const r=Y9.exec(t);if(sr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pl(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="server_timestamp",yI="__type__",vI="__previous_value__",wI="__local_write_time__";function G5(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[yI])==null?void 0:n.stringValue)===gI}function c1(t){const e=t.mapValue.fields[vI];return G5(e)?c1(e):e}function bd(t){const e=Rl(t.mapValue.fields[wI].timestampValue);return new Rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,r,n,i,s,o,a,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const wg="(default)";class xd{constructor(e,r){this.projectId=e,this.database=r||wg}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__type__",J9="__max__",zp={mapValue:{}},bI="__vector__",_g="value";function Ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G5(t)?4:eF(t)?9007199254740991:Z9(t)?10:11:It(28295,{value:t})}function Bo(t,e){if(t===e)return!0;const r=Ll(t);if(r!==Ll(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Rl(i.timestampValue),a=Rl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Pl(i.bytesValue).isEqual(Pl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return tn(i.geoPointValue.latitude)===tn(s.geoPointValue.latitude)&&tn(i.geoPointValue.longitude)===tn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tn(i.integerValue)===tn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tn(i.doubleValue),a=tn(s.doubleValue);return o===a?vg(o)===vg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return gh(t.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PE(o)!==PE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bo(o[l],a[l])))return!1;return!0}(t,e);default:return It(52216,{left:t})}}function Ed(t,e){return(t.values||[]).find(r=>Bo(r,e))!==void 0}function yh(t,e){if(t===e)return 0;const r=Ll(t),n=Ll(e);if(r!==n)return Gt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tn(s.integerValue||s.doubleValue),l=tn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(bd(t),bd(e));case 5:return rw(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Pl(s),l=Pl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Gt(a[u],l[u]);if(c!==0)return c}return Gt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Gt(tn(s.latitude),tn(o.latitude));return a!==0?a:Gt(tn(s.longitude),tn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,h,E,b;const a=s.fields||{},l=o.fields||{},u=(m=a[_g])==null?void 0:m.arrayValue,c=(h=l[_g])==null?void 0:h.arrayValue,f=Gt(((E=u==null?void 0:u.values)==null?void 0:E.length)||0,((b=c==null?void 0:c.values)==null?void 0:b.length)||0);return f!==0?f:DE(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zp.mapValue&&o===zp.mapValue)return 0;if(s===zp.mapValue)return 1;if(o===zp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const m=rw(l[f],c[f]);if(m!==0)return m;const h=yh(a[l[f]],u[c[f]]);if(h!==0)return h}return Gt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw It(23264,{he:r})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Gt(t,e);const r=Rl(t),n=Rl(e),i=Gt(r.seconds,n.seconds);return i!==0?i:Gt(r.nanos,n.nanos)}function DE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=yh(r[i],n[i]);if(s)return s}return Gt(r.length,n.length)}function vh(t){return nw(t)}function nw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Rl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Pl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return _t.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=nw(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${nw(r.fields[o])}`;return i+"}"}(t.mapValue):It(61005,{value:t})}function Im(t){switch(Ll(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=c1(t);return e?16+Im(e):16;case 5:return 2*t.stringValue.length;case 6:return Pl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+Im(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Vl(n.fields,(s,o)=>{i+=s.length+Im(o)}),i}(t.mapValue);default:throw It(13486,{value:t})}}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iw(t){return!!t&&"integerValue"in t}function K5(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function Z9(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[_I])==null?void 0:n.stringValue)===bI}function Wf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Wf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wf(t.arrayValue.values[r]);return e}return{...t}}function eF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!km(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(r)}setAll(e){let r=Fn.emptyPath(),n={},i=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=Wf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());km(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Vl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Li(Wf(this.value))}}function xI(t){const e=[];return Vl(t.fields,(r,n)=>{const i=new Fn([r]);if(km(n)){const s=xI(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zn(e,0,Lt.min(),Lt.min(),Lt.min(),Li.empty(),0)}static newFoundDocument(e,r,n,i){return new Zn(e,1,r,Lt.min(),n,i,0)}static newNoDocument(e,r){return new Zn(e,2,r,Lt.min(),Lt.min(),Li.empty(),0)}static newUnknownDocument(e,r){return new Zn(e,3,r,Lt.min(),Lt.min(),Li.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,r){this.position=e,this.inclusive=r}}function BE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=_t.comparator(_t.fromName(o.referenceValue),r.key):n=yh(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Bo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r="asc"){this.field=e,this.dir=r}}function tF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{}class hn extends EI{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nF(e,r,n):r==="array-contains"?new oF(e,n):r==="in"?new aF(e,n):r==="not-in"?new lF(e,n):r==="array-contains-any"?new uF(e,n):new hn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new iF(e,n):new sF(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(yh(r,this.value)):r!==null&&Ll(this.value)===Ll(r)&&this.matchesComparison(yh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends EI{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qs(e,r)}matches(e){return AI(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AI(t){return t.op==="and"}function SI(t){return rF(t)&&AI(t)}function rF(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function sw(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+vh(t.value);if(SI(t))return t.filters.map(e=>sw(e)).join(",");{const e=t.filters.map(r=>sw(r)).join(",");return`${t.op}(${e})`}}function TI(t,e){return t instanceof hn?function(n,i){return i instanceof hn&&n.op===i.op&&n.field.isEqual(i.field)&&Bo(n.value,i.value)}(t,e):t instanceof Qs?function(n,i){return i instanceof Qs&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,a)=>s&&TI(o,i.filters[a]),!0):!1}(t,e):void It(19439)}function NI(t){return t instanceof hn?function(r){return`${r.field.canonicalString()} ${r.op} ${vh(r.value)}`}(t):t instanceof Qs?function(r){return r.op.toString()+" {"+r.getFilters().map(NI).join(" ,")+"}"}(t):"Filter"}class nF extends hn{constructor(e,r,n){super(e,r,n),this.key=_t.fromName(n.referenceValue)}matches(e){const r=_t.comparator(e.key,this.key);return this.matchesComparison(r)}}class iF extends hn{constructor(e,r){super(e,"in",r),this.keys=II("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sF extends hn{constructor(e,r){super(e,"not-in",r),this.keys=II("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function II(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>_t.fromName(n.referenceValue))}class oF extends hn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return K5(r)&&Ed(r.arrayValue,this.value)}}class aF extends hn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ed(this.value.arrayValue,r)}}class lF extends hn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ed(this.value.arrayValue,r)}}class uF extends hn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!K5(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ed(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function VE(t,e=null,r=[],n=[],i=null,s=null,o=null){return new cF(t,e,r,n,i,s,o)}function X5(t){const e=Dt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>sw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),u1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>vh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>vh(n)).join(",")),e.Te=r}return e.Te}function Y5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!tF(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!TI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function ow(t){return _t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hF(t,e,r,n,i,s,o,a){return new Oh(t,e,r,n,i,s,o,a)}function Q5(t){return new Oh(t)}function zE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kI(t){return t.collectionGroup!==null}function Hf(t){const e=Dt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xn(Fn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ad(s,n))}),r.has(Fn.keyField().canonicalString())||e.Ie.push(new Ad(Fn.keyField(),n))}return e.Ie}function Lo(t){const e=Dt(t);return e.Ee||(e.Ee=fF(e,Hf(t))),e.Ee}function fF(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ad(i.field,s)});const r=t.endAt?new bg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new bg(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function aw(t,e){const r=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function lw(t,e,r){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function h1(t,e){return Y5(Lo(t),Lo(e))&&t.limitType===e.limitType}function CI(t){return`${X5(Lo(t))}|lt:${t.limitType}`}function bc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>NI(i)).join(", ")}]`),u1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>vh(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>vh(i)).join(",")),`Target(${n})`}(Lo(t))}; limitType=${t.limitType})`}function f1(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):_t.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Hf(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,a,l){const u=BE(o,a,l);return o.inclusive?u<=0:u<0}(n.startAt,Hf(n),i)||n.endAt&&!function(o,a,l){const u=BE(o,a,l);return o.inclusive?u>=0:u>0}(n.endAt,Hf(n),i))}(t,e)}function dF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,r)=>{let n=!1;for(const i of Hf(t)){const s=pF(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function pF(t,e,r){const n=t.field.isKeyField()?_t.comparator(e.key,r.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?yh(l,u):It(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return pI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new Vr(_t.comparator);function ba(){return mF}const PI=new Vr(_t.comparator);function Rf(...t){let e=PI;for(const r of t)e=e.insert(r.key,r);return e}function LI(t){let e=PI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function yu(){return $f()}function OI(){return $f()}function $f(){return new Hu(t=>t.toString(),(t,e)=>t.isEqual(e))}const gF=new Vr(_t.comparator),yF=new xn(_t.comparator);function Kt(...t){let e=yF;for(const r of t)e=e.add(r);return e}const vF=new xn(Gt);function wF(){return vF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function DI(t){return{integerValue:""+t}}function _F(t,e){return G9(e)?DI(e):J5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this._=void 0}}function bF(t,e,r){return t instanceof xg?function(i,s){const o={fields:{[yI]:{stringValue:gI},[wI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G5(s)&&(s=c1(s)),s&&(o.fields[vI]=s),{mapValue:o}}(r,e):t instanceof Sd?jI(t,e):t instanceof Td?MI(t,e):function(i,s){const o=FI(i,s),a=qE(o)+qE(i.Ae);return iw(o)&&iw(i.Ae)?DI(a):J5(i.serializer,a)}(t,e)}function xF(t,e,r){return t instanceof Sd?jI(t,e):t instanceof Td?MI(t,e):r}function FI(t,e){return t instanceof Eg?function(n){return iw(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class xg extends d1{}class Sd extends d1{constructor(e){super(),this.elements=e}}function jI(t,e){const r=BI(e);for(const n of t.elements)r.some(i=>Bo(i,n))||r.push(n);return{arrayValue:{values:r}}}class Td extends d1{constructor(e){super(),this.elements=e}}function MI(t,e){let r=BI(e);for(const n of t.elements)r=r.filter(i=>!Bo(i,n));return{arrayValue:{values:r}}}class Eg extends d1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function qE(t){return tn(t.integerValue||t.doubleValue)}function BI(t){return K5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EF(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Sd&&i instanceof Sd||n instanceof Td&&i instanceof Td?gh(n.elements,i.elements,Bo):n instanceof Eg&&i instanceof Eg?Bo(n.Ae,i.Ae):n instanceof xg&&i instanceof xg}(t.transform,e.transform)}class AF{constructor(e,r){this.version=e,this.transformResults=r}}class Xs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class p1{}function UI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z5(t.key,Xs.none()):new Vd(t.key,t.data,Xs.none());{const r=t.data,n=Li.empty();let i=new xn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new zl(t.key,n,new Zi(i.toArray()),Xs.none())}}function SF(t,e,r){t instanceof Vd?function(i,s,o){const a=i.value.clone(),l=HE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof zl?function(i,s,o){if(!Cm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=HE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Gf(t,e,r,n){return t instanceof Vd?function(s,o,a,l){if(!Cm(s.precondition,o))return a;const u=s.value.clone(),c=$E(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof zl?function(s,o,a,l){if(!Cm(s.precondition,o))return a;const u=$E(s.fieldTransforms,l,o),c=o.data;return c.setAll(VI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,o,a){return Cm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function TF(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=FI(n.transform,i||null);s!=null&&(r===null&&(r=Li.empty()),r.set(n.field,s))}return r||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&gh(n,i,(s,o)=>EF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vd extends p1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zl extends p1{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function HE(t,e,r){const n=new Map;sr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,xF(o,a,r[i]))}return n}function $E(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,bF(s,o,e))}return n}class Z5 extends p1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NF extends p1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SF(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=OI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const l=UI(o,a);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Kt())}isEqual(e){return this.batchId===e.batchId&&gh(this.mutations,e.mutations,(r,n)=>WE(r,n))&&gh(this.baseMutations,e.baseMutations,(r,n)=>WE(r,n))}}class e_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){sr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return gF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new e_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,Qt;function RF(t){switch(t){case qe.OK:return It(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return It(15467,{code:t})}}function zI(t){if(t===void 0)return _a("GRPC error has no .code"),qe.UNKNOWN;switch(t){case un.OK:return qe.OK;case un.CANCELLED:return qe.CANCELLED;case un.UNKNOWN:return qe.UNKNOWN;case un.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case un.INTERNAL:return qe.INTERNAL;case un.UNAVAILABLE:return qe.UNAVAILABLE;case un.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case un.NOT_FOUND:return qe.NOT_FOUND;case un.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case un.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case un.ABORTED:return qe.ABORTED;case un.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case un.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case un.DATA_LOSS:return qe.DATA_LOSS;default:return It(39323,{code:t})}}(Qt=un||(un={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new El([4294967295,4294967295],0);function GE(t){const e=PF().encode(t),r=new nI;return r.update(e),new Uint8Array(r.digest())}function KE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new El([r,n],0),new El([i,s],0)]}class t_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Pf(`Invalid padding: ${r}`);if(n<0)throw new Pf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=El.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(El.fromNumber(n)));return i.compare(LF)===1&&(i=new El([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=GE(e),[n,i]=KE(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t_(s,i,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const r=GE(e),[n,i]=KE(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new m1(Lt.min(),i,new Vr(Gt),ba(),Kt())}}class zd{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new zd(n,r,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class qI{constructor(e,r){this.targetId=e,this.Ce=r}}class WI{constructor(e,r,n=Bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),r=Kt(),n=Kt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:It(38017,{changeType:s})}}),new zd(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=YE()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,sr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OF{constructor(e){this.Ge=e,this.ze=new Map,this.je=ba(),this.Je=qp(),this.He=qp(),this.Ye=new Vr(Gt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:It(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(ow(s))if(n===0){const o=new _t(s.path);this.et(r,o,Zn.newNoDocument(o,Lt.min()))}else sr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=Pl(n).toUint8Array()}catch(l){if(l instanceof mI)return mh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new t_(o,i,s)}catch(l){return mh(l instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ow(a.target)){const l=new _t(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Zn.newNoDocument(l,e))}s.Be&&(r.set(o,s.ke()),s.qe())}});let n=Kt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new m1(e,r,this.Ye,this.je,n);return this.je=ba(),this.Je=qp(),this.He=qp(),this.Ye=new Vr(Gt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new XE,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new xn(Gt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new xn(Gt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||it("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function qp(){return new Vr(_t.comparator)}function YE(){return new Vr(_t.comparator)}const DF={asc:"ASCENDING",desc:"DESCENDING"},FF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jF={and:"AND",or:"OR"};class MF{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function uw(t,e){return t.useProto3Json||u1(e)?e:{value:e}}function Ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BF(t,e){return Ag(t,e.toTimestamp())}function Oo(t){return sr(!!t,49232),Lt.fromTimestamp(function(r){const n=Rl(r);return new Rr(n.seconds,n.nanos)}(t))}function r_(t,e){return cw(t,e).canonicalString()}function cw(t,e){const r=function(i){return new Tr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function $I(t){const e=Tr.fromString(t);return sr(QI(e),10190,{key:e.toString()}),e}function hw(t,e){return r_(t.databaseId,e.path)}function R0(t,e){const r=$I(e);if(r.get(1)!==t.databaseId.projectId)throw new nt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new nt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new _t(KI(r))}function GI(t,e){return r_(t.databaseId,e)}function UF(t){const e=$I(t);return e.length===4?Tr.emptyPath():KI(e)}function fw(t){return new Tr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KI(t){return sr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QE(t,e,r){return{name:hw(t,e),fields:r.value.mapValue.fields}}function VF(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:It(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(sr(c===void 0||typeof c=="string",58123),Bn.fromBase64String(c||"")):(sr(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Bn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?qe.UNKNOWN:zI(u.code);return new nt(c,u.message||"")}(o);r=new WI(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=R0(t,n.document.name),s=Oo(n.document.updateTime),o=n.document.createTime?Oo(n.document.createTime):Lt.min(),a=new Li({mapValue:{fields:n.document.fields}}),l=Zn.newFoundDocument(i,s,o,a),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Rm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=R0(t,n.document),s=n.readTime?Oo(n.readTime):Lt.min(),o=Zn.newNoDocument(i,s),a=n.removedTargetIds||[];r=new Rm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=R0(t,n.document),s=n.removedTargetIds||[];r=new Rm([],s,i,null)}else{if(!("filter"in e))return It(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new CF(i,s),a=n.targetId;r=new qI(a,o)}}return r}function zF(t,e){let r;if(e instanceof Vd)r={update:QE(t,e.key,e.value)};else if(e instanceof Z5)r={delete:hw(t,e.key)};else if(e instanceof zl)r={update:QE(t,e.key,e.data),updateMask:QF(e.fieldMask)};else{if(!(e instanceof NF))return It(16599,{Vt:e.type});r={verify:hw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof xg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Td)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eg)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw It(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:It(27497)}(t,e.precondition)),r}function qF(t,e){return t&&t.length>0?(sr(e!==void 0,14353),t.map(r=>function(i,s){let o=i.updateTime?Oo(i.updateTime):Oo(s);return o.isEqual(Lt.min())&&(o=Oo(s)),new AF(o,i.transformResults||[])}(r,e))):[]}function WF(t,e){return{documents:[GI(t,e.path)]}}function HF(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=GI(t,i);const s=function(u){if(u.length!==0)return YI(Qs.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:xc(m.field),direction:KF(m.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=uw(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function $F(t){let e=UF(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){sr(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(f){const m=XI(f);return m instanceof Qs&&SI(m)?m.getFilters():[m]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(m=>function(E){return new Ad(Ec(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(r.orderBy));let a=null;r.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,u1(m)?null:m}(r.limit));let l=null;r.startAt&&(l=function(f){const m=!!f.before,h=f.values||[];return new bg(h,m)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const m=!f.before,h=f.values||[];return new bg(h,m)}(r.endAt)),hF(e,i,o,s,a,"F",l,u)}function GF(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ec(r.unaryFilter.field);return hn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ec(r.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ec(r.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ec(r.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}}(t):t.fieldFilter!==void 0?function(r){return hn.create(Ec(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qs.create(r.compositeFilter.filters.map(n=>XI(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It(1026)}}(r.compositeFilter.op))}(t):It(30097,{filter:t})}function KF(t){return DF[t]}function XF(t){return FF[t]}function YF(t){return jF[t]}function xc(t){return{fieldPath:t.canonicalString()}}function Ec(t){return Fn.fromServerFormat(t.fieldPath)}function YI(t){return t instanceof hn?function(r){if(r.op==="=="){if(ME(r.value))return{unaryFilter:{field:xc(r.field),op:"IS_NAN"}};if(jE(r.value))return{unaryFilter:{field:xc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ME(r.value))return{unaryFilter:{field:xc(r.field),op:"IS_NOT_NAN"}};if(jE(r.value))return{unaryFilter:{field:xc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xc(r.field),op:XF(r.op),value:r.value}}}(t):t instanceof Qs?function(r){const n=r.getFilters().map(i=>YI(i));return n.length===1?n[0]:{compositeFilter:{op:YF(r.op),filters:n}}}(t):It(54877,{filter:t})}function QF(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function QI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,r,n,i,s=Lt.min(),o=Lt.min(),a=Bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.yt=e}}function ZF(t){const e=$F({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.Cn=new tj}addToCollectionParentIndex(e,r){return this.Cn.add(r),We.resolve()}getCollectionParents(e,r){return We.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return We.resolve()}deleteFieldIndex(e,r){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,r){return We.resolve()}getDocumentsMatchingTarget(e,r){return We.resolve(null)}getIndexType(e,r){return We.resolve(0)}getFieldIndexes(e,r){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,r){return We.resolve(Cl.min())}getMinOffsetFromCollectionGroup(e,r){return We.resolve(Cl.min())}updateCollectionGroup(e,r,n){return We.resolve()}updateIndexEntries(e,r){return We.resolve()}}class tj{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new xn(Tr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new xn(Tr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JI=41943040;class Ri{static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(JI,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wh(0)}static cr(){return new wh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",rj=1048576;function e4([t,e],[r,n]){const i=Gt(t,r);return i===0?Gt(e,n):i}class nj{constructor(e){this.Ir=e,this.buffer=new xn(e4),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();e4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ij{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(ZE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Lh(r)?it(ZE,"Ignoring IndexedDB error during garbage collection: ",r):await Ph(r)}await this.Vr(3e5)})}}class sj{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return We.resolve(l1.ce);const n=new nj(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(JE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,a=Date.now(),this.removeTargets(e,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),_c()<=$t.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function oj(t,e){return new sj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.changes=new Hu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?We.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Gf(n.mutation,i,Zi.empty(),Rr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Kt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Kt()){const i=yu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=Rf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=yu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Kt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,i){let s=ba();const o=$f(),a=function(){return $f()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof zl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Gf(c.mutation,u,c.mutation.getFieldMask(),Rr.now())):o.set(u.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>a.set(u,new lj(c,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,r){const n=$f();let i=new Vr((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Zi.empty();c=a.applyToLocalView(u,c),n.set(l,c);const f=(i.get(a.batchId)||Kt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=OI();c.forEach(m=>{if(!s.has(m)){const h=UI(r.get(m),n.get(m));h!==null&&f.set(m,h),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return We.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return _t.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):kI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):We.resolve(yu());let a=_d,l=s;return o.next(u=>We.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?We.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Kt())).next(c=>({batchId:a,changes:LI(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _t(r)).next(n=>{let i=Rf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Rf();return this.indexManager.getCollectionParents(e,s).next(a=>We.forEach(a,l=>{const u=function(f,m){return new Oh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Zn.newInvalidDocument(c)))});let a=Rf();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Gf(c.mutation,u,Zi.empty(),Rr.now()),f1(r,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return We.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Oo(i.createTime)}}(r)),We.resolve()}getNamedQuery(e,r){return We.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:ZF(i.bundledQuery),readTime:Oo(i.readTime)}}(r)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.overlays=new Vr(_t.comparator),this.qr=new Map}getOverlay(e,r){return We.resolve(this.overlays.get(r))}getOverlays(e,r){const n=yu();return We.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),We.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),We.resolve()}getOverlaysForCollection(e,r,n){const i=yu(),s=r.length+1,o=new _t(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return We.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Vr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=yu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=yu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return We.resolve(a)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new kF(r,n));let s=this.qr.get(r);s===void 0&&(s=Kt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Qr=new xn(Tn.$r),this.Ur=new xn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Tn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Tn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new _t(new Tr([])),n=new Tn(r,e),i=new Tn(r,e+1),s=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new _t(new Tr([])),n=new Tn(r,e),i=new Tn(r,e+1);let s=Kt();return this.Ur.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Tn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Tn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return _t.comparator(e.key,r.key)||Gt(e.Yr,r.Yr)}static Kr(e,r){return Gt(e.Yr,r.Yr)||_t.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new xn(Tn.$r)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IF(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Tn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return We.resolve(o)}lookupMutationBatch(e,r){return We.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return We.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?$5:this.tr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Tn(r,0),i=new Tn(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),We.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xn(Gt);return r.forEach(i=>{const s=new Tn(i,0),o=new Tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{n=n.add(a.Yr)})}),We.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;_t.isDocumentKey(s)||(s=s.child(""));const o=new Tn(new _t(s),0);let a=new xn(Gt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),We.resolve(this.ti(a))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){sr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return We.forEach(r.mutations,i=>{const s=new Tn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Tn(r,0),i=this.Zr.firstAfterOrEqual(n);return We.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.ri=e,this.docs=function(){return new Vr(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return We.resolve(n?n.document.mutableCopy():Zn.newInvalidDocument(r))}getEntries(e,r){let n=ba();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Zn.newInvalidDocument(i))}),We.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=ba();const o=r.path,a=new _t(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||q9(z9(c),n)<=0||(i.has(c.key)||f1(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return We.resolve(s)}getAllFromCollectionGroup(e,r,n,i){It(9500)}ii(e,r){return We.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new mj(this)}getSize(e){return We.resolve(this.size)}}class mj extends aj{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),We.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.persistence=e,this.si=new Hu(r=>X5(r),Y5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=wh.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),We.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new wh(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,We.resolve()}updateTargetData(e,r){return this.Pr(r),We.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),We.waitFor(s).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return We.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),We.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),We.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),We.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return We.resolve(n)}containsKey(e,r){return We.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,r){this.ui={},this.overlays={},this.ci=new l1(0),this.li=!1,this.li=!0,this.hi=new fj,this.referenceDelegate=e(this),this.Pi=new gj(this),this.indexManager=new ej,this.remoteDocumentCache=function(i){return new pj(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new JF(r),this.Ii=new cj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hj,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new dj(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){it("MemoryPersistence","Starting transaction:",e);const i=new yj(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return We.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class yj extends H9{constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new i_(e)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),We.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),We.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),We.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.fi,n=>{const i=_t.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,Lt.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return We.or([()=>We.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Sg{constructor(e,r){this.persistence=e,this.pi=new Hu(n=>K9(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=oj(this,r)}static mi(e,r){return new Sg(e,r)}Ei(){}di(e){return We.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return We.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?We.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(a=>{a||(n++,s.removeEntry(o,Lt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Im(e.data.value)),r}br(e,r,n){return We.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return We.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Kt(),i=Kt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cD()?8:$9(ti())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vj;return this.Ss(e,r,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,r,o,a.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(_c()<=$t.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",bc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),We.resolve()):(_c()<=$t.DEBUG&&it("QueryEngine","Query:",bc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(_c()<=$t.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",bc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lo(r))):We.resolve())}ys(e,r){if(zE(r))return We.resolve(null);let n=Lo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=lw(r,null,"F"),n=Lo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Kt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,a);return this.Cs(r,u,o,l.readTime)?this.ys(e,lw(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return zE(r)||i.isEqual(Lt.min())?We.resolve(null):this.ps.getDocuments(e,n).next(s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?We.resolve(null):(_c()<=$t.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bc(r)),this.vs(e,o,r,V9(i,_d)).next(a=>a))})}Ds(e,r){let n=new xn(RI(e));return r.forEach((i,s)=>{f1(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return _c()<=$t.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",bc(r)),this.ps.getDocumentsMatchingQuery(e,r,Cl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LocalStore",_j=3e8;class bj{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Vr(Gt),this.xs=new Hu(s=>X5(s),Y5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function xj(t,e,r,n){return new bj(t,e,r,n)}async function ek(t,e){const r=Dt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let l=Kt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Ej(t,e){const r=Dt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,m=f.keys();let h=We.resolve();return m.forEach(E=>{h=h.next(()=>c.getEntry(l,E)).next(b=>{const T=u.docVersions.get(E);sr(T!==null,48541),b.version.compareTo(T)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Kt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function tk(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function Aj(t,e){const r=Dt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const m=i.get(f);if(!m)return;a.push(r.Pi.removeMatchingKeys(s,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,c.addedDocuments,f)));let h=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Bn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,n)),i=i.insert(f,h),function(b,T,d){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=_j?!0:d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0}(m,h,c)&&a.push(r.Pi.updateTargetData(s,h))});let l=ba(),u=Kt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Sj(s,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(Lt.min())){const c=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(c)}return We.waitFor(a).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=i,s))}function Sj(t,e,r){let n=Kt(),i=Kt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=ba();return r.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Lt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):it(o_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Tj(t,e){const r=Dt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=$5),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Nj(t,e){const r=Dt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,We.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new cl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function dw(t,e,r){const n=Dt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lh(o))throw o;it(o_,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function t4(t,e,r){const n=Dt(t);let i=Lt.min(),s=Kt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Dt(l),m=f.xs.get(c);return m!==void 0?We.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,c)}(n,o,Lo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Lt.min(),r?s:Kt())).next(a=>(Ij(n,dF(e),a),{documents:a,Qs:s})))}function Ij(t,e,r){let n=t.Os.get(e)||Lt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class r4{constructor(){this.activeTargetIds=wF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kj{constructor(){this.Mo=new r4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="ConnectivityMonitor";class i4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(n4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(n4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp=null;function pw(){return Wp===null?Wp=function(){return 268435456+Math.round(2147483648*Math.random())}():Wp++,"0x"+Wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===wg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=pw(),a=this.zo(e,r.toUriEncodedString());it(P0,`Sending RPC '${e}' ${o}:`,a,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),c=Ul(u);return this.Jo(e,a,l,n,c).then(f=>(it(P0,`Received RPC '${e}' ${o}: `,f),f),f=>{throw mh(P0,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",n),f})}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=Rj[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class Oj extends Pj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=pw();return new Promise((a,l)=>{const u=new iI;u.setWithCredentials(!0),u.listenOnce(sI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nm.NO_ERROR:const f=u.getResponseJson();it($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Nm.TIMEOUT:it($n,`RPC '${e}' ${o} timed out`),l(new nt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const m=u.getStatus();if(it($n,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const E=h==null?void 0:h.error;if(E&&E.status&&E.message){const b=function(d){const w=d.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(w)>=0?w:qe.UNKNOWN}(E.status);l(new nt(b,E.message))}else l(new nt(qe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new nt(qe.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{it($n,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);it($n,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(e,r,n){const i=pw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lI(),a=aI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");it($n,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let m=!1,h=!1;const E=new Lj({Yo:T=>{h?it($n,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(it($n,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),it($n,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},Zo:()=>f.close()}),b=(T,d,w)=>{T.listen(d,v=>{try{w(v)}catch(y){setTimeout(()=>{throw y},0)}})};return b(f,Cf.EventType.OPEN,()=>{h||(it($n,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),b(f,Cf.EventType.CLOSE,()=>{h||(h=!0,it($n,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(f))}),b(f,Cf.EventType.ERROR,T=>{h||(h=!0,mh($n,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new nt(qe.UNAVAILABLE,"The operation could not be completed")))}),b(f,Cf.EventType.MESSAGE,T=>{var d;if(!h){const w=T.data[0];sr(!!w,16349);const v=w,y=(v==null?void 0:v.error)||((d=v[0])==null?void 0:d.error);if(y){it($n,`RPC '${e}' stream ${i} received error:`,y);const L=y.status;let W=function(_){const q=un[_];if(q!==void 0)return zI(q)}(L),A=y.message;W===void 0&&(W=qe.INTERNAL,A="Unknown error status: "+L+" with message "+y.message),h=!0,E.a_(new nt(W,A)),f.close()}else it($n,`RPC '${e}' stream ${i} received:`,w),E.u_(w)}}),b(a,oI.STAT_EVENT,T=>{T.stat===tw.PROXY?it($n,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===tw.NOPROXY&&it($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function L0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){return new MF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="PersistentStream";class nk{constructor(e,r,n,i,s,o,a,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rk(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===qe.RESOURCE_EXHAUSTED?(_a(r.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new nt(qe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return it(s4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(it(s4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dj extends nk{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=VF(this.serializer,e),n=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?Oo(o.readTime):Lt.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=fw(this.serializer),r.addTarget=function(s,o){let a;const l=o.target;if(a=ow(l)?{documents:WF(s,l)}:{query:HF(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=HI(s,o.resumeToken);const u=uw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=Ag(s,o.snapshotVersion.toTimestamp());const u=uw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=GF(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=fw(this.serializer),r.removeTarget=e,this.q_(r)}}class Fj extends nk{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return sr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,sr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){sr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=qF(e.writeResults,e.commitTime),n=Oo(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=fw(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>zF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{}class Mj extends jj{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new nt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,cw(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nt(qe.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,cw(r,n),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(qe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Bj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_a(r),this.aa=!1):it("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="RemoteStore";class Uj{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{$u(this)&&(it(Ou,"Restarting streams for network reachability change."),await async function(l){const u=Dt(l);u.Ea.add(4),await qd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await y1(u)}(this))})}),this.Ra=new Bj(n,i)}}async function y1(t){if($u(t))for(const e of t.da)await e(!0)}async function qd(t){for(const e of t.da)await e(!1)}function ik(t,e){const r=Dt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),c_(r)?u_(r):Dh(r).O_()&&l_(r,e))}function a_(t,e){const r=Dt(t),n=Dh(r);r.Ia.delete(e),n.O_()&&sk(r,e),r.Ia.size===0&&(n.O_()?n.L_():$u(r)&&r.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Dh(t).Y_(e)}function sk(t,e){t.Va.Ue(e),Dh(t).Z_(e)}function u_(t){t.Va=new OF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dh(t).start(),t.Ra.ua()}function c_(t){return $u(t)&&!Dh(t).x_()&&t.Ia.size>0}function $u(t){return Dt(t).Ea.size===0}function ok(t){t.Va=void 0}async function Vj(t){t.Ra.set("Online")}async function zj(t){t.Ia.forEach((e,r)=>{l_(t,e)})}async function qj(t,e){ok(t),c_(t)?(t.Ra.ha(e),u_(t)):t.Ra.set("Unknown")}async function Wj(t,e,r){if(t.Ra.set("Online"),e instanceof WI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(n){it(Ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Tg(t,n)}else if(e instanceof Rm?t.Va.Ze(e):e instanceof qI?t.Va.st(e):t.Va.tt(e),!r.isEqual(Lt.min()))try{const n=await tk(t.localStore);r.compareTo(n)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Bn.EMPTY_BYTE_STRING,c.snapshotVersion)),sk(s,l);const f=new cl(c.target,l,u,c.sequenceNumber);l_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){it(Ou,"Failed to raise snapshot:",n),await Tg(t,n)}}async function Tg(t,e,r){if(!Lh(e))throw e;t.Ea.add(1),await qd(t),t.Ra.set("Offline"),r||(r=()=>tk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{it(Ou,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await y1(t)})}function ak(t,e){return e().catch(r=>Tg(t,r,e))}async function v1(t){const e=Dt(t),r=Ol(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$5;for(;Hj(e);)try{const i=await Tj(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,$j(e,i)}catch(i){await Tg(e,i)}lk(e)&&uk(e)}function Hj(t){return $u(t)&&t.Ta.length<10}function $j(t,e){t.Ta.push(e);const r=Ol(t);r.O_()&&r.X_&&r.ea(e.mutations)}function lk(t){return $u(t)&&!Ol(t).x_()&&t.Ta.length>0}function uk(t){Ol(t).start()}async function Gj(t){Ol(t).ra()}async function Kj(t){const e=Ol(t);for(const r of t.Ta)e.ea(r.mutations)}async function Xj(t,e,r){const n=t.Ta.shift(),i=e_.from(n,e,r);await ak(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await v1(t)}async function Yj(t,e){e&&Ol(t).X_&&await async function(n,i){if(function(o){return RF(o)&&o!==qe.ABORTED}(i.code)){const s=n.Ta.shift();Ol(n).B_(),await ak(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await v1(n)}}(t,e),lk(t)&&uk(t)}async function o4(t,e){const r=Dt(t);r.asyncQueue.verifyOperationInProgress(),it(Ou,"RemoteStore received new credentials");const n=$u(r);r.Ea.add(3),await qd(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await y1(r)}async function Qj(t,e){const r=Dt(t);e?(r.Ea.delete(2),await y1(r)):e||(r.Ea.add(2),await qd(r),r.Ra.set("Unknown"))}function Dh(t){return t.ma||(t.ma=function(r,n,i){const s=Dt(r);return s.sa(),new Dj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Vj.bind(null,t),t_:zj.bind(null,t),r_:qj.bind(null,t),H_:Wj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),c_(t)?u_(t):t.Ra.set("Unknown")):(await t.ma.stop(),ok(t))})),t.ma}function Ol(t){return t.fa||(t.fa=function(r,n,i){const s=Dt(r);return s.sa(),new Fj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gj.bind(null,t),r_:Yj.bind(null,t),ta:Kj.bind(null,t),na:Xj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await v1(t)):(await t.fa.stop(),t.Ta.length>0&&(it(Ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new h_(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(t,e){if(_a("AsyncQueue",`${e}: ${t}`),Lh(t))return new nt(qe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{static emptySet(e){return new Yc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||_t.comparator(r.key,n.key):(r,n)=>_t.comparator(r.key,n.key),this.keyedMap=Rf(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Yc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.ga=new Vr(_t.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):It(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class _h{constructor(e,r,n,i,s,o,a,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new _h(e,r,Yc.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Zj{constructor(){this.queries=l4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Dt(r),s=i.queries;i.queries=l4(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(n)})})(this,new nt(qe.ABORTED,"Firestore shutting down"))}}function l4(){return new Hu(t=>CI(t),h1)}async function eM(t,e){const r=Dt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Jj,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=f_(o,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&d_(r)}async function tM(t,e){const r=Dt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function rM(t,e){const r=Dt(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(n=!0);o.wa=i}}n&&d_(r)}function nM(t,e,r){const n=Dt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function d_(t){t.Ca.forEach(e=>{e.next()})}var mw,u4;(u4=mw||(mw={})).Ma="default",u4.Cache="cache";class iM{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new _h(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class sM{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=RI(e),this.tu=new Yc(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new a4,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const m=i.get(c),h=f1(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let T=!1;m&&h?m.data.isEqual(h.data)?E!==b&&(n.track({type:3,doc:h}),T=!0):this.su(m,h)||(n.track({type:2,doc:h}),T=!0,(l&&this.eu(h,l)>0||u&&this.eu(h,u)<0)&&(a=!0)):!m&&h?(n.track({type:0,doc:h}),T=!0):m&&!h&&(n.track({type:1,doc:m}),T=!0,(l||u)&&(a=!0)),T&&(h?(o=o.add(h),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:a,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(h,E){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:T})}};return b(h)-b(E)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const a=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new _h(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new hk(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new ck(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Kt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return _h.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p_="SyncEngine";class oM{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class aM{constructor(e){this.key=e,this.hu=!1}}class lM{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hu(a=>CI(a),h1),this.Iu=new Map,this.Eu=new Set,this.du=new Vr(_t.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=wh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uM(t,e,r=!0){const n=yk(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await fk(n,e,r,!0),i}async function cM(t,e){const r=yk(t);await fk(r,e,!0,!1)}async function fk(t,e,r,n){const i=await Nj(t.localStore,Lo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await hM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&ik(t.remoteStore,i),a}async function hM(t,e,r,n,i){t.pu=(f,m,h)=>async function(b,T,d,w){let v=T.view.ru(d);v.Cs&&(v=await t4(b.localStore,T.query,!1).then(({documents:A})=>T.view.ru(A,v)));const y=w&&w.targetChanges.get(T.targetId),L=w&&w.targetMismatches.get(T.targetId)!=null,W=T.view.applyChanges(v,b.isPrimaryClient,y,L);return h4(b,T.targetId,W.au),W.snapshot}(t,f,m,h);const s=await t4(t.localStore,e,!0),o=new sM(e,s.Qs),a=o.ru(s.documents),l=zd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);h4(t,r,u.au);const c=new oM(e,r,o);return t.Tu.set(e,c),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function fM(t,e,r){const n=Dt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(o=>!h1(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await dw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&a_(n.remoteStore,i.targetId),gw(n,i.targetId)}).catch(Ph)):(gw(n,i.targetId),await dw(n.localStore,i.targetId,!0))}async function dM(t,e){const r=Dt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),a_(r.remoteStore,n.targetId))}async function pM(t,e,r){const n=bM(t);try{const i=await function(o,a){const l=Dt(o),u=Rr.now(),c=a.reduce((h,E)=>h.add(E.key),Kt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let E=ba(),b=Kt();return l.Ns.getEntries(h,c).next(T=>{E=T,E.forEach((d,w)=>{w.isValidDocument()||(b=b.add(d))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,E)).next(T=>{f=T;const d=[];for(const w of a){const v=TF(w,f.get(w.key).overlayedDocument);v!=null&&d.push(new zl(w.key,v,xI(v.value.mapValue),Xs.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,d,a)}).next(T=>{m=T;const d=T.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(h,T.batchId,d)})}).then(()=>({batchId:m.batchId,changes:LI(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Vr(Gt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await Wd(n,i.changes),await v1(n.remoteStore)}catch(i){const s=f_(i,"Failed to persist write");r.reject(s)}}async function dk(t,e){const r=Dt(t);try{const n=await Aj(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Au.get(s);o&&(sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?sr(o.hu,14607):i.removedDocuments.size>0&&(sr(o.hu,42227),o.hu=!1))}),await Wd(r,n,e)}catch(n){await Ph(n)}}function c4(t,e,r){const n=Dt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Dt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&d_(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function mM(t,e,r){const n=Dt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Vr(_t.comparator);o=o.insert(s,Zn.newNoDocument(s,Lt.min()));const a=Kt().add(s),l=new m1(Lt.min(),new Map,new Vr(Gt),o,a);await dk(n,l),n.du=n.du.remove(s),n.Au.delete(e),m_(n)}else await dw(n.localStore,e,!1).then(()=>gw(n,e,r)).catch(Ph)}async function gM(t,e){const r=Dt(t),n=e.batch.batchId;try{const i=await Ej(r.localStore,e);mk(r,n,null),pk(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Wd(r,i)}catch(i){await Ph(i)}}async function yM(t,e,r){const n=Dt(t);try{const i=await function(o,a){const l=Dt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(sr(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);mk(n,e,r),pk(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Wd(n,i)}catch(i){await Ph(i)}}function pk(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function mk(t,e,r){const n=Dt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function gw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||gk(t,n)})}function gk(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(a_(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),m_(t))}function h4(t,e,r){for(const n of r)n instanceof ck?(t.Ru.addReference(n.key,e),vM(t,n)):n instanceof hk?(it(p_,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||gk(t,n.key)):It(19791,{wu:n})}function vM(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(it(p_,"New document in limbo: "+r),t.Eu.add(n),m_(t))}function m_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new _t(Tr.fromString(e)),n=t.fu.next();t.Au.set(n,new aM(r)),t.du=t.du.insert(r,n),ik(t.remoteStore,new cl(Lo(Q5(r.path)),n,"TargetPurposeLimboResolution",l1.ce))}}async function Wd(t,e,r){const n=Dt(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((a,l)=>{o.push(n.pu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=s_.As(l.targetId,u);s.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,u){const c=Dt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>We.forEach(u,m=>We.forEach(m.Es,h=>c.persistence.referenceDelegate.addReference(f,m.targetId,h)).next(()=>We.forEach(m.ds,h=>c.persistence.referenceDelegate.removeReference(f,m.targetId,h)))))}catch(f){if(!Lh(f))throw f;it(o_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const h=c.Ms.get(m),E=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(E);c.Ms=c.Ms.insert(m,b)}}}(n.localStore,s))}async function wM(t,e){const r=Dt(t);if(!r.currentUser.isEqual(e)){it(p_,"User change. New user:",e.toKey());const n=await ek(r.localStore,e);r.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new nt(qe.CANCELLED,o))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Wd(r,n.Ls)}}function _M(t,e){const r=Dt(t),n=r.Au.get(e);if(n&&n.hu)return Kt().add(n.key);{let i=Kt();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const a=r.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function yk(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mM.bind(null,e),e.Pu.H_=rM.bind(null,e.eventManager),e.Pu.yu=nM.bind(null,e.eventManager),e}function bM(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=g1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return xj(this.persistence,new wj,e.initialUser,this.serializer)}Cu(e){return new ZI(i_.mi,this.serializer)}Du(e){return new kj}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ng.provider={build:()=>new Ng};class xM extends Ng{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){sr(this.persistence.referenceDelegate instanceof Sg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ij(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new ZI(n=>Sg.mi(n,r),this.serializer)}}class yw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>c4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=wM.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zj}()}createDatastore(e){const r=g1(e.databaseInfo.databaseId),n=function(s){return new Oj(s)}(e.databaseInfo);return function(s,o,a,l){return new Mj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,a){return new Uj(n,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>c4(this.syncEngine,r,0),function(){return i4.v()?new i4:new Cj}())}createSyncEngine(e,r){return function(i,s,o,a,l,u,c){const f=new lM(i,s,o,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Dt(i);it(Ou,"RemoteStore shutting down."),s.Ea.add(5),await qd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}yw.provider={build:()=>new yw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="FirestoreClient";class AM{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=H5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{it(Dl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(it(Dl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=f_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function O0(t,e){t.asyncQueue.verifyOperationInProgress(),it(Dl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await ek(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await SM(t);it(Dl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>o4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>o4(e.remoteStore,i)),t._onlineComponents=e}async function SM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){it(Dl,"Using user provided OfflineComponentProvider");try{await O0(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===qe.FAILED_PRECONDITION||i.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;mh("Error using user provided cache. Falling back to memory cache: "+r),await O0(t,new Ng)}}else it(Dl,"Using default OfflineComponentProvider"),await O0(t,new xM(void 0));return t._offlineComponents}async function vk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(it(Dl,"Using user provided OnlineComponentProvider"),await f4(t,t._uninitializedComponentsProvider._online)):(it(Dl,"Using default OnlineComponentProvider"),await f4(t,new yw))),t._onlineComponents}function TM(t){return vk(t).then(e=>e.syncEngine)}async function d4(t){const e=await vk(t),r=e.eventManager;return r.onListen=uM.bind(null,e.syncEngine),r.onUnlisten=fM.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firestore.googleapis.com",m4=!0;class g4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_k,this.ssl=m4}else this.host=e.host,this.ssl=e.ssl??m4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rj)throw new nt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wk(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new nt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new nt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new nt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new C9;switch(n.type){case"firstParty":return new O9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new nt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=p4.get(r);n&&(it("ComponentProvider","Removing Datastore"),p4.delete(r),n.terminate())}(this),Promise.resolve()}}function NM(t,e,r,n={}){var u;t=Al(t,w1);const i=Ul(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${r}`;i&&(B5(`https://${a}`),U5("Firestore",!0)),s.host!==_k&&s.host!==a&&mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:n};if(!Ru(l,o)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=Qn.MOCK_USER;else{c=QN(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new nt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qn(m)}t._authCredentials=new R9(new cI(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Gu(this.firestore,e,this._query)}}class dn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Ud(r,dn._jsonSchema))return new dn(e,n||null,new _t(Tr.fromString(r.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:fn("string",dn._jsonSchemaVersion),referencePath:fn("string")};class Sl extends Gu{constructor(e,r,n){super(e,r,Q5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new _t(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function bk(t,e,...r){if(t=Ur(t),hI("collection","path",e),t instanceof w1){const n=Tr.fromString(e,...r);return IE(n),new Sl(t,null,n)}{if(!(t instanceof dn||t instanceof Sl))throw new nt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tr.fromString(e,...r));return IE(n),new Sl(t.firestore,null,n)}}function Hd(t,e,...r){if(t=Ur(t),arguments.length===1&&(e=H5.newId()),hI("doc","path",e),t instanceof w1){const n=Tr.fromString(e,...r);return NE(n),new dn(t,null,new _t(n))}{if(!(t instanceof dn||t instanceof Sl))throw new nt(qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tr.fromString(e,...r));return NE(n),new dn(t.firestore,t instanceof Sl?t.converter:null,new _t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="AsyncQueue";class v4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rk(this,"async_queue_retry"),this._c=()=>{const n=L0();n&&it(y4,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=L0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=L0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new xu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lh(e))throw e;it(y4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,_a("INTERNAL UNHANDLED ERROR: ",w4(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=h_.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&It(47125,{Pc:w4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function w4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class bh extends w1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new v4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v4(e),this._firestoreClient=void 0,await e}}}function IM(t,e){const r=typeof t=="object"?t:q5(),n=typeof t=="string"?t:wg,i=o1(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=KN("firestore");s&&NM(i,...s)}return i}function xk(t){if(t._terminated)throw new nt(qe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kM(t),t._firestoreClient}function kM(t){var n,i,s;const e=t._freezeSettings(),r=function(a,l,u,c){return new Q9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wk(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AM(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Bn.fromBase64String(e))}catch(r){throw new nt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Es(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ud(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:fn("string",Es._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new nt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new nt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new nt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Do._jsonSchemaVersion}}static fromJSON(e){if(Ud(e,Do._jsonSchema))return new Do(e.latitude,e.longitude)}}Do._jsonSchemaVersion="firestore/geoPoint/1.0",Do._jsonSchema={type:fn("string",Do._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ud(e,Fo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Fo(e.vectorValues);throw new nt(qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fo._jsonSchemaVersion="firestore/vectorValue/1.0",Fo._jsonSchema={type:fn("string",Fo._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class RM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new zl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Vd(e,this.data,r,this.fieldTransforms)}}class Ek{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new zl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:t})}}class y_{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new y_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ak(this.Ac)&&CM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PM{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||g1(e)}Cc(e,r,n,i=!1){return new y_({Ac:e,methodName:r,Dc:n,path:Fn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v_(t){const e=t._freezeSettings(),r=g1(t._databaseId);return new PM(t._databaseId,!!e.ignoreUndefinedProperties,r)}function LM(t,e,r,n,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);w_("Data must be an object, but it was:",o,n);const a=Sk(n,o);let l,u;if(s.merge)l=new Zi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const m=vw(e,f,r);if(!o.contains(m))throw new nt(qe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Nk(c,m)||c.push(m)}l=new Zi(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new RM(new Li(a),l,u)}class b1 extends g_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b1}}function OM(t,e,r,n){const i=t.Cc(1,e,r);w_("Data must be an object, but it was:",i,n);const s=[],o=Li.empty();Vl(n,(l,u)=>{const c=__(e,l,r);u=Ur(u);const f=i.yc(c);if(u instanceof b1)s.push(c);else{const m=$d(u,f);m!=null&&(s.push(c),o.set(c,m))}});const a=new Zi(s);return new Ek(o,a,i.fieldTransforms)}function DM(t,e,r,n,i,s){const o=t.Cc(1,e,r),a=[vw(e,n,r)],l=[i];if(s.length%2!=0)throw new nt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(vw(e,s[m])),l.push(s[m+1]);const u=[],c=Li.empty();for(let m=a.length-1;m>=0;--m)if(!Nk(u,a[m])){const h=a[m];let E=l[m];E=Ur(E);const b=o.yc(h);if(E instanceof b1)u.push(h);else{const T=$d(E,b);T!=null&&(u.push(h),c.set(h,T))}}const f=new Zi(u);return new Ek(c,f,o.fieldTransforms)}function FM(t,e,r,n=!1){return $d(r,t.Cc(n?4:3,e))}function $d(t,e){if(Tk(t=Ur(t)))return w_("Unsupported field value:",e,t),Sk(t,e);if(t instanceof g_)return function(n,i){if(!Ak(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const a of n){let l=$d(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Ur(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _F(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Rr.fromDate(n);return{timestampValue:Ag(i.serializer,s)}}if(n instanceof Rr){const s=new Rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ag(i.serializer,s)}}if(n instanceof Do)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Es)return{bytesValue:HI(i.serializer,n._byteString)};if(n instanceof dn){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:r_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Fo)return function(o,a){return{mapValue:{fields:{[_I]:{stringValue:bI},[_g]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return J5(a.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${a1(n)}`)}(t,e)}function Sk(t,e){const r={};return pI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(n,i)=>{const s=$d(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof Do||t instanceof Es||t instanceof dn||t instanceof g_||t instanceof Fo)}function w_(t,e,r){if(!Tk(r)||!fI(r)){const n=a1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function vw(t,e,r){if((e=Ur(e))instanceof _1)return e._internalPath;if(typeof e=="string")return __(t,e);throw Ig("Field path arguments must be of type string or ",t,!1,void 0,r)}const jM=new RegExp("[~\\*/\\[\\]]");function __(t,e,r){if(e.search(jM)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new _1(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ig(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new nt(qe.INVALID_ARGUMENT,a+t+l)}function Nk(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(b_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class MM extends Ik{data(){return super.data()}}function b_(t,e){return typeof e=="string"?__(t,e):e instanceof _1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new nt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x_{}class kk extends x_{}function UM(t,e,...r){let n=[];e instanceof x_&&n.push(e),n=n.concat(r),function(s){const o=s.filter(l=>l instanceof A_).length,a=s.filter(l=>l instanceof E_).length;if(o>1||o>0&&a>0)throw new nt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class E_ extends kk{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new E_(e,r,n)}_apply(e){const r=this._parse(e);return Ck(e._query,r),new Gu(e.firestore,e.converter,aw(e._query,r))}_parse(e){const r=v_(e.firestore);return function(s,o,a,l,u,c,f){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new nt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){x4(f,c);const E=[];for(const b of f)E.push(b4(l,s,b));m={arrayValue:{values:E}}}else m=b4(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||x4(f,c),m=FM(a,o,f,c==="in"||c==="not-in");return hn.create(u,c,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class A_ extends x_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new A_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Qs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Ck(o,l),o=aw(o,l)}(e._query,r),new Gu(e.firestore,e.converter,aw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends kk{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new S_(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new nt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new nt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(s,o)}(e._query,this._field,this._direction);return new Gu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Oh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function VM(t,e="asc"){const r=e,n=b_("orderBy",t);return S_._create(n,r)}function b4(t,e,r){if(typeof(r=Ur(r))=="string"){if(r==="")throw new nt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&r.indexOf("/")!==-1)throw new nt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Tr.fromString(r));if(!_t.isDocumentKey(n))throw new nt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return FE(t,new _t(n))}if(r instanceof dn)return FE(t,r._key);throw new nt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a1(r)}.`)}function x4(t,e){if(!Array.isArray(t)||t.length===0)throw new nt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ck(t,e){const r=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new nt(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class zM{convertValue(e,r="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Vl(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[_g].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>tn(o.doubleValue));return new Fo(r)}convertGeoPoint(e){return new Do(tn(e.latitude),tn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=c1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const r=Rl(e);return new Rr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Tr.fromString(e);sr(QI(n),9688,{name:e});const i=new xd(n.get(1),n.get(3)),s=new _t(n.popFirst(5));return i.isEqual(r)||_a(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Lf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends Ik{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(b_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Eu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eu._jsonSchema={type:fn("string",Eu._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Pm extends Eu{data(e={}){return super.data(e)}}class Qc{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Pm(this._firestore,this._userDataWriter,n.key,n,new Lf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new nt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:WM(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:t})}}Qc._jsonSchemaVersion="firestore/querySnapshot/1.0",Qc._jsonSchema={type:fn("string",Qc._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Rk extends zM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,r)}}function Pk(t,e,r,...n){t=Al(t,dn);const i=Al(t.firestore,bh),s=v_(i);let o;return o=typeof(e=Ur(e))=="string"||e instanceof _1?DM(s,"updateDoc",t._key,e,r,n):OM(s,"updateDoc",t._key,e),T_(i,[o.toMutation(t._key,Xs.exists(!0))])}function Lk(t){return T_(Al(t.firestore,bh),[new Z5(t._key,Xs.none())])}function Ok(t,e){const r=Al(t.firestore,bh),n=Hd(t),i=qM(t.converter,e);return T_(r,[LM(v_(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Xs.exists(!1))]).then(()=>n)}function Dk(t,...e){var l,u,c;t=Ur(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||_4(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(_4(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(u=f.error)==null?void 0:u.bind(f),e[n+2]=(c=f.complete)==null?void 0:c.bind(f)}let s,o,a;if(t instanceof dn)o=Al(t.firestore,bh),a=Q5(t._key.path),s={next:f=>{e[n]&&e[n](HM(o,t,f))},error:e[n+1],complete:e[n+2]};else{const f=Al(t,Gu);o=Al(f.firestore,bh),a=f._query;const m=new Rk(o);s={next:h=>{e[n]&&e[n](new Qc(o,m,f,h))},error:e[n+1],complete:e[n+2]},BM(t._query)}return function(m,h,E,b){const T=new EM(b),d=new iM(h,T,E);return m.asyncQueue.enqueueAndForget(async()=>eM(await d4(m),d)),()=>{T.Nu(),m.asyncQueue.enqueueAndForget(async()=>tM(await d4(m),d))}}(xk(o),a,i,s)}function T_(t,e){return function(n,i){const s=new xu;return n.asyncQueue.enqueueAndForget(async()=>pM(await TM(n),i,s)),s.promise}(xk(t),e)}function HM(t,e,r){const n=r.docs.get(e._key),i=new Rk(t);return new Eu(t,i,e._key,n,new Lf(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Rh=i})(Wu),Pu(new kl("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new bh(new P9(n.getProvider("auth-internal")),new D9(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new nt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(u.options.projectId,c)}(o,i),o);return s={useFetchStreams:r,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Po(EE,AE,e),Po(EE,AE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebasestorage.googleapis.com",jk="storageBucket",$M=2*60*1e3,GM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Uo{constructor(e,r,n=0){super(D0(e),`Firebase Storage: ${r} (${D0(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return D0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xr||(Xr={}));function D0(t){return"storage/"+t}function N_(){const t="An unknown error occurred, please check the error payload for server response.";return new Yr(Xr.UNKNOWN,t)}function KM(t){return new Yr(Xr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XM(t){return new Yr(Xr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yr(Xr.UNAUTHENTICATED,t)}function QM(){return new Yr(Xr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JM(t){return new Yr(Xr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZM(){return new Yr(Xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eB(){return new Yr(Xr.CANCELED,"User canceled the upload/download.")}function tB(t){return new Yr(Xr.INVALID_URL,"Invalid URL '"+t+"'.")}function rB(t){return new Yr(Xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nB(){return new Yr(Xr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jk+"' property when initializing the app?")}function iB(){return new Yr(Xr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sB(){return new Yr(Xr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oB(t){return new Yr(Xr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ww(t){return new Yr(Xr.INVALID_ARGUMENT,t)}function Mk(){return new Yr(Xr.APP_DELETED,"The Firebase app was deleted.")}function aB(t){return new Yr(Xr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kf(t,e){return new Yr(Xr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gf(t){throw new Yr(Xr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=es.makeFromUrl(e,r)}catch{return new es(e,"")}if(n.path==="")return n;throw rB(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},b=r===Fk?"(?:storage.googleapis.com|storage.cloud.google.com)":r,T="([^?#]*)",d=new RegExp(`^https?://${b}/${i}/${T}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:h,indices:E,postModify:u},{regex:d,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<v.length;y++){const L=v[y],W=L.regex.exec(e);if(W){const A=W[L.indices.bucket];let S=W[L.indices.path];S||(S=""),n=new es(A,S),L.postModify(n);break}}if(n==null)throw tB(e);return n}}class lB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e,r){let n=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...T){u||(u=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(h,l())},T)}function m(){s&&clearTimeout(s)}function h(T,...d){if(u){m();return}if(T){m(),c.call(null,T,...d);return}if(l()||o){m(),c.call(null,T,...d);return}n<64&&(n*=2);let v;a===1?(a=2,v=0):v=(n+Math.random())*1e3,f(v)}let E=!1;function b(T){E||(E=!0,m(),!u&&(i!==null?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,b(!0)},r),b}function cB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){return t!==void 0}function fB(t){return typeof t=="object"&&!Array.isArray(t)}function I_(t){return typeof t=="string"||t instanceof String}function E4(t){return k_()&&t instanceof Blob}function k_(){return typeof Blob<"u"}function A4(t,e,r,n){if(n<e)throw ww(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw ww(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function Bk(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Au;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Au||(Au={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,r,n,i,s,o,a,l,u,c,f,m=!0,h=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,b)=>{this.resolve_=E,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Hp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Au.NO_ERROR,l=s.getStatus();if(!a||dB(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Au.ABORT;n(!1,new Hp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Hp(u,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());hB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=N_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Mk():eB();o(l)}else{const l=ZM();o(l)}};this.canceled_?r(!1,new Hp(!1,null,!0)):this.backoffId_=uB(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function mB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wB(t,e,r,n,i,s,o=!0,a=!1){const l=Bk(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return yB(c,e),mB(c,r),gB(c,s),vB(c,n),new pB(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bB(...t){const e=_B();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(k_())return new Blob(t);throw new Yr(Xr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xB(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){if(typeof atob>"u")throw oB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class F0{constructor(e,r){this.data=e,this.contentType=r||null}}function AB(t,e){switch(t){case No.RAW:return new F0(Uk(e));case No.BASE64:case No.BASE64URL:return new F0(Vk(t,e));case No.DATA_URL:return new F0(TB(e),NB(e))}throw N_()}function Uk(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,o=t.charCodeAt(++r);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function SB(t){let e;try{e=decodeURIComponent(t)}catch{throw Kf(No.DATA_URL,"Malformed data URL.")}return Uk(e)}function Vk(t,e){switch(t){case No.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Kf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case No.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Kf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=EB(e)}catch(i){throw i.message.includes("polyfill")?i:Kf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class zk{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Kf(No.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=IB(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function TB(t){const e=new zk(t);return e.base64?Vk(No.BASE64,e.rest):SB(e.rest)}function NB(t){return new zk(t).contentType}function IB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r){let n=0,i="";E4(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(E4(this.data_)){const n=this.data_,i=xB(n,e,r);return i===null?null:new rl(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new rl(n,!0)}}static getBlob(...e){if(k_()){const r=e.map(n=>n instanceof rl?n.data_:n);return new rl(bB.apply(null,r))}else{const r=e.map(o=>I_(o)?AB(No.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new rl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){let e;try{e=JSON.parse(t)}catch{return null}return fB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CB(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function Wk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e){return e}class pi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||RB}}let $p=null;function PB(t){return!I_(t)||t.length<2?t:Wk(t)}function Hk(){if($p)return $p;const t=[];t.push(new pi("bucket")),t.push(new pi("generation")),t.push(new pi("metageneration")),t.push(new pi("name","fullPath",!0));function e(s,o){return PB(o)}const r=new pi("name");r.xform=e,t.push(r);function n(s,o){return o!==void 0?Number(o):o}const i=new pi("size");return i.xform=n,t.push(i),t.push(new pi("timeCreated")),t.push(new pi("updated")),t.push(new pi("md5Hash",null,!0)),t.push(new pi("cacheControl",null,!0)),t.push(new pi("contentDisposition",null,!0)),t.push(new pi("contentEncoding",null,!0)),t.push(new pi("contentLanguage",null,!0)),t.push(new pi("contentType",null,!0)),t.push(new pi("metadata","customMetadata",!0)),$p=t,$p}function LB(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new es(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function OB(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const o=r[s];n[o.local]=o.xform(n,e[o.server])}return LB(n,t),n}function $k(t,e,r){const n=qk(e);return n===null?null:OB(t,n,r)}function DB(t,e,r,n){const i=qk(e);if(i===null||!I_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,m="/b/"+o(c)+"/o/"+o(f),h=C_(m,r,n),E=Bk({alt:"media",token:u});return h+E})[0]}function FB(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class Gk{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){if(!t)throw N_()}function jB(t,e){function r(n,i){const s=$k(t,i,e);return Kk(s!==null),s}return r}function MB(t,e){function r(n,i){const s=$k(t,i,e);return Kk(s!==null),DB(s,i,t.host,t._protocol)}return r}function Xk(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=QM():i=YM():r.getStatus()===402?i=XM(t.bucket):r.getStatus()===403?i=JM(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function BB(t){const e=Xk(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=KM(t.path)),s.serverResponse=i.serverResponse,s}return r}function UB(t,e,r){const n=e.fullServerUrl(),i=C_(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Gk(i,s,MB(t,r),o);return a.errorHandler=BB(e),a}function VB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zB(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=VB(null,e)),n}function qB(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let y=0;y<2;y++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=zB(e,n,i),c=FB(u,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",h=rl.getBlob(f,n,m);if(h===null)throw iB();const E={name:u.fullPath},b=C_(s,t.host,t._protocol),T="POST",d=t.maxUploadRetryTime,w=new Gk(b,T,jB(t,r),d);return w.urlParams=E,w.headers=o,w.body=h.uploadData(),w.errorHandler=Xk(e),w}class WB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Au.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Au.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Au.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,s){if(this.sent_)throw gf("cannot .send() more than once");if(Ul(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HB extends WB{initXhr(){this.xhr_.responseType="text"}}function Yk(){return new HB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r){this._service=e,r instanceof es?this._location=r:this._location=es.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Du(e,r)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wk(this._location.path)}get storage(){return this._service}get parent(){const e=kB(this._location.path);if(e===null)return null;const r=new es(this._location.bucket,e);return new Du(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw aB(e)}}function $B(t,e,r){t._throwIfRoot("uploadBytes");const n=qB(t.storage,t._location,Hk(),new rl(e,!0),r);return t.storage.makeRequestWithTokens(n,Yk).then(i=>({metadata:i,ref:t}))}function GB(t){t._throwIfRoot("getDownloadURL");const e=UB(t.storage,t._location,Hk());return t.storage.makeRequestWithTokens(e,Yk).then(r=>{if(r===null)throw sB();return r})}function KB(t,e){const r=CB(t._location.path,e),n=new es(t._location.bucket,r);return new Du(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){return/^[A-Za-z]+:\/\//.test(t)}function YB(t,e){return new Du(t,e)}function Qk(t,e){if(t instanceof R_){const r=t;if(r._bucket==null)throw nB();const n=new Du(r,r._bucket);return e!=null?Qk(n,e):n}else return e!==void 0?KB(t,e):t}function QB(t,e){if(e&&XB(e)){if(t instanceof R_)return YB(t,e);throw ww("To use ref(service, url), the first argument must be a Storage instance.")}else return Qk(t,e)}function S4(t,e){const r=e==null?void 0:e[jk];return r==null?null:es.makeFromBucketSpec(r,t)}function JB(t,e,r,n={}){t.host=`${e}:${r}`;const i=Ul(e);i&&(B5(`https://${t.host}/b`),U5("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:QN(s,t.app.options.projectId))}class R_{constructor(e,r,n,i,s,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Fk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$M,this._maxUploadRetryTime=GM,this._requests=new Set,i!=null?this._bucket=es.makeFromBucketSpec(i,this._host):this._bucket=S4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=S4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Du(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new lB(Mk());{const o=wB(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const T4="@firebase/storage",N4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="storage";function ZB(t,e,r){return t=Ur(t),$B(t,e,r)}function eU(t){return t=Ur(t),GB(t)}function tU(t,e){return t=Ur(t),QB(t,e)}function rU(t=q5(),e){t=Ur(t);const n=o1(t,Jk).getImmediate({identifier:e}),i=KN("storage");return i&&nU(n,...i),n}function nU(t,e,r,n={}){JB(t,e,r,n)}function iU(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new R_(r,n,i,e,Wu)}function sU(){Pu(new kl(Jk,iU,"PUBLIC").setMultipleInstances(!0)),Po(T4,N4,""),Po(T4,N4,"esm2020")}sU();function Zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oU=Zk,eC=new Md("auth","Firebase",Zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=new V5("@firebase/auth");function aU(t,...e){kg.logLevel<=$t.WARN&&kg.warn(`Auth (${Wu}): ${t}`,...e)}function Lm(t,...e){kg.logLevel<=$t.ERROR&&kg.error(`Auth (${Wu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,...e){throw P_(t,...e)}function jo(t,...e){return P_(t,...e)}function tC(t,e,r){const n={...oU(),[e]:r};return new Md("auth","Firebase",n).create(e,{appName:t.name})}function Tl(t){return tC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return eC.create(t,...e)}function Nt(t,e,...r){if(!t)throw P_(e,...r)}function ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lm(e),new Error(e)}function xa(t,e){t||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lU(){return I4()==="http:"||I4()==="https:"}function I4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||aD()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,r){this.shortDelay=e,this.longDelay=r,xa(r>e,"Short delay should be less than long delay!"),this.isMobile=iD()||lD()}get(){return uU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){xa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dU=new Gd(3e4,6e4);function Ku(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ql(t,e,r,n,i={}){return nC(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=Bd({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return oD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(u.credentials="include"),rC.fetch()(await iC(t,t.config.apiHost,r,a),u)})}async function nC(t,e,r){t._canInitEmulator=!1;const n={...hU,...e};try{const i=new mU(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gp(t,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tC(t,c,u);Js(t,c)}}catch(i){if(i instanceof Uo)throw i;Js(t,"network-request-failed",{message:String(i)})}}async function x1(t,e,r,n,i={}){const s=await ql(t,e,r,n,i);return"mfaPendingCredential"in s&&Js(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function iC(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?L_(t.config,i):`${t.config.apiScheme}://${i}`;return fU.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function pU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(jo(this.auth,"network-request-failed")),dU.get())})}}function Gp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=jo(t,e,n);return i.customData._tokenResponse=r,i}function k4(t){return t!==void 0&&t.enterprise!==void 0}class gU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return pU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yU(t,e){return ql(t,"GET","/v2/recaptchaConfig",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return ql(t,"POST","/v1/accounts:delete",e)}async function Cg(t,e){return ql(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wU(t,e=!1){const r=Ur(t),n=await r.getIdToken(e),i=O_(n);Nt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Xf(j0(i.auth_time)),issuedAtTime:Xf(j0(i.iat)),expirationTime:Xf(j0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function j0(t){return Number(t)*1e3}function O_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=$N(r);return i?JSON.parse(i):(Lm("Failed to decode base64 JWT payload"),null)}catch(i){return Lm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function C4(t){const e=O_(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Uo&&_U(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function _U({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t){var f;const e=t.auth,r=await t.getIdToken(),n=await Nd(t,Cg(e,{idToken:r}));Nt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?sC(i.providerUserInfo):[],o=EU(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function xU(t){const e=Ur(t);await Rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function sC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){const r=await nC(t,{},async()=>{const n=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await iC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:n};return t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(l.credentials="include"),rC.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function SU(t,e){return ql(t,"POST","/v2/accounts:revokeToken",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const r=C4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await AU(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Jc;return n&&(Nt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Nt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Nt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new bU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Nd(this,this.stsTokenManager.getToken(this.auth,e));return Nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return wU(this,e)}reload(){return xU(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new $s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Rg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(Tl(this.auth));const e=await this.getIdToken();return await Nd(this,vU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,a=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,c=r.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:h,providerData:E,stsTokenManager:b}=r;Nt(f&&b,e,"internal-error");const T=Jc.fromJSON(this.name,b);Nt(typeof f=="string",e,"internal-error"),Xa(n,e.name),Xa(i,e.name),Nt(typeof m=="boolean",e,"internal-error"),Nt(typeof h=="boolean",e,"internal-error"),Xa(s,e.name),Xa(o,e.name),Xa(a,e.name),Xa(l,e.name),Xa(u,e.name),Xa(c,e.name);const d=new $s({uid:f,auth:e,email:i,emailVerified:m,displayName:n,isAnonymous:h,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:c});return E&&Array.isArray(E)&&(d.providerData=E.map(w=>({...w}))),l&&(d._redirectEventId=l),d}static async _fromIdTokenResponse(e,r,n=!1){const i=new Jc;i.updateFromServerResponse(r);const s=new $s({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Rg(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Nt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Jc;a.updateFromIdToken(n);const l=new $s({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Map;function fa(t){xa(t instanceof Function,"Expected a class definition");let e=R4.get(t);return e?(xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}oC.type="NONE";const P4=oC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e,r){return`firebase:${t}:${e}:${r}`}class Zc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Om(this.userKey,i.apiKey,s),this.fullPersistenceKey=Om("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Cg(this.auth,{idToken:e}).catch(()=>{});return r?$s._fromGetAccountInfoResponse(this.auth,r,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Zc(fa(P4),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||fa(P4);const o=Om(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const m=await Cg(e,{idToken:c}).catch(()=>{});if(!m)break;f=await $s._fromGetAccountInfoResponse(e,m,c)}else f=$s._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Zc(s,e,n):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Zc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(dC(e))return"Webos";if(lC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aC(t=ti()){return/firefox\//i.test(t)}function lC(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=ti()){return/crios\//i.test(t)}function cC(t=ti()){return/iemobile/i.test(t)}function hC(t=ti()){return/android/i.test(t)}function fC(t=ti()){return/blackberry/i.test(t)}function dC(t=ti()){return/webos/i.test(t)}function D_(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TU(t=ti()){var e;return D_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NU(){return uD()&&document.documentMode===10}function pC(t=ti()){return D_(t)||hC(t)||dC(t)||fC(t)||/windows phone/i.test(t)||cC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e=[]){let r;switch(t){case"Browser":r=L4(ti());break;case"Worker":r=`${L4(ti())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Wu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e={}){return ql(t,"GET","/v2/passwordPolicy",Ku(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=6;class RU{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??CU,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O4(this),this.idTokenSubscription=new O4(this),this.beforeStateQueue=new IU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=fa(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Cg(this,{idToken:e}),n=await $s._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(xs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Rg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xs(this.app))return Promise.reject(Tl(this));const r=e?Ur(e):null;return r&&Nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(Tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xs(this.app)?Promise.reject(Tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kU(this),r=new RU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Md("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await SU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&fa(e)||this._popupRedirectResolver;Nt(r,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[fa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&aU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fh(t){return Ur(t)}class O4{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(r=>this.observer=r)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LU(t){E1=t}function gC(t){return E1.loadJS(t)}function OU(){return E1.recaptchaEnterpriseScript}function DU(){return E1.gapiScript}function FU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jU{constructor(){this.enterprise=new MU}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class MU{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const BU="recaptcha-enterprise",yC="NO_RECAPTCHA";class UU{constructor(e){this.type=BU,this.auth=Fh(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{yU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;k4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(a=>{if(!r&&k4(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OU();l.length!==0&&(l+=a),gC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function D4(t,e,r,n=!1,i=!1){const s=new UU(t);let o;if(i)o=yC;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function F4(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D4(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await D4(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e){const r=o1(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ru(s,e??{}))return i;Js(i,"already-initialized")}return r.initialize({options:e})}function zU(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(fa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function qU(t,e,r){const n=Fh(t);Nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=vC(e),{host:o,port:a}=WU(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Nt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Nt(Ru(u,n.config.emulator)&&Ru(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,Ul(o)?(B5(`${s}//${o}${l}`),U5("Auth",!0)):HU()}function vC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WU(t){const e=vC(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:j4(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:j4(o)}}}function j4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,r){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function $U(t,e){return ql(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e){return x1(t,"POST","/v1/accounts:signInWithPassword",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e){return x1(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}async function XU(t,e){return x1(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends F_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Id(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Id(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F4(e,r,"signInWithPassword",GU);case"emailLink":return KU(e,{email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F4(e,n,"signUpPassword",$U);case"emailLink":return XU(e,{idToken:r,email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e){return x1(t,"POST","/v1/accounts:signInWithIdp",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="http://localhost";class Fu extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Js("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new Fu(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return eh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,eh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,eh(e,r)}buildRequest(){const e={requestUri:YU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Bd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JU(t){const e=If(kf(t)).link,r=e?If(kf(e)).deep_link_id:null,n=If(kf(t)).deep_link_id;return(n?If(kf(n)).link:null)||n||r||e||t}class j_{constructor(e){const r=If(kf(e)),n=r.apiKey??null,i=r.oobCode??null,s=QU(r.mode??null);Nt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=JU(e);try{return new j_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.providerId=jh.PROVIDER_ID}static credential(e,r){return Id._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=j_.parseLink(r);return Nt(n,"argument-error"),Id._fromEmailAndCode(e,n.code,n.tenantId)}}jh.PROVIDER_ID="password";jh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends wC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Kd{constructor(){super("facebook.com")}static credential(e){return Fu._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.FACEBOOK_SIGN_IN_METHOD="facebook.com";nl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fu._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return il.credential(r,n)}catch{return null}}}il.GOOGLE_SIGN_IN_METHOD="google.com";il.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Kd{constructor(){super("github.com")}static credential(e){return Fu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.GITHUB_SIGN_IN_METHOD="github.com";sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Kd{constructor(){super("twitter.com")}static credential(e,r){return Fu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ol.credential(r,n)}catch{return null}}}ol.TWITTER_SIGN_IN_METHOD="twitter.com";ol.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await $s._fromIdTokenResponse(e,n,i),o=M4(n);return new xh({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=M4(n);return new xh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function M4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Uo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Pg(e,r,n,i)}}function _C(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pg._fromErrorAndOperation(t,s,e,n):s})}async function ZU(t,e,r=!1){const n=await Nd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return xh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,r=!1){const{auth:n}=t;if(xs(n.app))return Promise.reject(Tl(n));const i="reauthenticate";try{const s=await Nd(t,_C(n,i,e,t),r);Nt(s.idToken,n,"internal-error");const o=O_(s.idToken);Nt(o,n,"internal-error");const{sub:a}=o;return Nt(t.uid===a,n,"user-mismatch"),xh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Js(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e,r=!1){if(xs(t.app))return Promise.reject(Tl(t));const n="signIn",i=await _C(t,n,e),s=await xh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function tV(t,e){return bC(Fh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t){const e=Fh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nV(t,e,r){return xs(t.app)?Promise.reject(Tl(t)):tV(Ur(t),jh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&rV(t),n})}function iV(t,e,r,n){return Ur(t).onIdTokenChanged(e,r,n)}function sV(t,e,r){return Ur(t).beforeAuthStateChanged(e,r)}function oV(t,e,r,n){return Ur(t).onAuthStateChanged(e,r,n)}function aV(t){return Ur(t).signOut()}const Lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Lg,"1"),this.storage.removeItem(Lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1e3,uV=10;class EC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);NU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uV):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}EC.type="LOCAL";const cV=EC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}AC.type="SESSION";const SC=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new A1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(o).map(async u=>u(r.origin,s)),l=await hV(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}A1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=M_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(){return window}function dV(t){Mo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return typeof Mo().WorkerGlobalScope<"u"&&typeof Mo().importScripts=="function"}async function pV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gV(){return TC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebaseLocalStorageDb",yV=1,Og="firebaseLocalStorage",IC="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function S1(t,e){return t.transaction([Og],e?"readwrite":"readonly").objectStore(Og)}function vV(){const t=indexedDB.deleteDatabase(NC);return new Xd(t).toPromise()}function xw(){const t=indexedDB.open(NC,yV);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Og,{keyPath:IC})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Og)?e(n):(n.close(),await vV(),e(await xw()))})})}async function B4(t,e,r){const n=S1(t,!0).put({[IC]:e,value:r});return new Xd(n).toPromise()}async function wV(t,e){const r=S1(t,!1).get(e),n=await new Xd(r).toPromise();return n===void 0?null:n.value}function U4(t,e){const r=S1(t,!0).delete(e);return new Xd(r).toPromise()}const _V=800,bV=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>bV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A1._getInstance(gV()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new fV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xw();return await B4(e,Lg,"1"),await U4(e,Lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>B4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>wV(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>U4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=S1(i,!1).getAll();return new Xd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const xV=kC;new Gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e){return e?fa(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return eh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return eh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function AV(t){return bC(t.auth,new B_(t),t.bypassAuthState)}function SV(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),eV(r,new B_(t),t.bypassAuthState)}async function TV(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),ZU(r,new B_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return TV;case"reauthViaPopup":case"reauthViaRedirect":return SV;default:Js(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Gd(2e3,1e4);class Uc extends CC{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Uc.currentPopupAction&&Uc.currentPopupAction.cancel(),Uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=M_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(jo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}Uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="pendingRedirect",Dm=new Map;class kV extends CC{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Dm.get(this.auth._key());if(!e){try{const n=await CV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Dm.set(this.auth._key(),e)}return this.bypassAuthState||Dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CV(t,e){const r=LV(e),n=PV(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function RV(t,e){Dm.set(t._key(),e)}function PV(t){return fa(t._redirectPersistence)}function LV(t){return Om(IV,t.config.apiKey,t.name)}async function OV(t,e,r=!1){if(xs(t.app))return Promise.reject(Tl(t));const n=Fh(t),i=EV(n,e),o=await new kV(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=10*60*1e3;class FV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jV(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!RC(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(jo(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(V4(e))}saveEventToCache(e){this.cachedEventUids.add(V4(e)),this.lastProcessedEventTime=Date.now()}}function V4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return ql(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;async function VV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MV(t);for(const r of e)try{if(zV(r))return}catch{}Js(t,"unauthorized-domain")}function zV(t){const e=_w(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!UV.test(r))return!1;if(BV.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Gd(3e4,6e4);function z4(){const t=Mo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function WV(t){return new Promise((e,r)=>{var i,s,o;function n(){z4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z4(),r(jo(t,"network-request-failed"))},timeout:qV.get()})}if((s=(i=Mo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Mo().gapi)!=null&&o.load)n();else{const a=FU("iframefcb");return Mo()[a]=()=>{gapi.load?n():r(jo(t,"network-request-failed"))},gC(`${DU()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function HV(t){return Fm=Fm||WV(t),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new Gd(5e3,15e3),GV="__/auth/iframe",KV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?L_(e,KV):`https://${t.config.authDomain}/${GV}`,n={apiKey:e.apiKey,appName:t.name,v:Wu},i=YV.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Bd(n).slice(1)}`}async function JV(t){const e=await HV(t),r=Mo().gapi;return Nt(r,t,"internal-error"),e.open({where:document.body,url:QV(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=jo(t,"network-request-failed"),a=Mo().setTimeout(()=>{s(o)},$V.get());function l(){Mo().clearTimeout(a),i(n)}n.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ez=500,tz=600,rz="_blank",nz="http://localhost";class q4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iz(t,e,r,n=ez,i=tz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l={...ZV,width:n.toString(),height:i.toString(),top:s,left:o},u=ti().toLowerCase();r&&(a=uC(u)?rz:r),aC(u)&&(e=e||nz,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[h,E])=>`${m}${h}=${E},`,"");if(TU(u)&&a!=="_self")return sz(e||"",a),new q4(null);const f=window.open(e||"",a,c);Nt(f,t,"popup-blocked");try{f.focus()}catch{}return new q4(f)}function sz(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="__/auth/handler",az="emulator/auth/handler",lz=encodeURIComponent("fac");async function W4(t,e,r,n,i,s){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Wu,eventId:i};if(e instanceof wC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Kd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${lz}=${encodeURIComponent(l)}`:"";return`${uz(t)}?${Bd(a).slice(1)}${u}`}function uz({config:t}){return t.emulator?L_(t,az):`https://${t.authDomain}/${oz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="webStorageSupport";class cz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SC,this._completeRedirectFn=OV,this._overrideRedirectResult=RV}async _openPopup(e,r,n,i){var o;xa((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await W4(e,r,n,_w(),i);return iz(e,s,M_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await W4(e,r,n,_w(),i);return dV(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(xa(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await JV(e),n=new FV(e);return r.register("authEvent",i=>(Nt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(M0,{type:M0},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[M0];s!==void 0&&r(!!s),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=VV(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return pC()||lC()||D_()}}const hz=cz;var H4="@firebase/auth",$4="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pz(t){Pu(new kl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Nt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(t)},u=new PU(n,i,s,l);return zU(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Pu(new kl("auth-internal",e=>{const r=Fh(e.getProvider("auth").getImmediate());return(n=>new fz(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(H4,$4,dz(t)),Po(H4,$4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=5*60,gz=YN("authIdTokenMaxAge")||mz;let G4=null;const yz=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>gz)return;const i=r==null?void 0:r.token;G4!==i&&(G4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vz(t=q5()){const e=o1(t,"auth");if(e.isInitialized())return e.getImmediate();const r=VU(t,{popupRedirectResolver:hz,persistence:[xV,cV,SC]}),n=YN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=yz(s.toString());sV(r,o,()=>o(r.currentUser)),iV(r,a=>o(a))}}const i=GN("auth");return i&&qU(r,`http://${i}`),r}function wz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}LU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=jo("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",wz().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pz("Browser");const _z={apiKey:"AIzaSyC7OMYC7enoEkTsBzliRWiyHklQ9H92EKk",authDomain:"docsimplesreports.firebaseapp.com",projectId:"docsimplesreports",storageBucket:"docsimplesreports.firebasestorage.app",messagingSenderId:"37293480302",appId:"1:37293480302:web:ffac0bdc2f2e69985a897f",measurementId:"G-S9FLRP8T6N"},U_=eI(_z),Mh=IM(U_),bz=rU(U_),V_=vz(U_),PC=bk(Mh,"testDocuments"),LC=bk(Mh,"requirements"),xz=async t=>{const e={...t,createdAt:new Date().toISOString()};return{id:(await Ok(PC,e)).id,...e}},Ez=async(t,e)=>{const r=Hd(Mh,"testDocuments",t);await Pk(r,e)},Az=async t=>{const e=Hd(Mh,"testDocuments",t);await Lk(e)},Sz=t=>{const e=UM(PC,VM("createdAt","desc"));return Dk(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));t(n)})},Tz=async t=>({id:(await Ok(LC,t)).id,...t}),Nz=async(t,e)=>{const r=Hd(Mh,"requirements",t);await Pk(r,e)},Iz=async t=>{const e=Hd(Mh,"requirements",t);await Lk(e)},kz=t=>Dk(LC,e=>{const r=e.docs.map(n=>({id:n.id,...n.data()}));t(r)}),Cz=async(t,e)=>{const r=Date.now(),n=`screenshots/${e}/${r}_${t.name}`,i=tU(bz,n);return await ZB(i,t),{url:await eU(i),path:n,name:t.name,uploadedAt:new Date().toISOString()}},Rz=async(t,e)=>(await nV(V_,t,e)).user,Pz=async()=>{await aV(V_)},Lz=t=>oV(V_,t);function Oz({onSave:t}){const e=FN(),[r,n]=Ye.useState(!1),[i,s]=Ye.useState([]),[o,a]=Ye.useState(!1),[l,u]=Ye.useState(null),[c,f]=Ye.useState({title:"",feature:"",module:"",testType:"funcional",priority:"media",status:"pendente",tester:"",environment:"",preconditions:"",steps:[{action:"",expectedResult:"",actualResult:"",status:"pendente"}],observations:"",evidences:"",elements:[{name:"",selector:"",type:"button"}]}),m=W=>{const{name:A,value:S}=W.target;f({...c,[A]:S})},h=(W,A,S)=>{const _=[...c.steps];_[W][A]=S,f({...c,steps:_})},E=()=>{f({...c,steps:[...c.steps,{action:"",expectedResult:"",actualResult:"",status:"pendente"}]})},b=W=>{if(c.steps.length>1){const A=c.steps.filter((S,_)=>_!==W);f({...c,steps:A})}},T=(W,A,S)=>{const _=[...c.elements];_[W][A]=S,f({...c,elements:_})},d=()=>{f({...c,elements:[...c.elements,{name:"",selector:"",type:"button"}]})},w=W=>{if(c.elements.length>1){const A=c.elements.filter((S,_)=>_!==W);f({...c,elements:A})}},v=async W=>{const A=Array.from(W.target.files);if(A.length!==0){a(!0),u(null);try{const S=Date.now().toString(),_=A.map(D=>Cz(D,S)),q=await Promise.all(_);s([...i,...q])}catch(S){console.error("Erro ao fazer upload:",S),u("Erro ao fazer upload das imagens. Verifique se o Firebase Storage est configurado.")}finally{a(!1)}}},y=W=>{s(i.filter((A,S)=>S!==W))},L=W=>{W.preventDefault();const A={...c,screenshots:i};t(A),n(!0),setTimeout(()=>{e("/documentos")},1500)};return r?z.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[z.jsx(G2,{className:"w-16 h-16 text-green-500 mb-4"}),z.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Teste Registrado!"}),z.jsx("p",{className:"text-gray-600 mt-2",children:"Redirecionando para documentos..."})]}):z.jsxs("div",{className:"max-w-4xl mx-auto",children:[z.jsxs("div",{className:"mb-6",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registrar Teste de Homologao"}),z.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha os dados do teste realizado"})]}),z.jsxs("form",{onSubmit:L,className:"space-y-6",children:[z.jsxs("div",{className:"card",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Teste *"}),z.jsx("input",{type:"text",name:"title",value:c.title,onChange:m,className:"input-field",placeholder:"Ex: Validar login com credenciais vlidas",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature/Funcionalidade *"}),z.jsx("input",{type:"text",name:"feature",value:c.feature,onChange:m,className:"input-field",placeholder:"Ex: Autenticao",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdulo"}),z.jsx("input",{type:"text",name:"module",value:c.module,onChange:m,className:"input-field",placeholder:"Ex: Usurios"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Testador *"}),z.jsx("input",{type:"text",name:"tester",value:c.tester,onChange:m,className:"input-field",placeholder:"Nome do testador",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Teste"}),z.jsxs("select",{name:"testType",value:c.testType,onChange:m,className:"input-field",children:[z.jsx("option",{value:"funcional",children:"Funcional"}),z.jsx("option",{value:"exploratorio",children:"Exploratrio"}),z.jsx("option",{value:"regressao",children:"Regresso"}),z.jsx("option",{value:"integracao",children:"Integrao"}),z.jsx("option",{value:"usabilidade",children:"Usabilidade"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),z.jsxs("select",{name:"priority",value:c.priority,onChange:m,className:"input-field",children:[z.jsx("option",{value:"baixa",children:"Baixa"}),z.jsx("option",{value:"media",children:"Mdia"}),z.jsx("option",{value:"alta",children:"Alta"}),z.jsx("option",{value:"critica",children:"Crtica"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),z.jsxs("select",{name:"status",value:c.status,onChange:m,className:"input-field",children:[z.jsx("option",{value:"pendente",children:"Pendente"}),z.jsx("option",{value:"aprovado",children:"Aprovado"}),z.jsx("option",{value:"reprovado",children:"Reprovado"}),z.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ambiente"}),z.jsx("input",{type:"text",name:"environment",value:c.environment,onChange:m,className:"input-field",placeholder:"Ex: Homologao, Staging"})]})]})]}),z.jsxs("div",{className:"card",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pr-condies"}),z.jsx("textarea",{name:"preconditions",value:c.preconditions,onChange:m,className:"textarea-field",rows:"3",placeholder:"Descreva as pr-condies necessrias para executar o teste..."})]}),z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Passos do Teste"}),z.jsxs("button",{type:"button",onClick:E,className:"btn-secondary flex items-center space-x-1 text-sm",children:[z.jsx(X2,{className:"w-4 h-4"}),z.jsx("span",{children:"Adicionar Passo"})]})]}),z.jsx("div",{className:"space-y-4",children:c.steps.map((W,A)=>z.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 relative",children:[z.jsxs("div",{className:"flex items-center justify-between mb-3",children:[z.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Passo ",A+1]}),c.steps.length>1&&z.jsx("button",{type:"button",onClick:()=>b(A),className:"text-red-500 hover:text-red-700",children:z.jsx(Xc,{className:"w-4 h-4"})})]}),z.jsxs("div",{className:"grid gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Ao"}),z.jsx("input",{type:"text",value:W.action,onChange:S=>h(A,"action",S.target.value),className:"input-field",placeholder:"Descreva a ao executada"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Resultado Esperado"}),z.jsx("input",{type:"text",value:W.expectedResult,onChange:S=>h(A,"expectedResult",S.target.value),className:"input-field",placeholder:"O que deveria acontecer"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Resultado Obtido"}),z.jsx("input",{type:"text",value:W.actualResult,onChange:S=>h(A,"actualResult",S.target.value),className:"input-field",placeholder:"O que realmente aconteceu"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status do Passo"}),z.jsxs("select",{value:W.status,onChange:S=>h(A,"status",S.target.value),className:"input-field",children:[z.jsx("option",{value:"pendente",children:"Pendente"}),z.jsx("option",{value:"passou",children:"Passou"}),z.jsx("option",{value:"falhou",children:"Falhou"})]})]})]})]},A))})]}),z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsxs("div",{children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Elementos da Interface"}),z.jsx("p",{className:"text-sm text-gray-500",children:"Registre os elementos interagidos para gerao de selectors Playwright"})]}),z.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center space-x-1 text-sm",children:[z.jsx(X2,{className:"w-4 h-4"}),z.jsx("span",{children:"Adicionar Elemento"})]})]}),z.jsx("div",{className:"space-y-3",children:c.elements.map((W,A)=>z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("input",{type:"text",value:W.name,onChange:S=>T(A,"name",S.target.value),className:"input-field flex-1",placeholder:"Nome do elemento (ex: Boto Login)"}),z.jsx("input",{type:"text",value:W.selector,onChange:S=>T(A,"selector",S.target.value),className:"input-field flex-1 font-mono text-sm",placeholder:"Selector (ex: #btn-login, .submit-btn)"}),z.jsxs("select",{value:W.type,onChange:S=>T(A,"type",S.target.value),className:"input-field w-32",children:[z.jsx("option",{value:"button",children:"Boto"}),z.jsx("option",{value:"input",children:"Input"}),z.jsx("option",{value:"link",children:"Link"}),z.jsx("option",{value:"select",children:"Select"}),z.jsx("option",{value:"checkbox",children:"Checkbox"}),z.jsx("option",{value:"radio",children:"Radio"}),z.jsx("option",{value:"text",children:"Texto"}),z.jsx("option",{value:"other",children:"Outro"})]}),c.elements.length>1&&z.jsx("button",{type:"button",onClick:()=>w(A),className:"text-red-500 hover:text-red-700",children:z.jsx(Xc,{className:"w-4 h-4"})})]},A))})]}),z.jsxs("div",{className:"card",children:[z.jsx("div",{className:"flex items-center justify-between mb-4",children:z.jsxs("div",{children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Screenshots / Prints"}),z.jsx("p",{className:"text-sm text-gray-500",children:"Adicione prints de erros ou evidncias do teste"})]})}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors",children:[z.jsx("input",{type:"file",id:"screenshot-upload",multiple:!0,accept:"image/*",onChange:v,className:"hidden",disabled:o}),z.jsx("label",{htmlFor:"screenshot-upload",className:"cursor-pointer flex flex-col items-center",children:o?z.jsxs(z.Fragment,{children:[z.jsx(mg,{className:"w-10 h-10 text-primary-500 animate-spin mb-2"}),z.jsx("span",{className:"text-sm text-gray-600",children:"Fazendo upload..."})]}):z.jsxs(z.Fragment,{children:[z.jsx(WO,{className:"w-10 h-10 text-gray-400 mb-2"}),z.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Clique para selecionar imagens"}),z.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF at 10MB"})]})})]}),l&&z.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[z.jsx(VN,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),z.jsx("p",{className:"text-sm text-red-700",children:l})]}),i.length>0&&z.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map((W,A)=>z.jsxs("div",{className:"relative group",children:[z.jsx("img",{src:W.url,alt:W.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),z.jsx("button",{type:"button",onClick:()=>y(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:z.jsx(M5,{className:"w-4 h-4"})}),z.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:W.name})]},A))})]})]}),z.jsxs("div",{className:"card",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observaes"}),z.jsx("div",{className:"space-y-4",children:z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),z.jsx("textarea",{name:"observations",value:c.observations,onChange:m,className:"textarea-field",rows:"3",placeholder:"Observaes adicionais sobre o teste..."})]})})]}),z.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[z.jsx("button",{type:"button",onClick:()=>e("/"),className:"btn-secondary",children:"Cancelar"}),z.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[z.jsx(qN,{className:"w-4 h-4"}),z.jsx("span",{children:"Salvar Teste"})]})]})]})]})}var Dz=Object.defineProperty,Fz=Object.defineProperties,jz=Object.getOwnPropertyDescriptors,K4=Object.getOwnPropertySymbols,Mz=Object.prototype.hasOwnProperty,Bz=Object.prototype.propertyIsEnumerable,Ew=(t,e,r)=>e in t?Dz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ut=(t,e)=>{for(var r in e||(e={}))Mz.call(e,r)&&Ew(t,r,e[r]);if(K4)for(var r of K4(e))Bz.call(e,r)&&Ew(t,r,e[r]);return t},Ea=(t,e)=>Fz(t,jz(e)),Fe=(t,e,r)=>Ew(t,typeof e!="symbol"?e+"":e,r),Uz=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});class Dg{constructor(e){Fe(this,"rootKey"),this.rootKey=e}}const Vz=Object.seal({});class Me extends Dg{constructor(e){super(e),Fe(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Dg?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:Vz}}addChildElement(e){return this.root.push(e),this}}class T1 extends Me{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class ct extends Dg{constructor(e){super("_attr"),Fe(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class Yd extends Dg{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Ea(Ut({},n),{[i]:s}),{})}}}class an extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B0={},Kp={exports:{}},X4;function q_(){if(X4)return Kp.exports;X4=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(L,W,A){return Function.prototype.apply.call(L,W,A)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:r=function(L){return Object.getOwnPropertyNames(L)};function n(y){console&&console.warn&&console.warn(y)}var i=Number.isNaN||function(L){return L!==L};function s(){s.init.call(this)}Kp.exports=s,Kp.exports.once=d,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(y){if(typeof y!="number"||y<0||i(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");o=y}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||i(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function l(y){return y._maxListeners===void 0?s.defaultMaxListeners:y._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(L){for(var W=[],A=1;A<arguments.length;A++)W.push(arguments[A]);var S=L==="error",_=this._events;if(_!==void 0)S=S&&_.error===void 0;else if(!S)return!1;if(S){var q;if(W.length>0&&(q=W[0]),q instanceof Error)throw q;var D=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw D.context=q,D}var I=_[L];if(I===void 0)return!1;if(typeof I=="function")e(I,this,W);else for(var P=I.length,C=E(I,P),A=0;A<P;++A)e(C[A],this,W);return!0};function u(y,L,W,A){var S,_,q;if(a(W),_=y._events,_===void 0?(_=y._events=Object.create(null),y._eventsCount=0):(_.newListener!==void 0&&(y.emit("newListener",L,W.listener?W.listener:W),_=y._events),q=_[L]),q===void 0)q=_[L]=W,++y._eventsCount;else if(typeof q=="function"?q=_[L]=A?[W,q]:[q,W]:A?q.unshift(W):q.push(W),S=l(y),S>0&&q.length>S&&!q.warned){q.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=y,D.type=L,D.count=q.length,n(D)}return y}s.prototype.addListener=function(L,W){return u(this,L,W,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(L,W){return u(this,L,W,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(y,L,W){var A={fired:!1,wrapFn:void 0,target:y,type:L,listener:W},S=c.bind(A);return S.listener=W,A.wrapFn=S,S}s.prototype.once=function(L,W){return a(W),this.on(L,f(this,L,W)),this},s.prototype.prependOnceListener=function(L,W){return a(W),this.prependListener(L,f(this,L,W)),this},s.prototype.removeListener=function(L,W){var A,S,_,q,D;if(a(W),S=this._events,S===void 0)return this;if(A=S[L],A===void 0)return this;if(A===W||A.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete S[L],S.removeListener&&this.emit("removeListener",L,A.listener||W));else if(typeof A!="function"){for(_=-1,q=A.length-1;q>=0;q--)if(A[q]===W||A[q].listener===W){D=A[q].listener,_=q;break}if(_<0)return this;_===0?A.shift():b(A,_),A.length===1&&(S[L]=A[0]),S.removeListener!==void 0&&this.emit("removeListener",L,D||W)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(L){var W,A,S;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[L]),this;if(arguments.length===0){var _=Object.keys(A),q;for(S=0;S<_.length;++S)q=_[S],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=A[L],typeof W=="function")this.removeListener(L,W);else if(W!==void 0)for(S=W.length-1;S>=0;S--)this.removeListener(L,W[S]);return this};function m(y,L,W){var A=y._events;if(A===void 0)return[];var S=A[L];return S===void 0?[]:typeof S=="function"?W?[S.listener||S]:[S]:W?T(S):E(S,S.length)}s.prototype.listeners=function(L){return m(this,L,!0)},s.prototype.rawListeners=function(L){return m(this,L,!1)},s.listenerCount=function(y,L){return typeof y.listenerCount=="function"?y.listenerCount(L):h.call(y,L)},s.prototype.listenerCount=h;function h(y){var L=this._events;if(L!==void 0){var W=L[y];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function E(y,L){for(var W=new Array(L),A=0;A<L;++A)W[A]=y[A];return W}function b(y,L){for(;L+1<y.length;L++)y[L]=y[L+1];y.pop()}function T(y){for(var L=new Array(y.length),W=0;W<L.length;++W)L[W]=y[W].listener||y[W];return L}function d(y,L){return new Promise(function(W,A){function S(q){y.removeListener(L,_),A(q)}function _(){typeof y.removeListener=="function"&&y.removeListener("error",S),W([].slice.call(arguments))}v(y,L,_,{once:!0}),L!=="error"&&w(y,S,{once:!0})})}function w(y,L,W){typeof y.on=="function"&&v(y,"error",L,W)}function v(y,L,W,A){if(typeof y.on=="function")A.once?y.once(L,W):y.on(L,W);else if(typeof y.addEventListener=="function")y.addEventListener(L,function S(_){A.once&&y.removeEventListener(L,S),W(_)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof y)}return Kp.exports}var Xp={exports:{}},Y4;function Wl(){return Y4||(Y4=1,typeof Object.create=="function"?Xp.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Xp.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Xp.exports}function zz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OC={exports:{}},ln=OC.exports={},Ao,So;function Aw(){throw new Error("setTimeout has not been defined")}function Sw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ao=setTimeout:Ao=Aw}catch{Ao=Aw}try{typeof clearTimeout=="function"?So=clearTimeout:So=Sw}catch{So=Sw}})();function DC(t){if(Ao===setTimeout)return setTimeout(t,0);if((Ao===Aw||!Ao)&&setTimeout)return Ao=setTimeout,setTimeout(t,0);try{return Ao(t,0)}catch{try{return Ao.call(null,t,0)}catch{return Ao.call(this,t,0)}}}function qz(t){if(So===clearTimeout)return clearTimeout(t);if((So===Sw||!So)&&clearTimeout)return So=clearTimeout,clearTimeout(t);try{return So(t)}catch{try{return So.call(null,t)}catch{return So.call(this,t)}}}var da=[],th=!1,vu,jm=-1;function Wz(){!th||!vu||(th=!1,vu.length?da=vu.concat(da):jm=-1,da.length&&FC())}function FC(){if(!th){var t=DC(Wz);th=!0;for(var e=da.length;e;){for(vu=da,da=[];++jm<e;)vu&&vu[jm].run();jm=-1,e=da.length}vu=null,th=!1,qz(t)}}ln.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];da.push(new jC(t,e)),da.length===1&&!th&&DC(FC)};function jC(t,e){this.fun=t,this.array=e}jC.prototype.run=function(){this.fun.apply(null,this.array)};ln.title="browser";ln.browser=!0;ln.env={};ln.argv=[];ln.version="";ln.versions={};function Sa(){}ln.on=Sa;ln.addListener=Sa;ln.once=Sa;ln.off=Sa;ln.removeListener=Sa;ln.removeAllListeners=Sa;ln.emit=Sa;ln.prependListener=Sa;ln.prependOnceListener=Sa;ln.listeners=function(t){return[]};ln.binding=function(t){throw new Error("process.binding is not supported")};ln.cwd=function(){return"/"};ln.chdir=function(t){throw new Error("process.chdir is not supported")};ln.umask=function(){return 0};var Hz=OC.exports;const Vt=zz(Hz);var U0,Q4;function MC(){return Q4||(Q4=1,U0=q_().EventEmitter),U0}var V0={},yf={},J4;function $z(){if(J4)return yf;J4=1,yf.byteLength=a,yf.toByteArray=u,yf.fromByteArray=m;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(h){var E=h.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");b===-1&&(b=E);var T=b===E?0:4-b%4;return[b,T]}function a(h){var E=o(h),b=E[0],T=E[1];return(b+T)*3/4-T}function l(h,E,b){return(E+b)*3/4-b}function u(h){var E,b=o(h),T=b[0],d=b[1],w=new r(l(h,T,d)),v=0,y=d>0?T-4:T,L;for(L=0;L<y;L+=4)E=e[h.charCodeAt(L)]<<18|e[h.charCodeAt(L+1)]<<12|e[h.charCodeAt(L+2)]<<6|e[h.charCodeAt(L+3)],w[v++]=E>>16&255,w[v++]=E>>8&255,w[v++]=E&255;return d===2&&(E=e[h.charCodeAt(L)]<<2|e[h.charCodeAt(L+1)]>>4,w[v++]=E&255),d===1&&(E=e[h.charCodeAt(L)]<<10|e[h.charCodeAt(L+1)]<<4|e[h.charCodeAt(L+2)]>>2,w[v++]=E>>8&255,w[v++]=E&255),w}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,E,b){for(var T,d=[],w=E;w<b;w+=3)T=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(h[w+2]&255),d.push(c(T));return d.join("")}function m(h){for(var E,b=h.length,T=b%3,d=[],w=16383,v=0,y=b-T;v<y;v+=w)d.push(f(h,v,v+w>y?y:v+w));return T===1?(E=h[b-1],d.push(t[E>>2]+t[E<<4&63]+"==")):T===2&&(E=(h[b-2]<<8)+h[b-1],d.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),d.join("")}return yf}var Yp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Z4;function Gz(){return Z4||(Z4=1,Yp.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,f=r?i-1:0,m=r?-1:1,h=t[e+f];for(f+=m,s=h&(1<<-c)-1,h>>=-c,c+=a;c>0;s=s*256+t[e+f],f+=m,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+f],f+=m,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(h?-1:1)*o*Math.pow(2,s-n)},Yp.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,E=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+h]=a&255,h+=E,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+h]=o&255,h+=E,o/=256,u-=8);t[r+h-E]|=b*128}),Yp}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var eA;function N1(){return eA||(eA=1,function(t){var e=$z(),r=Gz(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(H,N),H.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var N=new Uint8Array(H);return Object.setPrototypeOf(N,a.prototype),N}function a(H,N,k){if(typeof H=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(H)}return l(H,N,k)}a.poolSize=8192;function l(H,N,k){if(typeof H=="string")return m(H,N);if(ArrayBuffer.isView(H))return E(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(xe(H,ArrayBuffer)||H&&xe(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(H,SharedArrayBuffer)||H&&xe(H.buffer,SharedArrayBuffer)))return b(H,N,k);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var F=H.valueOf&&H.valueOf();if(F!=null&&F!==H)return a.from(F,N,k);var ce=T(H);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return a.from(H[Symbol.toPrimitive]("string"),N,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}a.from=function(H,N,k){return l(H,N,k)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function c(H,N,k){return u(H),H<=0?o(H):N!==void 0?typeof k=="string"?o(H).fill(N,k):o(H).fill(N):o(H)}a.alloc=function(H,N,k){return c(H,N,k)};function f(H){return u(H),o(H<0?0:d(H)|0)}a.allocUnsafe=function(H){return f(H)},a.allocUnsafeSlow=function(H){return f(H)};function m(H,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var k=v(H,N)|0,F=o(k),ce=F.write(H,N);return ce!==k&&(F=F.slice(0,ce)),F}function h(H){for(var N=H.length<0?0:d(H.length)|0,k=o(N),F=0;F<N;F+=1)k[F]=H[F]&255;return k}function E(H){if(xe(H,Uint8Array)){var N=new Uint8Array(H);return b(N.buffer,N.byteOffset,N.byteLength)}return h(H)}function b(H,N,k){if(N<0||H.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<N+(k||0))throw new RangeError('"length" is outside of buffer bounds');var F;return N===void 0&&k===void 0?F=new Uint8Array(H):k===void 0?F=new Uint8Array(H,N):F=new Uint8Array(H,N,k),Object.setPrototypeOf(F,a.prototype),F}function T(H){if(a.isBuffer(H)){var N=d(H.length)|0,k=o(N);return k.length===0||H.copy(k,0,0,N),k}if(H.length!==void 0)return typeof H.length!="number"||V(H.length)?o(0):h(H);if(H.type==="Buffer"&&Array.isArray(H.data))return h(H.data)}function d(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function w(H){return+H!=H&&(H=0),a.alloc(+H)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,k){if(xe(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),xe(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(N)||!a.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===k)return 0;for(var F=N.length,ce=k.length,ve=0,me=Math.min(F,ce);ve<me;++ve)if(N[ve]!==k[ve]){F=N[ve],ce=k[ve];break}return F<ce?-1:ce<F?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,k){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);var F;if(k===void 0)for(k=0,F=0;F<N.length;++F)k+=N[F].length;var ce=a.allocUnsafe(k),ve=0;for(F=0;F<N.length;++F){var me=N[F];if(xe(me,Uint8Array))ve+me.length>ce.length?a.from(me).copy(ce,ve):Uint8Array.prototype.set.call(ce,me,ve);else if(a.isBuffer(me))me.copy(ce,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=me.length}return ce};function v(H,N){if(a.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||xe(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var k=H.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&k===0)return 0;for(var ce=!1;;)switch(N){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return B(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return Y(H).length;default:if(ce)return F?-1:B(H).length;N=(""+N).toLowerCase(),ce=!0}}a.byteLength=v;function y(H,N,k){var F=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,N>>>=0,k<=N))return"";for(H||(H="utf8");;)switch(H){case"hex":return de(this,N,k);case"utf8":case"utf-8":return C(this,N,k);case"ascii":return se(this,N,k);case"latin1":case"binary":return ae(this,N,k);case"base64":return P(this,N,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,N,k);default:if(F)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),F=!0}}a.prototype._isBuffer=!0;function L(H,N,k){var F=H[N];H[N]=H[k],H[k]=F}a.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<N;k+=2)L(this,k,k+1);return this},a.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<N;k+=4)L(this,k,k+3),L(this,k+1,k+2);return this},a.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<N;k+=8)L(this,k,k+7),L(this,k+1,k+6),L(this,k+2,k+5),L(this,k+3,k+4);return this},a.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?C(this,0,N):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){var N="",k=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(N+=" ... "),"<Buffer "+N+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(N,k,F,ce,ve){if(xe(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(k===void 0&&(k=0),F===void 0&&(F=N?N.length:0),ce===void 0&&(ce=0),ve===void 0&&(ve=this.length),k<0||F>N.length||ce<0||ve>this.length)throw new RangeError("out of range index");if(ce>=ve&&k>=F)return 0;if(ce>=ve)return-1;if(k>=F)return 1;if(k>>>=0,F>>>=0,ce>>>=0,ve>>>=0,this===N)return 0;for(var me=ve-ce,Te=F-k,De=Math.min(me,Te),Re=this.slice(ce,ve),Be=N.slice(k,F),Ke=0;Ke<De;++Ke)if(Re[Ke]!==Be[Ke]){me=Re[Ke],Te=Be[Ke];break}return me<Te?-1:Te<me?1:0};function W(H,N,k,F,ce){if(H.length===0)return-1;if(typeof k=="string"?(F=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,V(k)&&(k=ce?0:H.length-1),k<0&&(k=H.length+k),k>=H.length){if(ce)return-1;k=H.length-1}else if(k<0)if(ce)k=0;else return-1;if(typeof N=="string"&&(N=a.from(N,F)),a.isBuffer(N))return N.length===0?-1:A(H,N,k,F,ce);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(H,N,k):Uint8Array.prototype.lastIndexOf.call(H,N,k):A(H,[N],k,F,ce);throw new TypeError("val must be string, number or Buffer")}function A(H,N,k,F,ce){var ve=1,me=H.length,Te=N.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(H.length<2||N.length<2)return-1;ve=2,me/=2,Te/=2,k/=2}function De(tt,xt){return ve===1?tt[xt]:tt.readUInt16BE(xt*ve)}var Re;if(ce){var Be=-1;for(Re=k;Re<me;Re++)if(De(H,Re)===De(N,Be===-1?0:Re-Be)){if(Be===-1&&(Be=Re),Re-Be+1===Te)return Be*ve}else Be!==-1&&(Re-=Re-Be),Be=-1}else for(k+Te>me&&(k=me-Te),Re=k;Re>=0;Re--){for(var Ke=!0,Ze=0;Ze<Te;Ze++)if(De(H,Re+Ze)!==De(N,Ze)){Ke=!1;break}if(Ke)return Re}return-1}a.prototype.includes=function(N,k,F){return this.indexOf(N,k,F)!==-1},a.prototype.indexOf=function(N,k,F){return W(this,N,k,F,!0)},a.prototype.lastIndexOf=function(N,k,F){return W(this,N,k,F,!1)};function S(H,N,k,F){k=Number(k)||0;var ce=H.length-k;F?(F=Number(F),F>ce&&(F=ce)):F=ce;var ve=N.length;F>ve/2&&(F=ve/2);for(var me=0;me<F;++me){var Te=parseInt(N.substr(me*2,2),16);if(V(Te))return me;H[k+me]=Te}return me}function _(H,N,k,F){return re(B(N,H.length-k),H,k,F)}function q(H,N,k,F){return re(ne(N),H,k,F)}function D(H,N,k,F){return re(Y(N),H,k,F)}function I(H,N,k,F){return re(te(N,H.length-k),H,k,F)}a.prototype.write=function(N,k,F,ce){if(k===void 0)ce="utf8",F=this.length,k=0;else if(F===void 0&&typeof k=="string")ce=k,F=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(F)?(F=F>>>0,ce===void 0&&(ce="utf8")):(ce=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ve=this.length-k;if((F===void 0||F>ve)&&(F=ve),N.length>0&&(F<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var me=!1;;)switch(ce){case"hex":return S(this,N,k,F);case"utf8":case"utf-8":return _(this,N,k,F);case"ascii":case"latin1":case"binary":return q(this,N,k,F);case"base64":return D(this,N,k,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,N,k,F);default:if(me)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),me=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(H,N,k){return N===0&&k===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(N,k))}function C(H,N,k){k=Math.min(H.length,k);for(var F=[],ce=N;ce<k;){var ve=H[ce],me=null,Te=ve>239?4:ve>223?3:ve>191?2:1;if(ce+Te<=k){var De,Re,Be,Ke;switch(Te){case 1:ve<128&&(me=ve);break;case 2:De=H[ce+1],(De&192)===128&&(Ke=(ve&31)<<6|De&63,Ke>127&&(me=Ke));break;case 3:De=H[ce+1],Re=H[ce+2],(De&192)===128&&(Re&192)===128&&(Ke=(ve&15)<<12|(De&63)<<6|Re&63,Ke>2047&&(Ke<55296||Ke>57343)&&(me=Ke));break;case 4:De=H[ce+1],Re=H[ce+2],Be=H[ce+3],(De&192)===128&&(Re&192)===128&&(Be&192)===128&&(Ke=(ve&15)<<18|(De&63)<<12|(Re&63)<<6|Be&63,Ke>65535&&Ke<1114112&&(me=Ke))}}me===null?(me=65533,Te=1):me>65535&&(me-=65536,F.push(me>>>10&1023|55296),me=56320|me&1023),F.push(me),ce+=Te}return ye(F)}var oe=4096;function ye(H){var N=H.length;if(N<=oe)return String.fromCharCode.apply(String,H);for(var k="",F=0;F<N;)k+=String.fromCharCode.apply(String,H.slice(F,F+=oe));return k}function se(H,N,k){var F="";k=Math.min(H.length,k);for(var ce=N;ce<k;++ce)F+=String.fromCharCode(H[ce]&127);return F}function ae(H,N,k){var F="";k=Math.min(H.length,k);for(var ce=N;ce<k;++ce)F+=String.fromCharCode(H[ce]);return F}function de(H,N,k){var F=H.length;(!N||N<0)&&(N=0),(!k||k<0||k>F)&&(k=F);for(var ce="",ve=N;ve<k;++ve)ce+=X[H[ve]];return ce}function Ae(H,N,k){for(var F=H.slice(N,k),ce="",ve=0;ve<F.length-1;ve+=2)ce+=String.fromCharCode(F[ve]+F[ve+1]*256);return ce}a.prototype.slice=function(N,k){var F=this.length;N=~~N,k=k===void 0?F:~~k,N<0?(N+=F,N<0&&(N=0)):N>F&&(N=F),k<0?(k+=F,k<0&&(k=0)):k>F&&(k=F),k<N&&(k=N);var ce=this.subarray(N,k);return Object.setPrototypeOf(ce,a.prototype),ce};function he(H,N,k){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+N>k)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,k,F){N=N>>>0,k=k>>>0,F||he(N,k,this.length);for(var ce=this[N],ve=1,me=0;++me<k&&(ve*=256);)ce+=this[N+me]*ve;return ce},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,k,F){N=N>>>0,k=k>>>0,F||he(N,k,this.length);for(var ce=this[N+--k],ve=1;k>0&&(ve*=256);)ce+=this[N+--k]*ve;return ce},a.prototype.readUint8=a.prototype.readUInt8=function(N,k){return N=N>>>0,k||he(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,k){return N=N>>>0,k||he(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,k){return N=N>>>0,k||he(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,k){return N=N>>>0,k||he(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,k){return N=N>>>0,k||he(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readIntLE=function(N,k,F){N=N>>>0,k=k>>>0,F||he(N,k,this.length);for(var ce=this[N],ve=1,me=0;++me<k&&(ve*=256);)ce+=this[N+me]*ve;return ve*=128,ce>=ve&&(ce-=Math.pow(2,8*k)),ce},a.prototype.readIntBE=function(N,k,F){N=N>>>0,k=k>>>0,F||he(N,k,this.length);for(var ce=k,ve=1,me=this[N+--ce];ce>0&&(ve*=256);)me+=this[N+--ce]*ve;return ve*=128,me>=ve&&(me-=Math.pow(2,8*k)),me},a.prototype.readInt8=function(N,k){return N=N>>>0,k||he(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,k){N=N>>>0,k||he(N,2,this.length);var F=this[N]|this[N+1]<<8;return F&32768?F|4294901760:F},a.prototype.readInt16BE=function(N,k){N=N>>>0,k||he(N,2,this.length);var F=this[N+1]|this[N]<<8;return F&32768?F|4294901760:F},a.prototype.readInt32LE=function(N,k){return N=N>>>0,k||he(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,k){return N=N>>>0,k||he(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readFloatLE=function(N,k){return N=N>>>0,k||he(N,4,this.length),r.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,k){return N=N>>>0,k||he(N,4,this.length),r.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,k){return N=N>>>0,k||he(N,8,this.length),r.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,k){return N=N>>>0,k||he(N,8,this.length),r.read(this,N,!1,52,8)};function O(H,N,k,F,ce,ve){if(!a.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ce||N<ve)throw new RangeError('"value" argument is out of bounds');if(k+F>H.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,k,F,ce){if(N=+N,k=k>>>0,F=F>>>0,!ce){var ve=Math.pow(2,8*F)-1;O(this,N,k,F,ve,0)}var me=1,Te=0;for(this[k]=N&255;++Te<F&&(me*=256);)this[k+Te]=N/me&255;return k+F},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,k,F,ce){if(N=+N,k=k>>>0,F=F>>>0,!ce){var ve=Math.pow(2,8*F)-1;O(this,N,k,F,ve,0)}var me=F-1,Te=1;for(this[k+me]=N&255;--me>=0&&(Te*=256);)this[k+me]=N/Te&255;return k+F},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,1,255,0),this[k]=N&255,k+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,2,65535,0),this[k]=N&255,this[k+1]=N>>>8,k+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,2,65535,0),this[k]=N>>>8,this[k+1]=N&255,k+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,4,4294967295,0),this[k+3]=N>>>24,this[k+2]=N>>>16,this[k+1]=N>>>8,this[k]=N&255,k+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,4,4294967295,0),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4},a.prototype.writeIntLE=function(N,k,F,ce){if(N=+N,k=k>>>0,!ce){var ve=Math.pow(2,8*F-1);O(this,N,k,F,ve-1,-ve)}var me=0,Te=1,De=0;for(this[k]=N&255;++me<F&&(Te*=256);)N<0&&De===0&&this[k+me-1]!==0&&(De=1),this[k+me]=(N/Te>>0)-De&255;return k+F},a.prototype.writeIntBE=function(N,k,F,ce){if(N=+N,k=k>>>0,!ce){var ve=Math.pow(2,8*F-1);O(this,N,k,F,ve-1,-ve)}var me=F-1,Te=1,De=0;for(this[k+me]=N&255;--me>=0&&(Te*=256);)N<0&&De===0&&this[k+me+1]!==0&&(De=1),this[k+me]=(N/Te>>0)-De&255;return k+F},a.prototype.writeInt8=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,1,127,-128),N<0&&(N=255+N+1),this[k]=N&255,k+1},a.prototype.writeInt16LE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,2,32767,-32768),this[k]=N&255,this[k+1]=N>>>8,k+2},a.prototype.writeInt16BE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,2,32767,-32768),this[k]=N>>>8,this[k+1]=N&255,k+2},a.prototype.writeInt32LE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,4,2147483647,-2147483648),this[k]=N&255,this[k+1]=N>>>8,this[k+2]=N>>>16,this[k+3]=N>>>24,k+4},a.prototype.writeInt32BE=function(N,k,F){return N=+N,k=k>>>0,F||O(this,N,k,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4};function K(H,N,k,F,ce,ve){if(k+F>H.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Q(H,N,k,F,ce){return N=+N,k=k>>>0,ce||K(H,N,k,4),r.write(H,N,k,F,23,4),k+4}a.prototype.writeFloatLE=function(N,k,F){return Q(this,N,k,!0,F)},a.prototype.writeFloatBE=function(N,k,F){return Q(this,N,k,!1,F)};function ue(H,N,k,F,ce){return N=+N,k=k>>>0,ce||K(H,N,k,8),r.write(H,N,k,F,52,8),k+8}a.prototype.writeDoubleLE=function(N,k,F){return ue(this,N,k,!0,F)},a.prototype.writeDoubleBE=function(N,k,F){return ue(this,N,k,!1,F)},a.prototype.copy=function(N,k,F,ce){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ce&&ce!==0&&(ce=this.length),k>=N.length&&(k=N.length),k||(k=0),ce>0&&ce<F&&(ce=F),ce===F||N.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),N.length-k<ce-F&&(ce=N.length-k+F);var ve=ce-F;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,F,ce):Uint8Array.prototype.set.call(N,this.subarray(F,ce),k),ve},a.prototype.fill=function(N,k,F,ce){if(typeof N=="string"){if(typeof k=="string"?(ce=k,k=0,F=this.length):typeof F=="string"&&(ce=F,F=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(N.length===1){var ve=N.charCodeAt(0);(ce==="utf8"&&ve<128||ce==="latin1")&&(N=ve)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(k<0||this.length<k||this.length<F)throw new RangeError("Out of range index");if(F<=k)return this;k=k>>>0,F=F===void 0?this.length:F>>>0,N||(N=0);var me;if(typeof N=="number")for(me=k;me<F;++me)this[me]=N;else{var Te=a.isBuffer(N)?N:a.from(N,ce),De=Te.length;if(De===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(me=0;me<F-k;++me)this[me+k]=Te[me%De]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function j(H){if(H=H.split("=")[0],H=H.trim().replace(ee,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function B(H,N){N=N||1/0;for(var k,F=H.length,ce=null,ve=[],me=0;me<F;++me){if(k=H.charCodeAt(me),k>55295&&k<57344){if(!ce){if(k>56319){(N-=3)>-1&&ve.push(239,191,189);continue}else if(me+1===F){(N-=3)>-1&&ve.push(239,191,189);continue}ce=k;continue}if(k<56320){(N-=3)>-1&&ve.push(239,191,189),ce=k;continue}k=(ce-55296<<10|k-56320)+65536}else ce&&(N-=3)>-1&&ve.push(239,191,189);if(ce=null,k<128){if((N-=1)<0)break;ve.push(k)}else if(k<2048){if((N-=2)<0)break;ve.push(k>>6|192,k&63|128)}else if(k<65536){if((N-=3)<0)break;ve.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((N-=4)<0)break;ve.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return ve}function ne(H){for(var N=[],k=0;k<H.length;++k)N.push(H.charCodeAt(k)&255);return N}function te(H,N){for(var k,F,ce,ve=[],me=0;me<H.length&&!((N-=2)<0);++me)k=H.charCodeAt(me),F=k>>8,ce=k%256,ve.push(ce),ve.push(F);return ve}function Y(H){return e.toByteArray(j(H))}function re(H,N,k,F){for(var ce=0;ce<F&&!(ce+k>=N.length||ce>=H.length);++ce)N[ce+k]=H[ce];return ce}function xe(H,N){return H instanceof N||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===N.name}function V(H){return H!==H}var X=function(){for(var H="0123456789abcdef",N=new Array(256),k=0;k<16;++k)for(var F=k*16,ce=0;ce<16;++ce)N[F+ce]=H[k]+H[ce];return N}()}(V0)),V0}var z0={},q0={},W0,tA;function BC(){return tA||(tA=1,W0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),W0}var H0,rA;function W_(){if(rA)return H0;rA=1;var t=BC();return H0=function(){return t()&&!!Symbol.toStringTag},H0}var $0,nA;function UC(){return nA||(nA=1,$0=Object),$0}var G0,iA;function Kz(){return iA||(iA=1,G0=Error),G0}var K0,sA;function Xz(){return sA||(sA=1,K0=EvalError),K0}var X0,oA;function Yz(){return oA||(oA=1,X0=RangeError),X0}var Y0,aA;function Qz(){return aA||(aA=1,Y0=ReferenceError),Y0}var Q0,lA;function VC(){return lA||(lA=1,Q0=SyntaxError),Q0}var J0,uA;function Qd(){return uA||(uA=1,J0=TypeError),J0}var Z0,cA;function Jz(){return cA||(cA=1,Z0=URIError),Z0}var ey,hA;function Zz(){return hA||(hA=1,ey=Math.abs),ey}var ty,fA;function eq(){return fA||(fA=1,ty=Math.floor),ty}var ry,dA;function tq(){return dA||(dA=1,ry=Math.max),ry}var ny,pA;function rq(){return pA||(pA=1,ny=Math.min),ny}var iy,mA;function nq(){return mA||(mA=1,iy=Math.pow),iy}var sy,gA;function iq(){return gA||(gA=1,sy=Math.round),sy}var oy,yA;function sq(){return yA||(yA=1,oy=Number.isNaN||function(e){return e!==e}),oy}var ay,vA;function oq(){if(vA)return ay;vA=1;var t=sq();return ay=function(r){return t(r)||r===0?r:r<0?-1:1},ay}var ly,wA;function aq(){return wA||(wA=1,ly=Object.getOwnPropertyDescriptor),ly}var uy,_A;function Jd(){if(_A)return uy;_A=1;var t=aq();if(t)try{t([],"length")}catch{t=null}return uy=t,uy}var cy,bA;function I1(){if(bA)return cy;bA=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return cy=t,cy}var hy,xA;function lq(){if(xA)return hy;xA=1;var t=typeof Symbol<"u"&&Symbol,e=BC();return hy=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hy}var fy,EA;function zC(){return EA||(EA=1,fy=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),fy}var dy,AA;function qC(){if(AA)return dy;AA=1;var t=UC();return dy=t.getPrototypeOf||null,dy}var py,SA;function uq(){if(SA)return py;SA=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var m=0;m<u.length;m+=1)c[m+l.length]=u[m];return c},s=function(l,u){for(var c=[],f=u,m=0;f<l.length;f+=1,m+=1)c[m]=l[f];return c},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return py=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),f,m=function(){if(this instanceof f){var d=u.apply(this,i(c,arguments));return Object(d)===d?d:this}return u.apply(l,i(c,arguments))},h=r(0,u.length-c.length),E=[],b=0;b<h;b++)E[b]="$"+b;if(f=Function("binder","return function ("+o(E,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var T=function(){};T.prototype=u.prototype,f.prototype=new T,T.prototype=null}return f},py}var my,TA;function Zd(){if(TA)return my;TA=1;var t=uq();return my=Function.prototype.bind||t,my}var gy,NA;function H_(){return NA||(NA=1,gy=Function.prototype.call),gy}var yy,IA;function WC(){return IA||(IA=1,yy=Function.prototype.apply),yy}var vy,kA;function cq(){return kA||(kA=1,vy=typeof Reflect<"u"&&Reflect&&Reflect.apply),vy}var wy,CA;function hq(){if(CA)return wy;CA=1;var t=Zd(),e=WC(),r=H_(),n=cq();return wy=n||t.call(r,e),wy}var _y,RA;function fq(){if(RA)return _y;RA=1;var t=Zd(),e=Qd(),r=H_(),n=hq();return _y=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},_y}var by,PA;function dq(){if(PA)return by;PA=1;var t=fq(),e=Jd(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return by=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,by}var xy,LA;function pq(){if(LA)return xy;LA=1;var t=zC(),e=qC(),r=dq();return xy=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,xy}var Ey,OA;function mq(){if(OA)return Ey;OA=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Zd();return Ey=r.call(t,e),Ey}var Ay,DA;function $_(){if(DA)return Ay;DA=1;var t,e=UC(),r=Kz(),n=Xz(),i=Yz(),s=Qz(),o=VC(),a=Qd(),l=Jz(),u=Zz(),c=eq(),f=tq(),m=rq(),h=nq(),E=iq(),b=oq(),T=Function,d=function(ne){try{return T('"use strict"; return ('+ne+").constructor;")()}catch{}},w=Jd(),v=I1(),y=function(){throw new a},L=w?function(){try{return arguments.callee,y}catch{try{return w(arguments,"callee").get}catch{return y}}}():y,W=lq()(),A=pq(),S=qC(),_=zC(),q=WC(),D=H_(),I={},P=typeof Uint8Array>"u"||!A?t:A(Uint8Array),C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":W&&A?A([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":T,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":W&&A?A(A([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!W||!A?t:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!W||!A?t:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":W&&A?A(""[Symbol.iterator]()):t,"%Symbol%":W?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":L,"%TypedArray%":P,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":q,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":S,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":m,"%Math.pow%":h,"%Math.round%":E,"%Math.sign%":b,"%Reflect.getPrototypeOf%":_};if(A)try{null.error}catch(ne){var oe=A(A(ne));C["%Error.prototype%"]=oe}var ye=function ne(te){var Y;if(te==="%AsyncFunction%")Y=d("async function () {}");else if(te==="%GeneratorFunction%")Y=d("function* () {}");else if(te==="%AsyncGeneratorFunction%")Y=d("async function* () {}");else if(te==="%AsyncGenerator%"){var re=ne("%AsyncGeneratorFunction%");re&&(Y=re.prototype)}else if(te==="%AsyncIteratorPrototype%"){var xe=ne("%AsyncGenerator%");xe&&A&&(Y=A(xe.prototype))}return C[te]=Y,Y},se={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=Zd(),de=mq(),Ae=ae.call(D,Array.prototype.concat),he=ae.call(q,Array.prototype.splice),O=ae.call(D,String.prototype.replace),K=ae.call(D,String.prototype.slice),Q=ae.call(D,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ee=/\\(\\)?/g,j=function(te){var Y=K(te,0,1),re=K(te,-1);if(Y==="%"&&re!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&Y!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var xe=[];return O(te,ue,function(V,X,H,N){xe[xe.length]=H?O(N,ee,"$1"):X||V}),xe},B=function(te,Y){var re=te,xe;if(de(se,re)&&(xe=se[re],re="%"+xe[0]+"%"),de(C,re)){var V=C[re];if(V===I&&(V=ye(re)),typeof V>"u"&&!Y)throw new a("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:xe,name:re,value:V}}throw new o("intrinsic "+te+" does not exist!")};return Ay=function(te,Y){if(typeof te!="string"||te.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,te)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=j(te),xe=re.length>0?re[0]:"",V=B("%"+xe+"%",Y),X=V.name,H=V.value,N=!1,k=V.alias;k&&(xe=k[0],he(re,Ae([0,1],k)));for(var F=1,ce=!0;F<re.length;F+=1){var ve=re[F],me=K(ve,0,1),Te=K(ve,-1);if((me==='"'||me==="'"||me==="`"||Te==='"'||Te==="'"||Te==="`")&&me!==Te)throw new o("property names with quotes must have matching quotes");if((ve==="constructor"||!ce)&&(N=!0),xe+="."+ve,X="%"+xe+"%",de(C,X))H=C[X];else if(H!=null){if(!(ve in H)){if(!Y)throw new a("base intrinsic for "+te+" exists, but the property is not available.");return}if(w&&F+1>=re.length){var De=w(H,ve);ce=!!De,ce&&"get"in De&&!("originalValue"in De.get)?H=De.get:H=H[ve]}else ce=de(H,ve),H=H[ve];ce&&!N&&(C[X]=H)}}return H},Ay}var Sy={exports:{}},Ty,FA;function gq(){if(FA)return Ty;FA=1;var t=I1(),e=VC(),r=Qd(),n=Jd();return Ty=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,m=!!n&&n(s,o);if(t)t(s,o,{configurable:c===null&&m?m.configurable:!c,enumerable:l===null&&m?m.enumerable:!l,value:a,writable:u===null&&m?m.writable:!u});else if(f||!l&&!u&&!c)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ty}var Ny,jA;function yq(){if(jA)return Ny;jA=1;var t=I1(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Ny=e,Ny}var Iy,MA;function vq(){if(MA)return Iy;MA=1;var t=$_(),e=gq(),r=yq()(),n=Jd(),i=Qd(),s=t("%Math.floor%");return Iy=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in a&&n){var m=n(a,"length");m&&!m.configurable&&(c=!1),m&&!m.writable&&(f=!1)}return(c||f||!u)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},Iy}var BA;function HC(){return BA||(BA=1,function(t){var e=Zd(),r=$_(),n=vq(),i=Qd(),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=I1(),u=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var h=a(e,o,arguments);return n(h,1+u(0,m.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c}(Sy)),Sy.exports}var ky,UA;function $C(){if(UA)return ky;UA=1;var t=$_(),e=HC(),r=e(t("String.prototype.indexOf"));return ky=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},ky}var Cy,VA;function wq(){if(VA)return Cy;VA=1;var t=W_()(),e=$C(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Cy=s?n:i,Cy}var Ry,zA;function _q(){if(zA)return Ry;zA=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=W_()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return Ry=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var c=s();o=c?i(c):!1}return i(l)===o},Ry}var Py,qA;function bq(){if(qA)return Py;qA=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(w){w!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(v){try{var y=t.call(v);return i.test(y)}catch{return!1}},o=function(v){try{return s(v)?!1:(t.call(v),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",m="[object HTML document.all class]",h="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),T=function(){return!1};if(typeof document=="object"){var d=document.all;a.call(d)===a.call(document.all)&&(T=function(v){if((b||!v)&&(typeof v>"u"||typeof v=="object"))try{var y=a.call(v);return(y===f||y===m||y===h||y===l)&&v("")==null}catch{}return!1})}return Py=e?function(v){if(T(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,r)}catch(y){if(y!==n)return!1}return!s(v)&&o(v)}:function(v){if(T(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(E)return o(v);if(s(v))return!1;var y=a.call(v);return y!==u&&y!==c&&!/^\[object HTML/.test(y)?!1:o(v)},Py}var Ly,WA;function xq(){if(WA)return Ly;WA=1;var t=bq(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var f=0,m=l.length;f<m;f++)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},i=function(l,u,c){for(var f=0,m=l.length;f<m;f++)c==null?u(l.charAt(f),f,l):u.call(c,l.charAt(f),f,l)},s=function(l,u,c){for(var f in l)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},o=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=c),e.call(l)==="[object Array]"?n(l,u,f):typeof l=="string"?i(l,u,f):s(l,u,f)};return Ly=o,Ly}var Oy,HA;function Eq(){return HA||(HA=1,Oy=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Oy}var Dy,$A;function Aq(){if($A)return Dy;$A=1;var t=Eq(),e=typeof globalThis>"u"?Io:globalThis;return Dy=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Dy}var Fy,GA;function GC(){if(GA)return Fy;GA=1;var t=xq(),e=Aq(),r=HC(),n=$C(),i=Jd(),s=n("Object.prototype.toString"),o=W_()(),a=typeof globalThis>"u"?Io:globalThis,l=e(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(T,d){for(var w=0;w<T.length;w+=1)if(T[w]===d)return w;return-1},m={__proto__:null};o&&i&&c?t(l,function(b){var T=new a[b];if(Symbol.toStringTag in T){var d=c(T),w=i(d,Symbol.toStringTag);if(!w){var v=c(d);w=i(v,Symbol.toStringTag)}m["$"+b]=r(w.get)}}):t(l,function(b){var T=new a[b],d=T.slice||T.set;d&&(m["$"+b]=r(d))});var h=function(T){var d=!1;return t(m,function(w,v){if(!d)try{"$"+w(T)===v&&(d=u(v,1))}catch{}}),d},E=function(T){var d=!1;return t(m,function(w,v){if(!d)try{w(T),d=u(v,1)}catch{}}),d};return Fy=function(T){if(!T||typeof T!="object")return!1;if(!o){var d=u(s(T),8,-1);return f(l,d)>-1?d:d!=="Object"?!1:E(T)}return i?h(T):null},Fy}var jy,KA;function Sq(){if(KA)return jy;KA=1;var t=GC();return jy=function(r){return!!t(r)},jy}var XA;function Tq(){return XA||(XA=1,function(t){var e=wq(),r=_q(),n=GC(),i=Sq();function s(F){return F.call.bind(F)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(o)var m=s(BigInt.prototype.valueOf);if(a)var h=s(Symbol.prototype.valueOf);function E(F,ce){if(typeof F!="object")return!1;try{return ce(F),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function b(F){return typeof Promise<"u"&&F instanceof Promise||F!==null&&typeof F=="object"&&typeof F.then=="function"&&typeof F.catch=="function"}t.isPromise=b;function T(F){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(F):i(F)||K(F)}t.isArrayBufferView=T;function d(F){return n(F)==="Uint8Array"}t.isUint8Array=d;function w(F){return n(F)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function v(F){return n(F)==="Uint16Array"}t.isUint16Array=v;function y(F){return n(F)==="Uint32Array"}t.isUint32Array=y;function L(F){return n(F)==="Int8Array"}t.isInt8Array=L;function W(F){return n(F)==="Int16Array"}t.isInt16Array=W;function A(F){return n(F)==="Int32Array"}t.isInt32Array=A;function S(F){return n(F)==="Float32Array"}t.isFloat32Array=S;function _(F){return n(F)==="Float64Array"}t.isFloat64Array=_;function q(F){return n(F)==="BigInt64Array"}t.isBigInt64Array=q;function D(F){return n(F)==="BigUint64Array"}t.isBigUint64Array=D;function I(F){return l(F)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function P(F){return typeof Map>"u"?!1:I.working?I(F):F instanceof Map}t.isMap=P;function C(F){return l(F)==="[object Set]"}C.working=typeof Set<"u"&&C(new Set);function oe(F){return typeof Set>"u"?!1:C.working?C(F):F instanceof Set}t.isSet=oe;function ye(F){return l(F)==="[object WeakMap]"}ye.working=typeof WeakMap<"u"&&ye(new WeakMap);function se(F){return typeof WeakMap>"u"?!1:ye.working?ye(F):F instanceof WeakMap}t.isWeakMap=se;function ae(F){return l(F)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function de(F){return ae(F)}t.isWeakSet=de;function Ae(F){return l(F)==="[object ArrayBuffer]"}Ae.working=typeof ArrayBuffer<"u"&&Ae(new ArrayBuffer);function he(F){return typeof ArrayBuffer>"u"?!1:Ae.working?Ae(F):F instanceof ArrayBuffer}t.isArrayBuffer=he;function O(F){return l(F)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function K(F){return typeof DataView>"u"?!1:O.working?O(F):F instanceof DataView}t.isDataView=K;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ue(F){return l(F)==="[object SharedArrayBuffer]"}function ee(F){return typeof Q>"u"?!1:(typeof ue.working>"u"&&(ue.working=ue(new Q)),ue.working?ue(F):F instanceof Q)}t.isSharedArrayBuffer=ee;function j(F){return l(F)==="[object AsyncFunction]"}t.isAsyncFunction=j;function B(F){return l(F)==="[object Map Iterator]"}t.isMapIterator=B;function ne(F){return l(F)==="[object Set Iterator]"}t.isSetIterator=ne;function te(F){return l(F)==="[object Generator]"}t.isGeneratorObject=te;function Y(F){return l(F)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Y;function re(F){return E(F,u)}t.isNumberObject=re;function xe(F){return E(F,c)}t.isStringObject=xe;function V(F){return E(F,f)}t.isBooleanObject=V;function X(F){return o&&E(F,m)}t.isBigIntObject=X;function H(F){return a&&E(F,h)}t.isSymbolObject=H;function N(F){return re(F)||xe(F)||V(F)||X(F)||H(F)}t.isBoxedPrimitive=N;function k(F){return typeof Uint8Array<"u"&&(he(F)||ee(F))}t.isAnyArrayBuffer=k,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(F){Object.defineProperty(t,F,{enumerable:!1,value:function(){throw new Error(F+" is not supported in userland")}})})}(q0)),q0}var My,YA;function Nq(){return YA||(YA=1,My=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),My}var QA;function KC(){return QA||(QA=1,function(t){var e=Object.getOwnPropertyDescriptors||function(K){for(var Q=Object.keys(K),ue={},ee=0;ee<Q.length;ee++)ue[Q[ee]]=Object.getOwnPropertyDescriptor(K,Q[ee]);return ue},r=/%[sdj%]/g;t.format=function(O){if(!L(O)){for(var K=[],Q=0;Q<arguments.length;Q++)K.push(o(arguments[Q]));return K.join(" ")}for(var Q=1,ue=arguments,ee=ue.length,j=String(O).replace(r,function(ne){if(ne==="%%")return"%";if(Q>=ee)return ne;switch(ne){case"%s":return String(ue[Q++]);case"%d":return Number(ue[Q++]);case"%j":try{return JSON.stringify(ue[Q++])}catch{return"[Circular]"}default:return ne}}),B=ue[Q];Q<ee;B=ue[++Q])w(B)||!_(B)?j+=" "+B:j+=" "+o(B);return j},t.deprecate=function(O,K){if(typeof Vt<"u"&&Vt.noDeprecation===!0)return O;if(typeof Vt>"u")return function(){return t.deprecate(O,K).apply(this,arguments)};var Q=!1;function ue(){if(!Q){if(Vt.throwDeprecation)throw new Error(K);Vt.traceDeprecation?console.trace(K):console.error(K),Q=!0}return O.apply(this,arguments)}return ue};var n={},i=/^$/;if(Vt.env.NODE_DEBUG){var s=Vt.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!n[O])if(i.test(O)){var K=Vt.pid;n[O]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",O,K,Q)}}else n[O]=function(){};return n[O]};function o(O,K){var Q={seen:[],stylize:l};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),d(K)?Q.showHidden=K:K&&t._extend(Q,K),A(Q.showHidden)&&(Q.showHidden=!1),A(Q.depth)&&(Q.depth=2),A(Q.colors)&&(Q.colors=!1),A(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=a),c(Q,O,Q.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(O,K){var Q=o.styles[K];return Q?"\x1B["+o.colors[Q][0]+"m"+O+"\x1B["+o.colors[Q][1]+"m":O}function l(O,K){return O}function u(O){var K={};return O.forEach(function(Q,ue){K[Q]=!0}),K}function c(O,K,Q){if(O.customInspect&&K&&I(K.inspect)&&K.inspect!==t.inspect&&!(K.constructor&&K.constructor.prototype===K)){var ue=K.inspect(Q,O);return L(ue)||(ue=c(O,ue,Q)),ue}var ee=f(O,K);if(ee)return ee;var j=Object.keys(K),B=u(j);if(O.showHidden&&(j=Object.getOwnPropertyNames(K)),D(K)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return m(K);if(j.length===0){if(I(K)){var ne=K.name?": "+K.name:"";return O.stylize("[Function"+ne+"]","special")}if(S(K))return O.stylize(RegExp.prototype.toString.call(K),"regexp");if(q(K))return O.stylize(Date.prototype.toString.call(K),"date");if(D(K))return m(K)}var te="",Y=!1,re=["{","}"];if(T(K)&&(Y=!0,re=["[","]"]),I(K)){var xe=K.name?": "+K.name:"";te=" [Function"+xe+"]"}if(S(K)&&(te=" "+RegExp.prototype.toString.call(K)),q(K)&&(te=" "+Date.prototype.toUTCString.call(K)),D(K)&&(te=" "+m(K)),j.length===0&&(!Y||K.length==0))return re[0]+te+re[1];if(Q<0)return S(K)?O.stylize(RegExp.prototype.toString.call(K),"regexp"):O.stylize("[Object]","special");O.seen.push(K);var V;return Y?V=h(O,K,Q,B,j):V=j.map(function(X){return E(O,K,Q,B,X,Y)}),O.seen.pop(),b(V,te,re)}function f(O,K){if(A(K))return O.stylize("undefined","undefined");if(L(K)){var Q="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(Q,"string")}if(y(K))return O.stylize(""+K,"number");if(d(K))return O.stylize(""+K,"boolean");if(w(K))return O.stylize("null","null")}function m(O){return"["+Error.prototype.toString.call(O)+"]"}function h(O,K,Q,ue,ee){for(var j=[],B=0,ne=K.length;B<ne;++B)ae(K,String(B))?j.push(E(O,K,Q,ue,String(B),!0)):j.push("");return ee.forEach(function(te){te.match(/^\d+$/)||j.push(E(O,K,Q,ue,te,!0))}),j}function E(O,K,Q,ue,ee,j){var B,ne,te;if(te=Object.getOwnPropertyDescriptor(K,ee)||{value:K[ee]},te.get?te.set?ne=O.stylize("[Getter/Setter]","special"):ne=O.stylize("[Getter]","special"):te.set&&(ne=O.stylize("[Setter]","special")),ae(ue,ee)||(B="["+ee+"]"),ne||(O.seen.indexOf(te.value)<0?(w(Q)?ne=c(O,te.value,null):ne=c(O,te.value,Q-1),ne.indexOf(`
`)>-1&&(j?ne=ne.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):ne=O.stylize("[Circular]","special")),A(B)){if(j&&ee.match(/^\d+$/))return ne;B=JSON.stringify(""+ee),B.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.slice(1,-1),B=O.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=O.stylize(B,"string"))}return B+": "+ne}function b(O,K,Q){var ue=O.reduce(function(ee,j){return j.indexOf(`
`)>=0,ee+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?Q[0]+(K===""?"":K+`
 `)+" "+O.join(`,
  `)+" "+Q[1]:Q[0]+K+" "+O.join(", ")+" "+Q[1]}t.types=Tq();function T(O){return Array.isArray(O)}t.isArray=T;function d(O){return typeof O=="boolean"}t.isBoolean=d;function w(O){return O===null}t.isNull=w;function v(O){return O==null}t.isNullOrUndefined=v;function y(O){return typeof O=="number"}t.isNumber=y;function L(O){return typeof O=="string"}t.isString=L;function W(O){return typeof O=="symbol"}t.isSymbol=W;function A(O){return O===void 0}t.isUndefined=A;function S(O){return _(O)&&C(O)==="[object RegExp]"}t.isRegExp=S,t.types.isRegExp=S;function _(O){return typeof O=="object"&&O!==null}t.isObject=_;function q(O){return _(O)&&C(O)==="[object Date]"}t.isDate=q,t.types.isDate=q;function D(O){return _(O)&&(C(O)==="[object Error]"||O instanceof Error)}t.isError=D,t.types.isNativeError=D;function I(O){return typeof O=="function"}t.isFunction=I;function P(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=P,t.isBuffer=Nq();function C(O){return Object.prototype.toString.call(O)}function oe(O){return O<10?"0"+O.toString(10):O.toString(10)}var ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var O=new Date,K=[oe(O.getHours()),oe(O.getMinutes()),oe(O.getSeconds())].join(":");return[O.getDate(),ye[O.getMonth()],K].join(" ")}t.log=function(){console.log("%s - %s",se(),t.format.apply(t,arguments))},t.inherits=Wl(),t._extend=function(O,K){if(!K||!_(K))return O;for(var Q=Object.keys(K),ue=Q.length;ue--;)O[Q[ue]]=K[Q[ue]];return O};function ae(O,K){return Object.prototype.hasOwnProperty.call(O,K)}var de=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(de&&K[de]){var Q=K[de];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,de,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var ue,ee,j=new Promise(function(te,Y){ue=te,ee=Y}),B=[],ne=0;ne<arguments.length;ne++)B.push(arguments[ne]);B.push(function(te,Y){te?ee(te):ue(Y)});try{K.apply(this,B)}catch(te){ee(te)}return j}return Object.setPrototypeOf(Q,Object.getPrototypeOf(K)),de&&Object.defineProperty(Q,de,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(K))},t.promisify.custom=de;function Ae(O,K){if(!O){var Q=new Error("Promise was rejected with a falsy value");Q.reason=O,O=Q}return K(O)}function he(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var Q=[],ue=0;ue<arguments.length;ue++)Q.push(arguments[ue]);var ee=Q.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var j=this,B=function(){return ee.apply(j,arguments)};O.apply(this,Q).then(function(ne){Vt.nextTick(B.bind(null,null,ne))},function(ne){Vt.nextTick(Ae.bind(null,ne,B))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(O)),Object.defineProperties(K,e(O)),K}t.callbackify=he}(z0)),z0}var By,JA;function Iq(){if(JA)return By;JA=1;function t(m,h){var E=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);h&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),E.push.apply(E,b)}return E}function e(m){for(var h=1;h<arguments.length;h++){var E=arguments[h]!=null?arguments[h]:{};h%2?t(Object(E),!0).forEach(function(b){r(m,b,E[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(E,b))})}return m}function r(m,h,E){return h in m?Object.defineProperty(m,h,{value:E,enumerable:!0,configurable:!0,writable:!0}):m[h]=E,m}function n(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){for(var E=0;E<h.length;E++){var b=h[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function s(m,h,E){return h&&i(m.prototype,h),m}var o=N1(),a=o.Buffer,l=KC(),u=l.inspect,c=u&&u.custom||"inspect";function f(m,h,E){a.prototype.copy.call(m,h,E)}return By=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return s(m,[{key:"push",value:function(E){var b={data:E,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(E){var b={data:E,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var b=this.head,T=""+b.data;b=b.next;)T+=E+b.data;return T}},{key:"concat",value:function(E){if(this.length===0)return a.alloc(0);for(var b=a.allocUnsafe(E>>>0),T=this.head,d=0;T;)f(T.data,b,d),d+=T.data.length,T=T.next;return b}},{key:"consume",value:function(E,b){var T;return E<this.head.data.length?(T=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?T=this.shift():T=b?this._getString(E):this._getBuffer(E),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var b=this.head,T=1,d=b.data;for(E-=d.length;b=b.next;){var w=b.data,v=E>w.length?w.length:E;if(v===w.length?d+=w:d+=w.slice(0,E),E-=v,E===0){v===w.length?(++T,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=w.slice(v));break}++T}return this.length-=T,d}},{key:"_getBuffer",value:function(E){var b=a.allocUnsafe(E),T=this.head,d=1;for(T.data.copy(b),E-=T.data.length;T=T.next;){var w=T.data,v=E>w.length?w.length:E;if(w.copy(b,b.length-E,0,v),E-=v,E===0){v===w.length?(++d,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=w.slice(v));break}++d}return this.length-=d,b}},{key:c,value:function(E,b){return u(this,e({},b,{depth:0,customInspect:!1}))}}]),m}(),By}var Uy,ZA;function XC(){if(ZA)return Uy;ZA=1;function t(o,a){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Vt.nextTick(i,this,o)):Vt.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!a&&f?l._writableState?l._writableState.errorEmitted?Vt.nextTick(r,l):(l._writableState.errorEmitted=!0,Vt.nextTick(e,l,f)):Vt.nextTick(e,l,f):a?(Vt.nextTick(r,l),a(f)):Vt.nextTick(r,l)}),this)}function e(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(a):o.emit("error",a)}return Uy={destroy:t,undestroy:n,errorOrDestroy:s},Uy}var Vy={},e3;function Bh(){if(e3)return Vy;e3=1;function t(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var e={};function r(a,l,u){u||(u=Error);function c(m,h,E){return typeof l=="string"?l:l(m,h,E)}var f=function(m){t(h,m);function h(E,b,T){return m.call(this,c(E,b,T))||this}return h}(u);f.prototype.name=u.name,f.prototype.code=a,e[a]=f}function n(a,l){if(Array.isArray(a)){var u=a.length;return a=a.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,u){return a.substr(0,l.length)===l}function s(a,l,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-l.length,u)===l}function o(a,l,u){return typeof u!="number"&&(u=0),u+l.length>a.length?!1:a.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var f;if(s(a," argument"))f="The ".concat(a," ").concat(c," ").concat(n(l,"type"));else{var m=o(a,".")?"property":"argument";f='The "'.concat(a,'" ').concat(m," ").concat(c," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Vy.codes=e,Vy}var zy,t3;function YC(){if(t3)return zy;t3=1;var t=Bh().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new t(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return zy={getHighWaterMark:r},zy}var qy,r3;function kq(){if(r3)return qy;r3=1,qy=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Io.localStorage)return!1}catch{return!1}var n=Io.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return qy}var Wy,n3;function QC(){if(n3)return Wy;n3=1,Wy=S;function t(ee){var j=this;this.next=null,this.entry=null,this.finish=function(){ue(j,ee)}}var e;S.WritableState=W;var r={deprecate:kq()},n=MC(),i=N1().Buffer,s=Io.Uint8Array||function(){};function o(ee){return i.from(ee)}function a(ee){return i.isBuffer(ee)||ee instanceof s}var l=XC(),u=YC(),c=u.getHighWaterMark,f=Bh().codes,m=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,E=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,T=f.ERR_STREAM_DESTROYED,d=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,y=l.errorOrDestroy;Wl()(S,n);function L(){}function W(ee,j,B){e=e||Eh(),ee=ee||{},typeof B!="boolean"&&(B=j instanceof e),this.objectMode=!!ee.objectMode,B&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=ee.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){ye(j,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}W.prototype.getBuffer=function(){for(var j=this.bufferedRequest,B=[];j;)B.push(j),j=j.next;return B},function(){try{Object.defineProperty(W.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(j){return A.call(this,j)?!0:this!==S?!1:j&&j._writableState instanceof W}})):A=function(j){return j instanceof this};function S(ee){e=e||Eh();var j=this instanceof e;if(!j&&!A.call(S,this))return new S(ee);this._writableState=new W(ee,this,j),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),n.call(this)}S.prototype.pipe=function(){y(this,new b)};function _(ee,j){var B=new w;y(ee,B),Vt.nextTick(j,B)}function q(ee,j,B,ne){var te;return B===null?te=new d:typeof B!="string"&&!j.objectMode&&(te=new m("chunk",["string","Buffer"],B)),te?(y(ee,te),Vt.nextTick(ne,te),!1):!0}S.prototype.write=function(ee,j,B){var ne=this._writableState,te=!1,Y=!ne.objectMode&&a(ee);return Y&&!i.isBuffer(ee)&&(ee=o(ee)),typeof j=="function"&&(B=j,j=null),Y?j="buffer":j||(j=ne.defaultEncoding),typeof B!="function"&&(B=L),ne.ending?_(this,B):(Y||q(this,ne,ee,B))&&(ne.pendingcb++,te=I(this,ne,Y,ee,j,B)),te},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&de(this,ee))},S.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new v(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(ee,j,B){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof j=="string"&&(j=i.from(j,B)),j}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(ee,j,B,ne,te,Y){if(!B){var re=D(j,ne,te);ne!==re&&(B=!0,te="buffer",ne=re)}var xe=j.objectMode?1:ne.length;j.length+=xe;var V=j.length<j.highWaterMark;if(V||(j.needDrain=!0),j.writing||j.corked){var X=j.lastBufferedRequest;j.lastBufferedRequest={chunk:ne,encoding:te,isBuf:B,callback:Y,next:null},X?X.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else P(ee,j,!1,xe,ne,te,Y);return V}function P(ee,j,B,ne,te,Y,re){j.writelen=ne,j.writecb=re,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new T("write")):B?ee._writev(te,j.onwrite):ee._write(te,Y,j.onwrite),j.sync=!1}function C(ee,j,B,ne,te){--j.pendingcb,B?(Vt.nextTick(te,ne),Vt.nextTick(K,ee,j),ee._writableState.errorEmitted=!0,y(ee,ne)):(te(ne),ee._writableState.errorEmitted=!0,y(ee,ne),K(ee,j))}function oe(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function ye(ee,j){var B=ee._writableState,ne=B.sync,te=B.writecb;if(typeof te!="function")throw new E;if(oe(B),j)C(ee,B,ne,j,te);else{var Y=Ae(B)||ee.destroyed;!Y&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&de(ee,B),ne?Vt.nextTick(se,ee,B,Y,te):se(ee,B,Y,te)}}function se(ee,j,B,ne){B||ae(ee,j),j.pendingcb--,ne(),K(ee,j)}function ae(ee,j){j.length===0&&j.needDrain&&(j.needDrain=!1,ee.emit("drain"))}function de(ee,j){j.bufferProcessing=!0;var B=j.bufferedRequest;if(ee._writev&&B&&B.next){var ne=j.bufferedRequestCount,te=new Array(ne),Y=j.corkedRequestsFree;Y.entry=B;for(var re=0,xe=!0;B;)te[re]=B,B.isBuf||(xe=!1),B=B.next,re+=1;te.allBuffers=xe,P(ee,j,!0,j.length,te,"",Y.finish),j.pendingcb++,j.lastBufferedRequest=null,Y.next?(j.corkedRequestsFree=Y.next,Y.next=null):j.corkedRequestsFree=new t(j),j.bufferedRequestCount=0}else{for(;B;){var V=B.chunk,X=B.encoding,H=B.callback,N=j.objectMode?1:V.length;if(P(ee,j,!1,N,V,X,H),B=B.next,j.bufferedRequestCount--,j.writing)break}B===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=B,j.bufferProcessing=!1}S.prototype._write=function(ee,j,B){B(new h("_write()"))},S.prototype._writev=null,S.prototype.end=function(ee,j,B){var ne=this._writableState;return typeof ee=="function"?(B=ee,ee=null,j=null):typeof j=="function"&&(B=j,j=null),ee!=null&&this.write(ee,j),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||Q(this,ne,B),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ae(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function he(ee,j){ee._final(function(B){j.pendingcb--,B&&y(ee,B),j.prefinished=!0,ee.emit("prefinish"),K(ee,j)})}function O(ee,j){!j.prefinished&&!j.finalCalled&&(typeof ee._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,Vt.nextTick(he,ee,j)):(j.prefinished=!0,ee.emit("prefinish")))}function K(ee,j){var B=Ae(j);if(B&&(O(ee,j),j.pendingcb===0&&(j.finished=!0,ee.emit("finish"),j.autoDestroy))){var ne=ee._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&ee.destroy()}return B}function Q(ee,j,B){j.ending=!0,K(ee,j),B&&(j.finished?Vt.nextTick(B):ee.once("finish",B)),j.ended=!0,ee.writable=!1}function ue(ee,j,B){var ne=ee.entry;for(ee.entry=null;ne;){var te=ne.callback;j.pendingcb--,te(B),ne=ne.next}j.corkedRequestsFree.next=ee}return Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(ee,j){j(ee)},Wy}var Hy,i3;function Eh(){if(i3)return Hy;i3=1;var t=Object.keys||function(u){var c=[];for(var f in u)c.push(f);return c};Hy=o;var e=JC(),r=QC();Wl()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Vt.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Hy}var $y={},Qp={exports:{}},s3;function Cq(){return s3||(s3=1,function(t,e){var r=N1(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Qp,Qp.exports)),Qp.exports}var o3;function Tw(){if(o3)return $y;o3=1;var t=Cq().Buffer,e=t.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(d){if(!d)return"utf8";for(var w;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(w)return;d=(""+d).toLowerCase(),w=!0}}function n(d){var w=r(d);if(typeof w!="string"&&(t.isEncoding===e||!e(d)))throw new Error("Unknown encoding: "+d);return w||d}$y.StringDecoder=i;function i(d){this.encoding=n(d);var w;switch(this.encoding){case"utf16le":this.text=f,this.end=m,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=h,this.end=E,w=3;break;default:this.write=b,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}i.prototype.write=function(d){if(d.length===0)return"";var w,v;if(this.lastNeed){if(w=this.fillLast(d),w===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<d.length?w?w+this.text(d,v):this.text(d,v):w||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function s(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function o(d,w,v){var y=w.length-1;if(y<v)return 0;var L=s(w[y]);return L>=0?(L>0&&(d.lastNeed=L-1),L):--y<v||L===-2?0:(L=s(w[y]),L>=0?(L>0&&(d.lastNeed=L-2),L):--y<v||L===-2?0:(L=s(w[y]),L>=0?(L>0&&(L===2?L=0:d.lastNeed=L-3),L):0))}function a(d,w,v){if((w[0]&192)!==128)return d.lastNeed=0,"";if(d.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return d.lastNeed=1,"";if(d.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return d.lastNeed=2,""}}function l(d){var w=this.lastTotal-this.lastNeed,v=a(this,d);if(v!==void 0)return v;if(this.lastNeed<=d.length)return d.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,w,0,d.length),this.lastNeed-=d.length}function u(d,w){var v=o(this,d,w);if(!this.lastNeed)return d.toString("utf8",w);this.lastTotal=v;var y=d.length-(v-this.lastNeed);return d.copy(this.lastChar,0,y),d.toString("utf8",w,y)}function c(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+"":w}function f(d,w){if((d.length-w)%2===0){var v=d.toString("utf16le",w);if(v){var y=v.charCodeAt(v.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",w,d.length-1)}function m(d){var w=d&&d.length?this.write(d):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,v)}return w}function h(d,w){var v=(d.length-w)%3;return v===0?d.toString("base64",w):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",w,d.length-v))}function E(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function b(d){return d.toString(this.encoding)}function T(d){return d&&d.length?this.write(d):""}return $y}var Gy,a3;function G_(){if(a3)return Gy;a3=1;var t=Bh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var l=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,c=function(){s.writable||m()},f=s._writableState&&s._writableState.finished,m=function(){u=!1,f=!0,l||a.call(s)},h=s._readableState&&s._readableState.endEmitted,E=function(){l=!1,h=!0,u||a.call(s)},b=function(v){a.call(s,v)},T=function(){var v;if(l&&!h)return(!s._readableState||!s._readableState.ended)&&(v=new t),a.call(s,v);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(v=new t),a.call(s,v)},d=function(){s.req.on("finish",m)};return n(s)?(s.on("complete",m),s.on("abort",T),s.req?d():s.on("request",d)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",E),s.on("finish",m),o.error!==!1&&s.on("error",b),s.on("close",T),function(){s.removeListener("complete",m),s.removeListener("abort",T),s.removeListener("request",d),s.req&&s.req.removeListener("finish",m),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",m),s.removeListener("end",E),s.removeListener("error",b),s.removeListener("close",T)}}return Gy=i,Gy}var Ky,l3;function Rq(){if(l3)return Ky;l3=1;var t;function e(d,w,v){return w in d?Object.defineProperty(d,w,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[w]=v,d}var r=G_(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(d,w){return{value:d,done:w}}function f(d){var w=d[n];if(w!==null){var v=d[u].read();v!==null&&(d[a]=null,d[n]=null,d[i]=null,w(c(v,!1)))}}function m(d){Vt.nextTick(f,d)}function h(d,w){return function(v,y){d.then(function(){if(w[o]){v(c(void 0,!0));return}w[l](v,y)},y)}}var E=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var w=this,v=this[s];if(v!==null)return Promise.reject(v);if(this[o])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(A,S){Vt.nextTick(function(){w[s]?S(w[s]):A(c(void 0,!0))})});var y=this[a],L;if(y)L=new Promise(h(y,this));else{var W=this[u].read();if(W!==null)return Promise.resolve(c(W,!1));L=new Promise(this[l])}return this[a]=L,L}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(v,y){w[u].destroy(null,function(L){if(L){y(L);return}v(c(void 0,!0))})})}),t),E),T=function(w){var v,y=Object.create(b,(v={},e(v,u,{value:w,writable:!0}),e(v,n,{value:null,writable:!0}),e(v,i,{value:null,writable:!0}),e(v,s,{value:null,writable:!0}),e(v,o,{value:w._readableState.endEmitted,writable:!0}),e(v,l,{value:function(W,A){var S=y[u].read();S?(y[a]=null,y[n]=null,y[i]=null,W(c(S,!1))):(y[n]=W,y[i]=A)},writable:!0}),v));return y[a]=null,r(w,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=y[i];W!==null&&(y[a]=null,y[n]=null,y[i]=null,W(L)),y[s]=L;return}var A=y[n];A!==null&&(y[a]=null,y[n]=null,y[i]=null,A(c(void 0,!0))),y[o]=!0}),w.on("readable",m.bind(null,y)),y};return Ky=T,Ky}var Xy,u3;function Pq(){return u3||(u3=1,Xy=function(){throw new Error("Readable.from is not available in the browser")}),Xy}var Yy,c3;function JC(){if(c3)return Yy;c3=1,Yy=_;var t;_.ReadableState=S,q_().EventEmitter;var e=function(re,xe){return re.listeners(xe).length},r=MC(),n=N1().Buffer,i=Io.Uint8Array||function(){};function s(Y){return n.from(Y)}function o(Y){return n.isBuffer(Y)||Y instanceof i}var a=KC(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var u=Iq(),c=XC(),f=YC(),m=f.getHighWaterMark,h=Bh().codes,E=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,T=h.ERR_METHOD_NOT_IMPLEMENTED,d=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,v,y;Wl()(_,r);var L=c.errorOrDestroy,W=["error","close","destroy","pause","resume"];function A(Y,re,xe){if(typeof Y.prependListener=="function")return Y.prependListener(re,xe);!Y._events||!Y._events[re]?Y.on(re,xe):Array.isArray(Y._events[re])?Y._events[re].unshift(xe):Y._events[re]=[xe,Y._events[re]]}function S(Y,re,xe){t=t||Eh(),Y=Y||{},typeof xe!="boolean"&&(xe=re instanceof t),this.objectMode=!!Y.objectMode,xe&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=m(this,Y,"readableHighWaterMark",xe),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(w||(w=Tw().StringDecoder),this.decoder=new w(Y.encoding),this.encoding=Y.encoding)}function _(Y){if(t=t||Eh(),!(this instanceof _))return new _(Y);var re=this instanceof t;this._readableState=new S(Y,this,re),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),r.call(this)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),_.prototype.destroy=c.destroy,_.prototype._undestroy=c.undestroy,_.prototype._destroy=function(Y,re){re(Y)},_.prototype.push=function(Y,re){var xe=this._readableState,V;return xe.objectMode?V=!0:typeof Y=="string"&&(re=re||xe.defaultEncoding,re!==xe.encoding&&(Y=n.from(Y,re),re=""),V=!0),q(this,Y,re,!1,V)},_.prototype.unshift=function(Y){return q(this,Y,null,!0,!1)};function q(Y,re,xe,V,X){l("readableAddChunk",re);var H=Y._readableState;if(re===null)H.reading=!1,ye(Y,H);else{var N;if(X||(N=I(H,re)),N)L(Y,N);else if(H.objectMode||re&&re.length>0)if(typeof re!="string"&&!H.objectMode&&Object.getPrototypeOf(re)!==n.prototype&&(re=s(re)),V)H.endEmitted?L(Y,new d):D(Y,H,re,!0);else if(H.ended)L(Y,new b);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!xe?(re=H.decoder.write(re),H.objectMode||re.length!==0?D(Y,H,re,!1):de(Y,H)):D(Y,H,re,!1)}else V||(H.reading=!1,de(Y,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function D(Y,re,xe,V){re.flowing&&re.length===0&&!re.sync?(re.awaitDrain=0,Y.emit("data",xe)):(re.length+=re.objectMode?1:xe.length,V?re.buffer.unshift(xe):re.buffer.push(xe),re.needReadable&&se(Y)),de(Y,re)}function I(Y,re){var xe;return!o(re)&&typeof re!="string"&&re!==void 0&&!Y.objectMode&&(xe=new E("chunk",["string","Buffer","Uint8Array"],re)),xe}_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(Y){w||(w=Tw().StringDecoder);var re=new w(Y);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var xe=this._readableState.buffer.head,V="";xe!==null;)V+=re.write(xe.data),xe=xe.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var P=1073741824;function C(Y){return Y>=P?Y=P:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function oe(Y,re){return Y<=0||re.length===0&&re.ended?0:re.objectMode?1:Y!==Y?re.flowing&&re.length?re.buffer.head.data.length:re.length:(Y>re.highWaterMark&&(re.highWaterMark=C(Y)),Y<=re.length?Y:re.ended?re.length:(re.needReadable=!0,0))}_.prototype.read=function(Y){l("read",Y),Y=parseInt(Y,10);var re=this._readableState,xe=Y;if(Y!==0&&(re.emittedReadable=!1),Y===0&&re.needReadable&&((re.highWaterMark!==0?re.length>=re.highWaterMark:re.length>0)||re.ended))return l("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?B(this):se(this),null;if(Y=oe(Y,re),Y===0&&re.ended)return re.length===0&&B(this),null;var V=re.needReadable;l("need readable",V),(re.length===0||re.length-Y<re.highWaterMark)&&(V=!0,l("length less than watermark",V)),re.ended||re.reading?(V=!1,l("reading or ended",V)):V&&(l("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(Y=oe(xe,re)));var X;return Y>0?X=j(Y,re):X=null,X===null?(re.needReadable=re.length<=re.highWaterMark,Y=0):(re.length-=Y,re.awaitDrain=0),re.length===0&&(re.ended||(re.needReadable=!0),xe!==Y&&re.ended&&B(this)),X!==null&&this.emit("data",X),X};function ye(Y,re){if(l("onEofChunk"),!re.ended){if(re.decoder){var xe=re.decoder.end();xe&&xe.length&&(re.buffer.push(xe),re.length+=re.objectMode?1:xe.length)}re.ended=!0,re.sync?se(Y):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,ae(Y)))}}function se(Y){var re=Y._readableState;l("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(l("emitReadable",re.flowing),re.emittedReadable=!0,Vt.nextTick(ae,Y))}function ae(Y){var re=Y._readableState;l("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(Y.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,ee(Y)}function de(Y,re){re.readingMore||(re.readingMore=!0,Vt.nextTick(Ae,Y,re))}function Ae(Y,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&re.length===0);){var xe=re.length;if(l("maybeReadMore read 0"),Y.read(0),xe===re.length)break}re.readingMore=!1}_.prototype._read=function(Y){L(this,new T("_read()"))},_.prototype.pipe=function(Y,re){var xe=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=Y;break;case 1:V.pipes=[V.pipes,Y];break;default:V.pipes.push(Y);break}V.pipesCount+=1,l("pipe count=%d opts=%j",V.pipesCount,re);var X=(!re||re.end!==!1)&&Y!==Vt.stdout&&Y!==Vt.stderr,H=X?k:Be;V.endEmitted?Vt.nextTick(H):xe.once("end",H),Y.on("unpipe",N);function N(Ke,Ze){l("onunpipe"),Ke===xe&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,ve())}function k(){l("onend"),Y.end()}var F=he(xe);Y.on("drain",F);var ce=!1;function ve(){l("cleanup"),Y.removeListener("close",De),Y.removeListener("finish",Re),Y.removeListener("drain",F),Y.removeListener("error",Te),Y.removeListener("unpipe",N),xe.removeListener("end",k),xe.removeListener("end",Be),xe.removeListener("data",me),ce=!0,V.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&F()}xe.on("data",me);function me(Ke){l("ondata");var Ze=Y.write(Ke);l("dest.write",Ze),Ze===!1&&((V.pipesCount===1&&V.pipes===Y||V.pipesCount>1&&te(V.pipes,Y)!==-1)&&!ce&&(l("false write response, pause",V.awaitDrain),V.awaitDrain++),xe.pause())}function Te(Ke){l("onerror",Ke),Be(),Y.removeListener("error",Te),e(Y,"error")===0&&L(Y,Ke)}A(Y,"error",Te);function De(){Y.removeListener("finish",Re),Be()}Y.once("close",De);function Re(){l("onfinish"),Y.removeListener("close",De),Be()}Y.once("finish",Re);function Be(){l("unpipe"),xe.unpipe(Y)}return Y.emit("pipe",xe),V.flowing||(l("pipe resume"),xe.resume()),Y};function he(Y){return function(){var xe=Y._readableState;l("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&e(Y,"data")&&(xe.flowing=!0,ee(Y))}}_.prototype.unpipe=function(Y){var re=this._readableState,xe={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return Y&&Y!==re.pipes?this:(Y||(Y=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,Y&&Y.emit("unpipe",this,xe),this);if(!Y){var V=re.pipes,X=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var H=0;H<X;H++)V[H].emit("unpipe",this,{hasUnpiped:!1});return this}var N=te(re.pipes,Y);return N===-1?this:(re.pipes.splice(N,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),Y.emit("unpipe",this,xe),this)},_.prototype.on=function(Y,re){var xe=r.prototype.on.call(this,Y,re),V=this._readableState;return Y==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):Y==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,l("on readable",V.length,V.reading),V.length?se(this):V.reading||Vt.nextTick(K,this)),xe},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(Y,re){var xe=r.prototype.removeListener.call(this,Y,re);return Y==="readable"&&Vt.nextTick(O,this),xe},_.prototype.removeAllListeners=function(Y){var re=r.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&Vt.nextTick(O,this),re};function O(Y){var re=Y._readableState;re.readableListening=Y.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function K(Y){l("readable nexttick read 0"),Y.read(0)}_.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(l("resume"),Y.flowing=!Y.readableListening,Q(this,Y)),Y.paused=!1,this};function Q(Y,re){re.resumeScheduled||(re.resumeScheduled=!0,Vt.nextTick(ue,Y,re))}function ue(Y,re){l("resume",re.reading),re.reading||Y.read(0),re.resumeScheduled=!1,Y.emit("resume"),ee(Y),re.flowing&&!re.reading&&Y.read(0)}_.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(Y){var re=Y._readableState;for(l("flow",re.flowing);re.flowing&&Y.read()!==null;);}_.prototype.wrap=function(Y){var re=this,xe=this._readableState,V=!1;Y.on("end",function(){if(l("wrapped end"),xe.decoder&&!xe.ended){var N=xe.decoder.end();N&&N.length&&re.push(N)}re.push(null)}),Y.on("data",function(N){if(l("wrapped data"),xe.decoder&&(N=xe.decoder.write(N)),!(xe.objectMode&&N==null)&&!(!xe.objectMode&&(!N||!N.length))){var k=re.push(N);k||(V=!0,Y.pause())}});for(var X in Y)this[X]===void 0&&typeof Y[X]=="function"&&(this[X]=function(k){return function(){return Y[k].apply(Y,arguments)}}(X));for(var H=0;H<W.length;H++)Y.on(W[H],this.emit.bind(this,W[H]));return this._read=function(N){l("wrapped _read",N),V&&(V=!1,Y.resume())},this},typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=Rq()),v(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),_._fromList=j,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(Y,re){if(re.length===0)return null;var xe;return re.objectMode?xe=re.buffer.shift():!Y||Y>=re.length?(re.decoder?xe=re.buffer.join(""):re.buffer.length===1?xe=re.buffer.first():xe=re.buffer.concat(re.length),re.buffer.clear()):xe=re.buffer.consume(Y,re.decoder),xe}function B(Y){var re=Y._readableState;l("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,Vt.nextTick(ne,re,Y))}function ne(Y,re){if(l("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,re.readable=!1,re.emit("end"),Y.autoDestroy)){var xe=re._writableState;(!xe||xe.autoDestroy&&xe.finished)&&re.destroy()}}typeof Symbol=="function"&&(_.from=function(Y,re){return y===void 0&&(y=Pq()),y(_,Y,re)});function te(Y,re){for(var xe=0,V=Y.length;xe<V;xe++)if(Y[xe]===re)return xe;return-1}return Yy}var Qy,h3;function ZC(){if(h3)return Qy;h3=1,Qy=a;var t=Bh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Eh();Wl()(a,s);function o(c,f){var m=this._transformState;m.transforming=!1;var h=m.writecb;if(h===null)return this.emit("error",new r);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),h(c);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function a(c){if(!(this instanceof a))return new a(c);s.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){u(c,f,m)}):u(this,null,null)}a.prototype.push=function(c,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,f)},a.prototype._transform=function(c,f,m){m(new e("_transform()"))},a.prototype._write=function(c,f,m){var h=this._transformState;if(h.writecb=m,h.writechunk=c,h.writeencoding=f,!h.transforming){var E=this._readableState;(h.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},a.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(c,f){s.prototype._destroy.call(this,c,function(m){f(m)})};function u(c,f,m){if(f)return c.emit("error",f);if(m!=null&&c.push(m),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return Qy}var Jy,f3;function Lq(){if(f3)return Jy;f3=1,Jy=e;var t=ZC();Wl()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},Jy}var Zy,d3;function Oq(){if(d3)return Zy;d3=1;var t;function e(m){var h=!1;return function(){h||(h=!0,m.apply(void 0,arguments))}}var r=Bh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(m){if(m)throw m}function o(m){return m.setHeader&&typeof m.abort=="function"}function a(m,h,E,b){b=e(b);var T=!1;m.on("close",function(){T=!0}),t===void 0&&(t=G_()),t(m,{readable:h,writable:E},function(w){if(w)return b(w);T=!0,b()});var d=!1;return function(w){if(!T&&!d){if(d=!0,o(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();b(w||new i("pipe"))}}}function l(m){m()}function u(m,h){return m.pipe(h)}function c(m){return!m.length||typeof m[m.length-1]!="function"?s:m.pop()}function f(){for(var m=arguments.length,h=new Array(m),E=0;E<m;E++)h[E]=arguments[E];var b=c(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var T,d=h.map(function(w,v){var y=v<h.length-1,L=v>0;return a(w,y,L,function(W){T||(T=W),W&&d.forEach(l),!y&&(d.forEach(l),b(T))})});return h.reduce(u)}return Zy=f,Zy}var ev,p3;function K_(){if(p3)return ev;p3=1,ev=r;var t=q_().EventEmitter,e=Wl();e(r,t),r.Readable=JC(),r.Writable=QC(),r.Duplex=Eh(),r.Transform=ZC(),r.PassThrough=Lq(),r.finished=G_(),r.pipeline=Oq(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function o(h){n.writable&&n.write(h)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(m(),t.listenerCount(this,"error")===0)throw h}s.on("error",f),n.on("error",f);function m(){s.removeListener("data",o),n.removeListener("drain",a),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",f),n.removeListener("error",f),s.removeListener("end",m),s.removeListener("close",m),n.removeListener("close",m)}return s.on("end",m),s.on("close",m),n.on("close",m),n.emit("pipe",s),n},ev}var m3;function Dq(){return m3||(m3=1,function(t){(function(e){e.parser=function(j,B){return new n(j,B)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(j,B){if(!(this instanceof n))return new n(j,B);var ne=this;s(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=B||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!j,ne.noscript=!!(j||ne.opt.noscript),ne.state=_.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(b)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),D(ne,"onready")}Object.create||(Object.create=function(j){function B(){}B.prototype=j;var ne=new B;return ne}),Object.keys||(Object.keys=function(j){var B=[];for(var ne in j)j.hasOwnProperty(ne)&&B.push(ne);return B});function i(j){for(var B=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,te=0,Y=r.length;te<Y;te++){var re=j[r[te]].length;if(re>B)switch(r[te]){case"textNode":P(j);break;case"cdata":I(j,"oncdata",j.cdata),j.cdata="";break;case"script":I(j,"onscript",j.script),j.script="";break;default:oe(j,"Max buffer length exceeded: "+r[te])}ne=Math.max(ne,re)}var xe=e.MAX_BUFFER_LENGTH-ne;j.bufferCheckPosition=xe+j.position}function s(j){for(var B=0,ne=r.length;B<ne;B++)j[r[B]]=""}function o(j){P(j),j.cdata!==""&&(I(j,"oncdata",j.cdata),j.cdata=""),j.script!==""&&(I(j,"onscript",j.script),j.script="")}n.prototype={end:function(){ye(this)},write:ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=K_().Stream}catch{a=function(){}}var l=e.EVENTS.filter(function(j){return j!=="error"&&j!=="end"});function u(j,B){return new c(j,B)}function c(j,B){if(!(this instanceof c))return new c(j,B);a.apply(this),this._parser=new n(j,B),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(te){ne.emit("error",te),ne._parser.error=null},this._decoder=null,l.forEach(function(te){Object.defineProperty(ne,"on"+te,{get:function(){return ne._parser["on"+te]},set:function(Y){if(!Y)return ne.removeAllListeners(te),ne._parser["on"+te]=Y,Y;ne.on(te,Y)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(j){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(j)){if(!this._decoder){var B=Tw().StringDecoder;this._decoder=new B("utf8")}j=this._decoder.write(j)}return this._parser.write(j.toString()),this.emit("data",j),!0},c.prototype.end=function(j){return j&&j.length&&this.write(j),this._parser.end(),!0},c.prototype.on=function(j,B){var ne=this;return!ne._parser["on"+j]&&l.indexOf(j)!==-1&&(ne._parser["on"+j]=function(){var te=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);te.splice(0,0,j),ne.emit.apply(ne,te)}),a.prototype.on.call(ne,j,B)};var f="[CDATA[",m="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",b={xml:h,xmlns:E},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(j){return j===" "||j===`
`||j==="\r"||j==="	"}function L(j){return j==='"'||j==="'"}function W(j){return j===">"||y(j)}function A(j,B){return j.test(B)}function S(j,B){return!A(j,B)}var _=0;e.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(j){var B=e.ENTITIES[j],ne=typeof B=="number"?String.fromCharCode(B):B;e.ENTITIES[j]=ne});for(var q in e.STATE)e.STATE[e.STATE[q]]=q;_=e.STATE;function D(j,B,ne){j[B]&&j[B](ne)}function I(j,B,ne){j.textNode&&P(j),D(j,B,ne)}function P(j){j.textNode=C(j.opt,j.textNode),j.textNode&&D(j,"ontext",j.textNode),j.textNode=""}function C(j,B){return j.trim&&(B=B.trim()),j.normalize&&(B=B.replace(/\s+/g," ")),B}function oe(j,B){return P(j),j.trackPosition&&(B+=`
Line: `+j.line+`
Column: `+j.column+`
Char: `+j.c),B=new Error(B),j.error=B,D(j,"onerror",B),j}function ye(j){return j.sawRoot&&!j.closedRoot&&se(j,"Unclosed root tag"),j.state!==_.BEGIN&&j.state!==_.BEGIN_WHITESPACE&&j.state!==_.TEXT&&oe(j,"Unexpected end"),P(j),j.c="",j.closed=!0,D(j,"onend"),n.call(j,j.strict,j.opt),j}function se(j,B){if(typeof j!="object"||!(j instanceof n))throw new Error("bad call to strictFail");j.strict&&oe(j,B)}function ae(j){j.strict||(j.tagName=j.tagName[j.looseCase]());var B=j.tags[j.tags.length-1]||j,ne=j.tag={name:j.tagName,attributes:{}};j.opt.xmlns&&(ne.ns=B.ns),j.attribList.length=0,I(j,"onopentagstart",ne)}function de(j,B){var ne=j.indexOf(":"),te=ne<0?["",j]:j.split(":"),Y=te[0],re=te[1];return B&&j==="xmlns"&&(Y="xmlns",re=""),{prefix:Y,local:re}}function Ae(j){if(j.strict||(j.attribName=j.attribName[j.looseCase]()),j.attribList.indexOf(j.attribName)!==-1||j.tag.attributes.hasOwnProperty(j.attribName)){j.attribName=j.attribValue="";return}if(j.opt.xmlns){var B=de(j.attribName,!0),ne=B.prefix,te=B.local;if(ne==="xmlns")if(te==="xml"&&j.attribValue!==h)se(j,"xml: prefix must be bound to "+h+`
Actual: `+j.attribValue);else if(te==="xmlns"&&j.attribValue!==E)se(j,"xmlns: prefix must be bound to "+E+`
Actual: `+j.attribValue);else{var Y=j.tag,re=j.tags[j.tags.length-1]||j;Y.ns===re.ns&&(Y.ns=Object.create(re.ns)),Y.ns[te]=j.attribValue}j.attribList.push([j.attribName,j.attribValue])}else j.tag.attributes[j.attribName]=j.attribValue,I(j,"onattribute",{name:j.attribName,value:j.attribValue});j.attribName=j.attribValue=""}function he(j,B){if(j.opt.xmlns){var ne=j.tag,te=de(j.tagName);ne.prefix=te.prefix,ne.local=te.local,ne.uri=ne.ns[te.prefix]||"",ne.prefix&&!ne.uri&&(se(j,"Unbound namespace prefix: "+JSON.stringify(j.tagName)),ne.uri=te.prefix);var Y=j.tags[j.tags.length-1]||j;ne.ns&&Y.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(me){I(j,"onopennamespace",{prefix:me,uri:ne.ns[me]})});for(var re=0,xe=j.attribList.length;re<xe;re++){var V=j.attribList[re],X=V[0],H=V[1],N=de(X,!0),k=N.prefix,F=N.local,ce=k===""?"":ne.ns[k]||"",ve={name:X,value:H,prefix:k,local:F,uri:ce};k&&k!=="xmlns"&&!ce&&(se(j,"Unbound namespace prefix: "+JSON.stringify(k)),ve.uri=k),j.tag.attributes[X]=ve,I(j,"onattribute",ve)}j.attribList.length=0}j.tag.isSelfClosing=!!B,j.sawRoot=!0,j.tags.push(j.tag),I(j,"onopentag",j.tag),B||(!j.noscript&&j.tagName.toLowerCase()==="script"?j.state=_.SCRIPT:j.state=_.TEXT,j.tag=null,j.tagName=""),j.attribName=j.attribValue="",j.attribList.length=0}function O(j){if(!j.tagName){se(j,"Weird empty close tag."),j.textNode+="</>",j.state=_.TEXT;return}if(j.script){if(j.tagName!=="script"){j.script+="</"+j.tagName+">",j.tagName="",j.state=_.SCRIPT;return}I(j,"onscript",j.script),j.script=""}var B=j.tags.length,ne=j.tagName;j.strict||(ne=ne[j.looseCase]());for(var te=ne;B--;){var Y=j.tags[B];if(Y.name!==te)se(j,"Unexpected close tag");else break}if(B<0){se(j,"Unmatched closing tag: "+j.tagName),j.textNode+="</"+j.tagName+">",j.state=_.TEXT;return}j.tagName=ne;for(var re=j.tags.length;re-- >B;){var xe=j.tag=j.tags.pop();j.tagName=j.tag.name,I(j,"onclosetag",j.tagName);var V={};for(var X in xe.ns)V[X]=xe.ns[X];var H=j.tags[j.tags.length-1]||j;j.opt.xmlns&&xe.ns!==H.ns&&Object.keys(xe.ns).forEach(function(N){var k=xe.ns[N];I(j,"onclosenamespace",{prefix:N,uri:k})})}B===0&&(j.closedRoot=!0),j.tagName=j.attribValue=j.attribName="",j.attribList.length=0,j.state=_.TEXT}function K(j){var B=j.entity,ne=B.toLowerCase(),te,Y="";return j.ENTITIES[B]?j.ENTITIES[B]:j.ENTITIES[ne]?j.ENTITIES[ne]:(B=ne,B.charAt(0)==="#"&&(B.charAt(1)==="x"?(B=B.slice(2),te=parseInt(B,16),Y=te.toString(16)):(B=B.slice(1),te=parseInt(B,10),Y=te.toString(10))),B=B.replace(/^0+/,""),isNaN(te)||Y.toLowerCase()!==B?(se(j,"Invalid character entity"),"&"+j.entity+";"):String.fromCodePoint(te))}function Q(j,B){B==="<"?(j.state=_.OPEN_WAKA,j.startTagPosition=j.position):y(B)||(se(j,"Non-whitespace before first tag."),j.textNode=B,j.state=_.TEXT)}function ue(j,B){var ne="";return B<j.length&&(ne=j.charAt(B)),ne}function ee(j){var B=this;if(this.error)throw this.error;if(B.closed)return oe(B,"Cannot write after close. Assign an onready handler.");if(j===null)return ye(B);typeof j=="object"&&(j=j.toString());for(var ne=0,te="";te=ue(j,ne++),B.c=te,!!te;)switch(B.trackPosition&&(B.position++,te===`
`?(B.line++,B.column=0):B.column++),B.state){case _.BEGIN:if(B.state=_.BEGIN_WHITESPACE,te==="\uFEFF")continue;Q(B,te);continue;case _.BEGIN_WHITESPACE:Q(B,te);continue;case _.TEXT:if(B.sawRoot&&!B.closedRoot){for(var Y=ne-1;te&&te!=="<"&&te!=="&";)te=ue(j,ne++),te&&B.trackPosition&&(B.position++,te===`
`?(B.line++,B.column=0):B.column++);B.textNode+=j.substring(Y,ne-1)}te==="<"&&!(B.sawRoot&&B.closedRoot&&!B.strict)?(B.state=_.OPEN_WAKA,B.startTagPosition=B.position):(!y(te)&&(!B.sawRoot||B.closedRoot)&&se(B,"Text data outside of root node."),te==="&"?B.state=_.TEXT_ENTITY:B.textNode+=te);continue;case _.SCRIPT:te==="<"?B.state=_.SCRIPT_ENDING:B.script+=te;continue;case _.SCRIPT_ENDING:te==="/"?B.state=_.CLOSE_TAG:(B.script+="<"+te,B.state=_.SCRIPT);continue;case _.OPEN_WAKA:if(te==="!")B.state=_.SGML_DECL,B.sgmlDecl="";else if(!y(te))if(A(T,te))B.state=_.OPEN_TAG,B.tagName=te;else if(te==="/")B.state=_.CLOSE_TAG,B.tagName="";else if(te==="?")B.state=_.PROC_INST,B.procInstName=B.procInstBody="";else{if(se(B,"Unencoded <"),B.startTagPosition+1<B.position){var re=B.position-B.startTagPosition;te=new Array(re).join(" ")+te}B.textNode+="<"+te,B.state=_.TEXT}continue;case _.SGML_DECL:(B.sgmlDecl+te).toUpperCase()===f?(I(B,"onopencdata"),B.state=_.CDATA,B.sgmlDecl="",B.cdata=""):B.sgmlDecl+te==="--"?(B.state=_.COMMENT,B.comment="",B.sgmlDecl=""):(B.sgmlDecl+te).toUpperCase()===m?(B.state=_.DOCTYPE,(B.doctype||B.sawRoot)&&se(B,"Inappropriately located doctype declaration"),B.doctype="",B.sgmlDecl=""):te===">"?(I(B,"onsgmldeclaration",B.sgmlDecl),B.sgmlDecl="",B.state=_.TEXT):(L(te)&&(B.state=_.SGML_DECL_QUOTED),B.sgmlDecl+=te);continue;case _.SGML_DECL_QUOTED:te===B.q&&(B.state=_.SGML_DECL,B.q=""),B.sgmlDecl+=te;continue;case _.DOCTYPE:te===">"?(B.state=_.TEXT,I(B,"ondoctype",B.doctype),B.doctype=!0):(B.doctype+=te,te==="["?B.state=_.DOCTYPE_DTD:L(te)&&(B.state=_.DOCTYPE_QUOTED,B.q=te));continue;case _.DOCTYPE_QUOTED:B.doctype+=te,te===B.q&&(B.q="",B.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:B.doctype+=te,te==="]"?B.state=_.DOCTYPE:L(te)&&(B.state=_.DOCTYPE_DTD_QUOTED,B.q=te);continue;case _.DOCTYPE_DTD_QUOTED:B.doctype+=te,te===B.q&&(B.state=_.DOCTYPE_DTD,B.q="");continue;case _.COMMENT:te==="-"?B.state=_.COMMENT_ENDING:B.comment+=te;continue;case _.COMMENT_ENDING:te==="-"?(B.state=_.COMMENT_ENDED,B.comment=C(B.opt,B.comment),B.comment&&I(B,"oncomment",B.comment),B.comment=""):(B.comment+="-"+te,B.state=_.COMMENT);continue;case _.COMMENT_ENDED:te!==">"?(se(B,"Malformed comment"),B.comment+="--"+te,B.state=_.COMMENT):B.state=_.TEXT;continue;case _.CDATA:te==="]"?B.state=_.CDATA_ENDING:B.cdata+=te;continue;case _.CDATA_ENDING:te==="]"?B.state=_.CDATA_ENDING_2:(B.cdata+="]"+te,B.state=_.CDATA);continue;case _.CDATA_ENDING_2:te===">"?(B.cdata&&I(B,"oncdata",B.cdata),I(B,"onclosecdata"),B.cdata="",B.state=_.TEXT):te==="]"?B.cdata+="]":(B.cdata+="]]"+te,B.state=_.CDATA);continue;case _.PROC_INST:te==="?"?B.state=_.PROC_INST_ENDING:y(te)?B.state=_.PROC_INST_BODY:B.procInstName+=te;continue;case _.PROC_INST_BODY:if(!B.procInstBody&&y(te))continue;te==="?"?B.state=_.PROC_INST_ENDING:B.procInstBody+=te;continue;case _.PROC_INST_ENDING:te===">"?(I(B,"onprocessinginstruction",{name:B.procInstName,body:B.procInstBody}),B.procInstName=B.procInstBody="",B.state=_.TEXT):(B.procInstBody+="?"+te,B.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:A(d,te)?B.tagName+=te:(ae(B),te===">"?he(B):te==="/"?B.state=_.OPEN_TAG_SLASH:(y(te)||se(B,"Invalid character in tag name"),B.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:te===">"?(he(B,!0),O(B)):(se(B,"Forward-slash in opening tag not followed by >"),B.state=_.ATTRIB);continue;case _.ATTRIB:if(y(te))continue;te===">"?he(B):te==="/"?B.state=_.OPEN_TAG_SLASH:A(T,te)?(B.attribName=te,B.attribValue="",B.state=_.ATTRIB_NAME):se(B,"Invalid attribute name");continue;case _.ATTRIB_NAME:te==="="?B.state=_.ATTRIB_VALUE:te===">"?(se(B,"Attribute without value"),B.attribValue=B.attribName,Ae(B),he(B)):y(te)?B.state=_.ATTRIB_NAME_SAW_WHITE:A(d,te)?B.attribName+=te:se(B,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if(te==="=")B.state=_.ATTRIB_VALUE;else{if(y(te))continue;se(B,"Attribute without value"),B.tag.attributes[B.attribName]="",B.attribValue="",I(B,"onattribute",{name:B.attribName,value:""}),B.attribName="",te===">"?he(B):A(T,te)?(B.attribName=te,B.state=_.ATTRIB_NAME):(se(B,"Invalid attribute name"),B.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(y(te))continue;L(te)?(B.q=te,B.state=_.ATTRIB_VALUE_QUOTED):(se(B,"Unquoted attribute value"),B.state=_.ATTRIB_VALUE_UNQUOTED,B.attribValue=te);continue;case _.ATTRIB_VALUE_QUOTED:if(te!==B.q){te==="&"?B.state=_.ATTRIB_VALUE_ENTITY_Q:B.attribValue+=te;continue}Ae(B),B.q="",B.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:y(te)?B.state=_.ATTRIB:te===">"?he(B):te==="/"?B.state=_.OPEN_TAG_SLASH:A(T,te)?(se(B,"No whitespace between attributes"),B.attribName=te,B.attribValue="",B.state=_.ATTRIB_NAME):se(B,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!W(te)){te==="&"?B.state=_.ATTRIB_VALUE_ENTITY_U:B.attribValue+=te;continue}Ae(B),te===">"?he(B):B.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(B.tagName)te===">"?O(B):A(d,te)?B.tagName+=te:B.script?(B.script+="</"+B.tagName,B.tagName="",B.state=_.SCRIPT):(y(te)||se(B,"Invalid tagname in closing tag"),B.state=_.CLOSE_TAG_SAW_WHITE);else{if(y(te))continue;S(T,te)?B.script?(B.script+="</"+te,B.state=_.SCRIPT):se(B,"Invalid tagname in closing tag."):B.tagName=te}continue;case _.CLOSE_TAG_SAW_WHITE:if(y(te))continue;te===">"?O(B):se(B,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var xe,V;switch(B.state){case _.TEXT_ENTITY:xe=_.TEXT,V="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:xe=_.ATTRIB_VALUE_QUOTED,V="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:xe=_.ATTRIB_VALUE_UNQUOTED,V="attribValue";break}te===";"?(B[V]+=K(B),B.entity="",B.state=xe):A(B.entity.length?v:w,te)?B.entity+=te:(se(B,"Invalid character in entity name"),B[V]+="&"+B.entity+te,B.entity="",B.state=xe);continue;default:throw new Error(B,"Unknown state: "+B.state)}return B.position>=B.bufferCheckPosition&&i(B),B}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var j=String.fromCharCode,B=Math.floor,ne=function(){var te=16384,Y=[],re,xe,V=-1,X=arguments.length;if(!X)return"";for(var H="";++V<X;){var N=Number(arguments[V]);if(!isFinite(N)||N<0||N>1114111||B(N)!==N)throw RangeError("Invalid code point: "+N);N<=65535?Y.push(N):(N-=65536,re=(N>>10)+55296,xe=N%1024+56320,Y.push(re,xe)),(V+1===X||Y.length>te)&&(H+=j.apply(null,Y),Y.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(t)}(B0)),B0}var tv,g3;function X_(){return g3||(g3=1,tv={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),tv}var rv,y3;function Y_(){if(y3)return rv;y3=1;var t=X_().isArray;return rv={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},rv}var nv,v3;function eR(){if(v3)return nv;v3=1;var t=Dq(),e=Y_(),r=X_().isArray,n,i;function s(d){return n=e.copyOptions(d),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(d){var w=Number(d);if(!isNaN(w))return w;var v=d.toLowerCase();return v==="true"?!0:v==="false"?!1:d}function a(d,w){var v;if(n.compact){if(!i[n[d+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[d+"Key"])!==-1:n.alwaysArray)&&(i[n[d+"Key"]]=[]),i[n[d+"Key"]]&&!r(i[n[d+"Key"]])&&(i[n[d+"Key"]]=[i[n[d+"Key"]]]),d+"Fn"in n&&typeof w=="string"&&(w=n[d+"Fn"](w,i)),d==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(v in w)if(w.hasOwnProperty(v))if("instructionFn"in n)w[v]=n.instructionFn(w[v],v,i);else{var y=w[v];delete w[v],w[n.instructionNameFn(v,y,i)]=y}}r(i[n[d+"Key"]])?i[n[d+"Key"]].push(w):i[n[d+"Key"]]=w}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var L={};if(L[n.typeKey]=d,d==="instruction"){for(v in w)if(w.hasOwnProperty(v))break;L[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(v,w,i):v,n.instructionHasAttributes?(L[n.attributesKey]=w[v][n.attributesKey],"instructionFn"in n&&(L[n.attributesKey]=n.instructionFn(L[n.attributesKey],v,i))):("instructionFn"in n&&(w[v]=n.instructionFn(w[v],v,i)),L[n.instructionKey]=w[v])}else d+"Fn"in n&&(w=n[d+"Fn"](w,i)),L[n[d+"Key"]]=w;n.addParent&&(L[n.parentKey]=i),i[n.elementsKey].push(L)}}function l(d){if("attributesFn"in n&&d&&(d=n.attributesFn(d,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&d){var w;for(w in d)if(d.hasOwnProperty(w)&&(n.trim&&(d[w]=d[w].trim()),n.nativeTypeAttributes&&(d[w]=o(d[w])),"attributeValueFn"in n&&(d[w]=n.attributeValueFn(d[w],w,i)),"attributeNameFn"in n)){var v=d[w];delete d[w],d[n.attributeNameFn(w,d[w],i)]=v}}return d}function u(d){var w={};if(d.body&&(d.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var v=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,y;(y=v.exec(d.body))!==null;)w[y[1]]=y[2]||y[3]||y[4];w=l(w)}if(d.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(w).length&&(i[n.declarationKey][n.attributesKey]=w),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(d.body=d.body.trim());var L={};n.instructionHasAttributes&&Object.keys(w).length?(L[d.name]={},L[d.name][n.attributesKey]=w):L[d.name]=d.body,a("instruction",L)}}function c(d,w){var v;if(typeof d=="object"&&(w=d.attributes,d=d.name),w=l(w),"elementNameFn"in n&&(d=n.elementNameFn(d,i)),n.compact){if(v={},!n.ignoreAttributes&&w&&Object.keys(w).length){v[n.attributesKey]={};var y;for(y in w)w.hasOwnProperty(y)&&(v[n.attributesKey][y]=w[y])}!(d in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(d)!==-1:n.alwaysArray)&&(i[d]=[]),i[d]&&!r(i[d])&&(i[d]=[i[d]]),r(i[d])?i[d].push(v):i[d]=v}else i[n.elementsKey]||(i[n.elementsKey]=[]),v={},v[n.typeKey]="element",v[n.nameKey]=d,!n.ignoreAttributes&&w&&Object.keys(w).length&&(v[n.attributesKey]=w),n.alwaysChildren&&(v[n.elementsKey]=[]),i[n.elementsKey].push(v);v[n.parentKey]=i,i=v}function f(d){n.ignoreText||!d.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(d=d.trim()),n.nativeType&&(d=o(d)),n.sanitize&&(d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",d))}function m(d){n.ignoreComment||(n.trim&&(d=d.trim()),a("comment",d))}function h(d){var w=i[n.parentKey];n.addParent||delete i[n.parentKey],i=w}function E(d){n.ignoreCdata||(n.trim&&(d=d.trim()),a("cdata",d))}function b(d){n.ignoreDoctype||(d=d.replace(/^ /,""),n.trim&&(d=d.trim()),a("doctype",d))}function T(d){d.note=d}return nv=function(d,w){var v=t.parser(!0,{}),y={};if(i=y,n=s(w),v.opt={strictEntities:!0},v.onopentag=c,v.ontext=f,v.oncomment=m,v.onclosetag=h,v.onerror=T,v.oncdata=E,v.ondoctype=b,v.onprocessinginstruction=u,v.write(d).close(),y[n.elementsKey]){var L=y[n.elementsKey];delete y[n.elementsKey],y[n.elementsKey]=L,delete y.text}return y},nv}var iv,w3;function Fq(){if(w3)return iv;w3=1;var t=Y_(),e=eR();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return iv=function(n,i){var s,o,a,l;return s=r(i),o=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(u,c){return u===l?"_":c},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},iv}var sv,_3;function tR(){if(_3)return sv;_3=1;var t=Y_(),e=X_().isArray,r,n;function i(v){var y=t.copyOptions(v);return t.ensureFlagExists("ignoreDeclaration",y),t.ensureFlagExists("ignoreInstruction",y),t.ensureFlagExists("ignoreAttributes",y),t.ensureFlagExists("ignoreText",y),t.ensureFlagExists("ignoreComment",y),t.ensureFlagExists("ignoreCdata",y),t.ensureFlagExists("ignoreDoctype",y),t.ensureFlagExists("compact",y),t.ensureFlagExists("indentText",y),t.ensureFlagExists("indentCdata",y),t.ensureFlagExists("indentAttributes",y),t.ensureFlagExists("indentInstruction",y),t.ensureFlagExists("fullTagEmptyElement",y),t.ensureFlagExists("noQuotesForNativeAttributes",y),t.ensureSpacesExists(y),typeof y.spaces=="number"&&(y.spaces=Array(y.spaces+1).join(" ")),t.ensureKeyExists("declaration",y),t.ensureKeyExists("instruction",y),t.ensureKeyExists("attributes",y),t.ensureKeyExists("text",y),t.ensureKeyExists("comment",y),t.ensureKeyExists("cdata",y),t.ensureKeyExists("doctype",y),t.ensureKeyExists("type",y),t.ensureKeyExists("name",y),t.ensureKeyExists("elements",y),t.checkFnExists("doctype",y),t.checkFnExists("instruction",y),t.checkFnExists("cdata",y),t.checkFnExists("comment",y),t.checkFnExists("text",y),t.checkFnExists("instructionName",y),t.checkFnExists("elementName",y),t.checkFnExists("attributeName",y),t.checkFnExists("attributeValue",y),t.checkFnExists("attributes",y),t.checkFnExists("fullTagEmptyElement",y),y}function s(v,y,L){return(!L&&v.spaces?`
`:"")+Array(y+1).join(v.spaces)}function o(v,y,L){if(y.ignoreAttributes)return"";"attributesFn"in y&&(v=y.attributesFn(v,n,r));var W,A,S,_,q=[];for(W in v)v.hasOwnProperty(W)&&v[W]!==null&&v[W]!==void 0&&(_=y.noQuotesForNativeAttributes&&typeof v[W]!="string"?"":'"',A=""+v[W],A=A.replace(/"/g,"&quot;"),S="attributeNameFn"in y?y.attributeNameFn(W,A,n,r):W,q.push(y.spaces&&y.indentAttributes?s(y,L+1,!1):" "),q.push(S+"="+_+("attributeValueFn"in y?y.attributeValueFn(A,W,n,r):A)+_));return v&&Object.keys(v).length&&y.spaces&&y.indentAttributes&&q.push(s(y,L,!1)),q.join("")}function a(v,y,L){return r=v,n="xml",y.ignoreDeclaration?"":"<?xml"+o(v[y.attributesKey],y,L)+"?>"}function l(v,y,L){if(y.ignoreInstruction)return"";var W;for(W in v)if(v.hasOwnProperty(W))break;var A="instructionNameFn"in y?y.instructionNameFn(W,v[W],n,r):W;if(typeof v[W]=="object")return r=v,n=A,"<?"+A+o(v[W][y.attributesKey],y,L)+"?>";var S=v[W]?v[W]:"";return"instructionFn"in y&&(S=y.instructionFn(S,W,n,r)),"<?"+A+(S?" "+S:"")+"?>"}function u(v,y){return y.ignoreComment?"":"<!--"+("commentFn"in y?y.commentFn(v,n,r):v)+"-->"}function c(v,y){return y.ignoreCdata?"":"<![CDATA["+("cdataFn"in y?y.cdataFn(v,n,r):v.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(v,y){return y.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in y?y.doctypeFn(v,n,r):v)+">"}function m(v,y){return y.ignoreText?"":(v=""+v,v=v.replace(/&amp;/g,"&"),v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in y?y.textFn(v,n,r):v)}function h(v,y){var L;if(v.elements&&v.elements.length)for(L=0;L<v.elements.length;++L)switch(v.elements[L][y.typeKey]){case"text":if(y.indentText)return!0;break;case"cdata":if(y.indentCdata)return!0;break;case"instruction":if(y.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function E(v,y,L){r=v,n=v.name;var W=[],A="elementNameFn"in y?y.elementNameFn(v.name,v):v.name;W.push("<"+A),v[y.attributesKey]&&W.push(o(v[y.attributesKey],y,L));var S=v[y.elementsKey]&&v[y.elementsKey].length||v[y.attributesKey]&&v[y.attributesKey]["xml:space"]==="preserve";return S||("fullTagEmptyElementFn"in y?S=y.fullTagEmptyElementFn(v.name,v):S=y.fullTagEmptyElement),S?(W.push(">"),v[y.elementsKey]&&v[y.elementsKey].length&&(W.push(b(v[y.elementsKey],y,L+1)),r=v,n=v.name),W.push(y.spaces&&h(v,y)?`
`+Array(L+1).join(y.spaces):""),W.push("</"+A+">")):W.push("/>"),W.join("")}function b(v,y,L,W){return v.reduce(function(A,S){var _=s(y,L,W&&!A);switch(S.type){case"element":return A+_+E(S,y,L);case"comment":return A+_+u(S[y.commentKey],y);case"doctype":return A+_+f(S[y.doctypeKey],y);case"cdata":return A+(y.indentCdata?_:"")+c(S[y.cdataKey],y);case"text":return A+(y.indentText?_:"")+m(S[y.textKey],y);case"instruction":var q={};return q[S[y.nameKey]]=S[y.attributesKey]?S:S[y.instructionKey],A+(y.indentInstruction?_:"")+l(q,y,L)}},"")}function T(v,y,L){var W;for(W in v)if(v.hasOwnProperty(W))switch(W){case y.parentKey:case y.attributesKey:break;case y.textKey:if(y.indentText||L)return!0;break;case y.cdataKey:if(y.indentCdata||L)return!0;break;case y.instructionKey:if(y.indentInstruction||L)return!0;break;case y.doctypeKey:case y.commentKey:return!0;default:return!0}return!1}function d(v,y,L,W,A){r=v,n=y;var S="elementNameFn"in L?L.elementNameFn(y,v):y;if(typeof v>"u"||v===null||v==="")return"fullTagEmptyElementFn"in L&&L.fullTagEmptyElementFn(y,v)||L.fullTagEmptyElement?"<"+S+"></"+S+">":"<"+S+"/>";var _=[];if(y){if(_.push("<"+S),typeof v!="object")return _.push(">"+m(v,L)+"</"+S+">"),_.join("");v[L.attributesKey]&&_.push(o(v[L.attributesKey],L,W));var q=T(v,L,!0)||v[L.attributesKey]&&v[L.attributesKey]["xml:space"]==="preserve";if(q||("fullTagEmptyElementFn"in L?q=L.fullTagEmptyElementFn(y,v):q=L.fullTagEmptyElement),q)_.push(">");else return _.push("/>"),_.join("")}return _.push(w(v,L,W+1,!1)),r=v,n=y,y&&_.push((A?s(L,W,!1):"")+"</"+S+">"),_.join("")}function w(v,y,L,W){var A,S,_,q=[];for(S in v)if(v.hasOwnProperty(S))for(_=e(v[S])?v[S]:[v[S]],A=0;A<_.length;++A){switch(S){case y.declarationKey:q.push(a(_[A],y,L));break;case y.instructionKey:q.push((y.indentInstruction?s(y,L,W):"")+l(_[A],y,L));break;case y.attributesKey:case y.parentKey:break;case y.textKey:q.push((y.indentText?s(y,L,W):"")+m(_[A],y));break;case y.cdataKey:q.push((y.indentCdata?s(y,L,W):"")+c(_[A],y));break;case y.doctypeKey:q.push(s(y,L,W)+f(_[A],y));break;case y.commentKey:q.push(s(y,L,W)+u(_[A],y));break;default:q.push(s(y,L,W)+d(_[A],S,y,L,T(_[A],y)))}W=W&&!q.length}return q.join("")}return sv=function(v,y){y=i(y);var L=[];return r=v,n="_root_",y.compact?L.push(w(v,y,0,!0)):(v[y.declarationKey]&&L.push(a(v[y.declarationKey],y,0)),v[y.elementsKey]&&v[y.elementsKey].length&&L.push(b(v[y.elementsKey],y,0,!L.length))),L.join("")},sv}var ov,b3;function jq(){if(b3)return ov;b3=1;var t=tR();return ov=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},ov}var av,x3;function Mq(){if(x3)return av;x3=1;var t=eR(),e=Fq(),r=tR(),n=jq();return av={xml2js:t,xml2json:e,js2xml:r,json2xml:n},av}var rR=Mq();const Q_=t=>{switch(t.type){case void 0:case"element":const e=new Uq(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=Q_(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class Bq extends ct{}class Uq extends Me{static fromXmlString(e){const r=rR.xml2js(e,{compact:!1});return Q_(r)}constructor(e,r){super(e),r&&this.root.push(new Bq(r))}push(e){this.root.push(e)}}class Vq extends Me{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class nR extends Me{constructor(e,r){super(e),r&&(this.root=r.root)}}const Mi=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},k1=t=>{const e=Mi(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},iR=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},E3=t=>iR(t,1),sR=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},oR=t=>{const e=sR(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Ah=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return iR(e,3)},wu=t=>typeof t=="string"?sR(t):Mi(t),zq=t=>typeof t=="string"?oR(t):k1(t),Hs=t=>typeof t=="string"?oR(t):k1(t),qq=k1,Wq=k1,Hq=t=>t.toISOString();class Ge extends Me{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new an({val:r}))}}class lv extends Me{constructor(e,r){super(e),this.root.push(new an({val:zq(r)}))}}class rh extends Me{constructor(e,r){super(e),this.root.push(new an({val:r}))}}const vf=(t,e)=>new hr({name:t,attributes:{value:{key:"w:val",value:e}}});class Yf extends Me{constructor(e,r){super(e),this.root.push(new an({val:r}))}}class ou extends Me{constructor(e,r){super(e),this.root.push(r)}}class hr extends Me{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Yd(r)),n&&this.root.push(...n)}}const wo={START:"start",LEFT:"left"};class $q extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class Gq extends Me{constructor(e){super("w:jc"),this.root.push(new $q({val:e}))}}class $r extends Me{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new Kq({style:s,color:r===void 0?void 0:Ah(r),size:n===void 0?void 0:qq(n),space:i===void 0?void 0:Wq(i)}))}}class Kq extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const J_={SINGLE:"single",NONE:"none"};class Xq extends T1{constructor(e){super("w:pBdr"),e.top&&this.root.push(new $r("w:top",e.top)),e.bottom&&this.root.push(new $r("w:bottom",e.bottom)),e.left&&this.root.push(new $r("w:left",e.left)),e.right&&this.root.push(new $r("w:right",e.right))}}class Yq extends Me{constructor(){super("w:pBdr");const e=new $r("w:bottom",{color:"auto",space:1,style:J_.SINGLE,size:6});this.root.push(e)}}class Qq extends Me{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new Yd({start:{key:"w:start",value:e===void 0?void 0:wu(e)},end:{key:"w:end",value:r===void 0?void 0:wu(r)},left:{key:"w:left",value:n===void 0?void 0:wu(n)},right:{key:"w:right",value:i===void 0?void 0:wu(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Hs(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:Hs(o)}}))}}let Jq=class extends Me{constructor(){super("w:br")}};const Z_={BEGIN:"begin",END:"end",SEPARATE:"separate"};class eb extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Jp extends Me{constructor(e){super("w:fldChar"),this.root.push(new eb({type:Z_.BEGIN,dirty:e}))}}class Zp extends Me{constructor(e){super("w:fldChar"),this.root.push(new eb({type:Z_.SEPARATE,dirty:e}))}}class em extends Me{constructor(e){super("w:fldChar"),this.root.push(new eb({type:Z_.END,dirty:e}))}}const Sh={DEFAULT:"default",PRESERVE:"preserve"};class Th extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{space:"xml:space"})}}class Zq extends Me{constructor(){super("w:instrText"),this.root.push(new Th({space:Sh.PRESERVE})),this.root.push("PAGE")}}class eW extends Me{constructor(){super("w:instrText"),this.root.push(new Th({space:Sh.PRESERVE})),this.root.push("NUMPAGES")}}class tW extends Me{constructor(){super("w:instrText"),this.root.push(new Th({space:Sh.PRESERVE})),this.root.push("SECTIONPAGES")}}class rW extends Me{constructor(){super("w:instrText"),this.root.push(new Th({space:Sh.PRESERVE})),this.root.push("SECTION")}}class nW extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class aR extends Me{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new nW({fill:e===void 0?void 0:Ah(e),color:r===void 0?void 0:Ah(r),type:n}))}}class iW extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const sW={DOT:"dot"};class oW extends Me{constructor(e){super("w:em"),this.root.push(new an({val:e}))}}class aW extends oW{constructor(e=sW.DOT){super(e)}}class lW extends Me{constructor(e){super("w:spacing"),this.root.push(new an({val:wu(e)}))}}class uW extends Me{constructor(e){super("w:color"),this.root.push(new an({val:Ah(e)}))}}class cW extends Me{constructor(e){super("w:highlight"),this.root.push(new an({val:e}))}}class hW extends Me{constructor(e){super("w:highlightCs"),this.root.push(new an({val:e}))}}const fW=t=>new hr({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class A3 extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class uv extends Me{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new A3({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new A3(n))}}}let lR=class extends Me{constructor(e){super("w:vertAlign"),this.root.push(new an({val:e}))}};class dW extends lR{constructor(){super("superscript")}}class pW extends lR{constructor(){super("subscript")}}const uR={SINGLE:"single"};class mW extends Me{constructor(e=uR.SINGLE,r){super("w:u"),this.root.push(new an({val:e,color:r===void 0?void 0:Ah(r)}))}}class Xu extends T1{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new rh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new uv(e.font)):"name"in e.font?this.push(new uv(e.font.name,e.font.hint)):this.push(new uv(e.font))),e.bold!==void 0&&this.push(new Ge("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ge("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ge("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ge("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Ge("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ge("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ge("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ge("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Ge("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ge("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Ge("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Ge("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ge("w:vanish",e.vanish)),e.color&&this.push(new uW(e.color)),e.characterSpacing&&this.push(new lW(e.characterSpacing)),e.scale!==void 0&&this.push(new Yf("w:w",e.scale)),e.kern&&this.push(new lv("w:kern",e.kern)),e.position&&this.push(new rh("w:position",e.position)),e.size!==void 0&&this.push(new lv("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new lv("w:szCs",i)),e.highlight&&this.push(new cW(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new hW(s)),e.underline&&this.push(new mW(e.underline.type,e.underline.color)),e.effect&&this.push(new rh("w:effect",e.effect)),e.border&&this.push(new $r("w:bdr",e.border)),e.shading&&this.push(new aR(e.shading)),e.subScript&&this.push(new pW),e.superScript&&this.push(new dW),e.rightToLeft!==void 0&&this.push(new Ge("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new aW(e.emphasisMark.type)),e.language&&this.push(fW(e.language)),e.specVanish&&this.push(new Ge("w:specVanish",e.vanish)),e.math&&this.push(new Ge("w:oMath",e.math)),e.revision&&this.push(new gW(e.revision))}push(e){this.root.push(e)}}class gW extends Me{constructor(e){super("w:rPrChange"),this.root.push(new iW({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Xu(e))}}class S3 extends Me{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new Th({space:Sh.PRESERVE})),this.root.push(e)):(this.root.push(new Th({space:(r=e.space)!=null?r:Sh.DEFAULT})),this.root.push(e.text))}}const tm={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class ep extends Me{constructor(e){if(super("w:r"),Fe(this,"properties"),this.properties=new Xu(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new Jq);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case tm.CURRENT:this.root.push(new Jp),this.root.push(new Zq),this.root.push(new Zp),this.root.push(new em);break;case tm.TOTAL_PAGES:this.root.push(new Jp),this.root.push(new eW),this.root.push(new Zp),this.root.push(new em);break;case tm.TOTAL_PAGES_IN_SECTION:this.root.push(new Jp),this.root.push(new tW),this.root.push(new Zp),this.root.push(new em);break;case tm.CURRENT_SECTION:this.root.push(new Jp),this.root.push(new rW),this.root.push(new Zp),this.root.push(new em);break;default:this.root.push(new S3(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new S3(e.text))}}class xo extends ep{constructor(e){super(typeof e=="string"?{text:e}:e)}}var cv={},fr={},hv,T3;function tp(){if(T3)return hv;T3=1,hv=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},hv}var N3;function Vo(){if(N3)return fr;N3=1;var t=tp(),e=Wl();fr.inherits=e;function r(I,P){return(I.charCodeAt(P)&64512)!==55296||P<0||P+1>=I.length?!1:(I.charCodeAt(P+1)&64512)===56320}function n(I,P){if(Array.isArray(I))return I.slice();if(!I)return[];var C=[];if(typeof I=="string")if(P){if(P==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),ye=0;ye<I.length;ye+=2)C.push(parseInt(I[ye]+I[ye+1],16))}else for(var oe=0,ye=0;ye<I.length;ye++){var se=I.charCodeAt(ye);se<128?C[oe++]=se:se<2048?(C[oe++]=se>>6|192,C[oe++]=se&63|128):r(I,ye)?(se=65536+((se&1023)<<10)+(I.charCodeAt(++ye)&1023),C[oe++]=se>>18|240,C[oe++]=se>>12&63|128,C[oe++]=se>>6&63|128,C[oe++]=se&63|128):(C[oe++]=se>>12|224,C[oe++]=se>>6&63|128,C[oe++]=se&63|128)}else for(ye=0;ye<I.length;ye++)C[ye]=I[ye]|0;return C}fr.toArray=n;function i(I){for(var P="",C=0;C<I.length;C++)P+=a(I[C].toString(16));return P}fr.toHex=i;function s(I){var P=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return P>>>0}fr.htonl=s;function o(I,P){for(var C="",oe=0;oe<I.length;oe++){var ye=I[oe];P==="little"&&(ye=s(ye)),C+=l(ye.toString(16))}return C}fr.toHex32=o;function a(I){return I.length===1?"0"+I:I}fr.zero2=a;function l(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}fr.zero8=l;function u(I,P,C,oe){var ye=C-P;t(ye%4===0);for(var se=new Array(ye/4),ae=0,de=P;ae<se.length;ae++,de+=4){var Ae;oe==="big"?Ae=I[de]<<24|I[de+1]<<16|I[de+2]<<8|I[de+3]:Ae=I[de+3]<<24|I[de+2]<<16|I[de+1]<<8|I[de],se[ae]=Ae>>>0}return se}fr.join32=u;function c(I,P){for(var C=new Array(I.length*4),oe=0,ye=0;oe<I.length;oe++,ye+=4){var se=I[oe];P==="big"?(C[ye]=se>>>24,C[ye+1]=se>>>16&255,C[ye+2]=se>>>8&255,C[ye+3]=se&255):(C[ye+3]=se>>>24,C[ye+2]=se>>>16&255,C[ye+1]=se>>>8&255,C[ye]=se&255)}return C}fr.split32=c;function f(I,P){return I>>>P|I<<32-P}fr.rotr32=f;function m(I,P){return I<<P|I>>>32-P}fr.rotl32=m;function h(I,P){return I+P>>>0}fr.sum32=h;function E(I,P,C){return I+P+C>>>0}fr.sum32_3=E;function b(I,P,C,oe){return I+P+C+oe>>>0}fr.sum32_4=b;function T(I,P,C,oe,ye){return I+P+C+oe+ye>>>0}fr.sum32_5=T;function d(I,P,C,oe){var ye=I[P],se=I[P+1],ae=oe+se>>>0,de=(ae<oe?1:0)+C+ye;I[P]=de>>>0,I[P+1]=ae}fr.sum64=d;function w(I,P,C,oe){var ye=P+oe>>>0,se=(ye<P?1:0)+I+C;return se>>>0}fr.sum64_hi=w;function v(I,P,C,oe){var ye=P+oe;return ye>>>0}fr.sum64_lo=v;function y(I,P,C,oe,ye,se,ae,de){var Ae=0,he=P;he=he+oe>>>0,Ae+=he<P?1:0,he=he+se>>>0,Ae+=he<se?1:0,he=he+de>>>0,Ae+=he<de?1:0;var O=I+C+ye+ae+Ae;return O>>>0}fr.sum64_4_hi=y;function L(I,P,C,oe,ye,se,ae,de){var Ae=P+oe+se+de;return Ae>>>0}fr.sum64_4_lo=L;function W(I,P,C,oe,ye,se,ae,de,Ae,he){var O=0,K=P;K=K+oe>>>0,O+=K<P?1:0,K=K+se>>>0,O+=K<se?1:0,K=K+de>>>0,O+=K<de?1:0,K=K+he>>>0,O+=K<he?1:0;var Q=I+C+ye+ae+Ae+O;return Q>>>0}fr.sum64_5_hi=W;function A(I,P,C,oe,ye,se,ae,de,Ae,he){var O=P+oe+se+de+he;return O>>>0}fr.sum64_5_lo=A;function S(I,P,C){var oe=P<<32-C|I>>>C;return oe>>>0}fr.rotr64_hi=S;function _(I,P,C){var oe=I<<32-C|P>>>C;return oe>>>0}fr.rotr64_lo=_;function q(I,P,C){return I>>>C}fr.shr64_hi=q;function D(I,P,C){var oe=I<<32-C|P>>>C;return oe>>>0}return fr.shr64_lo=D,fr}var fv={},I3;function rp(){if(I3)return fv;I3=1;var t=Vo(),e=tp();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return fv.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,u=8;u<this.padLength;u++)a[l++]=0;return a},fv}var au={},yo={},k3;function cR(){if(k3)return yo;k3=1;var t=Vo(),e=t.rotr32;function r(c,f,m,h){if(c===0)return n(f,m,h);if(c===1||c===3)return s(f,m,h);if(c===2)return i(f,m,h)}yo.ft_1=r;function n(c,f,m){return c&f^~c&m}yo.ch32=n;function i(c,f,m){return c&f^c&m^f&m}yo.maj32=i;function s(c,f,m){return c^f^m}yo.p32=s;function o(c){return e(c,2)^e(c,13)^e(c,22)}yo.s0_256=o;function a(c){return e(c,6)^e(c,11)^e(c,25)}yo.s1_256=a;function l(c){return e(c,7)^e(c,18)^c>>>3}yo.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return yo.g1_256=u,yo}var dv,C3;function yW(){if(C3)return dv;C3=1;var t=Vo(),e=rp(),r=cR(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,a),dv=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,m){for(var h=this.W,E=0;E<16;E++)h[E]=f[m+E];for(;E<h.length;E++)h[E]=n(h[E-3]^h[E-8]^h[E-14]^h[E-16],1);var b=this.h[0],T=this.h[1],d=this.h[2],w=this.h[3],v=this.h[4];for(E=0;E<h.length;E++){var y=~~(E/20),L=s(n(b,5),o(y,T,d,w),v,h[E],l[y]);v=w,w=d,d=n(T,30),T=b,b=L}this.h[0]=i(this.h[0],b),this.h[1]=i(this.h[1],T),this.h[2]=i(this.h[2],d),this.h[3]=i(this.h[3],w),this.h[4]=i(this.h[4],v)},u.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},dv}var pv,R3;function hR(){if(R3)return pv;R3=1;var t=Vo(),e=rp(),r=cR(),n=tp(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,f=r.g0_256,m=r.g1_256,h=e.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}return t.inherits(b,h),pv=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(d,w){for(var v=this.W,y=0;y<16;y++)v[y]=d[w+y];for(;y<v.length;y++)v[y]=s(m(v[y-2]),v[y-7],f(v[y-15]),v[y-16]);var L=this.h[0],W=this.h[1],A=this.h[2],S=this.h[3],_=this.h[4],q=this.h[5],D=this.h[6],I=this.h[7];for(n(this.k.length===v.length),y=0;y<v.length;y++){var P=o(I,c(_),a(_,q,D),this.k[y],v[y]),C=i(u(L),l(L,W,A));I=D,D=q,q=_,_=i(S,P),S=A,A=W,W=L,L=i(P,C)}this.h[0]=i(this.h[0],L),this.h[1]=i(this.h[1],W),this.h[2]=i(this.h[2],A),this.h[3]=i(this.h[3],S),this.h[4]=i(this.h[4],_),this.h[5]=i(this.h[5],q),this.h[6]=i(this.h[6],D),this.h[7]=i(this.h[7],I)},b.prototype._digest=function(d){return d==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},pv}var mv,P3;function vW(){if(P3)return mv;P3=1;var t=Vo(),e=hR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),mv=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},mv}var gv,L3;function fR(){if(L3)return gv;L3=1;var t=Vo(),e=rp(),r=tp(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,m=t.sum64_5_hi,h=t.sum64_5_lo,E=e.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}t.inherits(T,E),gv=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(C,oe){for(var ye=this.W,se=0;se<32;se++)ye[se]=C[oe+se];for(;se<ye.length;se+=2){var ae=D(ye[se-4],ye[se-3]),de=I(ye[se-4],ye[se-3]),Ae=ye[se-14],he=ye[se-13],O=_(ye[se-30],ye[se-29]),K=q(ye[se-30],ye[se-29]),Q=ye[se-32],ue=ye[se-31];ye[se]=c(ae,de,Ae,he,O,K,Q,ue),ye[se+1]=f(ae,de,Ae,he,O,K,Q,ue)}},T.prototype._update=function(C,oe){this._prepareBlock(C,oe);var ye=this.W,se=this.h[0],ae=this.h[1],de=this.h[2],Ae=this.h[3],he=this.h[4],O=this.h[5],K=this.h[6],Q=this.h[7],ue=this.h[8],ee=this.h[9],j=this.h[10],B=this.h[11],ne=this.h[12],te=this.h[13],Y=this.h[14],re=this.h[15];r(this.k.length===ye.length);for(var xe=0;xe<ye.length;xe+=2){var V=Y,X=re,H=A(ue,ee),N=S(ue,ee),k=d(ue,ee,j,B,ne),F=w(ue,ee,j,B,ne,te),ce=this.k[xe],ve=this.k[xe+1],me=ye[xe],Te=ye[xe+1],De=m(V,X,H,N,k,F,ce,ve,me,Te),Re=h(V,X,H,N,k,F,ce,ve,me,Te);V=L(se,ae),X=W(se,ae),H=v(se,ae,de,Ae,he),N=y(se,ae,de,Ae,he,O);var Be=l(V,X,H,N),Ke=u(V,X,H,N);Y=ne,re=te,ne=j,te=B,j=ue,B=ee,ue=l(K,Q,De,Re),ee=u(Q,Q,De,Re),K=he,Q=O,he=de,O=Ae,de=se,Ae=ae,se=l(De,Re,Be,Ke),ae=u(De,Re,Be,Ke)}a(this.h,0,se,ae),a(this.h,2,de,Ae),a(this.h,4,he,O),a(this.h,6,K,Q),a(this.h,8,ue,ee),a(this.h,10,j,B),a(this.h,12,ne,te),a(this.h,14,Y,re)},T.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function d(P,C,oe,ye,se){var ae=P&oe^~P&se;return ae<0&&(ae+=4294967296),ae}function w(P,C,oe,ye,se,ae){var de=C&ye^~C&ae;return de<0&&(de+=4294967296),de}function v(P,C,oe,ye,se){var ae=P&oe^P&se^oe&se;return ae<0&&(ae+=4294967296),ae}function y(P,C,oe,ye,se,ae){var de=C&ye^C&ae^ye&ae;return de<0&&(de+=4294967296),de}function L(P,C){var oe=n(P,C,28),ye=n(C,P,2),se=n(C,P,7),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function W(P,C){var oe=i(P,C,28),ye=i(C,P,2),se=i(C,P,7),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function A(P,C){var oe=n(P,C,14),ye=n(P,C,18),se=n(C,P,9),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function S(P,C){var oe=i(P,C,14),ye=i(P,C,18),se=i(C,P,9),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function _(P,C){var oe=n(P,C,1),ye=n(P,C,8),se=s(P,C,7),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function q(P,C){var oe=i(P,C,1),ye=i(P,C,8),se=o(P,C,7),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function D(P,C){var oe=n(P,C,19),ye=n(C,P,29),se=s(P,C,6),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}function I(P,C){var oe=i(P,C,19),ye=i(C,P,29),se=o(P,C,6),ae=oe^ye^se;return ae<0&&(ae+=4294967296),ae}return gv}var yv,O3;function wW(){if(O3)return yv;O3=1;var t=Vo(),e=fR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),yv=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},yv}var D3;function _W(){return D3||(D3=1,au.sha1=yW(),au.sha224=vW(),au.sha256=hR(),au.sha384=wW(),au.sha512=fR()),au}var vv={},F3;function bW(){if(F3)return vv;F3=1;var t=Vo(),e=rp(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),vv.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(T,d){for(var w=this.h[0],v=this.h[1],y=this.h[2],L=this.h[3],W=this.h[4],A=w,S=v,_=y,q=L,D=W,I=0;I<80;I++){var P=n(r(s(w,l(I,v,y,L),T[f[I]+d],u(I)),h[I]),W);w=W,W=L,L=r(y,10),y=v,v=P,P=n(r(s(A,l(79-I,S,_,q),T[m[I]+d],c(I)),E[I]),D),A=D,D=q,q=r(_,10),_=S,S=P}P=i(this.h[1],y,q),this.h[1]=i(this.h[2],L,D),this.h[2]=i(this.h[3],W,A),this.h[3]=i(this.h[4],w,S),this.h[4]=i(this.h[0],v,_),this.h[0]=P},a.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(b,T,d,w){return b<=15?T^d^w:b<=31?T&d|~T&w:b<=47?(T|~d)^w:b<=63?T&w|d&~w:T^(d|~w)}function u(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function c(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return vv}var wv,j3;function xW(){if(j3)return wv;j3=1;var t=Vo(),e=tp();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return wv=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},wv}var M3;function EW(){return M3||(M3=1,function(t){var e=t;e.utils=Vo(),e.common=rp(),e.sha=_W(),e.ripemd=bW(),e.hmac=xW(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(cv)),cv}var AW=EW();const SW=z_(AW);let TW="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",NW=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},IW=(t=21)=>{let e="",r=t|0;for(;r--;)e+=TW[Math.random()*64|0];return e};const Us=t=>Math.floor(t*72*20),C1=(t=0)=>{let e=t;return()=>++e},kW=()=>C1(),CW=()=>C1(1),RW=()=>C1(),PW=()=>C1(),LW=()=>IW().toLowerCase(),B3=t=>SW.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),wf=t=>NW("1234567890abcdef",t)(),OW=()=>`${wf(8)}-${wf(4)}-${wf(4)}-${wf(4)}-${wf(12)}`,DW={PAGE:"page"},FW={PAGE:"page"},jW=()=>new hr({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),dR=t=>new hr({name:"wp:align",children:[t]}),pR=t=>new hr({name:"wp:posOffset",children:[t.toString()]}),MW=({relative:t,align:e,offset:r})=>new hr({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??DW.PAGE}},children:[(()=>{if(e)return dR(e);if(r!==void 0)return pR(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),BW=({relative:t,align:e,offset:r})=>new hr({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??FW.PAGE}},children:[(()=>{if(e)return dR(e);if(r!==void 0)return pR(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class UW extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{uri:"uri"})}}const VW=t=>new hr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),zW=t=>new hr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[VW(t)]}),qW=t=>new hr({name:"a:extLst",children:[zW(t)]}),WW=t=>new hr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[qW(t)]:[]});class HW extends Me{constructor(){super("a:srcRect")}}class $W extends Me{constructor(){super("a:fillRect")}}class GW extends Me{constructor(){super("a:stretch"),this.root.push(new $W)}}class KW extends Me{constructor(e){super("pic:blipFill"),this.root.push(WW(e)),this.root.push(new HW),this.root.push(new GW)}}class XW extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class YW extends Me{constructor(){super("a:picLocks"),this.root.push(new XW({noChangeAspect:1,noChangeArrowheads:1}))}}class QW extends Me{constructor(){super("pic:cNvPicPr"),this.root.push(new YW)}}const mR=(t,e)=>new hr({name:"a:hlinkClick",attributes:Ea(Ut({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class JW extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class ZW extends Me{constructor(){super("pic:cNvPr"),this.root.push(new JW({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof tb){this.root.push(mR(n.linkId,!1));break}}return super.prepForXml(e)}}class eH extends Me{constructor(){super("pic:nvPicPr"),this.root.push(new ZW),this.root.push(new QW)}}class tH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class rH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class nH extends Me{constructor(e,r){super("a:ext"),Fe(this,"attributes"),this.attributes=new rH({cx:e,cy:r}),this.root.push(this.attributes)}}class iH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{x:"x",y:"y"})}}class sH extends Me{constructor(){super("a:off"),this.root.push(new iH({x:0,y:0}))}}class oH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class aH extends Me{constructor(e){var r,n;super("a:xfrm"),Fe(this,"extents"),this.root.push(new oH({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(n=e.flip)==null?void 0:n.horizontal,rotation:e.rotation})),this.extents=new nH(e.emus.x,e.emus.y),this.root.push(new sH),this.root.push(this.extents)}}const gR=()=>new hr({name:"a:noFill"}),lH=t=>new hr({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),uH=t=>new hr({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),U3=t=>new hr({name:"a:solidFill",children:[t.type==="rgb"?lH(t):uH(t)]}),cH=t=>new hr({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?gR():t.solidFillType==="rgb"?U3({type:"rgb",value:t.value}):U3({type:"scheme",value:t.value})]});class hH extends Me{constructor(){super("a:avLst")}}class fH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{prst:"prst"})}}class dH extends Me{constructor(){super("a:prstGeom"),this.root.push(new fH({prst:"rect"})),this.root.push(new hH)}}class pH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{bwMode:"bwMode"})}}class mH extends Me{constructor({outline:e,transform:r}){super("pic:spPr"),Fe(this,"form"),this.root.push(new pH({bwMode:"auto"})),this.form=new aH(r),this.root.push(this.form),this.root.push(new dH),e&&(this.root.push(gR()),this.root.push(cH(e)))}}class gH extends Me{constructor({mediaData:e,transform:r,outline:n}){super("pic:pic"),this.root.push(new tH({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new eH),this.root.push(new KW(e)),this.root.push(new mH({transform:r,outline:n}))}}class yH extends Me{constructor({mediaData:e,transform:r,outline:n}){super("a:graphicData"),Fe(this,"pic"),this.root.push(new UW({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new gH({mediaData:e,transform:r,outline:n}),this.root.push(this.pic)}}class vH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{a:"xmlns:a"})}}class yR extends Me{constructor({mediaData:e,transform:r,outline:n}){super("a:graphic"),Fe(this,"data"),this.root.push(new vH({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new yH({mediaData:e,transform:r,outline:n}),this.root.push(this.data)}}const rm={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},wH={BOTH_SIDES:"bothSides"};class V3 extends Me{constructor(){super("wp:wrapNone")}}class _H extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class bH extends Me{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new _H({wrapText:e.side||wH.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class xH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class EH extends Me{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new xH({distT:e.top,distB:e.bottom}))}}class AH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class SH extends Me{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new AH({distT:e.top,distB:e.bottom}))}}class vR extends Me{constructor({name:e,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),Fe(this,"docPropertiesUniqueNumericId",RW());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};r!=null&&(i.description={key:"descr",value:r}),n!=null&&(i.title={key:"title",value:n}),this.root.push(new Yd(i))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof tb){this.root.push(mR(n.linkId,!0));break}}return super.prepForXml(e)}}const wR=({top:t,right:e,bottom:r,left:n})=>new hr({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),_R=({x:t,y:e})=>new hr({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}});class TH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class NH extends Me{constructor(){super("a:graphicFrameLocks"),this.root.push(new TH({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const bR=()=>new hr({name:"wp:cNvGraphicFramePr",children:[new NH]});class IH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class kH extends Me{constructor({mediaData:e,transform:r,drawingOptions:n}){super("wp:anchor");const i=Ut({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new IH({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push(jW()),this.root.push(MW(i.horizontalPosition)),this.root.push(BW(i.verticalPosition)),this.root.push(_R({x:r.emus.x,y:r.emus.y})),this.root.push(wR({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case rm.SQUARE:this.root.push(new bH(n.floating.wrap,n.floating.margins));break;case rm.TIGHT:this.root.push(new EH(n.floating.margins));break;case rm.TOP_AND_BOTTOM:this.root.push(new SH(n.floating.margins));break;case rm.NONE:default:this.root.push(new V3)}else this.root.push(new V3);this.root.push(new vR(n.docProperties)),this.root.push(bR()),this.root.push(new yR({mediaData:e,transform:r,outline:n.outline}))}}const CH=({mediaData:t,transform:e,docProperties:r,outline:n})=>{var i,s,o,a;return new hr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[_R({x:e.emus.x,y:e.emus.y}),wR(n?{top:((i=n.width)!=null?i:9525)*2,right:((s=n.width)!=null?s:9525)*2,bottom:((o=n.width)!=null?o:9525)*2,left:((a=n.width)!=null?a:9525)*2}:{top:0,right:0,bottom:0,left:0}),new vR(r),bR(),new yR({mediaData:t,transform:e,outline:n})]})};class RH extends Me{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new kH({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(CH({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}const PH=t=>{if(typeof atob=="function"){const e=";base64,",r=t.indexOf(e),n=r===-1?0:r+e.length;return new Uint8Array(atob(t.substring(n)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(t,"base64")}},LH=t=>typeof t=="string"?PH(t):t,_v=(t,e)=>({data:LH(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class OH extends ep{constructor(e){super({}),Fe(this,"imageData");const n=`${B3(e.data)}.${e.type}`;this.imageData=e.type==="svg"?Ea(Ut({type:e.type},_v(e,n)),{fallback:Ut({type:e.fallback.type},_v(Ea(Ut({},e.fallback),{transformation:e.transformation}),`${B3(e.fallback.data)}.${e.fallback.type}`))}):Ut({type:e.type},_v(e,n));const i=new RH(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class DH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class FH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const jH={EXTERNAL:"External"};class MH extends Me{constructor(e,r,n,i){super("Relationship"),this.root.push(new FH({id:e,type:r,target:n,targetMode:i}))}}class Yu extends Me{constructor(){super("Relationships"),this.root.push(new DH({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new MH(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class BH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class UH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class VH extends Me{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new BH({id:e,initials:r,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class zH extends Me{constructor({children:e}){super("w:comments"),Fe(this,"relationships"),this.root.push(new UH({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new VH(r));this.relationships=new Yu}get Relationships(){return this.relationships}}class qH extends Me{constructor(){super("w:pageBreakBefore")}}const Nw={AUTO:"auto"};class WH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class HH extends Me{constructor(e){super("w:spacing"),this.root.push(new WH(e))}}const dc={HEADING_1:"Heading1",HEADING_2:"Heading2",TITLE:"Title"};let nm=class extends Me{constructor(e){super("w:pStyle"),this.root.push(new an({val:e}))}};class $H extends Me{constructor(e){super("w:tabs");for(const r of e)this.root.push(new KH(r))}}const z3={LEFT:"left",RIGHT:"right"};class GH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class KH extends Me{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new GH({val:e,pos:r,leader:n}))}}class bv extends Me{constructor(e,r){super("w:numPr"),this.root.push(new XH(r)),this.root.push(new YH(e))}}class XH extends Me{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new an({val:e}))}}class YH extends Me{constructor(e){super("w:numId"),this.root.push(new an({val:typeof e=="string"?`{${e}}`:e}))}}class QH extends Me{constructor(){super(...arguments),Fe(this,"fileChild",Symbol())}}class JH extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class tb extends Me{constructor(e,r,n){super("w:hyperlink"),Fe(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new JH(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class ZH extends Me{constructor(e){super("w:externalHyperlink"),this.options=e}}class e$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class t$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{id:"w:id"})}}class r${constructor(e){Fe(this,"bookmarkUniqueNumericId",PW()),Fe(this,"start"),Fe(this,"children"),Fe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new n$(e.id,r),this.children=e.children,this.end=new i$(r)}}class n$ extends Me{constructor(e,r){super("w:bookmarkStart");const n=new e$({name:e,id:r});this.root.push(n)}}class i$ extends Me{constructor(e){super("w:bookmarkEnd");const r=new t$({id:e});this.root.push(r)}}class s$ extends Me{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new an({val:e}))}}const o$={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Ea(Ut({},o$),{BOTH:"both"});class a$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{verticalAlign:"w:val"})}}class l$ extends Me{constructor(e){super("w:vAlign"),this.root.push(new a$({verticalAlign:e}))}}class u$ extends Me{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Yd({space:{key:"w:space",value:e===void 0?void 0:Hs(e)},count:{key:"w:num",value:r===void 0?void 0:Mi(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const c$=({type:t,linePitch:e,charSpace:r})=>new hr({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Mi(e)},charSpace:{key:"w:charSpace",value:r?Mi(r):void 0}}}),nh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class h$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const q3={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class xv extends Me{constructor(e,r){super(e),this.root.push(new h$({type:r.type||nh.DEFAULT,id:`rId${r.id}`}))}}const f$=({countBy:t,start:e,restart:r,distance:n})=>new hr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Mi(t)},start:{key:"w:start",value:e===void 0?void 0:Mi(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:Hs(n)}}});class W3 extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class d$ extends T1{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new W3({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new W3({})),e.pageBorderTop&&this.root.push(new $r("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new $r("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new $r("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new $r("w:right",e.pageBorderRight))}}class p$ extends Me{constructor(e,r,n,i,s,o,a){super("w:pgMar"),this.root.push(new Yd({top:{key:"w:top",value:wu(e)},right:{key:"w:right",value:Hs(r)},bottom:{key:"w:bottom",value:wu(n)},left:{key:"w:left",value:Hs(i)},header:{key:"w:header",value:Hs(s)},footer:{key:"w:footer",value:Hs(o)},gutter:{key:"w:gutter",value:Hs(a)}}))}}class m$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class g$ extends Me{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new m$({start:e===void 0?void 0:Mi(e),formatType:r,separator:n}))}}const Iw={PORTRAIT:"portrait",LANDSCAPE:"landscape"},y$=({width:t,height:e,orientation:r,code:n})=>{const i=Hs(t),s=Hs(e);return new hr({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Iw.LANDSCAPE?s:i},height:{key:"w:h",value:r===Iw.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class v$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class w$ extends Me{constructor(e){super("w:textDirection"),this.root.push(new v$({val:e}))}}class _$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class b$ extends Me{constructor(e){super("w:type"),this.root.push(new _$({val:e}))}}const lu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Ev={WIDTH:11906,HEIGHT:16838,ORIENTATION:Iw.PORTRAIT};class x$ extends Me{constructor({page:{size:{width:e=Ev.WIDTH,height:r=Ev.HEIGHT,orientation:n=Ev.ORIENTATION}={},margin:{top:i=lu.TOP,right:s=lu.RIGHT,bottom:o=lu.BOTTOM,left:a=lu.LEFT,header:l=lu.HEADER,footer:u=lu.FOOTER,gutter:c=lu.GUTTER}={},pageNumbers:f={},borders:m,textDirection:h}={},grid:{linePitch:E=360,charSpace:b,type:T}={},headerWrapperGroup:d={},footerWrapperGroup:w={},lineNumbers:v,titlePage:y,verticalAlign:L,column:W,type:A}={}){super("w:sectPr"),this.addHeaderFooterGroup(q3.HEADER,d),this.addHeaderFooterGroup(q3.FOOTER,w),A&&this.root.push(new b$(A)),this.root.push(y$({width:e,height:r,orientation:n})),this.root.push(new p$(i,s,o,a,l,u,c)),m&&this.root.push(new d$(m)),v&&this.root.push(f$(v)),this.root.push(new g$(f)),W&&this.root.push(new u$(W)),L&&this.root.push(new l$(L)),y!==void 0&&this.root.push(new Ge("w:titlePg",y)),h&&this.root.push(new w$(h)),this.root.push(c$({linePitch:E,charSpace:b,type:T}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new xv(e,{type:nh.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new xv(e,{type:nh.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new xv(e,{type:nh.EVEN,id:r.even.View.ReferenceId}))}}class E$ extends Me{constructor(){super("w:body"),Fe(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new x$(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Hr({}),n=new Nh({});return n.push(e),r.addChildElement(n),r}}const H3={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class R1 extends ct{constructor(e,r){super(Ut({Ignorable:r},Object.fromEntries(e.map(n=>[n,H3[n]])))),Fe(this,"xmlKeys",Ut({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(H3).map(n=>[n,`xmlns:${n}`]))))}}class A$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class S$ extends Me{constructor(e){super("w:background"),this.root.push(new A$({color:e.color===void 0?void 0:Ah(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:E3(e.themeShade),themeTint:e.themeTint===void 0?void 0:E3(e.themeTint)}))}}class T$ extends Me{constructor(e){super("w:document"),Fe(this,"body"),this.root.push(new R1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new E$,e.background&&this.root.push(new S$(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class xR{constructor(e){Fe(this,"document"),Fe(this,"relationships"),this.document=new T$(e),this.relationships=new Yu}get View(){return this.document}get Relationships(){return this.relationships}}class N$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class I$ extends Me{constructor(){super("w:wordWrap"),this.root.push(new N$({val:0}))}}const k$=t=>{var e,r;return new hr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Nh extends T1{constructor(e){var r,n;if(super("w:pPr"),Fe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new nm(e.heading)),e.bullet&&this.push(new nm("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new nm("ListParagraph"))),e.style&&this.push(new nm(e.style)),e.keepNext!==void 0&&this.push(new Ge("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ge("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new qH),e.frame&&this.push(k$(e.frame)),e.widowControl!==void 0&&this.push(new Ge("w:widowControl",e.widowControl)),e.bullet&&this.push(new bv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new bv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new bv(0,0)),e.border&&this.push(new Xq(e.border)),e.thematicBreak&&this.push(new Yq),e.shading&&this.push(new aR(e.shading)),e.wordWrap&&this.push(new I$),e.overflowPunctuation&&this.push(new Ge("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:z3.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:z3.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new $H(i)),e.bidirectional!==void 0&&this.push(new Ge("w:bidi",e.bidirectional)),e.spacing&&this.push(new HH(e.spacing)),e.indent&&this.push(new Qq(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ge("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Gq(e.alignment)),e.outlineLevel!==void 0&&this.push(new s$(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ge("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ge("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Xu(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof xR)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Hr extends QH{constructor(e){if(super("w:p"),Fe(this,"properties"),typeof e=="string")return this.properties=new Nh({}),this.root.push(this.properties),this.root.push(new xo(e)),this;if(this.properties=new Nh(e),this.root.push(this.properties),e.text&&this.root.push(new xo(e.text)),e.children)for(const r of e.children){if(r instanceof r$){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof ZH){const n=this.root.indexOf(r),i=new tb(r.options.children,LW());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,jH.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const pc={style:J_.NONE,size:0,color:"auto"},mc={style:J_.SINGLE,size:4,color:"auto"};class C$ extends Me{constructor(e){super("w:tblBorders"),e.top?this.root.push(new $r("w:top",e.top)):this.root.push(new $r("w:top",mc)),e.left?this.root.push(new $r("w:left",e.left)):this.root.push(new $r("w:left",mc)),e.bottom?this.root.push(new $r("w:bottom",e.bottom)):this.root.push(new $r("w:bottom",mc)),e.right?this.root.push(new $r("w:right",e.right)):this.root.push(new $r("w:right",mc)),e.insideHorizontal?this.root.push(new $r("w:insideH",e.insideHorizontal)):this.root.push(new $r("w:insideH",mc)),e.insideVertical?this.root.push(new $r("w:insideV",e.insideVertical)):this.root.push(new $r("w:insideV",mc))}}Fe(C$,"NONE",{top:pc,bottom:pc,left:pc,right:pc,insideHorizontal:pc,insideVertical:pc});class R$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class P$ extends Me{constructor(){super("Properties"),this.root.push(new R$({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class L$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns"})}}class O$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ra extends Me{constructor(e,r){super("Default"),this.root.push(new O$({contentType:e,extension:r}))}}class D$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class ws extends Me{constructor(e,r){super("Override"),this.root.push(new D$({contentType:e,partName:r}))}}class F$ extends Me{constructor(){super("Types"),this.root.push(new L$({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ra("image/png","png")),this.root.push(new ra("image/jpeg","jpeg")),this.root.push(new ra("image/jpeg","jpg")),this.root.push(new ra("image/bmp","bmp")),this.root.push(new ra("image/gif","gif")),this.root.push(new ra("image/svg+xml","svg")),this.root.push(new ra("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ra("application/xml","xml")),this.root.push(new ra("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new ws("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new ws("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class j$ extends Me{constructor(e){super("cp:coreProperties"),this.root.push(new R1(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new ou("dc:title",e.title)),e.subject&&this.root.push(new ou("dc:subject",e.subject)),e.creator&&this.root.push(new ou("dc:creator",e.creator)),e.keywords&&this.root.push(new ou("cp:keywords",e.keywords)),e.description&&this.root.push(new ou("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new ou("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new ou("cp:revision",String(e.revision))),this.root.push(new $3("dcterms:created")),this.root.push(new $3("dcterms:modified"))}}class M$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"xsi:type"})}}class $3 extends Me{constructor(e){super(e),this.root.push(new M$({type:"dcterms:W3CDTF"})),this.root.push(Hq(new Date))}}class B$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class U$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class V$ extends Me{constructor(e,r){super("property"),this.root.push(new U$({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new z$(r.value))}}class z$ extends Me{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class q$ extends Me{constructor(e){super("Properties"),Fe(this,"nextId"),Fe(this,"properties",[]),this.root.push(new B$({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new V$(this.nextId++,e))}}const im=({id:t,fontKey:e,subsetted:r},n)=>new hr({name:n,attributes:Ut({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ge("w:subsetted",r)]:[]]}),W$=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:f})=>new hr({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[vf("w:altName",e)]:[],...r?[vf("w:panose1",r)]:[],...n?[vf("w:charset",n)]:[],vf("w:family",i),...s?[new Ge("w:notTrueType",s)]:[],vf("w:pitch",o),...a?[new hr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[im(l,"w:embedRegular")]:[],...u?[im(u,"w:embedBold")]:[],...c?[im(c,"w:embedItalic")]:[],...f?[im(f,"w:embedBoldItalic")]:[]]}),H$=({name:t,index:e,fontKey:r,characterSet:n})=>W$({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),$$=t=>new hr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>H$({name:e.name,index:r+1,fontKey:e.fontKey}))});class G${constructor(e){Fe(this,"fontTable"),Fe(this,"relationships"),Fe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Ea(Ut({},r),{fontKey:OW()})),this.fontTable=$$(this.fontOptionsWithKey),this.relationships=new Yu;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class K$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let X$=class extends nR{constructor(e,r){super("w:ftr",r),Fe(this,"refId"),this.refId=e,r||this.root.push(new K$({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Y${constructor(e,r,n){Fe(this,"footer"),Fe(this,"relationships"),this.media=e,this.footer=new X$(r,n),this.relationships=new Yu}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Q$ extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class J$ extends Me{constructor(){super("w:footnoteRef")}}class Z$ extends ep{constructor(){super({style:"FootnoteReference"}),this.root.push(new J$)}}const G3={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Av extends Me{constructor(e){super("w:footnote"),this.root.push(new Q$({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new Z$),this.root.push(n)}}}class eG extends Me{constructor(){super("w:continuationSeparator")}}class tG extends ep{constructor(){super({}),this.root.push(new eG)}}class rG extends Me{constructor(){super("w:separator")}}class nG extends ep{constructor(){super({}),this.root.push(new rG)}}class iG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class sG extends Me{constructor(){super("w:footnotes"),this.root.push(new iG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Av({id:-1,type:G3.SEPERATOR,children:[new Hr({spacing:{after:0,line:240,lineRule:Nw.AUTO},children:[new nG]})]});this.root.push(e);const r=new Av({id:0,type:G3.CONTINUATION_SEPERATOR,children:[new Hr({spacing:{after:0,line:240,lineRule:Nw.AUTO},children:[new tG]})]});this.root.push(r)}createFootNote(e,r){const n=new Av({id:e,children:r});this.root.push(n)}}class oG{constructor(){Fe(this,"footnotess"),Fe(this,"relationships"),this.footnotess=new sG,this.relationships=new Yu}get View(){return this.footnotess}get Relationships(){return this.relationships}}class aG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let lG=class extends nR{constructor(e,r){super("w:hdr",r),Fe(this,"refId"),this.refId=e,r||this.root.push(new aG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class uG{constructor(e,r,n){Fe(this,"header"),Fe(this,"relationships"),this.media=e,this.header=new lG(r,n),this.relationships=new Yu}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class cG{constructor(){Fe(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const na={BULLET:"bullet"};class hG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class fG extends Me{constructor(e){super("w:numFmt"),this.root.push(new an({val:e}))}}class dG extends Me{constructor(e){super("w:lvlText"),this.root.push(new an({val:e}))}}class pG extends Me{constructor(e){super("w:lvlJc"),this.root.push(new an({val:e}))}}class mG extends Me{constructor(e){super("w:suff"),this.root.push(new an({val:e}))}}class gG extends Me{constructor(){super("w:isLgl")}}class yG extends Me{constructor({level:e,format:r,text:n,alignment:i=wo.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.root.push(new Yf("w:start",Mi(s))),r&&this.root.push(new fG(r)),a&&this.root.push(new mG(a)),l&&this.root.push(new gG),n&&this.root.push(new dG(n)),this.root.push(new pG(i)),this.paragraphProperties=new Nh(o&&o.paragraph),this.runProperties=new Xu(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new hG({ilvl:Mi(e),tentative:1}))}}class vG extends yG{}class wG extends Me{constructor(e){super("w:multiLevelType"),this.root.push(new an({val:e}))}}class _G extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class K3 extends Me{constructor(e,r){super("w:abstractNum"),Fe(this,"id"),this.root.push(new _G({abstractNumId:Mi(e),restartNumberingAfterBreak:0})),this.root.push(new wG("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new vG(n))}}class bG extends Me{constructor(e){super("w:abstractNumId"),this.root.push(new an({val:e}))}}class xG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{numId:"w:numId"})}}class X3 extends Me{constructor(e){if(super("w:num"),Fe(this,"numId"),Fe(this,"reference"),Fe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new xG({numId:Mi(e.numId)})),this.root.push(new bG(Mi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new AG(r.num,r.start))}}class EG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class AG extends Me{constructor(e,r){super("w:lvlOverride"),this.root.push(new EG({ilvl:e})),r!==void 0&&this.root.push(new TG(r))}}class SG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class TG extends Me{constructor(e){super("w:startOverride"),this.root.push(new SG({val:e}))}}class NG extends Me{constructor(e){super("w:numbering"),Fe(this,"abstractNumberingMap",new Map),Fe(this,"concreteNumberingMap",new Map),Fe(this,"referenceConfigMap",new Map),Fe(this,"abstractNumUniqueNumericId",kW()),Fe(this,"concreteNumUniqueNumericId",CW()),this.root.push(new R1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new K3(this.abstractNumUniqueNumericId(),[{level:0,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:Us(.5),hanging:Us(.25)}}}},{level:1,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:Us(1),hanging:Us(.25)}}}},{level:2,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:2160,hanging:Us(.25)}}}},{level:3,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:2880,hanging:Us(.25)}}}},{level:4,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:3600,hanging:Us(.25)}}}},{level:5,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:4320,hanging:Us(.25)}}}},{level:6,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:5040,hanging:Us(.25)}}}},{level:7,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:5760,hanging:Us(.25)}}}},{level:8,format:na.BULLET,text:"",alignment:wo.LEFT,style:{paragraph:{indent:{left:6480,hanging:Us(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new X3({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new K3(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new X3(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class IG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class kG extends Me{constructor(e){super("w:compatSetting"),this.root.push(new IG({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class CG extends Me{constructor(e){super("w:compat"),e.version&&this.root.push(new kG(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ge("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ge("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ge("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ge("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ge("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ge("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ge("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ge("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ge("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ge("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ge("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ge("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ge("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ge("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ge("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ge("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ge("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ge("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ge("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ge("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ge("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ge("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ge("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ge("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ge("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ge("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ge("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ge("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ge("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ge("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ge("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ge("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ge("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ge("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ge("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ge("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ge("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ge("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ge("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ge("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ge("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ge("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ge("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ge("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ge("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ge("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ge("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ge("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ge("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ge("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ge("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ge("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ge("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ge("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ge("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ge("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ge("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ge("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ge("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ge("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ge("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ge("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ge("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ge("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ge("w:cachedColBalance",e.cachedColumnBalance))}}class RG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class PG extends Me{constructor(e){var r,n,i,s,o,a,l,u;super("w:settings"),this.root.push(new RG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ge("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ge("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ge("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ge("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Yf("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Ge("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Yf("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Yf("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Ge("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new CG(Ea(Ut({},(o=e.compatibility)!=null?o:{}),{version:(u=(l=(a=e.compatibility)==null?void 0:a.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}}class ER extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{val:"w:val"})}}class LG extends Me{constructor(e){super("w:name"),this.root.push(new ER({val:e}))}}class OG extends Me{constructor(e){super("w:uiPriority"),this.root.push(new ER({val:Mi(e)}))}}class DG extends ct{constructor(){super(...arguments),Fe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class AR extends Me{constructor(e,r){super("w:style"),this.root.push(new DG(e)),r.name&&this.root.push(new LG(r.name)),r.basedOn&&this.root.push(new rh("w:basedOn",r.basedOn)),r.next&&this.root.push(new rh("w:next",r.next)),r.link&&this.root.push(new rh("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new OG(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ge("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ge("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ge("w:qFormat",r.quickFormat))}}class P1 extends AR{constructor(e){super({type:"paragraph",styleId:e.id},e),Fe(this,"paragraphProperties"),Fe(this,"runProperties"),this.paragraphProperties=new Nh(e.paragraph),this.runProperties=new Xu(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class L1 extends AR{constructor(e){super({type:"character",styleId:e.id},Ut({uiPriority:99,unhideWhenUsed:!0},e)),Fe(this,"runProperties"),this.runProperties=new Xu(e.run),this.root.push(this.runProperties)}}class Hl extends P1{constructor(e){super(Ut({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class FG extends Hl{constructor(e){super(Ut({id:"Title",name:"Title"},e))}}class jG extends Hl{constructor(e){super(Ut({id:"Heading1",name:"Heading 1"},e))}}class MG extends Hl{constructor(e){super(Ut({id:"Heading2",name:"Heading 2"},e))}}class BG extends Hl{constructor(e){super(Ut({id:"Heading3",name:"Heading 3"},e))}}class UG extends Hl{constructor(e){super(Ut({id:"Heading4",name:"Heading 4"},e))}}class VG extends Hl{constructor(e){super(Ut({id:"Heading5",name:"Heading 5"},e))}}class zG extends Hl{constructor(e){super(Ut({id:"Heading6",name:"Heading 6"},e))}}class qG extends Hl{constructor(e){super(Ut({id:"Strong",name:"Strong"},e))}}class WG extends P1{constructor(e){super(Ut({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class HG extends P1{constructor(e){super(Ut({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Nw.AUTO}},run:{size:20}},e))}}class $G extends L1{constructor(e){super(Ut({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class GG extends L1{constructor(e){super(Ut({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class KG extends L1{constructor(e){super(Ut({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:uR.SINGLE}}},e))}}class kw extends Me{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new P1(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new L1(r))}}class XG extends Me{constructor(e){super("w:pPrDefault"),this.root.push(new Nh(e))}}class YG extends Me{constructor(e){super("w:rPrDefault"),this.root.push(new Xu(e))}}class QG extends Me{constructor(e){super("w:docDefaults"),Fe(this,"runPropertiesDefaults"),Fe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new YG(e.run),this.paragraphPropertiesDefaults=new XG(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class JG{newInstance(e){const r=rR.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new kw({initialStyles:new Vq(n.attributes),importedStyles:i.map(o=>Q_(o))})}}class Y3{newInstance(e={}){var r;return{initialStyles:new R1(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new QG((r=e.document)!=null?r:{}),new FG(Ut({run:{size:56}},e.title)),new jG(Ut({run:{color:"2E74B5",size:32}},e.heading1)),new MG(Ut({run:{color:"2E74B5",size:26}},e.heading2)),new BG(Ut({run:{color:"1F4D78",size:24}},e.heading3)),new UG(Ut({run:{color:"2E74B5",italics:!0}},e.heading4)),new VG(Ut({run:{color:"2E74B5"}},e.heading5)),new zG(Ut({run:{color:"1F4D78"}},e.heading6)),new qG(Ut({run:{bold:!0}},e.strong)),new WG(e.listParagraph||{}),new KG(e.hyperlink||{}),new $G(e.footnoteReference||{}),new HG(e.footnoteText||{}),new GG(e.footnoteTextChar||{})]}}}class ZG{constructor(e){Fe(this,"currentRelationshipId",1),Fe(this,"documentWrapper"),Fe(this,"headers",[]),Fe(this,"footers",[]),Fe(this,"coreProperties"),Fe(this,"numbering"),Fe(this,"media"),Fe(this,"fileRelationships"),Fe(this,"footnotesWrapper"),Fe(this,"settings"),Fe(this,"contentTypes"),Fe(this,"customProperties"),Fe(this,"appProperties"),Fe(this,"styles"),Fe(this,"comments"),Fe(this,"fontWrapper");var r,n,i,s,o,a,l,u,c,f,m,h;if(this.coreProperties=new j$(Ea(Ut({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new NG(e.numbering?e.numbering:{config:[]}),this.comments=new zH((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Yu,this.customProperties=new q$((o=e.customProperties)!=null?o:[]),this.appProperties=new P$,this.footnotesWrapper=new oG,this.contentTypes=new F$,this.documentWrapper=new xR({background:e.background}),this.settings=new PG({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(a=e.features)==null?void 0:a.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(m=e.hyphenation)==null?void 0:m.doNotHyphenateCaps}}),this.media=new cG,e.externalStyles!==void 0){const E=new JG;this.styles=E.newInstance(e.externalStyles)}else if(e.styles){const b=new Y3().newInstance(e.styles.default);this.styles=new kw(Ut(Ut({},b),e.styles))}else{const E=new Y3;this.styles=new kw(E.newInstance())}this.addDefaultRelationships();for(const E of e.sections)this.addSection(E);if(e.footnotes)for(const E in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(E),e.footnotes[E].children);this.fontWrapper=new G$((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Ea(Ut({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new uG(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new Y$(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=nh.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=nh.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var eK=K_();function sm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sv={exports:{}},Q3;function tK(){return Q3||(Q3=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function o(u,c){if(!i[u]){if(!n[u]){var f=typeof sm=="function"&&sm;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(E){var b=n[u][1][E];return o(b||E)},h,h.exports,r,n,i,s)}return i[u].exports}for(var a=typeof sm=="function"&&sm,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,m,h,E,b,T=[],d=0,w=l.length,v=w,y=s.getTypeOf(l)!=="string";d<l.length;)v=w-d,f=y?(u=l[d++],c=d<w?l[d++]:0,d<w?l[d++]:0):(u=l.charCodeAt(d++),c=d<w?l.charCodeAt(d++):0,d<w?l.charCodeAt(d++):0),m=u>>2,h=(3&u)<<4|c>>4,E=1<v?(15&c)<<2|f>>6:64,b=2<v?63&f:64,T.push(a.charAt(m)+a.charAt(h)+a.charAt(E)+a.charAt(b));return T.join("")},i.decode=function(l){var u,c,f,m,h,E,b=0,T=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var w,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=o.uint8array?new Uint8Array(0|v):new Array(0|v);b<l.length;)u=a.indexOf(l.charAt(b++))<<2|(m=a.indexOf(l.charAt(b++)))>>4,c=(15&m)<<4|(h=a.indexOf(l.charAt(b++)))>>2,f=(3&h)<<6|(E=a.indexOf(l.charAt(b++))),w[T++]=u,h!==64&&(w[T++]=c),E!==64&&(w[T++]=f);return w}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,m,h,E){this.compressedSize=c,this.uncompressedSize=f,this.crc32=m,this.compression=h,this.compressedContent=E}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,m){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,m){var h=o,E=m+f;u^=-1;for(var b=m;b<E;b++)u=u>>>8^h[255&(u^c[b])];return-1^u}(0|l,a,a.length,0):function(u,c,f,m){var h=o,E=m+f;u^=-1;for(var b=m;b<E;b++)u=u>>>8^h[255&(u^c.charCodeAt(b))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,m){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(h,E){var b,T="";for(b=0;b<E;b++)T+=String.fromCharCode(255&h),h>>>=8;return T}function o(h,E,b,T,d,w){var v,y,L=h.file,W=h.compression,A=w!==u.utf8encode,S=a.transformTo("string",w(L.name)),_=a.transformTo("string",u.utf8encode(L.name)),q=L.comment,D=a.transformTo("string",w(q)),I=a.transformTo("string",u.utf8encode(q)),P=_.length!==L.name.length,C=I.length!==q.length,oe="",ye="",se="",ae=L.dir,de=L.date,Ae={crc32:0,compressedSize:0,uncompressedSize:0};E&&!b||(Ae.crc32=h.crc32,Ae.compressedSize=h.compressedSize,Ae.uncompressedSize=h.uncompressedSize);var he=0;E&&(he|=8),A||!P&&!C||(he|=2048);var O=0,K=0;ae&&(O|=16),d==="UNIX"?(K=798,O|=function(ue,ee){var j=ue;return ue||(j=ee?16893:33204),(65535&j)<<16}(L.unixPermissions,ae)):(K=20,O|=function(ue){return 63&(ue||0)}(L.dosPermissions)),v=de.getUTCHours(),v<<=6,v|=de.getUTCMinutes(),v<<=5,v|=de.getUTCSeconds()/2,y=de.getUTCFullYear()-1980,y<<=4,y|=de.getUTCMonth()+1,y<<=5,y|=de.getUTCDate(),P&&(ye=s(1,1)+s(c(S),4)+_,oe+="up"+s(ye.length,2)+ye),C&&(se=s(1,1)+s(c(D),4)+I,oe+="uc"+s(se.length,2)+se);var Q="";return Q+=`
\0`,Q+=s(he,2),Q+=W.magic,Q+=s(v,2),Q+=s(y,2),Q+=s(Ae.crc32,4),Q+=s(Ae.compressedSize,4),Q+=s(Ae.uncompressedSize,4),Q+=s(S.length,2),Q+=s(oe.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+S+oe,dirRecord:f.CENTRAL_FILE_HEADER+s(K,2)+Q+s(D.length,2)+"\0\0\0\0"+s(O,4)+s(T,4)+S+oe+D}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),f=r("../signature");function m(h,E,b,T){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=b,this.encodeFileName=T,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(h){var E=h.meta.percent||0,b=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:b?(E+100*(b-T-1))/b:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var E=this.streamFiles&&!h.file.dir;if(E){var b=o(h,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var E=this.streamFiles&&!h.file.dir,b=o(h,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),E)this.push({data:function(T){return f.DATA_DESCRIPTOR+s(T.crc32,4)+s(T.compressedSize,4)+s(T.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var b=this.bytesWritten-h,T=function(d,w,v,y,L){var W=a.transformTo("string",L(y));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(d,2)+s(d,2)+s(w,4)+s(v,4)+s(W.length,2)+W}(this.dirRecords.length,b,h,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var E=this;return h.on("data",function(b){E.processChunk(b)}),h.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),h.on("error",function(b){E.error(b)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var E=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var b=0;b<E.length;b++)try{E[b].error(h)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,E=0;E<h.length;E++)h[E].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(m,h){f++;var E=function(w,v){var y=w||v,L=s[y];if(!L)throw new Error(y+" is not a valid compression method !");return L}(h.options.compression,l.compression),b=h.options.compressionOptions||l.compressionOptions||{},T=h.dir,d=h.date;h._compressWorker(E,b).withStreamInfo("file",{name:m,dir:T,date:d,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(m){return new o.Promise(function(h,E){var b=m.decompressed.getContentWorker().pipe(new u);b.on("error",function(T){E(T)}).on("end",function(){b.streamInfo.crc32!==m.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(m,h){var E=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(b){var T=new l(h);return T.load(b),T}).then(function(b){var T=[o.Promise.resolve(b)],d=b.files;if(h.checkCRC32)for(var w=0;w<d.length;w++)T.push(f(d[w]));return o.Promise.all(T)}).then(function(b){for(var T=b.shift(),d=T.files,w=0;w<d.length;w++){var v=d[w],y=v.fileNameStr,L=s.resolve(v.fileNameStr);E.file(L,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:h.createFolders}),v.dir||(E.file(L).unsafeOriginalName=y)}return T.zipComment.length&&(E.comment=T.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,m){c.push(f)||c._helper.pause(),u&&u(m)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(L,W,A){var S,_=a.getTypeOf(W),q=a.extend(A||{},c);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(L=d(L)),q.createFolders&&(S=T(L))&&w.call(this,S,!0);var D=_==="string"&&q.binary===!1&&q.base64===!1;A&&A.binary!==void 0||(q.binary=!D),(W instanceof f&&W.uncompressedSize===0||q.dir||!W||W.length===0)&&(q.base64=!1,q.binary=!0,W="",q.compression="STORE",_="string");var I=null;I=W instanceof f||W instanceof l?W:E.isNode&&E.isStream(W)?new b(L,W):a.prepareContent(L,W,q.binary,q.optimizedBinaryString,q.base64);var P=new m(L,I,q);this.files[L]=P}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),f=r("./compressedObject"),m=r("./zipObject"),h=r("./generate"),E=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),T=function(L){L.slice(-1)==="/"&&(L=L.substring(0,L.length-1));var W=L.lastIndexOf("/");return 0<W?L.substring(0,W):""},d=function(L){return L.slice(-1)!=="/"&&(L+="/"),L},w=function(L,W){return W=W!==void 0?W:c.createFolders,L=d(L),this.files[L]||s.call(this,L,null,{dir:!0,createFolders:W}),this.files[L]};function v(L){return Object.prototype.toString.call(L)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var W,A,S;for(W in this.files)S=this.files[W],(A=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&L(A,S)},filter:function(L){var W=[];return this.forEach(function(A,S){L(A,S)&&W.push(S)}),W},file:function(L,W,A){if(arguments.length!==1)return L=this.root+L,s.call(this,L,W,A),this;if(v(L)){var S=L;return this.filter(function(q,D){return!D.dir&&S.test(q)})}var _=this.files[this.root+L];return _&&!_.dir?_:null},folder:function(L){if(!L)return this;if(v(L))return this.filter(function(_,q){return q.dir&&L.test(_)});var W=this.root+L,A=w.call(this,W),S=this.clone();return S.root=A.name,S},remove:function(L){L=this.root+L;var W=this.files[L];if(W||(L.slice(-1)!=="/"&&(L+="/"),W=this.files[L]),W&&!W.dir)delete this.files[L];else for(var A=this.filter(function(_,q){return q.name.slice(0,L.length)===L}),S=0;S<A.length;S++)delete this.files[A[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var W,A={};try{if((A=a.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var S=A.comment||this.comment||"";W=h.generateWorker(this,A,S)}catch(_){(W=new l("error")).error(_)}return new u(W,A.type||"string",A.mimeType)},generateAsync:function(L,W){return this.generateInternalStream(L).accumulate(W)},generateNodeStream:function(L,W){return(L=L||{}).type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(W)}};n.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===c&&this.data[m+3]===f)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&c===m[2]&&f===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var m=s.getTypeOf(f);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(E,b){return new c.Promise(function(T,d){var w=[],v=E._internalType,y=E._outputType,L=E._mimeType;E.on("data",function(W,A){w.push(W),b&&b(A)}).on("error",function(W){w=[],d(W)}).on("end",function(){try{var W=function(A,S,_){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",S),_);case"base64":return l.encode(S);default:return s.transformTo(A,S)}}(y,function(A,S){var _,q=0,D=null,I=0;for(_=0;_<S.length;_++)I+=S[_].length;switch(A){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(D=new Uint8Array(I),_=0;_<S.length;_++)D.set(S[_],q),q+=S[_].length;return D;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+A+"'")}}(v,w),L);T(W)}catch(A){d(A)}w=[]}).resume()})}function h(E,b,T){var d=b;switch(b){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=b,this._mimeType=T,s.checkSupport(d),this._worker=E.pipe(new o(d)),E.lock()}catch(w){this._worker=new a("error"),this._worker.error(w)}}h.prototype={accumulate:function(E){return m(this,E)},on:function(E,b){var T=this;return E==="data"?this._worker.on(E,function(d){b.call(T,d.data,d.meta)}):this._worker.on(E,function(){s.delay(b,arguments,T)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},E)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(E){var b,T,d,w,v,y=E.length,L=0;for(w=0;w<y;w++)(64512&(T=E.charCodeAt(w)))==55296&&w+1<y&&(64512&(d=E.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(d-56320),w++),L+=T<128?1:T<2048?2:T<65536?3:4;for(b=o.uint8array?new Uint8Array(L):new Array(L),w=v=0;v<L;w++)(64512&(T=E.charCodeAt(w)))==55296&&w+1<y&&(64512&(d=E.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(d-56320),w++),T<128?b[v++]=T:(T<2048?b[v++]=192|T>>>6:(T<65536?b[v++]=224|T>>>12:(b[v++]=240|T>>>18,b[v++]=128|T>>>12&63),b[v++]=128|T>>>6&63),b[v++]=128|63&T);return b}(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(E){var b,T,d,w,v=E.length,y=new Array(2*v);for(b=T=0;b<v;)if((d=E[b++])<128)y[T++]=d;else if(4<(w=u[d]))y[T++]=65533,b+=w-1;else{for(d&=w===2?31:w===3?15:7;1<w&&b<v;)d=d<<6|63&E[b++],w--;1<w?y[T++]=65533:d<65536?y[T++]=d:(d-=65536,y[T++]=55296|d>>10&1023,y[T++]=56320|1023&d)}return y.length!==T&&(y.subarray?y=y.subarray(0,T):y.length=T),s.applyFromCharCode(y)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(f,l),f.prototype.processChunk=function(h){var E=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=E;(E=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),E.set(b,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var T=function(w,v){var y;for((v=v||w.length)>w.length&&(v=w.length),y=v-1;0<=y&&(192&w[y])==128;)y--;return y<0||y===0?v:y+u[w[y]]>v?y:v}(E),d=E;T!==E.length&&(o.uint8array?(d=E.subarray(0,T),this.leftOver=E.subarray(T,E.length)):(d=E.slice(0,T),this.leftOver=E.slice(T,E.length))),this.push({data:i.utf8decode(d),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(m,l),m.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(b){return b}function c(b,T){for(var d=0;d<b.length;++d)T[d]=255&b.charCodeAt(d);return T}r("setimmediate"),i.newBlob=function(b,T){i.checkSupport("blob");try{return new Blob([b],{type:T})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(b),d.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(b,T,d){var w=[],v=0,y=b.length;if(y<=d)return String.fromCharCode.apply(null,b);for(;v<y;)T==="array"||T==="nodebuffer"?w.push(String.fromCharCode.apply(null,b.slice(v,Math.min(v+d,y)))):w.push(String.fromCharCode.apply(null,b.subarray(v,Math.min(v+d,y)))),v+=d;return w.join("")},stringifyByChar:function(b){for(var T="",d=0;d<b.length;d++)T+=String.fromCharCode(b[d]);return T},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(b){var T=65536,d=i.getTypeOf(b),w=!0;if(d==="uint8array"?w=f.applyCanBeUsed.uint8array:d==="nodebuffer"&&(w=f.applyCanBeUsed.nodebuffer),w)for(;1<T;)try{return f.stringifyByChunk(b,d,T)}catch{T=Math.floor(T/2)}return f.stringifyByChar(b)}function h(b,T){for(var d=0;d<b.length;d++)T[d]=b[d];return T}i.applyFromCharCode=m;var E={};E.string={string:u,array:function(b){return c(b,new Array(b.length))},arraybuffer:function(b){return E.string.uint8array(b).buffer},uint8array:function(b){return c(b,new Uint8Array(b.length))},nodebuffer:function(b){return c(b,a.allocBuffer(b.length))}},E.array={string:m,array:u,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return a.newBufferFrom(b)}},E.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return h(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:u,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return a.newBufferFrom(new Uint8Array(b))}},E.uint8array={string:m,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:u,nodebuffer:function(b){return a.newBufferFrom(b)}},E.nodebuffer={string:m,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return E.nodebuffer.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:u},i.transformTo=function(b,T){if(T=T||"",!b)return T;i.checkSupport(b);var d=i.getTypeOf(T);return E[d][b](T)},i.resolve=function(b){for(var T=b.split("/"),d=[],w=0;w<T.length;w++){var v=T[w];v==="."||v===""&&w!==0&&w!==T.length-1||(v===".."?d.pop():d.push(v))}return d.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var T,d,w="";for(d=0;d<(b||"").length;d++)w+="\\x"+((T=b.charCodeAt(d))<16?"0":"")+T.toString(16).toUpperCase();return w},i.delay=function(b,T,d){setImmediate(function(){b.apply(d||null,T||[])})},i.inherits=function(b,T){function d(){}d.prototype=T.prototype,b.prototype=new d},i.extend=function(){var b,T,d={};for(b=0;b<arguments.length;b++)for(T in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],T)&&d[T]===void 0&&(d[T]=arguments[b][T]);return d},i.prepareContent=function(b,T,d,w,v){return l.Promise.resolve(T).then(function(y){return s.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new l.Promise(function(L,W){var A=new FileReader;A.onload=function(S){L(S.target.result)},A.onerror=function(S){W(S.target.error)},A.readAsArrayBuffer(y)}):y}).then(function(y){var L=i.getTypeOf(y);return L?(L==="arraybuffer"?y=i.transformTo("uint8array",y):L==="string"&&(v?y=o.decode(y):d&&w!==!0&&(y=function(W){return c(W,s.uint8array?new Uint8Array(W.length):new Array(W.length))}(y))),y):l.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(f)+")")}},isSignature:function(f,m){var h=this.reader.index;this.reader.setIndex(f);var E=this.reader.readString(4)===m;return this.reader.setIndex(h),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",h=o.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,h,E=this.zip64EndOfCentralSize-44;0<E;)f=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var E=m-h;if(0<E)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support");function m(h,E){this.options=h,this.loadOptions=E}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var E,b;if(h.skip(22),this.fileNameLength=h.readInt(2),b=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=function(T){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)&&c[d].magic===T)return c[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,E,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var E=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(E),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var E,b,T,d=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<d;)E=h.readInt(2),b=h.readInt(2),T=h.readData(b),this.extraFields[E]={id:E,length:b,value:T};h.setIndex(d)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var b=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var d=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var E=s(h.value);return E.readInt(1)!==1||l(this.fileName)!==E.readInt(4)?null:u.utf8decode(E.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var E=s(h.value);return E.readInt(1)!==1||l(this.fileComment)!==E.readInt(4)?null:u.utf8decode(E.readData(h.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(E,b,T){this.name=E,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=b,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(E){var b=null,T="string";try{if(!E)throw new Error("No output type specified.");var d=(T=E.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),b=this._decompressWorker();var w=!this._dataBinary;w&&!d&&(b=b.pipe(new l.Utf8EncodeWorker)),!w&&d&&(b=b.pipe(new l.Utf8DecodeWorker))}catch(v){(b=new c("error")).error(v)}return new o(b,T,"")},async:function(E,b){return this.internalStream(E).accumulate(b)},nodeStream:function(E,b){return this.internalStream(E||"nodebuffer").toNodejsStream(b)},_compressWorker:function(E,b){if(this._data instanceof u&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(T,E,b)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(E),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){E(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(E,0)};else{var m=new s.MessageChannel;m.port1.onmessage=E,o=function(){m.port2.postMessage(0)}}var h=[];function E(){var b,T;a=!0;for(var d=h.length;d;){for(T=h,h=[],b=-1;++b<d;)T[b]();d=h.length}a=!1}n.exports=function(b){h.push(b)!==1||a||o()}}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,d!==o&&b(this,d)}function m(d,w,v){this.promise=d,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function h(d,w,v){s(function(){var y;try{y=w(v)}catch(L){return a.reject(d,L)}y===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,y)})}function E(d){var w=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof w=="function")return function(){w.apply(d,arguments)}}function b(d,w){var v=!1;function y(A){v||(v=!0,a.reject(d,A))}function L(A){v||(v=!0,a.resolve(d,A))}var W=T(function(){w(L,y)});W.status==="error"&&y(W.value)}function T(d,w){var v={};try{v.value=d(w),v.status="success"}catch(y){v.status="error",v.value=y}return v}(n.exports=f).prototype.finally=function(d){if(typeof d!="function")return this;var w=this.constructor;return this.then(function(v){return w.resolve(d()).then(function(){return v})},function(v){return w.resolve(d()).then(function(){throw v})})},f.prototype.catch=function(d){return this.then(null,d)},f.prototype.then=function(d,w){if(typeof d!="function"&&this.state===u||typeof w!="function"&&this.state===l)return this;var v=new this.constructor(o);return this.state!==c?h(v,this.state===u?d:w,this.outcome):this.queue.push(new m(v,d,w)),v},m.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},m.prototype.otherCallFulfilled=function(d){h(this.promise,this.onFulfilled,d)},m.prototype.callRejected=function(d){a.reject(this.promise,d)},m.prototype.otherCallRejected=function(d){h(this.promise,this.onRejected,d)},a.resolve=function(d,w){var v=T(E,w);if(v.status==="error")return a.reject(d,v.value);var y=v.value;if(y)b(d,y);else{d.state=u,d.outcome=w;for(var L=-1,W=d.queue.length;++L<W;)d.queue[L].callFulfilled(w)}return d},a.reject=function(d,w){d.state=l,d.outcome=w;for(var v=-1,y=d.queue.length;++v<y;)d.queue[v].callRejected(w);return d},f.resolve=function(d){return d instanceof this?d:a.resolve(new this(o),d)},f.reject=function(d){var w=new this(o);return a.reject(w,d)},f.all=function(d){var w=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,y=!1;if(!v)return this.resolve([]);for(var L=new Array(v),W=0,A=-1,S=new this(o);++A<v;)_(d[A],A);return S;function _(q,D){w.resolve(q).then(function(I){L[D]=I,++W!==v||y||(y=!0,a.resolve(S,L))},function(I){y||(y=!0,a.reject(S,I))})}},f.race=function(d){var w=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,y=!1;if(!v)return this.resolve([]);for(var L=-1,W=new this(o);++L<v;)A=d[L],w.resolve(A).then(function(S){y||(y=!0,a.resolve(W,S))},function(S){y||(y=!0,a.reject(W,S))});var A;return W}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,m=-1,h=0,E=8;function b(d){if(!(this instanceof b))return new b(d);this.options=o.assign({level:m,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},d||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(v!==f)throw new Error(l[v]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var y;if(y=typeof w.dictionary=="string"?a.string2buf(w.dictionary):c.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(v=s.deflateSetDictionary(this.strm,y))!==f)throw new Error(l[v]);this._dict_set=!0}}function T(d,w){var v=new b(w);if(v.push(d,!0),v.err)throw v.msg||l[v.err];return v.result}b.prototype.push=function(d,w){var v,y,L=this.strm,W=this.options.chunkSize;if(this.ended)return!1;y=w===~~w?w:w===!0?4:0,typeof d=="string"?L.input=a.string2buf(d):c.call(d)==="[object ArrayBuffer]"?L.input=new Uint8Array(d):L.input=d,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new o.Buf8(W),L.next_out=0,L.avail_out=W),(v=s.deflate(L,y))!==1&&v!==f)return this.onEnd(v),!(this.ended=!0);L.avail_out!==0&&(L.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(L.output,L.next_out))):this.onData(o.shrinkBuf(L.output,L.next_out)))}while((0<L.avail_in||L.avail_out===0)&&v!==1);return y===4?(v=s.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f):y!==2||(this.onEnd(f),!(L.avail_out=0))},b.prototype.onData=function(d){this.chunks.push(d)},b.prototype.onEnd=function(d){d===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},i.Deflate=b,i.deflate=T,i.deflateRaw=function(d,w){return(w=w||{}).raw=!0,T(d,w)},i.gzip=function(d,w){return(w=w||{}).gzip=!0,T(d,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),m=Object.prototype.toString;function h(b){if(!(this instanceof h))return new h(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||b&&b.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&!(15&T.windowBits)&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var d=s.inflateInit2(this.strm,T.windowBits);if(d!==l.Z_OK)throw new Error(u[d]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function E(b,T){var d=new h(T);if(d.push(b,!0),d.err)throw d.msg||u[d.err];return d.result}h.prototype.push=function(b,T){var d,w,v,y,L,W,A=this.strm,S=this.options.chunkSize,_=this.options.dictionary,q=!1;if(this.ended)return!1;w=T===~~T?T:T===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof b=="string"?A.input=a.binstring2buf(b):m.call(b)==="[object ArrayBuffer]"?A.input=new Uint8Array(b):A.input=b,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(S),A.next_out=0,A.avail_out=S),(d=s.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&_&&(W=typeof _=="string"?a.string2buf(_):m.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,d=s.inflateSetDictionary(this.strm,W)),d===l.Z_BUF_ERROR&&q===!0&&(d=l.Z_OK,q=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&d!==l.Z_STREAM_END&&(A.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(A.output,A.next_out),y=A.next_out-v,L=a.buf2string(A.output,v),A.next_out=y,A.avail_out=S-y,y&&o.arraySet(A.output,A.output,v,y,0),this.onData(L)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(q=!0)}while((0<A.avail_in||A.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(d=s.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},h.prototype.onData=function(b){this.chunks.push(b)},h.prototype.onEnd=function(b){b===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=h,i.inflate=E,i.inflateRaw=function(b,T){return(T=T||{}).raw=!0,E(b,T)},i.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,m){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),m);else for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){var u,c,f,m,h,E;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(E=new Uint8Array(f),u=m=0,c=l.length;u<c;u++)h=l[u],E.set(h,m),m+=h.length;return E}},a={arraySet:function(l,u,c,f,m){for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,m){if(m<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,m));for(var h="",E=0;E<m;E++)h+=String.fromCharCode(f[E]);return h}l[254]=l[254]=1,i.string2buf=function(f){var m,h,E,b,T,d=f.length,w=0;for(b=0;b<d;b++)(64512&(h=f.charCodeAt(b)))==55296&&b+1<d&&(64512&(E=f.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(E-56320),b++),w+=h<128?1:h<2048?2:h<65536?3:4;for(m=new s.Buf8(w),b=T=0;T<w;b++)(64512&(h=f.charCodeAt(b)))==55296&&b+1<d&&(64512&(E=f.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(E-56320),b++),h<128?m[T++]=h:(h<2048?m[T++]=192|h>>>6:(h<65536?m[T++]=224|h>>>12:(m[T++]=240|h>>>18,m[T++]=128|h>>>12&63),m[T++]=128|h>>>6&63),m[T++]=128|63&h);return m},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var m=new s.Buf8(f.length),h=0,E=m.length;h<E;h++)m[h]=f.charCodeAt(h);return m},i.buf2string=function(f,m){var h,E,b,T,d=m||f.length,w=new Array(2*d);for(h=E=0;h<d;)if((b=f[h++])<128)w[E++]=b;else if(4<(T=l[b]))w[E++]=65533,h+=T-1;else{for(b&=T===2?31:T===3?15:7;1<T&&h<d;)b=b<<6|63&f[h++],T--;1<T?w[E++]=65533:b<65536?w[E++]=b:(b-=65536,w[E++]=55296|b>>10&1023,w[E++]=56320|1023&b)}return c(w,E)},i.utf8border=function(f,m){var h;for((m=m||f.length)>f.length&&(m=f.length),h=m-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?m:h+l[f[h]]>m?h:m}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var m=u;m<f;m++)o=o>>>8^c[255&(o^a[m])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),f=0,m=4,h=0,E=-2,b=-1,T=4,d=2,w=8,v=9,y=286,L=30,W=19,A=2*y+1,S=15,_=3,q=258,D=q+_+1,I=42,P=113,C=1,oe=2,ye=3,se=4;function ae(V,X){return V.msg=c[X],X}function de(V){return(V<<1)-(4<V?9:0)}function Ae(V){for(var X=V.length;0<=--X;)V[X]=0}function he(V){var X=V.state,H=X.pending;H>V.avail_out&&(H=V.avail_out),H!==0&&(o.arraySet(V.output,X.pending_buf,X.pending_out,H,V.next_out),V.next_out+=H,X.pending_out+=H,V.total_out+=H,V.avail_out-=H,X.pending-=H,X.pending===0&&(X.pending_out=0))}function O(V,X){a._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,X),V.block_start=V.strstart,he(V.strm)}function K(V,X){V.pending_buf[V.pending++]=X}function Q(V,X){V.pending_buf[V.pending++]=X>>>8&255,V.pending_buf[V.pending++]=255&X}function ue(V,X){var H,N,k=V.max_chain_length,F=V.strstart,ce=V.prev_length,ve=V.nice_match,me=V.strstart>V.w_size-D?V.strstart-(V.w_size-D):0,Te=V.window,De=V.w_mask,Re=V.prev,Be=V.strstart+q,Ke=Te[F+ce-1],Ze=Te[F+ce];V.prev_length>=V.good_match&&(k>>=2),ve>V.lookahead&&(ve=V.lookahead);do if(Te[(H=X)+ce]===Ze&&Te[H+ce-1]===Ke&&Te[H]===Te[F]&&Te[++H]===Te[F+1]){F+=2,H++;do;while(Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&Te[++F]===Te[++H]&&F<Be);if(N=q-(Be-F),F=Be-q,ce<N){if(V.match_start=X,ve<=(ce=N))break;Ke=Te[F+ce-1],Ze=Te[F+ce]}}while((X=Re[X&De])>me&&--k!=0);return ce<=V.lookahead?ce:V.lookahead}function ee(V){var X,H,N,k,F,ce,ve,me,Te,De,Re=V.w_size;do{if(k=V.window_size-V.lookahead-V.strstart,V.strstart>=Re+(Re-D)){for(o.arraySet(V.window,V.window,Re,Re,0),V.match_start-=Re,V.strstart-=Re,V.block_start-=Re,X=H=V.hash_size;N=V.head[--X],V.head[X]=Re<=N?N-Re:0,--H;);for(X=H=Re;N=V.prev[--X],V.prev[X]=Re<=N?N-Re:0,--H;);k+=Re}if(V.strm.avail_in===0)break;if(ce=V.strm,ve=V.window,me=V.strstart+V.lookahead,Te=k,De=void 0,De=ce.avail_in,Te<De&&(De=Te),H=De===0?0:(ce.avail_in-=De,o.arraySet(ve,ce.input,ce.next_in,De,me),ce.state.wrap===1?ce.adler=l(ce.adler,ve,De,me):ce.state.wrap===2&&(ce.adler=u(ce.adler,ve,De,me)),ce.next_in+=De,ce.total_in+=De,De),V.lookahead+=H,V.lookahead+V.insert>=_)for(F=V.strstart-V.insert,V.ins_h=V.window[F],V.ins_h=(V.ins_h<<V.hash_shift^V.window[F+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[F+_-1])&V.hash_mask,V.prev[F&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=F,F++,V.insert--,!(V.lookahead+V.insert<_)););}while(V.lookahead<D&&V.strm.avail_in!==0)}function j(V,X){for(var H,N;;){if(V.lookahead<D){if(ee(V),V.lookahead<D&&X===f)return C;if(V.lookahead===0)break}if(H=0,V.lookahead>=_&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+_-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),H!==0&&V.strstart-H<=V.w_size-D&&(V.match_length=ue(V,H)),V.match_length>=_)if(N=a._tr_tally(V,V.strstart-V.match_start,V.match_length-_),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=_){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+_-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else N=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(N&&(O(V,!1),V.strm.avail_out===0))return C}return V.insert=V.strstart<_-1?V.strstart:_-1,X===m?(O(V,!0),V.strm.avail_out===0?ye:se):V.last_lit&&(O(V,!1),V.strm.avail_out===0)?C:oe}function B(V,X){for(var H,N,k;;){if(V.lookahead<D){if(ee(V),V.lookahead<D&&X===f)return C;if(V.lookahead===0)break}if(H=0,V.lookahead>=_&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+_-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=_-1,H!==0&&V.prev_length<V.max_lazy_match&&V.strstart-H<=V.w_size-D&&(V.match_length=ue(V,H),V.match_length<=5&&(V.strategy===1||V.match_length===_&&4096<V.strstart-V.match_start)&&(V.match_length=_-1)),V.prev_length>=_&&V.match_length<=V.prev_length){for(k=V.strstart+V.lookahead-_,N=a._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-_),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+_-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=_-1,V.strstart++,N&&(O(V,!1),V.strm.avail_out===0))return C}else if(V.match_available){if((N=a._tr_tally(V,0,V.window[V.strstart-1]))&&O(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return C}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(N=a._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<_-1?V.strstart:_-1,X===m?(O(V,!0),V.strm.avail_out===0?ye:se):V.last_lit&&(O(V,!1),V.strm.avail_out===0)?C:oe}function ne(V,X,H,N,k){this.good_length=V,this.max_lazy=X,this.nice_length=H,this.max_chain=N,this.func=k}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*L+1)),this.bl_tree=new o.Buf16(2*(2*W+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(S+1),this.heap=new o.Buf16(2*y+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(V){var X;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=d,(X=V.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?I:P,V.adler=X.wrap===2?0:1,X.last_flush=f,a._tr_init(X),h):ae(V,E)}function re(V){var X=Y(V);return X===h&&function(H){H.window_size=2*H.w_size,Ae(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=_-1,H.match_available=0,H.ins_h=0}(V.state),X}function xe(V,X,H,N,k,F){if(!V)return E;var ce=1;if(X===b&&(X=6),N<0?(ce=0,N=-N):15<N&&(ce=2,N-=16),k<1||v<k||H!==w||N<8||15<N||X<0||9<X||F<0||T<F)return ae(V,E);N===8&&(N=9);var ve=new te;return(V.state=ve).strm=V,ve.wrap=ce,ve.gzhead=null,ve.w_bits=N,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=k+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+_-1)/_),ve.window=new o.Buf8(2*ve.w_size),ve.head=new o.Buf16(ve.hash_size),ve.prev=new o.Buf16(ve.w_size),ve.lit_bufsize=1<<k+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new o.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=X,ve.strategy=F,ve.method=H,re(V)}s=[new ne(0,0,0,0,function(V,X){var H=65535;for(H>V.pending_buf_size-5&&(H=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ee(V),V.lookahead===0&&X===f)return C;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var N=V.block_start+H;if((V.strstart===0||V.strstart>=N)&&(V.lookahead=V.strstart-N,V.strstart=N,O(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-D&&(O(V,!1),V.strm.avail_out===0))return C}return V.insert=0,X===m?(O(V,!0),V.strm.avail_out===0?ye:se):(V.strstart>V.block_start&&(O(V,!1),V.strm.avail_out),C)}),new ne(4,4,8,4,j),new ne(4,5,16,8,j),new ne(4,6,32,32,j),new ne(4,4,16,16,B),new ne(8,16,32,32,B),new ne(8,16,128,128,B),new ne(8,32,128,256,B),new ne(32,128,258,1024,B),new ne(32,258,258,4096,B)],i.deflateInit=function(V,X){return xe(V,X,w,15,8,0)},i.deflateInit2=xe,i.deflateReset=re,i.deflateResetKeep=Y,i.deflateSetHeader=function(V,X){return V&&V.state?V.state.wrap!==2?E:(V.state.gzhead=X,h):E},i.deflate=function(V,X){var H,N,k,F;if(!V||!V.state||5<X||X<0)return V?ae(V,E):E;if(N=V.state,!V.output||!V.input&&V.avail_in!==0||N.status===666&&X!==m)return ae(V,V.avail_out===0?-5:E);if(N.strm=V,H=N.last_flush,N.last_flush=X,N.status===I)if(N.wrap===2)V.adler=0,K(N,31),K(N,139),K(N,8),N.gzhead?(K(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),K(N,255&N.gzhead.time),K(N,N.gzhead.time>>8&255),K(N,N.gzhead.time>>16&255),K(N,N.gzhead.time>>24&255),K(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),K(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(K(N,255&N.gzhead.extra.length),K(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(V.adler=u(V.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(K(N,0),K(N,0),K(N,0),K(N,0),K(N,0),K(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),K(N,3),N.status=P);else{var ce=w+(N.w_bits-8<<4)<<8;ce|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(ce|=32),ce+=31-ce%31,N.status=P,Q(N,ce),N.strstart!==0&&(Q(N,V.adler>>>16),Q(N,65535&V.adler)),V.adler=1}if(N.status===69)if(N.gzhead.extra){for(k=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),he(V),k=N.pending,N.pending!==N.pending_buf_size));)K(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){k=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),he(V),k=N.pending,N.pending===N.pending_buf_size)){F=1;break}F=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,K(N,F)}while(F!==0);N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),F===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){k=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),he(V),k=N.pending,N.pending===N.pending_buf_size)){F=1;break}F=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,K(N,F)}while(F!==0);N.gzhead.hcrc&&N.pending>k&&(V.adler=u(V.adler,N.pending_buf,N.pending-k,k)),F===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&he(V),N.pending+2<=N.pending_buf_size&&(K(N,255&V.adler),K(N,V.adler>>8&255),V.adler=0,N.status=P)):N.status=P),N.pending!==0){if(he(V),V.avail_out===0)return N.last_flush=-1,h}else if(V.avail_in===0&&de(X)<=de(H)&&X!==m)return ae(V,-5);if(N.status===666&&V.avail_in!==0)return ae(V,-5);if(V.avail_in!==0||N.lookahead!==0||X!==f&&N.status!==666){var ve=N.strategy===2?function(me,Te){for(var De;;){if(me.lookahead===0&&(ee(me),me.lookahead===0)){if(Te===f)return C;break}if(me.match_length=0,De=a._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,De&&(O(me,!1),me.strm.avail_out===0))return C}return me.insert=0,Te===m?(O(me,!0),me.strm.avail_out===0?ye:se):me.last_lit&&(O(me,!1),me.strm.avail_out===0)?C:oe}(N,X):N.strategy===3?function(me,Te){for(var De,Re,Be,Ke,Ze=me.window;;){if(me.lookahead<=q){if(ee(me),me.lookahead<=q&&Te===f)return C;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=_&&0<me.strstart&&(Re=Ze[Be=me.strstart-1])===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]){Ke=me.strstart+q;do;while(Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Re===Ze[++Be]&&Be<Ke);me.match_length=q-(Ke-Be),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=_?(De=a._tr_tally(me,1,me.match_length-_),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(De=a._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),De&&(O(me,!1),me.strm.avail_out===0))return C}return me.insert=0,Te===m?(O(me,!0),me.strm.avail_out===0?ye:se):me.last_lit&&(O(me,!1),me.strm.avail_out===0)?C:oe}(N,X):s[N.level].func(N,X);if(ve!==ye&&ve!==se||(N.status=666),ve===C||ve===ye)return V.avail_out===0&&(N.last_flush=-1),h;if(ve===oe&&(X===1?a._tr_align(N):X!==5&&(a._tr_stored_block(N,0,0,!1),X===3&&(Ae(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),he(V),V.avail_out===0))return N.last_flush=-1,h}return X!==m?h:N.wrap<=0?1:(N.wrap===2?(K(N,255&V.adler),K(N,V.adler>>8&255),K(N,V.adler>>16&255),K(N,V.adler>>24&255),K(N,255&V.total_in),K(N,V.total_in>>8&255),K(N,V.total_in>>16&255),K(N,V.total_in>>24&255)):(Q(N,V.adler>>>16),Q(N,65535&V.adler)),he(V),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?h:1)},i.deflateEnd=function(V){var X;return V&&V.state?(X=V.state.status)!==I&&X!==69&&X!==73&&X!==91&&X!==103&&X!==P&&X!==666?ae(V,E):(V.state=null,X===P?ae(V,-3):h):E},i.deflateSetDictionary=function(V,X){var H,N,k,F,ce,ve,me,Te,De=X.length;if(!V||!V.state||(F=(H=V.state).wrap)===2||F===1&&H.status!==I||H.lookahead)return E;for(F===1&&(V.adler=l(V.adler,X,De,0)),H.wrap=0,De>=H.w_size&&(F===0&&(Ae(H.head),H.strstart=0,H.block_start=0,H.insert=0),Te=new o.Buf8(H.w_size),o.arraySet(Te,X,De-H.w_size,H.w_size,0),X=Te,De=H.w_size),ce=V.avail_in,ve=V.next_in,me=V.input,V.avail_in=De,V.next_in=0,V.input=X,ee(H);H.lookahead>=_;){for(N=H.strstart,k=H.lookahead-(_-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[N+_-1])&H.hash_mask,H.prev[N&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=N,N++,--k;);H.strstart=N,H.lookahead=_-1,ee(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=_-1,H.match_available=0,V.next_in=ve,V.input=me,V.avail_in=ce,H.wrap=F,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,u,c,f,m,h,E,b,T,d,w,v,y,L,W,A,S,_,q,D,I,P,C,oe;a=s.state,l=s.next_in,C=s.input,u=l+(s.avail_in-5),c=s.next_out,oe=s.output,f=c-(o-s.avail_out),m=c+(s.avail_out-257),h=a.dmax,E=a.wsize,b=a.whave,T=a.wnext,d=a.window,w=a.hold,v=a.bits,y=a.lencode,L=a.distcode,W=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{v<15&&(w+=C[l++]<<v,v+=8,w+=C[l++]<<v,v+=8),S=y[w&W];t:for(;;){if(w>>>=_=S>>>24,v-=_,(_=S>>>16&255)===0)oe[c++]=65535&S;else{if(!(16&_)){if(!(64&_)){S=y[(65535&S)+(w&(1<<_)-1)];continue t}if(32&_){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}q=65535&S,(_&=15)&&(v<_&&(w+=C[l++]<<v,v+=8),q+=w&(1<<_)-1,w>>>=_,v-=_),v<15&&(w+=C[l++]<<v,v+=8,w+=C[l++]<<v,v+=8),S=L[w&A];r:for(;;){if(w>>>=_=S>>>24,v-=_,!(16&(_=S>>>16&255))){if(!(64&_)){S=L[(65535&S)+(w&(1<<_)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(D=65535&S,v<(_&=15)&&(w+=C[l++]<<v,(v+=8)<_&&(w+=C[l++]<<v,v+=8)),h<(D+=w&(1<<_)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(w>>>=_,v-=_,(_=c-f)<D){if(b<(_=D-_)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(P=d,(I=0)===T){if(I+=E-_,_<q){for(q-=_;oe[c++]=d[I++],--_;);I=c-D,P=oe}}else if(T<_){if(I+=E+T-_,(_-=T)<q){for(q-=_;oe[c++]=d[I++],--_;);if(I=0,T<q){for(q-=_=T;oe[c++]=d[I++],--_;);I=c-D,P=oe}}}else if(I+=T-_,_<q){for(q-=_;oe[c++]=d[I++],--_;);I=c-D,P=oe}for(;2<q;)oe[c++]=P[I++],oe[c++]=P[I++],oe[c++]=P[I++],q-=3;q&&(oe[c++]=P[I++],1<q&&(oe[c++]=P[I++]))}else{for(I=c-D;oe[c++]=oe[I++],oe[c++]=oe[I++],oe[c++]=oe[I++],2<(q-=3););q&&(oe[c++]=oe[I++],1<q&&(oe[c++]=oe[I++]))}break}}break}}while(l<u&&c<m);l-=q=v>>3,w&=(1<<(v-=q<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<m?m-c+257:257-(c-m),a.hold=w,a.bits=v}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,f=2,m=0,h=-2,E=1,b=852,T=592;function d(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(I){var P;return I&&I.state?(P=I.state,I.total_in=I.total_out=P.total=0,I.msg="",P.wrap&&(I.adler=1&P.wrap),P.mode=E,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new s.Buf32(b),P.distcode=P.distdyn=new s.Buf32(T),P.sane=1,P.back=-1,m):h}function y(I){var P;return I&&I.state?((P=I.state).wsize=0,P.whave=0,P.wnext=0,v(I)):h}function L(I,P){var C,oe;return I&&I.state?(oe=I.state,P<0?(C=0,P=-P):(C=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?h:(oe.window!==null&&oe.wbits!==P&&(oe.window=null),oe.wrap=C,oe.wbits=P,y(I))):h}function W(I,P){var C,oe;return I?(oe=new w,(I.state=oe).window=null,(C=L(I,P))!==m&&(I.state=null),C):h}var A,S,_=!0;function q(I){if(_){var P;for(A=new s.Buf32(512),S=new s.Buf32(32),P=0;P<144;)I.lens[P++]=8;for(;P<256;)I.lens[P++]=9;for(;P<280;)I.lens[P++]=7;for(;P<288;)I.lens[P++]=8;for(u(c,I.lens,0,288,A,0,I.work,{bits:9}),P=0;P<32;)I.lens[P++]=5;u(f,I.lens,0,32,S,0,I.work,{bits:5}),_=!1}I.lencode=A,I.lenbits=9,I.distcode=S,I.distbits=5}function D(I,P,C,oe){var ye,se=I.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new s.Buf8(se.wsize)),oe>=se.wsize?(s.arraySet(se.window,P,C-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(oe<(ye=se.wsize-se.wnext)&&(ye=oe),s.arraySet(se.window,P,C-oe,ye,se.wnext),(oe-=ye)?(s.arraySet(se.window,P,C-oe,oe,0),se.wnext=oe,se.whave=se.wsize):(se.wnext+=ye,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=ye))),0}i.inflateReset=y,i.inflateReset2=L,i.inflateResetKeep=v,i.inflateInit=function(I){return W(I,15)},i.inflateInit2=W,i.inflate=function(I,P){var C,oe,ye,se,ae,de,Ae,he,O,K,Q,ue,ee,j,B,ne,te,Y,re,xe,V,X,H,N,k=0,F=new s.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return h;(C=I.state).mode===12&&(C.mode=13),ae=I.next_out,ye=I.output,Ae=I.avail_out,se=I.next_in,oe=I.input,de=I.avail_in,he=C.hold,O=C.bits,K=de,Q=Ae,X=m;e:for(;;)switch(C.mode){case E:if(C.wrap===0){C.mode=13;break}for(;O<16;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(2&C.wrap&&he===35615){F[C.check=0]=255&he,F[1]=he>>>8&255,C.check=a(C.check,F,2,0),O=he=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&he)<<8)+(he>>8))%31){I.msg="incorrect header check",C.mode=30;break}if((15&he)!=8){I.msg="unknown compression method",C.mode=30;break}if(O-=4,V=8+(15&(he>>>=4)),C.wbits===0)C.wbits=V;else if(V>C.wbits){I.msg="invalid window size",C.mode=30;break}C.dmax=1<<V,I.adler=C.check=1,C.mode=512&he?10:12,O=he=0;break;case 2:for(;O<16;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(C.flags=he,(255&C.flags)!=8){I.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){I.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=he>>8&1),512&C.flags&&(F[0]=255&he,F[1]=he>>>8&255,C.check=a(C.check,F,2,0)),O=he=0,C.mode=3;case 3:for(;O<32;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.head&&(C.head.time=he),512&C.flags&&(F[0]=255&he,F[1]=he>>>8&255,F[2]=he>>>16&255,F[3]=he>>>24&255,C.check=a(C.check,F,4,0)),O=he=0,C.mode=4;case 4:for(;O<16;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.head&&(C.head.xflags=255&he,C.head.os=he>>8),512&C.flags&&(F[0]=255&he,F[1]=he>>>8&255,C.check=a(C.check,F,2,0)),O=he=0,C.mode=5;case 5:if(1024&C.flags){for(;O<16;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.length=he,C.head&&(C.head.extra_len=he),512&C.flags&&(F[0]=255&he,F[1]=he>>>8&255,C.check=a(C.check,F,2,0)),O=he=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(de<(ue=C.length)&&(ue=de),ue&&(C.head&&(V=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),s.arraySet(C.head.extra,oe,se,ue,V)),512&C.flags&&(C.check=a(C.check,oe,ue,se)),de-=ue,se+=ue,C.length-=ue),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(de===0)break e;for(ue=0;V=oe[se+ue++],C.head&&V&&C.length<65536&&(C.head.name+=String.fromCharCode(V)),V&&ue<de;);if(512&C.flags&&(C.check=a(C.check,oe,ue,se)),de-=ue,se+=ue,V)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(de===0)break e;for(ue=0;V=oe[se+ue++],C.head&&V&&C.length<65536&&(C.head.comment+=String.fromCharCode(V)),V&&ue<de;);if(512&C.flags&&(C.check=a(C.check,oe,ue,se)),de-=ue,se+=ue,V)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;O<16;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(he!==(65535&C.check)){I.msg="header crc mismatch",C.mode=30;break}O=he=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),I.adler=C.check=0,C.mode=12;break;case 10:for(;O<32;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}I.adler=C.check=d(he),O=he=0,C.mode=11;case 11:if(C.havedict===0)return I.next_out=ae,I.avail_out=Ae,I.next_in=se,I.avail_in=de,C.hold=he,C.bits=O,2;I.adler=C.check=1,C.mode=12;case 12:if(P===5||P===6)break e;case 13:if(C.last){he>>>=7&O,O-=7&O,C.mode=27;break}for(;O<3;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}switch(C.last=1&he,O-=1,3&(he>>>=1)){case 0:C.mode=14;break;case 1:if(q(C),C.mode=20,P!==6)break;he>>>=2,O-=2;break e;case 2:C.mode=17;break;case 3:I.msg="invalid block type",C.mode=30}he>>>=2,O-=2;break;case 14:for(he>>>=7&O,O-=7&O;O<32;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if((65535&he)!=(he>>>16^65535)){I.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&he,O=he=0,C.mode=15,P===6)break e;case 15:C.mode=16;case 16:if(ue=C.length){if(de<ue&&(ue=de),Ae<ue&&(ue=Ae),ue===0)break e;s.arraySet(ye,oe,se,ue,ae),de-=ue,se+=ue,Ae-=ue,ae+=ue,C.length-=ue;break}C.mode=12;break;case 17:for(;O<14;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(C.nlen=257+(31&he),he>>>=5,O-=5,C.ndist=1+(31&he),he>>>=5,O-=5,C.ncode=4+(15&he),he>>>=4,O-=4,286<C.nlen||30<C.ndist){I.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;O<3;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.lens[ce[C.have++]]=7&he,he>>>=3,O-=3}for(;C.have<19;)C.lens[ce[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,H={bits:C.lenbits},X=u(0,C.lens,0,19,C.lencode,0,C.work,H),C.lenbits=H.bits,X){I.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;ne=(k=C.lencode[he&(1<<C.lenbits)-1])>>>16&255,te=65535&k,!((B=k>>>24)<=O);){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(te<16)he>>>=B,O-=B,C.lens[C.have++]=te;else{if(te===16){for(N=B+2;O<N;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(he>>>=B,O-=B,C.have===0){I.msg="invalid bit length repeat",C.mode=30;break}V=C.lens[C.have-1],ue=3+(3&he),he>>>=2,O-=2}else if(te===17){for(N=B+3;O<N;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}O-=B,V=0,ue=3+(7&(he>>>=B)),he>>>=3,O-=3}else{for(N=B+7;O<N;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}O-=B,V=0,ue=11+(127&(he>>>=B)),he>>>=7,O-=7}if(C.have+ue>C.nlen+C.ndist){I.msg="invalid bit length repeat",C.mode=30;break}for(;ue--;)C.lens[C.have++]=V}}if(C.mode===30)break;if(C.lens[256]===0){I.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,H={bits:C.lenbits},X=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,H),C.lenbits=H.bits,X){I.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,H={bits:C.distbits},X=u(f,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,H),C.distbits=H.bits,X){I.msg="invalid distances set",C.mode=30;break}if(C.mode=20,P===6)break e;case 20:C.mode=21;case 21:if(6<=de&&258<=Ae){I.next_out=ae,I.avail_out=Ae,I.next_in=se,I.avail_in=de,C.hold=he,C.bits=O,l(I,Q),ae=I.next_out,ye=I.output,Ae=I.avail_out,se=I.next_in,oe=I.input,de=I.avail_in,he=C.hold,O=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;ne=(k=C.lencode[he&(1<<C.lenbits)-1])>>>16&255,te=65535&k,!((B=k>>>24)<=O);){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(ne&&!(240&ne)){for(Y=B,re=ne,xe=te;ne=(k=C.lencode[xe+((he&(1<<Y+re)-1)>>Y)])>>>16&255,te=65535&k,!(Y+(B=k>>>24)<=O);){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}he>>>=Y,O-=Y,C.back+=Y}if(he>>>=B,O-=B,C.back+=B,C.length=te,ne===0){C.mode=26;break}if(32&ne){C.back=-1,C.mode=12;break}if(64&ne){I.msg="invalid literal/length code",C.mode=30;break}C.extra=15&ne,C.mode=22;case 22:if(C.extra){for(N=C.extra;O<N;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.length+=he&(1<<C.extra)-1,he>>>=C.extra,O-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;ne=(k=C.distcode[he&(1<<C.distbits)-1])>>>16&255,te=65535&k,!((B=k>>>24)<=O);){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(!(240&ne)){for(Y=B,re=ne,xe=te;ne=(k=C.distcode[xe+((he&(1<<Y+re)-1)>>Y)])>>>16&255,te=65535&k,!(Y+(B=k>>>24)<=O);){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}he>>>=Y,O-=Y,C.back+=Y}if(he>>>=B,O-=B,C.back+=B,64&ne){I.msg="invalid distance code",C.mode=30;break}C.offset=te,C.extra=15&ne,C.mode=24;case 24:if(C.extra){for(N=C.extra;O<N;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}C.offset+=he&(1<<C.extra)-1,he>>>=C.extra,O-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){I.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(Ae===0)break e;if(ue=Q-Ae,C.offset>ue){if((ue=C.offset-ue)>C.whave&&C.sane){I.msg="invalid distance too far back",C.mode=30;break}ee=ue>C.wnext?(ue-=C.wnext,C.wsize-ue):C.wnext-ue,ue>C.length&&(ue=C.length),j=C.window}else j=ye,ee=ae-C.offset,ue=C.length;for(Ae<ue&&(ue=Ae),Ae-=ue,C.length-=ue;ye[ae++]=j[ee++],--ue;);C.length===0&&(C.mode=21);break;case 26:if(Ae===0)break e;ye[ae++]=C.length,Ae--,C.mode=21;break;case 27:if(C.wrap){for(;O<32;){if(de===0)break e;de--,he|=oe[se++]<<O,O+=8}if(Q-=Ae,I.total_out+=Q,C.total+=Q,Q&&(I.adler=C.check=C.flags?a(C.check,ye,Q,ae-Q):o(C.check,ye,Q,ae-Q)),Q=Ae,(C.flags?he:d(he))!==C.check){I.msg="incorrect data check",C.mode=30;break}O=he=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;O<32;){if(de===0)break e;de--,he+=oe[se++]<<O,O+=8}if(he!==(4294967295&C.total)){I.msg="incorrect length check",C.mode=30;break}O=he=0}C.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return h}return I.next_out=ae,I.avail_out=Ae,I.next_in=se,I.avail_in=de,C.hold=he,C.bits=O,(C.wsize||Q!==I.avail_out&&C.mode<30&&(C.mode<27||P!==4))&&D(I,I.output,I.next_out,Q-I.avail_out)?(C.mode=31,-4):(K-=I.avail_in,Q-=I.avail_out,I.total_in+=K,I.total_out+=Q,C.total+=Q,C.wrap&&Q&&(I.adler=C.check=C.flags?a(C.check,ye,Q,I.next_out-Q):o(C.check,ye,Q,I.next_out-Q)),I.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(K==0&&Q===0||P===4)&&X===m&&(X=-5),X)},i.inflateEnd=function(I){if(!I||!I.state)return h;var P=I.state;return P.window&&(P.window=null),I.state=null,m},i.inflateGetHeader=function(I,P){var C;return I&&I.state&&2&(C=I.state).wrap?((C.head=P).done=!1,m):h},i.inflateSetDictionary=function(I,P){var C,oe=P.length;return I&&I.state?(C=I.state).wrap!==0&&C.mode!==11?h:C.mode===11&&o(1,P,oe,0)!==C.check?-3:D(I,P,oe,oe)?(C.mode=31,-4):(C.havedict=1,m):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,m,h,E,b,T,d){var w,v,y,L,W,A,S,_,q,D=d.bits,I=0,P=0,C=0,oe=0,ye=0,se=0,ae=0,de=0,Ae=0,he=0,O=null,K=0,Q=new s.Buf16(16),ue=new s.Buf16(16),ee=null,j=0;for(I=0;I<=15;I++)Q[I]=0;for(P=0;P<h;P++)Q[f[m+P]]++;for(ye=D,oe=15;1<=oe&&Q[oe]===0;oe--);if(oe<ye&&(ye=oe),oe===0)return E[b++]=20971520,E[b++]=20971520,d.bits=1,0;for(C=1;C<oe&&Q[C]===0;C++);for(ye<C&&(ye=C),I=de=1;I<=15;I++)if(de<<=1,(de-=Q[I])<0)return-1;if(0<de&&(c===0||oe!==1))return-1;for(ue[1]=0,I=1;I<15;I++)ue[I+1]=ue[I]+Q[I];for(P=0;P<h;P++)f[m+P]!==0&&(T[ue[f[m+P]]++]=P);if(A=c===0?(O=ee=T,19):c===1?(O=o,K-=257,ee=a,j-=257,256):(O=l,ee=u,-1),I=C,W=b,ae=P=he=0,y=-1,L=(Ae=1<<(se=ye))-1,c===1&&852<Ae||c===2&&592<Ae)return 1;for(;;){for(S=I-ae,q=T[P]<A?(_=0,T[P]):T[P]>A?(_=ee[j+T[P]],O[K+T[P]]):(_=96,0),w=1<<I-ae,C=v=1<<se;E[W+(he>>ae)+(v-=w)]=S<<24|_<<16|q|0,v!==0;);for(w=1<<I-1;he&w;)w>>=1;if(w!==0?(he&=w-1,he+=w):he=0,P++,--Q[I]==0){if(I===oe)break;I=f[m+T[P]]}if(ye<I&&(he&L)!==y){for(ae===0&&(ae=ye),W+=C,de=1<<(se=I-ae);se+ae<oe&&!((de-=Q[se+ae])<=0);)se++,de<<=1;if(Ae+=1<<se,c===1&&852<Ae||c===2&&592<Ae)return 1;E[y=he&L]=ye<<24|se<<16|W-b|0}}return he!==0&&(E[W+he]=I-ae<<24|64<<16|0),d.bits=ye,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(k){for(var F=k.length;0<=--F;)k[F]=0}var u=0,c=29,f=256,m=f+1+c,h=30,E=19,b=2*m+1,T=15,d=16,w=7,v=256,y=16,L=17,W=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(m+2));l(D);var I=new Array(2*h);l(I);var P=new Array(512);l(P);var C=new Array(256);l(C);var oe=new Array(c);l(oe);var ye,se,ae,de=new Array(h);function Ae(k,F,ce,ve,me){this.static_tree=k,this.extra_bits=F,this.extra_base=ce,this.elems=ve,this.max_length=me,this.has_stree=k&&k.length}function he(k,F){this.dyn_tree=k,this.max_code=0,this.stat_desc=F}function O(k){return k<256?P[k]:P[256+(k>>>7)]}function K(k,F){k.pending_buf[k.pending++]=255&F,k.pending_buf[k.pending++]=F>>>8&255}function Q(k,F,ce){k.bi_valid>d-ce?(k.bi_buf|=F<<k.bi_valid&65535,K(k,k.bi_buf),k.bi_buf=F>>d-k.bi_valid,k.bi_valid+=ce-d):(k.bi_buf|=F<<k.bi_valid&65535,k.bi_valid+=ce)}function ue(k,F,ce){Q(k,ce[2*F],ce[2*F+1])}function ee(k,F){for(var ce=0;ce|=1&k,k>>>=1,ce<<=1,0<--F;);return ce>>>1}function j(k,F,ce){var ve,me,Te=new Array(T+1),De=0;for(ve=1;ve<=T;ve++)Te[ve]=De=De+ce[ve-1]<<1;for(me=0;me<=F;me++){var Re=k[2*me+1];Re!==0&&(k[2*me]=ee(Te[Re]++,Re))}}function B(k){var F;for(F=0;F<m;F++)k.dyn_ltree[2*F]=0;for(F=0;F<h;F++)k.dyn_dtree[2*F]=0;for(F=0;F<E;F++)k.bl_tree[2*F]=0;k.dyn_ltree[2*v]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ne(k){8<k.bi_valid?K(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function te(k,F,ce,ve){var me=2*F,Te=2*ce;return k[me]<k[Te]||k[me]===k[Te]&&ve[F]<=ve[ce]}function Y(k,F,ce){for(var ve=k.heap[ce],me=ce<<1;me<=k.heap_len&&(me<k.heap_len&&te(F,k.heap[me+1],k.heap[me],k.depth)&&me++,!te(F,ve,k.heap[me],k.depth));)k.heap[ce]=k.heap[me],ce=me,me<<=1;k.heap[ce]=ve}function re(k,F,ce){var ve,me,Te,De,Re=0;if(k.last_lit!==0)for(;ve=k.pending_buf[k.d_buf+2*Re]<<8|k.pending_buf[k.d_buf+2*Re+1],me=k.pending_buf[k.l_buf+Re],Re++,ve===0?ue(k,me,F):(ue(k,(Te=C[me])+f+1,F),(De=A[Te])!==0&&Q(k,me-=oe[Te],De),ue(k,Te=O(--ve),ce),(De=S[Te])!==0&&Q(k,ve-=de[Te],De)),Re<k.last_lit;);ue(k,v,F)}function xe(k,F){var ce,ve,me,Te=F.dyn_tree,De=F.stat_desc.static_tree,Re=F.stat_desc.has_stree,Be=F.stat_desc.elems,Ke=-1;for(k.heap_len=0,k.heap_max=b,ce=0;ce<Be;ce++)Te[2*ce]!==0?(k.heap[++k.heap_len]=Ke=ce,k.depth[ce]=0):Te[2*ce+1]=0;for(;k.heap_len<2;)Te[2*(me=k.heap[++k.heap_len]=Ke<2?++Ke:0)]=1,k.depth[me]=0,k.opt_len--,Re&&(k.static_len-=De[2*me+1]);for(F.max_code=Ke,ce=k.heap_len>>1;1<=ce;ce--)Y(k,Te,ce);for(me=Be;ce=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Y(k,Te,1),ve=k.heap[1],k.heap[--k.heap_max]=ce,k.heap[--k.heap_max]=ve,Te[2*me]=Te[2*ce]+Te[2*ve],k.depth[me]=(k.depth[ce]>=k.depth[ve]?k.depth[ce]:k.depth[ve])+1,Te[2*ce+1]=Te[2*ve+1]=me,k.heap[1]=me++,Y(k,Te,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(Ze,tt){var xt,rt,rr,ht,kt,Ct,jt=tt.dyn_tree,mt=tt.max_code,Jt=tt.stat_desc.static_tree,bt=tt.stat_desc.has_stree,At=tt.stat_desc.extra_bits,nr=tt.stat_desc.extra_base,pt=tt.stat_desc.max_length,gt=0;for(ht=0;ht<=T;ht++)Ze.bl_count[ht]=0;for(jt[2*Ze.heap[Ze.heap_max]+1]=0,xt=Ze.heap_max+1;xt<b;xt++)pt<(ht=jt[2*jt[2*(rt=Ze.heap[xt])+1]+1]+1)&&(ht=pt,gt++),jt[2*rt+1]=ht,mt<rt||(Ze.bl_count[ht]++,kt=0,nr<=rt&&(kt=At[rt-nr]),Ct=jt[2*rt],Ze.opt_len+=Ct*(ht+kt),bt&&(Ze.static_len+=Ct*(Jt[2*rt+1]+kt)));if(gt!==0){do{for(ht=pt-1;Ze.bl_count[ht]===0;)ht--;Ze.bl_count[ht]--,Ze.bl_count[ht+1]+=2,Ze.bl_count[pt]--,gt-=2}while(0<gt);for(ht=pt;ht!==0;ht--)for(rt=Ze.bl_count[ht];rt!==0;)mt<(rr=Ze.heap[--xt])||(jt[2*rr+1]!==ht&&(Ze.opt_len+=(ht-jt[2*rr+1])*jt[2*rr],jt[2*rr+1]=ht),rt--)}}(k,F),j(Te,Ke,k.bl_count)}function V(k,F,ce){var ve,me,Te=-1,De=F[1],Re=0,Be=7,Ke=4;for(De===0&&(Be=138,Ke=3),F[2*(ce+1)+1]=65535,ve=0;ve<=ce;ve++)me=De,De=F[2*(ve+1)+1],++Re<Be&&me===De||(Re<Ke?k.bl_tree[2*me]+=Re:me!==0?(me!==Te&&k.bl_tree[2*me]++,k.bl_tree[2*y]++):Re<=10?k.bl_tree[2*L]++:k.bl_tree[2*W]++,Te=me,Ke=(Re=0)===De?(Be=138,3):me===De?(Be=6,3):(Be=7,4))}function X(k,F,ce){var ve,me,Te=-1,De=F[1],Re=0,Be=7,Ke=4;for(De===0&&(Be=138,Ke=3),ve=0;ve<=ce;ve++)if(me=De,De=F[2*(ve+1)+1],!(++Re<Be&&me===De)){if(Re<Ke)for(;ue(k,me,k.bl_tree),--Re!=0;);else me!==0?(me!==Te&&(ue(k,me,k.bl_tree),Re--),ue(k,y,k.bl_tree),Q(k,Re-3,2)):Re<=10?(ue(k,L,k.bl_tree),Q(k,Re-3,3)):(ue(k,W,k.bl_tree),Q(k,Re-11,7));Te=me,Ke=(Re=0)===De?(Be=138,3):me===De?(Be=6,3):(Be=7,4)}}l(de);var H=!1;function N(k,F,ce,ve){Q(k,(u<<1)+(ve?1:0),3),function(me,Te,De,Re){ne(me),K(me,De),K(me,~De),s.arraySet(me.pending_buf,me.window,Te,De,me.pending),me.pending+=De}(k,F,ce)}i._tr_init=function(k){H||(function(){var F,ce,ve,me,Te,De=new Array(T+1);for(me=ve=0;me<c-1;me++)for(oe[me]=ve,F=0;F<1<<A[me];F++)C[ve++]=me;for(C[ve-1]=me,me=Te=0;me<16;me++)for(de[me]=Te,F=0;F<1<<S[me];F++)P[Te++]=me;for(Te>>=7;me<h;me++)for(de[me]=Te<<7,F=0;F<1<<S[me]-7;F++)P[256+Te++]=me;for(ce=0;ce<=T;ce++)De[ce]=0;for(F=0;F<=143;)D[2*F+1]=8,F++,De[8]++;for(;F<=255;)D[2*F+1]=9,F++,De[9]++;for(;F<=279;)D[2*F+1]=7,F++,De[7]++;for(;F<=287;)D[2*F+1]=8,F++,De[8]++;for(j(D,m+1,De),F=0;F<h;F++)I[2*F+1]=5,I[2*F]=ee(F,5);ye=new Ae(D,A,f+1,m,T),se=new Ae(I,S,0,h,T),ae=new Ae(new Array(0),_,0,E,w)}(),H=!0),k.l_desc=new he(k.dyn_ltree,ye),k.d_desc=new he(k.dyn_dtree,se),k.bl_desc=new he(k.bl_tree,ae),k.bi_buf=0,k.bi_valid=0,B(k)},i._tr_stored_block=N,i._tr_flush_block=function(k,F,ce,ve){var me,Te,De=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(Re){var Be,Ke=4093624447;for(Be=0;Be<=31;Be++,Ke>>>=1)if(1&Ke&&Re.dyn_ltree[2*Be]!==0)return o;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return a;for(Be=32;Be<f;Be++)if(Re.dyn_ltree[2*Be]!==0)return a;return o}(k)),xe(k,k.l_desc),xe(k,k.d_desc),De=function(Re){var Be;for(V(Re,Re.dyn_ltree,Re.l_desc.max_code),V(Re,Re.dyn_dtree,Re.d_desc.max_code),xe(Re,Re.bl_desc),Be=E-1;3<=Be&&Re.bl_tree[2*q[Be]+1]===0;Be--);return Re.opt_len+=3*(Be+1)+5+5+4,Be}(k),me=k.opt_len+3+7>>>3,(Te=k.static_len+3+7>>>3)<=me&&(me=Te)):me=Te=ce+5,ce+4<=me&&F!==-1?N(k,F,ce,ve):k.strategy===4||Te===me?(Q(k,2+(ve?1:0),3),re(k,D,I)):(Q(k,4+(ve?1:0),3),function(Re,Be,Ke,Ze){var tt;for(Q(Re,Be-257,5),Q(Re,Ke-1,5),Q(Re,Ze-4,4),tt=0;tt<Ze;tt++)Q(Re,Re.bl_tree[2*q[tt]+1],3);X(Re,Re.dyn_ltree,Be-1),X(Re,Re.dyn_dtree,Ke-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,De+1),re(k,k.dyn_ltree,k.dyn_dtree)),B(k),ve&&ne(k)},i._tr_tally=function(k,F,ce){return k.pending_buf[k.d_buf+2*k.last_lit]=F>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&F,k.pending_buf[k.l_buf+k.last_lit]=255&ce,k.last_lit++,F===0?k.dyn_ltree[2*ce]++:(k.matches++,F--,k.dyn_ltree[2*(C[ce]+f+1)]++,k.dyn_dtree[2*O(F)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){Q(k,2,3),ue(k,v,D),function(F){F.bi_valid===16?(K(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,m=1,h={},E=!1,b=o.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(o);T=T&&T.setTimeout?T:o,l={}.toString.call(o.process)==="[object process]"?function(y){Vt.nextTick(function(){w(y)})}:function(){if(o.postMessage&&!o.importScripts){var y=!0,L=o.onmessage;return o.onmessage=function(){y=!1},o.postMessage("","*"),o.onmessage=L,y}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(y){o.postMessage(f+y,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(y){w(y.data)},function(y){c.port2.postMessage(y)}):b&&"onreadystatechange"in b.createElement("script")?(u=b.documentElement,function(y){var L=b.createElement("script");L.onreadystatechange=function(){w(y),L.onreadystatechange=null,u.removeChild(L),L=null},u.appendChild(L)}):function(y){setTimeout(w,0,y)},T.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var L=new Array(arguments.length-1),W=0;W<L.length;W++)L[W]=arguments[W+1];var A={callback:y,args:L};return h[m]=A,l(m),m++},T.clearImmediate=d}function d(y){delete h[y]}function w(y){if(E)setTimeout(w,0,y);else{var L=h[y];if(L){E=!0;try{(function(W){var A=W.callback,S=W.args;switch(S.length){case 0:A();break;case 1:A(S[0]);break;case 2:A(S[0],S[1]);break;case 3:A(S[0],S[1],S[2]);break;default:A.apply(a,S)}})(L)}finally{d(y),E=!1}}}}function v(y){y.source===o&&typeof y.data=="string"&&y.data.indexOf(f)===0&&w(+y.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Sv)),Sv.exports}var rK=tK();const nK=z_(rK);var _f={exports:{}},Tv,J3;function iK(){if(J3)return Tv;J3=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return Tv=e,Tv}var Z3;function sK(){if(Z3)return _f.exports;Z3=1;var t=iK(),e=K_().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var f=c.stream?new e:null,m="",h=!1,E=c.indent?c.indent===!0?r:c.indent:"",b=!0;function T(L){b?Vt.nextTick(L):L()}function d(L,W){if(W!==void 0&&(m+=W),L&&!h&&(f=f||new e,h=!0),L&&h){var A=m;T(function(){f.emit("data",A)}),m=""}}function w(L,W){a(d,o(L,E,E?1:0),W)}function v(){if(f){var L=m;T(function(){f.emit("data",L),f.emit("end"),f.readable=!1,f.emit("close")})}}function y(L){var W=L.encoding||"UTF-8",A={version:"1.0",encoding:W};L.standalone&&(A.standalone=L.standalone),w({"?xml":{_attr:A}}),m=m.replace("/>","?>")}return T(function(){b=!1}),c.declaration&&y(c.declaration),u&&u.forEach?u.forEach(function(L,W){var A;W+1===u.length&&(A=v),w(L,A)}):w(u,v),f?(f.readable=!0,f):m}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:o(u)};return c.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var m=this,h=this._elem.indent;a(this.append,o(f,h,this._elem.icount+(h?1:0)),function(){m.append(!0)})},c.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function o(u,c,f){f=f||0;var m=s(c,f),h,E=u,b=!1;if(typeof u=="object"){var T=Object.keys(u);if(h=T[0],E=u[h],E&&E._elem)return E._elem.name=h,E._elem.icount=f,E._elem.indent=c,E._elem.indents=m,E._elem.interrupt=E,E._elem}var d=[],w=[],v;function y(L){var W=Object.keys(L);W.forEach(function(A){d.push(l(A,L[A]))})}switch(typeof E){case"object":if(E===null)break;E._attr&&y(E._attr),E._cdata&&w.push(("<![CDATA["+E._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),E.forEach&&(v=!1,w.push(""),E.forEach(function(L){if(typeof L=="object"){var W=Object.keys(L)[0];W=="_attr"?y(L._attr):w.push(o(L,c,f+1))}else w.pop(),v=!0,w.push(t(L))}),v||w.push(""));break;default:w.push(t(E))}return{name:h,interrupt:b,attributes:d,content:w,icount:f,indents:m,indent:c}}function a(u,c,f){if(typeof c!="object")return u(!1,c);var m=c.interrupt?1:c.content.length;function h(){for(;c.content.length;){var b=c.content.shift();if(b!==void 0){if(E(b))return;a(u,b)}}u(!1,(m>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!f?`
`:"")),f&&f()}function E(b){return b.interrupt?(b.interrupt.append=u,b.interrupt.end=h,b.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(m?c.name?">":"":c.name?"/>":"")+(c.indent&&m>1?`
`:"")),!m)return u(!1,c.indent?`
`:"");E(c)||h()}function l(u,c){return u+'="'+t(c)+'"'}return _f.exports=n,_f.exports.element=_f.exports.Element=i,_f.exports}var oK=sK();const Wr=z_(oK),bf=0,Nv=32,aK=32,lK=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==aK)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=t.slice(bf,Nv).map((l,u)=>l^i[u%i.length]),a=new Uint8Array(bf+o.length+Math.max(0,t.length-Nv));return a.set(t.slice(0,bf)),a.set(o,bf),a.set(t.slice(Nv),bf+o.length),a};class uK{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class cK{replace(e,r,n){let i=e;return r.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class hK{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class fK{constructor(){Fe(this,"formatter"),Fe(this,"imageReplacer"),Fe(this,"numberingReplacer"),this.formatter=new uK,this.imageReplacer=new cK,this.numberingReplacer=new hK}compile(e,r,n=[]){const i=new nK,s=this.xmlifyFile(e,r),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const l of a)i.file(l.path,l.data);else i.file(a.path,a.data);for(const a of n)i.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){const[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,lK(a,u))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=Wr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=Wr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(a.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Wr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=Wr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Wr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Wr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Wr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,E)=>{u.Relationships.createRelationship(E,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Wr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,E)=>{u.Relationships.createRelationship(E,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Wr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{const f=Wr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:Wr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Wr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Wr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Wr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Wr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Wr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(o,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Wr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Wr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Wr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const dK={WITH_2_BLANKS:"  "},eS=t=>t===!0?dK.WITH_2_BLANKS:t===!1?void 0:t,SR=class Ac{static pack(e,r,n){return Uz(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,eS(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Ac.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Ac.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Ac.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Ac.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Ac.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new eK.Stream;return this.compiler.compile(e,eS(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Fe(SR,"compiler",new fK);let pK=SR;var TR={exports:{}};(function(t,e){(function(r,n){n()})(af,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,f){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){l(m.response,c,f)},m.onerror=function(){console.error("could not download file")},m.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof af=="object"&&af.global===af?af:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var m=o.URL||o.webkitURL,h=document.createElement("a");c=c||u.name||"download",h.download=c,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?s(h):i(h.href)?n(u,c,f):s(h,h.target="_blank")):(h.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),c);else if(i(u))n(u,c,f);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){s(m)})}}:function(u,c,f,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,f);var h=u.type==="application/octet-stream",E=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||h&&E||a)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var v=T.result;v=b?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=v:location=v,m=null},T.readAsDataURL(u)}else{var d=o.URL||o.webkitURL,w=d.createObjectURL(u);m?m.location=w:location.href=w,m=null,setTimeout(function(){d.revokeObjectURL(w)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(TR);var mK=TR.exports;const gK="modulepreload",yK=function(t){return"/DocSimplesReports/"+t},tS={},Iv=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=yK(l),l in tS)return;tS[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":gK,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function ur(t){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(t)}var Zs=Uint8Array,ts=Uint16Array,rb=Int32Array,nb=new Zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ib=new Zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rS=new Zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NR=function(t,e){for(var r=new ts(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new rb(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},IR=NR(nb,2),vK=IR.b,Cw=IR.r;vK[28]=258,Cw[258]=28;var wK=NR(ib,0),nS=wK.r,Rw=new ts(32768);for(var Pr=0;Pr<32768;++Pr){var Ya=(Pr&43690)>>1|(Pr&21845)<<1;Ya=(Ya&52428)>>2|(Ya&13107)<<2,Ya=(Ya&61680)>>4|(Ya&3855)<<4,Rw[Pr]=((Ya&65280)>>8|(Ya&255)<<8)>>1}var Qf=function(t,e,r){for(var n=t.length,i=0,s=new ts(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new ts(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new ts(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,m=f|(1<<c)-1;f<=m;++f)a[Rw[f]>>l]=u}else for(a=new ts(n),i=0;i<n;++i)t[i]&&(a[i]=Rw[o[t[i]-1]++]>>15-t[i]);return a},ju=new Zs(288);for(var Pr=0;Pr<144;++Pr)ju[Pr]=8;for(var Pr=144;Pr<256;++Pr)ju[Pr]=9;for(var Pr=256;Pr<280;++Pr)ju[Pr]=7;for(var Pr=280;Pr<288;++Pr)ju[Pr]=8;var Fg=new Zs(32);for(var Pr=0;Pr<32;++Pr)Fg[Pr]=5;var _K=Qf(ju,9,0),bK=Qf(Fg,5,0),kR=function(t){return(t+7)/8|0},xK=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Zs(t.subarray(e,r))},ia=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},xf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},kv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:RR,l:0};if(i==1){var o=new Zs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(L,W){return L.f-W.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var h=new ts(m+1),E=Pw(r[c-1],h,0);if(E>e){var n=0,b=0,T=E-e,d=1<<T;for(s.sort(function(W,A){return h[A.s]-h[W.s]||W.f-A.f});n<i;++n){var w=s[n].s;if(h[w]>e)b+=d-(1<<E-h[w]),h[w]=e;else break}for(b>>=T;b>0;){var v=s[n].s;h[v]<e?b-=1<<e-h[v]++-1:++n}for(;n>=0&&b;--n){var y=s[n].s;h[y]==e&&(--h[y],++b)}E=e}return{t:new Zs(h),l:E}},Pw=function(t,e,r){return t.s==-1?Math.max(Pw(t.l,e,r+1),Pw(t.r,e,r+1)):e[t.s]=r},iS=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ts(++e),n=0,i=t[0],s=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},Ef=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},CR=function(t,e,r){var n=r.length,i=kR(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},sS=function(t,e,r,n,i,s,o,a,l,u,c){ia(e,c++,r),++i[256];for(var f=kv(i,15),m=f.t,h=f.l,E=kv(s,15),b=E.t,T=E.l,d=iS(m),w=d.c,v=d.n,y=iS(b),L=y.c,W=y.n,A=new ts(19),S=0;S<w.length;++S)++A[w[S]&31];for(var S=0;S<L.length;++S)++A[L[S]&31];for(var _=kv(A,7),q=_.t,D=_.l,I=19;I>4&&!q[rS[I-1]];--I);var P=u+5<<3,C=Ef(i,ju)+Ef(s,Fg)+o,oe=Ef(i,m)+Ef(s,b)+o+14+3*I+Ef(A,q)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&P<=C&&P<=oe)return CR(e,c,t.subarray(l,l+u));var ye,se,ae,de;if(ia(e,c,1+(oe<C)),c+=2,oe<C){ye=Qf(m,h,0),se=m,ae=Qf(b,T,0),de=b;var Ae=Qf(q,D,0);ia(e,c,v-257),ia(e,c+5,W-1),ia(e,c+10,I-4),c+=14;for(var S=0;S<I;++S)ia(e,c+3*S,q[rS[S]]);c+=3*I;for(var he=[w,L],O=0;O<2;++O)for(var K=he[O],S=0;S<K.length;++S){var Q=K[S]&31;ia(e,c,Ae[Q]),c+=q[Q],Q>15&&(ia(e,c,K[S]>>5&127),c+=K[S]>>12)}}else ye=_K,se=ju,ae=bK,de=Fg;for(var S=0;S<a;++S){var ue=n[S];if(ue>255){var Q=ue>>18&31;xf(e,c,ye[Q+257]),c+=se[Q+257],Q>7&&(ia(e,c,ue>>23&31),c+=nb[Q]);var ee=ue&31;xf(e,c,ae[ee]),c+=de[ee],ee>3&&(xf(e,c,ue>>5&8191),c+=ib[ee])}else xf(e,c,ye[ue]),c+=se[ue]}return xf(e,c,ye[256]),c+se[256]},EK=new rb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RR=new Zs(0),AK=function(t,e,r,n,i,s){var o=s.z||t.length,a=new Zs(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var f=EK[e-1],m=f>>13,h=f&8191,E=(1<<r)-1,b=s.p||new ts(32768),T=s.h||new ts(E+1),d=Math.ceil(r/3),w=2*d,v=function(V){return(t[V]^t[V+1]<<d^t[V+2]<<w)&E},y=new rb(25e3),L=new ts(288),W=new ts(32),A=0,S=0,_=s.i||0,q=0,D=s.w||0,I=0;_+2<o;++_){var P=v(_),C=_&32767,oe=T[P];if(b[C]=oe,T[P]=C,D<=_){var ye=o-_;if((A>7e3||q>24576)&&(ye>423||!u)){c=sS(t,l,0,y,L,W,S,q,I,_-I,c),q=A=S=0,I=_;for(var se=0;se<286;++se)L[se]=0;for(var se=0;se<30;++se)W[se]=0}var ae=2,de=0,Ae=h,he=C-oe&32767;if(ye>2&&P==v(_-he))for(var O=Math.min(m,ye)-1,K=Math.min(32767,_),Q=Math.min(258,ye);he<=K&&--Ae&&C!=oe;){if(t[_+ae]==t[_+ae-he]){for(var ue=0;ue<Q&&t[_+ue]==t[_+ue-he];++ue);if(ue>ae){if(ae=ue,de=he,ue>O)break;for(var ee=Math.min(he,ue-2),j=0,se=0;se<ee;++se){var B=_-he+se&32767,ne=b[B],te=B-ne&32767;te>j&&(j=te,oe=B)}}}C=oe,oe=b[C],he+=C-oe&32767}if(de){y[q++]=268435456|Cw[ae]<<18|nS[de];var Y=Cw[ae]&31,re=nS[de]&31;S+=nb[Y]+ib[re],++L[257+Y],++W[re],D=_+ae,++A}else y[q++]=t[_],++L[t[_]]}}for(_=Math.max(_,D);_<o;++_)y[q++]=t[_],++L[t[_]];c=sS(t,l,u,y,L,W,S,q,I,_-I,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=T,s.p=b,s.i=_,s.w=D)}else{for(var _=s.w||0;_<o+u;_+=65535){var xe=_+65535;xe>=o&&(l[c/8|0]=u,xe=o),c=CR(l,c+1,t.subarray(_,xe))}s.i=o}return xK(a,0,n+kR(c)+i)},PR=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},SK=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return AK(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},LR=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},TK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=PR();i.p(e.dictionary),LR(t,2,i.d())}};function Lw(t,e){e||(e={});var r=PR();r.p(t);var n=SK(t,e,e.dictionary?6:2,4);return TK(n,e),LR(n,n.length-4,r.d()),n}var NK=typeof TextDecoder<"u"&&new TextDecoder,IK=0;try{NK.decode(RR,{stream:!0}),IK=1}catch{}function kK(t){if(Array.isArray(t))return t}function CK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function RK(t,e){if(t){if(typeof t=="string")return oS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oS(t,e):void 0}}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aS(t,e){return kK(t)||CK(t,e)||RK(t,e)||PK()}function lS(t,e="utf8"){return new TextDecoder(e).decode(t)}const LK=new TextEncoder;function OK(t){return LK.encode(t)}const DK=1024*8,FK=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Cv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sb{constructor(e=DK,r={}){lr(this,"buffer");lr(this,"byteLength");lr(this,"byteOffset");lr(this,"length");lr(this,"offset");lr(this,"lastWrittenByte");lr(this,"littleEndian");lr(this,"_data");lr(this,"_mark");lr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof sb)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Cv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===FK&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new Cv[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new Cv[r](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return lS(this.readBytes(e))}decodeText(e=1,r="utf8"){return lS(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(OK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uh(t){let e=t.length;for(;--e>=0;)t[e]=0}const jK=3,MK=258,OR=29,BK=256,UK=BK+1+OR,DR=30,VK=512,zK=new Array((UK+2)*2);Uh(zK);const qK=new Array(DR*2);Uh(qK);const WK=new Array(VK);Uh(WK);const HK=new Array(MK-jK+1);Uh(HK);const $K=new Array(OR);Uh($K);const GK=new Array(DR);Uh(GK);const KK=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Ow=KK;const XK=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},YK=new Uint32Array(XK()),QK=(t,e,r,n)=>{const i=YK,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var vo=QK,Dw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},FR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const JK=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ZK=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)JK(r,n)&&(t[n]=r[n])}}return t},eX=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},jR={assign:ZK,flattenChunks:eX};let MR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{MR=!1}const kd=new Uint8Array(256);for(let t=0;t<256;t++)kd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;kd[254]=kd[254]=1;var tX=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const rX=(t,e)=>{if(e<65534&&t.subarray&&MR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var nX=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=kd[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return rX(s,i)},iX=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+kd[t[r]]>e?r:e},Fw={string2buf:tX,buf2string:nX,utf8border:iX};function sX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var oX=sX;const om=16209,aX=16191;var lX=function(e,r){let n,i,s,o,a,l,u,c,f,m,h,E,b,T,d,w,v,y,L,W,A,S,_,q;const D=e.state;n=e.next_in,_=e.input,i=n+(e.avail_in-5),s=e.next_out,q=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),l=D.dmax,u=D.wsize,c=D.whave,f=D.wnext,m=D.window,h=D.hold,E=D.bits,b=D.lencode,T=D.distcode,d=(1<<D.lenbits)-1,w=(1<<D.distbits)-1;e:do{E<15&&(h+=_[n++]<<E,E+=8,h+=_[n++]<<E,E+=8),v=b[h&d];t:for(;;){if(y=v>>>24,h>>>=y,E-=y,y=v>>>16&255,y===0)q[s++]=v&65535;else if(y&16){L=v&65535,y&=15,y&&(E<y&&(h+=_[n++]<<E,E+=8),L+=h&(1<<y)-1,h>>>=y,E-=y),E<15&&(h+=_[n++]<<E,E+=8,h+=_[n++]<<E,E+=8),v=T[h&w];r:for(;;){if(y=v>>>24,h>>>=y,E-=y,y=v>>>16&255,y&16){if(W=v&65535,y&=15,E<y&&(h+=_[n++]<<E,E+=8,E<y&&(h+=_[n++]<<E,E+=8)),W+=h&(1<<y)-1,W>l){e.msg="invalid distance too far back",D.mode=om;break e}if(h>>>=y,E-=y,y=s-o,W>y){if(y=W-y,y>c&&D.sane){e.msg="invalid distance too far back",D.mode=om;break e}if(A=0,S=m,f===0){if(A+=u-y,y<L){L-=y;do q[s++]=m[A++];while(--y);A=s-W,S=q}}else if(f<y){if(A+=u+f-y,y-=f,y<L){L-=y;do q[s++]=m[A++];while(--y);if(A=0,f<L){y=f,L-=y;do q[s++]=m[A++];while(--y);A=s-W,S=q}}}else if(A+=f-y,y<L){L-=y;do q[s++]=m[A++];while(--y);A=s-W,S=q}for(;L>2;)q[s++]=S[A++],q[s++]=S[A++],q[s++]=S[A++],L-=3;L&&(q[s++]=S[A++],L>1&&(q[s++]=S[A++]))}else{A=s-W;do q[s++]=q[A++],q[s++]=q[A++],q[s++]=q[A++],L-=3;while(L>2);L&&(q[s++]=q[A++],L>1&&(q[s++]=q[A++]))}}else if(y&64){e.msg="invalid distance code",D.mode=om;break e}else{v=T[(v&65535)+(h&(1<<y)-1)];continue r}break}}else if(y&64)if(y&32){D.mode=aX;break e}else{e.msg="invalid literal/length code",D.mode=om;break e}else{v=b[(v&65535)+(h&(1<<y)-1)];continue t}break}}while(n<i&&s<a);L=E>>3,n-=L,E-=L<<3,h&=(1<<E)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),D.hold=h,D.bits=E};const gc=15,uS=852,cS=592,hS=0,Rv=1,fS=2,uX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dX=(t,e,r,n,i,s,o,a)=>{const l=a.bits;let u=0,c=0,f=0,m=0,h=0,E=0,b=0,T=0,d=0,w=0,v,y,L,W,A,S=null,_;const q=new Uint16Array(gc+1),D=new Uint16Array(gc+1);let I=null,P,C,oe;for(u=0;u<=gc;u++)q[u]=0;for(c=0;c<n;c++)q[e[r+c]]++;for(h=l,m=gc;m>=1&&q[m]===0;m--);if(h>m&&(h=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<m&&q[f]===0;f++);for(h<f&&(h=f),T=1,u=1;u<=gc;u++)if(T<<=1,T-=q[u],T<0)return-1;if(T>0&&(t===hS||m!==1))return-1;for(D[1]=0,u=1;u<gc;u++)D[u+1]=D[u]+q[u];for(c=0;c<n;c++)e[r+c]!==0&&(o[D[e[r+c]]++]=c);if(t===hS?(S=I=o,_=20):t===Rv?(S=uX,I=cX,_=257):(S=hX,I=fX,_=0),w=0,c=0,u=f,A=s,E=h,b=0,L=-1,d=1<<h,W=d-1,t===Rv&&d>uS||t===fS&&d>cS)return 1;for(;;){P=u-b,o[c]+1<_?(C=0,oe=o[c]):o[c]>=_?(C=I[o[c]-_],oe=S[o[c]-_]):(C=96,oe=0),v=1<<u-b,y=1<<E,f=y;do y-=v,i[A+(w>>b)+y]=P<<24|C<<16|oe|0;while(y!==0);for(v=1<<u-1;w&v;)v>>=1;if(v!==0?(w&=v-1,w+=v):w=0,c++,--q[u]===0){if(u===m)break;u=e[r+o[c]]}if(u>h&&(w&W)!==L){for(b===0&&(b=h),A+=f,E=u-b,T=1<<E;E+b<m&&(T-=q[E+b],!(T<=0));)E++,T<<=1;if(d+=1<<E,t===Rv&&d>uS||t===fS&&d>cS)return 1;L=w&W,i[L]=h<<24|E<<16|A-s|0}}return w!==0&&(i[A+w]=u-b<<24|64<<16|0),a.bits=h,0};var Jf=dX;const pX=0,BR=1,UR=2,{Z_FINISH:dS,Z_BLOCK:mX,Z_TREES:am,Z_OK:Mu,Z_STREAM_END:gX,Z_NEED_DICT:yX,Z_STREAM_ERROR:Is,Z_DATA_ERROR:VR,Z_MEM_ERROR:zR,Z_BUF_ERROR:vX,Z_DEFLATED:pS}=FR,O1=16180,mS=16181,gS=16182,yS=16183,vS=16184,wS=16185,_S=16186,bS=16187,xS=16188,ES=16189,jg=16190,sa=16191,Pv=16192,AS=16193,Lv=16194,SS=16195,TS=16196,NS=16197,IS=16198,lm=16199,um=16200,kS=16201,CS=16202,RS=16203,PS=16204,LS=16205,Ov=16206,OS=16207,DS=16208,Dr=16209,qR=16210,WR=16211,wX=852,_X=592,bX=15,xX=bX,FS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function EX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<O1||e.mode>WR?1:0},HR=t=>{if(Qu(t))return Is;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=O1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(wX),e.distcode=e.distdyn=new Int32Array(_X),e.sane=1,e.back=-1,Mu},$R=t=>{if(Qu(t))return Is;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,HR(t)},GR=(t,e)=>{let r;if(Qu(t))return Is;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Is:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,$R(t))},KR=(t,e)=>{if(!t)return Is;const r=new EX;t.state=r,r.strm=t,r.window=null,r.mode=O1;const n=GR(t,e);return n!==Mu&&(t.state=null),n},AX=t=>KR(t,xX);let jS=!0,Dv,Fv;const SX=t=>{if(jS){Dv=new Int32Array(512),Fv=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Jf(BR,t.lens,0,288,Dv,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Jf(UR,t.lens,0,32,Fv,0,t.work,{bits:5}),jS=!1}t.lencode=Dv,t.lenbits=9,t.distcode=Fv,t.distbits=5},XR=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},TX=(t,e)=>{let r,n,i,s,o,a,l,u,c,f,m,h,E,b,T=0,d,w,v,y,L,W,A,S;const _=new Uint8Array(4);let q,D;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qu(t)||!t.output||!t.input&&t.avail_in!==0)return Is;r=t.state,r.mode===sa&&(r.mode=Pv),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,f=a,m=l,S=Mu;e:for(;;)switch(r.mode){case O1:if(r.wrap===0){r.mode=Pv;break}for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,_[0]=u&255,_[1]=u>>>8&255,r.check=vo(r.check,_,2,0),u=0,c=0,r.mode=mS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Dr;break}if((u&15)!==pS){t.msg="unknown compression method",r.mode=Dr;break}if(u>>>=4,c-=4,A=(u&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){t.msg="invalid window size",r.mode=Dr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?ES:sa,u=0,c=0;break;case mS:for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==pS){t.msg="unknown compression method",r.mode=Dr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Dr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,r.check=vo(r.check,_,2,0)),u=0,c=0,r.mode=gS;case gS:for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,_[2]=u>>>16&255,_[3]=u>>>24&255,r.check=vo(r.check,_,4,0)),u=0,c=0,r.mode=yS;case yS:for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,r.check=vo(r.check,_,2,0)),u=0,c=0,r.mode=vS;case vS:if(r.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,r.check=vo(r.check,_,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=wS;case wS:if(r.flags&1024&&(h=r.length,h>a&&(h=a),h&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),A)),r.flags&512&&r.wrap&4&&(r.check=vo(r.check,n,h,s)),a-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=_S;case _S:if(r.flags&2048){if(a===0)break e;h=0;do A=n[s+h++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&h<a);if(r.flags&512&&r.wrap&4&&(r.check=vo(r.check,n,h,s)),a-=h,s+=h,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=bS;case bS:if(r.flags&4096){if(a===0)break e;h=0;do A=n[s+h++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&h<a);if(r.flags&512&&r.wrap&4&&(r.check=vo(r.check,n,h,s)),a-=h,s+=h,A)break e}else r.head&&(r.head.comment=null);r.mode=xS;case xS:if(r.flags&512){for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Dr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=sa;break;case ES:for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}t.adler=r.check=FS(u),u=0,c=0,r.mode=jg;case jg:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,yX;t.adler=r.check=1,r.mode=sa;case sa:if(e===mX||e===am)break e;case Pv:if(r.last){u>>>=c&7,c-=c&7,r.mode=Ov;break}for(;c<3;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=AS;break;case 1:if(SX(r),r.mode=lm,e===am){u>>>=2,c-=2;break e}break;case 2:r.mode=TS;break;case 3:t.msg="invalid block type",r.mode=Dr}u>>>=2,c-=2;break;case AS:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Dr;break}if(r.length=u&65535,u=0,c=0,r.mode=Lv,e===am)break e;case Lv:r.mode=SS;case SS:if(h=r.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(n.subarray(s,s+h),o),a-=h,s+=h,l-=h,o+=h,r.length-=h;break}r.mode=sa;break;case TS:for(;c<14;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Dr;break}r.have=0,r.mode=NS;case NS:for(;r.have<r.ncode;){for(;c<3;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.lens[I[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},S=Jf(pX,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,S){t.msg="invalid code lengths set",r.mode=Dr;break}r.have=0,r.mode=IS;case IS:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[u&(1<<r.lenbits)-1],d=T>>>24,w=T>>>16&255,v=T&65535,!(d<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(v<16)u>>>=d,c-=d,r.lens[r.have++]=v;else{if(v===16){for(D=d+2;c<D;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(u>>>=d,c-=d,r.have===0){t.msg="invalid bit length repeat",r.mode=Dr;break}A=r.lens[r.have-1],h=3+(u&3),u>>>=2,c-=2}else if(v===17){for(D=d+3;c<D;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=d,c-=d,A=0,h=3+(u&7),u>>>=3,c-=3}else{for(D=d+7;c<D;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=d,c-=d,A=0,h=11+(u&127),u>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Dr;break}for(;h--;)r.lens[r.have++]=A}}if(r.mode===Dr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Dr;break}if(r.lenbits=9,q={bits:r.lenbits},S=Jf(BR,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,S){t.msg="invalid literal/lengths set",r.mode=Dr;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},S=Jf(UR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,S){t.msg="invalid distances set",r.mode=Dr;break}if(r.mode=lm,e===am)break e;case lm:r.mode=um;case um:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,lX(t,m),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,r.mode===sa&&(r.back=-1);break}for(r.back=0;T=r.lencode[u&(1<<r.lenbits)-1],d=T>>>24,w=T>>>16&255,v=T&65535,!(d<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(w&&!(w&240)){for(y=d,L=w,W=v;T=r.lencode[W+((u&(1<<y+L)-1)>>y)],d=T>>>24,w=T>>>16&255,v=T&65535,!(y+d<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=y,c-=y,r.back+=y}if(u>>>=d,c-=d,r.back+=d,r.length=v,w===0){r.mode=LS;break}if(w&32){r.back=-1,r.mode=sa;break}if(w&64){t.msg="invalid literal/length code",r.mode=Dr;break}r.extra=w&15,r.mode=kS;case kS:if(r.extra){for(D=r.extra;c<D;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=CS;case CS:for(;T=r.distcode[u&(1<<r.distbits)-1],d=T>>>24,w=T>>>16&255,v=T&65535,!(d<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(!(w&240)){for(y=d,L=w,W=v;T=r.distcode[W+((u&(1<<y+L)-1)>>y)],d=T>>>24,w=T>>>16&255,v=T&65535,!(y+d<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=y,c-=y,r.back+=y}if(u>>>=d,c-=d,r.back+=d,w&64){t.msg="invalid distance code",r.mode=Dr;break}r.offset=v,r.extra=w&15,r.mode=RS;case RS:if(r.extra){for(D=r.extra;c<D;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Dr;break}r.mode=PS;case PS:if(l===0)break e;if(h=m-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Dr;break}h>r.wnext?(h-=r.wnext,E=r.wsize-h):E=r.wnext-h,h>r.length&&(h=r.length),b=r.window}else b=i,E=o-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[o++]=b[E++];while(--h);r.length===0&&(r.mode=um);break;case LS:if(l===0)break e;i[o++]=r.length,l--,r.mode=um;break;case Ov:if(r.wrap){for(;c<32;){if(a===0)break e;a--,u|=n[s++]<<c,c+=8}if(m-=l,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?vo(r.check,i,m,o-m):Ow(r.check,i,m,o-m)),m=l,r.wrap&4&&(r.flags?u:FS(u))!==r.check){t.msg="incorrect data check",r.mode=Dr;break}u=0,c=0}r.mode=OS;case OS:if(r.wrap&&r.flags){for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Dr;break}u=0,c=0}r.mode=DS;case DS:S=gX;break e;case Dr:S=VR;break e;case qR:return zR;case WR:default:return Is}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,(r.wsize||m!==t.avail_out&&r.mode<Dr&&(r.mode<Ov||e!==dS))&&XR(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?vo(r.check,i,m,t.next_out-m):Ow(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===sa?128:0)+(r.mode===lm||r.mode===Lv?256:0),(f===0&&m===0||e===dS)&&S===Mu&&(S=vX),S},NX=t=>{if(Qu(t))return Is;let e=t.state;return e.window&&(e.window=null),t.state=null,Mu},IX=(t,e)=>{if(Qu(t))return Is;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Mu):Is},kX=(t,e)=>{const r=e.length;let n,i,s;return Qu(t)||(n=t.state,n.wrap!==0&&n.mode!==jg)?Is:n.mode===jg&&(i=1,i=Ow(i,e,r,0),i!==n.check)?VR:(s=XR(t,e,r,r),s?(n.mode=qR,zR):(n.havedict=1,Mu))};var CX=$R,RX=GR,PX=HR,LX=AX,OX=KR,DX=TX,FX=NX,jX=IX,MX=kX,BX="pako inflate (from Nodeca project)",la={inflateReset:CX,inflateReset2:RX,inflateResetKeep:PX,inflateInit:LX,inflateInit2:OX,inflate:DX,inflateEnd:FX,inflateGetHeader:jX,inflateSetDictionary:MX,inflateInfo:BX};function UX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var VX=UX;const YR=Object.prototype.toString,{Z_NO_FLUSH:zX,Z_FINISH:qX,Z_OK:Cd,Z_STREAM_END:jv,Z_NEED_DICT:Mv,Z_STREAM_ERROR:WX,Z_DATA_ERROR:MS,Z_MEM_ERROR:HX}=FR;function np(t){this.options=jR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oX,this.strm.avail_out=0;let r=la.inflateInit2(this.strm,e.windowBits);if(r!==Cd)throw new Error(Dw[r]);if(this.header=new VX,la.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Fw.string2buf(e.dictionary):YR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=la.inflateSetDictionary(this.strm,e.dictionary),r!==Cd)))throw new Error(Dw[r])}np.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?qX:zX,YR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=la.inflate(r,o),s===Mv&&i&&(s=la.inflateSetDictionary(r,i),s===Cd?s=la.inflate(r,o):s===MS&&(s=Mv));r.avail_in>0&&s===jv&&r.state.wrap>0&&t[r.next_in]!==0;)la.inflateReset(r),s=la.inflate(r,o);switch(s){case WX:case MS:case Mv:case HX:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===jv))if(this.options.to==="string"){let l=Fw.utf8border(r.output,r.next_out),u=r.next_out-l,c=Fw.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Cd&&a===0)){if(s===jv)return s=la.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};np.prototype.onData=function(t){this.chunks.push(t)};np.prototype.onEnd=function(t){t===Cd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function $X(t,e){const r=new np(e);if(r.push(t),r.err)throw r.msg||Dw[r.err];return r.result}var GX=np,KX=$X,XX={Inflate:GX,inflate:KX};const{Inflate:YX,inflate:QX}=XX;var BS=YX,JX=QX;const QR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;QR[t]=e}const US=4294967295;function ZX(t,e,r){let n=t;for(let i=0;i<r;i++)n=QR[(n^e[i])&255]^n>>>8;return n}function eY(t,e){return(ZX(US,t,e)^US)>>>0}function VS(t,e,r){const n=t.readUint32(),i=eY(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function JR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function ZR(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function e8(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function t8(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function r8(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+tY(e[s-i],r[s],r[s-i])&255}}function tY(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return i<=s&&i<=o?t:s<=o?e:r}function rY(t,e,r,n,i,s){switch(t){case 0:JR(e,r,i);break;case 1:ZR(e,r,i,s);break;case 2:e8(e,r,n,i);break;case 3:t8(e,r,n,i,s);break;case 4:r8(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const nY=new Uint16Array([255]),iY=new Uint8Array(nY.buffer),sY=iY[0]===255;function oY(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(n*r*a);let u=0;for(let c=0;c<7;c++){const f=o[c],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const E=m*a,b=new Uint8Array(E);for(let T=0;T<h;T++){const d=e[u++],w=e.subarray(u,u+E);u+=E;const v=new Uint8Array(E);rY(d,w,v,b,E,a),b.set(v);for(let y=0;y<m;y++){const L=f.x+y*f.xStep,W=f.y+T*f.yStep;if(!(L>=r||W>=n))for(let A=0;A<a;A++)l[(W*r+L)*a+A]=v[y*a+A]}}}if(s===16){const c=new Uint16Array(l.buffer);if(sY)for(let f=0;f<c.length;f++)c[f]=aY(c[f]);return c}else return l}function aY(t){return(t&255)<<8|t>>8&255}const lY=new Uint16Array([255]),uY=new Uint8Array(lY.buffer),cY=uY[0]===255,hY=new Uint8Array(0);function zS(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),l=new Uint8Array(n*a);let u=hY,c=0,f,m;for(let h=0;h<n;h++){switch(f=e.subarray(c+1,c+1+a),m=l.subarray(h*a,(h+1)*a),e[c]){case 0:JR(f,m,a);break;case 1:ZR(f,m,a,o);break;case 2:e8(f,m,u,a);break;case 3:t8(f,m,u,a,o);break;case 4:r8(f,m,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=m,c+=a+1}if(s===16){const h=new Uint16Array(l.buffer);if(cY)for(let E=0;E<h.length;E++)h[E]=fY(h[E]);return h}else return l}function fY(t){return(t&255)<<8|t>>8&255}const Mm=Uint8Array.of(137,80,78,71,13,10,26,10);function qS(t){if(!dY(t.readBytes(Mm.length)))throw new Error("wrong PNG signature")}function dY(t){if(t.length<Mm.length)return!1;for(let e=0;e<Mm.length;e++)if(t[e]!==Mm[e])return!1;return!0}const pY="tEXt",mY=0,n8=new TextDecoder("latin1");function gY(t){if(vY(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const yY=/^[\u0000-\u00FF]*$/;function vY(t){if(!yY.test(t))throw new Error("invalid latin1 text")}function wY(t,e,r){const n=i8(e);t[n]=_Y(e,r-n.length-1)}function i8(t){for(t.mark();t.readByte()!==mY;);const e=t.offset;t.reset();const r=n8.decode(t.readBytes(e-t.offset-1));return t.skip(1),gY(r),r}function _Y(t,e){return n8.decode(t.readBytes(e))}const Yi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Bv={UNKNOWN:-1,DEFLATE:0},WS={UNKNOWN:-1,ADAPTIVE:0},Uv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cm={NONE:0,BACKGROUND:1,PREVIOUS:2},Vv={SOURCE:0,OVER:1};class bY extends sb{constructor(r,n={}){super(r);lr(this,"_checkCrc");lr(this,"_inflator");lr(this,"_png");lr(this,"_apng");lr(this,"_end");lr(this,"_hasPalette");lr(this,"_palette");lr(this,"_hasTransparency");lr(this,"_transparency");lr(this,"_compressionMethod");lr(this,"_filterMethod");lr(this,"_interlaceMethod");lr(this,"_colorType");lr(this,"_isAnimated");lr(this,"_numberOfFrames");lr(this,"_numberOfPlays");lr(this,"_frames");lr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new BS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Bv.UNKNOWN,this._filterMethod=WS.UNKNOWN,this._interlaceMethod=Uv.UNKNOWN,this._colorType=Yi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qS(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(qS(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case pY:wY(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?VS(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?VS(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=xY(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Yi.GREYSCALE:i=1;break;case Yi.TRUECOLOUR:i=3;break;case Yi.INDEXED_COLOUR:i=1;break;case Yi.GREYSCALE_ALPHA:i=2;break;case Yi.TRUECOLOUR_ALPHA:i=4;break;case Yi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Bv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Yi.GREYSCALE:case Yi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Yi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Yi.UNKNOWN:case Yi.GREYSCALE_ALPHA:case Yi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=i8(this),i=this.readUint8();if(i!==Bv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:JX(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=zS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case cm.NONE:break;case cm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case cm.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,u=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case Vv.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case Vv.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const f=n.data[u+this._png.channels-1]/i,m=c%(this._png.channels-1)===0?1:n.data[u+c],h=Math.floor(f*m+(1-f)*r.data[l+c]);r.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==WS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Uv.NO_INTERLACE)this._png.data=zS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Uv.ADAM7)this._png.data=oY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cm.NONE,blendOp:Vv.SOURCE,data:r}),this._inflator=new BS,this._writingDataChunks=!1}}function xY(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var HS;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(HS||(HS={}));function EY(t,e){return new bY(t,e).decode()}var Rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zv(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var gr={log:zv,warn:function(t){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):zv.call(null,arguments))},error:function(t){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):zv(t))}};function qv(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){fu(n.response,e,r)},n.onerror=function(){gr.error("could not download file")},n.send()}function $S(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fu=Rt.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Rt.URL||Rt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?$S(i.href)?qv(t,e,r):hm(i,i.target="_blank"):hm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){hm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if($S(t))qv(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){hm(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ur(s)!=="object"&&(gr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return qv(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Rt.HTMLElement)||Rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},a.readAsDataURL(t)}else{var l=Rt.URL||Rt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function s8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Bm=Rt.atob.bind(Rt),GS=Rt.btoa.bind(Rt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wv(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Gn(r,n,i,s,e[0],7,-680876936),s=Gn(s,r,n,i,e[1],12,-389564586),i=Gn(i,s,r,n,e[2],17,606105819),n=Gn(n,i,s,r,e[3],22,-1044525330),r=Gn(r,n,i,s,e[4],7,-176418897),s=Gn(s,r,n,i,e[5],12,1200080426),i=Gn(i,s,r,n,e[6],17,-1473231341),n=Gn(n,i,s,r,e[7],22,-45705983),r=Gn(r,n,i,s,e[8],7,1770035416),s=Gn(s,r,n,i,e[9],12,-1958414417),i=Gn(i,s,r,n,e[10],17,-42063),n=Gn(n,i,s,r,e[11],22,-1990404162),r=Gn(r,n,i,s,e[12],7,1804603682),s=Gn(s,r,n,i,e[13],12,-40341101),i=Gn(i,s,r,n,e[14],17,-1502002290),r=Kn(r,n=Gn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Kn(s,r,n,i,e[6],9,-1069501632),i=Kn(i,s,r,n,e[11],14,643717713),n=Kn(n,i,s,r,e[0],20,-373897302),r=Kn(r,n,i,s,e[5],5,-701558691),s=Kn(s,r,n,i,e[10],9,38016083),i=Kn(i,s,r,n,e[15],14,-660478335),n=Kn(n,i,s,r,e[4],20,-405537848),r=Kn(r,n,i,s,e[9],5,568446438),s=Kn(s,r,n,i,e[14],9,-1019803690),i=Kn(i,s,r,n,e[3],14,-187363961),n=Kn(n,i,s,r,e[8],20,1163531501),r=Kn(r,n,i,s,e[13],5,-1444681467),s=Kn(s,r,n,i,e[2],9,-51403784),i=Kn(i,s,r,n,e[7],14,1735328473),r=Xn(r,n=Kn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xn(s,r,n,i,e[8],11,-2022574463),i=Xn(i,s,r,n,e[11],16,1839030562),n=Xn(n,i,s,r,e[14],23,-35309556),r=Xn(r,n,i,s,e[1],4,-1530992060),s=Xn(s,r,n,i,e[4],11,1272893353),i=Xn(i,s,r,n,e[7],16,-155497632),n=Xn(n,i,s,r,e[10],23,-1094730640),r=Xn(r,n,i,s,e[13],4,681279174),s=Xn(s,r,n,i,e[0],11,-358537222),i=Xn(i,s,r,n,e[3],16,-722521979),n=Xn(n,i,s,r,e[6],23,76029189),r=Xn(r,n,i,s,e[9],4,-640364487),s=Xn(s,r,n,i,e[12],11,-421815835),i=Xn(i,s,r,n,e[15],16,530742520),r=Yn(r,n=Xn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Yn(s,r,n,i,e[7],10,1126891415),i=Yn(i,s,r,n,e[14],15,-1416354905),n=Yn(n,i,s,r,e[5],21,-57434055),r=Yn(r,n,i,s,e[12],6,1700485571),s=Yn(s,r,n,i,e[3],10,-1894986606),i=Yn(i,s,r,n,e[10],15,-1051523),n=Yn(n,i,s,r,e[1],21,-2054922799),r=Yn(r,n,i,s,e[8],6,1873313359),s=Yn(s,r,n,i,e[15],10,-30611744),i=Yn(i,s,r,n,e[6],15,-1560198380),n=Yn(n,i,s,r,e[13],21,1309151649),r=Yn(r,n,i,s,e[4],6,-145523070),s=Yn(s,r,n,i,e[11],10,-1120210379),i=Yn(i,s,r,n,e[2],15,718787259),n=Yn(n,i,s,r,e[9],21,-343485551),t[0]=hl(r,t[0]),t[1]=hl(n,t[1]),t[2]=hl(i,t[2]),t[3]=hl(s,t[3])}function D1(t,e,r,n,i,s){return e=hl(hl(e,t),hl(n,s)),hl(e<<i|e>>>32-i,r)}function Gn(t,e,r,n,i,s,o){return D1(e&r|~e&n,t,e,i,s,o)}function Kn(t,e,r,n,i,s,o){return D1(e&n|r&~n,t,e,i,s,o)}function Xn(t,e,r,n,i,s,o){return D1(e^r^n,t,e,i,s,o)}function Yn(t,e,r,n,i,s,o){return D1(r^(e|~n),t,e,i,s,o)}function o8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Wv(n,AY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Wv(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Wv(n,i),n}function AY(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var KS="0123456789abcdef".split("");function SY(t){for(var e="",r=0;r<4;r++)e+=KS[t>>8*r+4&15]+KS[t>>8*r&15];return e}function TY(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function jw(t){return o8(t).map(TY).join("")}var NY=function(t){for(var e=0;e<t.length;e++)t[e]=SY(t[e]);return t.join("")}(o8("hello"))!="5d41402abc4b2a76b9719d911017c592";function hl(t,e){if(NY){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Mw(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}r=t,n=a}else a=n;var f=e.length,m=0,h=0,E="";for(l=0;l<f;l++)h=(h+(c=a[m=(m+1)%256]))%256,a[m]=a[h],a[h]=c,o=a[(a[m]+a[h])%256],E+=String.fromCharCode(e.charCodeAt(l)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var XS={print:4,modify:8,copy:16,"annot-forms":32};function Sc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(XS.perm!==void 0)throw new Error("Invalid permission: "+a);i+=XS[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=jw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Mw(this.encryptionKey,this.padding)}function Tc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function YS(t){if(ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){Rt.console&&gr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mg(t){if(!(this instanceof Mg))return new Mg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function a8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function du(t,e,r,n,i){if(!(this instanceof du))return new du(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,a8.call(this,n,i)}function Vc(t,e,r,n,i){if(!(this instanceof Vc))return new Vc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,a8.call(this,n,i)}function vt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;ur(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=YS;var E="1.3",b=h.__private__.getPdfVersion=function(){return E};h.__private__.setPdfVersion=function(R){E=R};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return T};var d=h.__private__.getPageFormat=function(R){return T[R]};i=i||"a4";var w="compat",v="advanced",y=w;function L(){this.saveGraphicsState(),X(new Et(xt,0,0,-xt,0,Ds()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),u="n",y=v}function W(){this.restoreGraphicsState(),u="S",y=w}var A=h.__private__.combineFontStyleAndFontWeight=function(R,J){if(R=="bold"&&J=="normal"||R=="bold"&&J==400||R=="normal"&&J=="italic"||R=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(R=J==400||J==="normal"?R==="italic"?"italic":"normal":J!=700&&J!=="bold"||R!=="normal"?(J==700?"bold":J)+""+R:"bold"),R};h.advancedAPI=function(R){var J=y===w;return J&&L.call(this),typeof R!="function"||(R(this),J&&W.call(this)),this},h.compatAPI=function(R){var J=y===v;return J&&W.call(this),typeof R!="function"||(R(this),J&&L.call(this)),this},h.isAdvancedAPI=function(){return y===v};var S,_=function(R){if(y!==v)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=h.roundToPrecision=h.__private__.roundToPrecision=function(R,J){var we=e||J;if(isNaN(R)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(we).replace(/0+$/,"")};S=h.hpf=h.__private__.hpf=typeof l=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,l)}:l==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,16)};var D=h.f2=h.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return q(R,2)},I=h.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return q(R,3)},P=h.scale=h.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return y===w?R*xt:y===v?R:void 0},C=function(R){return P(function(J){return y===w?Ds()-J:y===v?J:void 0}(R))};h.__private__.setPrecision=h.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var oe,ye="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return ye},ae=h.__private__.setFileId=function(R){return ye=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ir=new Sc(c.userPermissions,c.userPassword,c.ownerPassword,ye)),ye};h.setFileId=function(R){return ae(R),this},h.getFileId=function(){return se()};var de=h.__private__.convertDateToPDFDate=function(R){var J=R.getTimezoneOffset(),we=J<0?"+":"-",Ee=Math.floor(Math.abs(J/60)),Ie=Math.abs(J%60),Ue=[we,Q(Ee),"'",Q(Ie),"'"].join("");return["D:",R.getFullYear(),Q(R.getMonth()+1),Q(R.getDate()),Q(R.getHours()),Q(R.getMinutes()),Q(R.getSeconds()),Ue].join("")},Ae=h.__private__.convertPDFDateToDate=function(R){var J=parseInt(R.substr(2,4),10),we=parseInt(R.substr(6,2),10)-1,Ee=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),Ue=parseInt(R.substr(12,2),10),He=parseInt(R.substr(14,2),10);return new Date(J,we,Ee,Ie,Ue,He,0)},he=h.__private__.setCreationDate=function(R){var J;if(R===void 0&&(R=new Date),R instanceof Date)J=de(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=R}return oe=J},O=h.__private__.getCreationDate=function(R){var J=oe;return R==="jsDate"&&(J=Ae(oe)),J};h.setCreationDate=function(R){return he(R),this},h.getCreationDate=function(R){return O(R)};var K,Q=h.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ue=h.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},ee=0,j=[],B=[],ne=0,te=[],Y=[],re=!1,xe=B;h.__private__.setCustomOutputDestination=function(R){re=!0,xe=R};var V=function(R){re||(xe=R)};h.__private__.resetCustomOutputDestination=function(){re=!1,xe=B};var X=h.__private__.out=function(R){return R=R.toString(),ne+=R.length+1,xe.push(R),xe},H=h.__private__.write=function(R){return X(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},N=h.__private__.getArrayBuffer=function(R){for(var J=R.length,we=new ArrayBuffer(J),Ee=new Uint8Array(we);J--;)Ee[J]=R.charCodeAt(J);return we},k=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return k};var F=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(R){return F=y===v?R/xt:R,this};var ce,ve=h.__private__.getFontSize=h.getFontSize=function(){return y===w?F:F*xt},me=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(R){return me=R,this},h.__private__.getR2L=h.getR2L=function(){return me};var Te,De=h.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))ce=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');ce=R}else ce=parseInt(R,10)};h.__private__.getZoomMode=function(){return ce};var Re,Be=h.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Te=R};h.__private__.getPageMode=function(){return Te};var Ke=h.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Re=R};h.__private__.getLayoutMode=function(){return Re},h.__private__.setDisplayMode=h.setDisplayMode=function(R,J,we){return De(R),Ke(J),Be(we),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(R){if(Object.keys(Ze).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[R]},h.__private__.getDocumentProperties=function(){return Ze},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(R){for(var J in Ze)Ze.hasOwnProperty(J)&&R[J]&&(Ze[J]=R[J]);return this},h.__private__.setDocumentProperty=function(R,J){if(Object.keys(Ze).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[R]=J};var tt,xt,rt,rr,ht,kt={},Ct={},jt=[],mt={},Jt={},bt={},At={},nr=null,pt=0,gt=[],qt=new YS(h),Ui=t.hotfixes||[],En={},ks={},Cn=[],Et=function R(J,we,Ee,Ie,Ue,He){if(!(this instanceof R))return new R(J,we,Ee,Ie,Ue,He);isNaN(J)&&(J=1),isNaN(we)&&(we=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(Ue)&&(Ue=0),isNaN(He)&&(He=0),this._matrix=[J,we,Ee,Ie,Ue,He]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(R)},Et.prototype.multiply=function(R){var J=R.sx*this.sx+R.shy*this.shx,we=R.sx*this.shy+R.shy*this.sy,Ee=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,Ue=R.tx*this.sx+R.ty*this.shx+this.tx,He=R.tx*this.shy+R.ty*this.sy+this.ty;return new Et(J,we,Ee,Ie,Ue,He)},Et.prototype.decompose=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,Ue=this.ty,He=Math.sqrt(R*R+J*J),st=(R/=He)*we+(J/=He)*Ee;we-=R*st,Ee-=J*st;var ut=Math.sqrt(we*we+Ee*Ee);return st/=ut,R*(Ee/=ut)<J*(we/=ut)&&(R=-R,J=-J,st=-st,He=-He),{scale:new Et(He,0,0,ut,0,0),translate:new Et(1,0,0,1,Ie,Ue),rotate:new Et(R,J,-J,R,0,0),skew:new Et(1,0,st,1,0,0)}},Et.prototype.toString=function(R){return this.join(" ")},Et.prototype.inversed=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,Ue=this.ty,He=1/(R*Ee-J*we),st=Ee*He,ut=-J*He,St=-we*He,wt=R*He;return new Et(st,ut,St,wt,-st*Ie-St*Ue,-ut*Ie-wt*Ue)},Et.prototype.applyToPoint=function(R){var J=R.x*this.sx+R.y*this.shx+this.tx,we=R.x*this.shy+R.y*this.sy+this.ty;return new li(J,we)},Et.prototype.applyToRectangle=function(R){var J=this.applyToPoint(R),we=this.applyToPoint(new li(R.x+R.w,R.y+R.h));return new La(J.x,J.y,we.x-J.x,we.y-J.y)},Et.prototype.clone=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,Ue=this.ty;return new Et(R,J,we,Ee,Ie,Ue)},h.Matrix=Et;var Cs=h.matrixMult=function(R,J){return J.multiply(R)},wi=new Et(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=wi;var ri=function(R,J){if(!Jt[R]){var we=(J instanceof du?"Sh":"P")+(Object.keys(mt).length+1).toString(10);J.id=we,Jt[R]=we,mt[we]=J,qt.publish("addPattern",J)}};h.ShadingPattern=du,h.TilingPattern=Vc,h.addShadingPattern=function(R,J){return _("addShadingPattern()"),ri(R,J),this},h.beginTilingPattern=function(R){_("beginTilingPattern()"),uo(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},h.endTilingPattern=function(R,J){_("endTilingPattern()"),J.stream=Y[K].join(`
`),ri(R,J),qt.publish("endTilingPattern",J),Cn.pop().restore()};var ni,vr=h.__private__.newObject=function(){var R=Or();return mn(R,!0),R},Or=h.__private__.newObjectDeferred=function(){return ee++,j[ee]=function(){return ne},ee},mn=function(R,J){return J=typeof J=="boolean"&&J,j[R]=ne,J&&X(R+" 0 obj"),R},Un=h.__private__.newAdditionalObject=function(){var R={objId:Or(),content:""};return te.push(R),R},Rs=Or(),_i=Or(),bi=h.__private__.decodeColorString=function(R){var J=R.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var we=parseFloat(J[0]);J=[we,we,we,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(J[Ie])).toString(16)).slice(-2);return Ee},ii=h.__private__.encodeColorString=function(R){var J;typeof R=="string"&&(R={ch1:R});var we=R.ch1,Ee=R.ch2,Ie=R.ch3,Ue=R.ch4,He=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var st=new s8(we);if(st.ok)we=st.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var ut=parseInt(we.substr(1),16);we=ut>>16&255,Ee=ut>>8&255,Ie=255&ut}if(Ee===void 0||Ue===void 0&&we===Ee&&Ee===Ie)J=typeof we=="string"?we+" "+He[0]:R.precision===2?D(we/255)+" "+He[0]:I(we/255)+" "+He[0];else if(Ue===void 0||ur(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",He[1]].join(" ");J=typeof we=="string"?[we,Ee,Ie,He[1]].join(" "):R.precision===2?[D(we/255),D(Ee/255),D(Ie/255),He[1]].join(" "):[I(we/255),I(Ee/255),I(Ie/255),He[1]].join(" ")}else J=typeof we=="string"?[we,Ee,Ie,Ue,He[2]].join(" "):R.precision===2?[D(we),D(Ee),D(Ie),D(Ue),He[2]].join(" "):[I(we),I(Ee),I(Ie),I(Ue),He[2]].join(" ");return J},xi=h.__private__.getFilters=function(){return o},Ei=h.__private__.putStream=function(R){var J=(R=R||{}).data||"",we=R.filters||xi(),Ee=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,Ue=J.length,He=R.objectId,st=function(U){return U};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(st=Ir.encryptor(He,0));var ut={};we===!0&&(we=["FlateEncode"]);var St=R.additionalKeyValues||[],wt=(ut=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(J,we):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(ut.data.length!==0&&(St.push({key:"Length",value:ut.data.length}),Ie===!0&&St.push({key:"Length1",value:Ue})),wt.length!=0)if(wt.split("/").length-1==1)St.push({key:"Filter",value:wt});else{St.push({key:"Filter",value:"["+wt+"]"});for(var Wt=0;Wt<St.length;Wt+=1)if(St[Wt].key==="DecodeParms"){for(var br=[],dr=0;dr<ut.reverseChain.split("/").length-1;dr+=1)br.push("null");br.push(St[Wt].value),St[Wt].value="["+br.join(" ")+"]"}}X("<<");for(var g=0;g<St.length;g++)X("/"+St[g].key+" "+St[g].value);X(">>"),ut.data.length!==0&&(X("stream"),X(st(ut.data)),X("endstream"))},ro=h.__private__.putPage=function(R){var J=R.number,we=R.data,Ee=R.objId,Ie=R.contentsObjId;mn(Ee,!0),X("<</Type /Page"),X("/Parent "+R.rootDictionaryObjId+" 0 R"),X("/Resources "+R.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(S(R.mediaBox.bottomLeftX))+" "+parseFloat(S(R.mediaBox.bottomLeftY))+" "+S(R.mediaBox.topRightX)+" "+S(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&X("/CropBox ["+S(R.cropBox.bottomLeftX)+" "+S(R.cropBox.bottomLeftY)+" "+S(R.cropBox.topRightX)+" "+S(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&X("/BleedBox ["+S(R.bleedBox.bottomLeftX)+" "+S(R.bleedBox.bottomLeftY)+" "+S(R.bleedBox.topRightX)+" "+S(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&X("/TrimBox ["+S(R.trimBox.bottomLeftX)+" "+S(R.trimBox.bottomLeftY)+" "+S(R.trimBox.topRightX)+" "+S(R.trimBox.topRightY)+"]"),R.artBox!==null&&X("/ArtBox ["+S(R.artBox.bottomLeftX)+" "+S(R.artBox.bottomLeftY)+" "+S(R.artBox.topRightX)+" "+S(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&X("/UserUnit "+R.userUnit),qt.publish("putPage",{objId:Ee,pageContext:gt[J],pageNumber:J,page:we}),X("/Contents "+Ie+" 0 R"),X(">>"),X("endobj");var Ue=we.join(`
`);return y===v&&(Ue+=`
Q`),mn(Ie,!0),Ei({data:Ue,filters:xi(),objectId:Ie}),X("endobj"),Ee},os=h.__private__.putPages=function(){var R,J,we=[];for(R=1;R<=pt;R++)gt[R].objId=Or(),gt[R].contentsObjId=Or();for(R=1;R<=pt;R++)we.push(ro({number:R,data:Y[R],objId:gt[R].objId,contentsObjId:gt[R].contentsObjId,mediaBox:gt[R].mediaBox,cropBox:gt[R].cropBox,bleedBox:gt[R].bleedBox,trimBox:gt[R].trimBox,artBox:gt[R].artBox,userUnit:gt[R].userUnit,rootDictionaryObjId:Rs,resourceDictionaryObjId:_i}));mn(Rs,!0),X("<</Type /Pages");var Ee="/Kids [";for(J=0;J<pt;J++)Ee+=we[J]+" 0 R ";X(Ee+"]"),X("/Count "+pt),X(">>"),X("endobj"),qt.publish("postPutPages")},as=function(R){qt.publish("putFont",{font:R,out:X,newObject:vr,putStream:Ei}),R.isAlreadyPutted!==!0&&(R.objectNumber=vr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Tc(R.postScriptName)),X("/Subtype /Type1"),typeof R.encoding=="string"&&X("/Encoding /"+R.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},qo=function(R){R.objectNumber=vr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[S(R.x),S(R.y),S(R.x+R.width),S(R.y+R.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var we=R.pages[1].join(`
`);Ei({data:we,additionalKeyValues:J,objectId:R.objectNumber}),X("endobj")},no=function(R,J){J||(J=21);var we=vr(),Ee=function(He,st){var ut,St=[],wt=1/(st-1);for(ut=0;ut<1;ut+=wt)St.push(ut);if(St.push(1),He[0].offset!=0){var Wt={offset:0,color:He[0].color};He.unshift(Wt)}if(He[He.length-1].offset!=1){var br={offset:1,color:He[He.length-1].color};He.push(br)}for(var dr="",g=0,U=0;U<St.length;U++){for(ut=St[U];ut>He[g+1].offset;)g++;var G=He[g].offset,pe=(ut-G)/(He[g+1].offset-G),ke=He[g].color,Oe=He[g+1].color;dr+=ue(Math.round((1-pe)*ke[0]+pe*Oe[0]).toString(16))+ue(Math.round((1-pe)*ke[1]+pe*Oe[1]).toString(16))+ue(Math.round((1-pe)*ke[2]+pe*Oe[2]).toString(16))}return dr.trim()}(R.colors,J),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+J+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ei({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),X("endobj"),R.objectNumber=vr(),X("<< /ShadingType "+R.type),X("/ColorSpace /DeviceRGB");var Ue="/Coords ["+S(parseFloat(R.coords[0]))+" "+S(parseFloat(R.coords[1]))+" ";R.type===2?Ue+=S(parseFloat(R.coords[2]))+" "+S(parseFloat(R.coords[3])):Ue+=S(parseFloat(R.coords[2]))+" "+S(parseFloat(R.coords[3]))+" "+S(parseFloat(R.coords[4]))+" "+S(parseFloat(R.coords[5])),X(Ue+="]"),R.matrix&&X("/Matrix ["+R.matrix.toString()+"]"),X("/Function "+we+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},ls=function(R,J){var we=Or(),Ee=vr();J.push({resourcesOid:we,objectOid:Ee}),R.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(S).join(" ")+"]"}),Ie.push({key:"XStep",value:S(R.xStep)}),Ie.push({key:"YStep",value:S(R.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Ei({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),X("endobj")},Ps=function(R){for(var J in R.objectNumber=vr(),X("<<"),R)switch(J){case"opacity":X("/ca "+D(R[J]));break;case"stroke-opacity":X("/CA "+D(R[J]))}X(">>"),X("endobj")},Wo=function(R){mn(R.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var J in X("/Font <<"),kt)kt.hasOwnProperty(J)&&(f===!1||f===!0&&m.hasOwnProperty(J))&&X("/"+J+" "+kt[J].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(mt).length>0){for(var J in X("/Shading <<"),mt)mt.hasOwnProperty(J)&&mt[J]instanceof du&&mt[J].objectNumber>=0&&X("/"+J+" "+mt[J].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),X(">>")}}(),function(J){if(Object.keys(mt).length>0){for(var we in X("/Pattern <<"),mt)mt.hasOwnProperty(we)&&mt[we]instanceof h.TilingPattern&&mt[we].objectNumber>=0&&mt[we].objectNumber<J&&X("/"+we+" "+mt[we].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),X(">>")}}(R.objectOid),function(){if(Object.keys(bt).length>0){var J;for(J in X("/ExtGState <<"),bt)bt.hasOwnProperty(J)&&bt[J].objectNumber>=0&&X("/"+J+" "+bt[J].objectNumber+" 0 R");qt.publish("putGStateDict"),X(">>")}}(),function(){for(var J in X("/XObject <<"),En)En.hasOwnProperty(J)&&En[J].objectNumber>=0&&X("/"+J+" "+En[J].objectNumber+" 0 R");qt.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},Zu=function(R){Ct[R.fontName]=Ct[R.fontName]||{},Ct[R.fontName][R.fontStyle]=R.id},$l=function(R,J,we,Ee,Ie){var Ue={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:R,fontName:J,fontStyle:we,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return qt.publish("addFont",{font:Ue,instance:this}),kt[Ue.id]=Ue,Zu(Ue),Ue.id},si=h.__private__.pdfEscape=h.pdfEscape=function(R,J){return function(we,Ee){var Ie,Ue,He,st,ut,St,wt,Wt,br;if(He=(Ee=Ee||{}).sourceEncoding||"Unicode",ut=Ee.outputEncoding,(Ee.autoencode||ut)&&kt[tt].metadata&&kt[tt].metadata[He]&&kt[tt].metadata[He].encoding&&(st=kt[tt].metadata[He].encoding,!ut&&kt[tt].encoding&&(ut=kt[tt].encoding),!ut&&st.codePages&&(ut=st.codePages[0]),typeof ut=="string"&&(ut=st[ut]),ut)){for(wt=!1,St=[],Ie=0,Ue=we.length;Ie<Ue;Ie++)(Wt=ut[we.charCodeAt(Ie)])?St.push(String.fromCharCode(Wt)):St.push(we[Ie]),St[Ie].charCodeAt(0)>>8&&(wt=!0);we=St.join("")}for(Ie=we.length;wt===void 0&&Ie!==0;)we.charCodeAt(Ie-1)>>8&&(wt=!0),Ie--;if(!wt)return we;for(St=Ee.noBOM?[]:[254,255],Ie=0,Ue=we.length;Ie<Ue;Ie++){if((br=(Wt=we.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(br),St.push(Wt-(br<<8))}return String.fromCharCode.apply(void 0,St)}(R,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ta=h.__private__.beginPage=function(R){Y[++pt]=[],gt[pt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Gl(pt),V(Y[K])},Na=function(R,J){var we,Ee,Ie;switch(r=J||r,typeof R=="string"&&(we=d(R.toLowerCase()),Array.isArray(we)&&(Ee=we[0],Ie=we[1])),Array.isArray(R)&&(Ee=R[0]*xt,Ie=R[1]*xt),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],r.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}Ta(i),Tt(Ni),X(Ca),Ii!==0&&X(Ii+" J"),Pa!==0&&X(Pa+" j"),qt.publish("addPage",{pageNumber:pt})},Ho=function(R){R>0&&R<=pt&&(Y.splice(R,1),gt.splice(R,1),pt--,K>pt&&(K=pt),this.setPage(K))},Gl=function(R){R>0&&R<=pt&&(K=R)},Kl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Y.length-1},Xl=function(R,J,we){var Ee,Ie=void 0;return we=we||{},R=R!==void 0?R:kt[tt].fontName,J=J!==void 0?J:kt[tt].fontStyle,Ee=R.toLowerCase(),Ct[Ee]!==void 0&&Ct[Ee][J]!==void 0?Ie=Ct[Ee][J]:Ct[R]!==void 0&&Ct[R][J]!==void 0?Ie=Ct[R][J]:we.disableWarning===!1&&gr.warn("Unable to look up font label for font '"+R+"', '"+J+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=Ct.times[J])==null&&(Ie=Ct.times.normal),Ie},us=h.__private__.putInfo=function(){var R=vr(),J=function(Ee){return Ee};for(var we in c!==null&&(J=Ir.encryptor(R,0)),X("<<"),X("/Producer ("+si(J("jsPDF "+vt.version))+")"),Ze)Ze.hasOwnProperty(we)&&Ze[we]&&X("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+si(J(Ze[we]))+")");X("/CreationDate ("+si(J(oe))+")"),X(">>"),X("endobj")},oi=h.__private__.putCatalog=function(R){var J=(R=R||{}).rootDictionaryObjId||Rs;switch(vr(),X("<<"),X("/Type /Catalog"),X("/Pages "+J+" 0 R"),ce||(ce="fullwidth"),ce){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+ce;we.substr(we.length-1)==="%"&&(ce=parseInt(ce)/100),typeof ce=="number"&&X("/OpenAction [3 0 R /XYZ null null "+D(ce)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Te&&X("/PageMode /"+Te),qt.publish("putCatalog"),X(">>"),X("endobj")},Ai=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ee+1)),X("/Root "+ee+" 0 R"),X("/Info "+(ee-1)+" 0 R"),c!==null&&X("/Encrypt "+Ir.oid+" 0 R"),X("/ID [ <"+ye+"> <"+ye+"> ]"),X(">>")},wr=h.__private__.putHeader=function(){X("%PDF-"+E),X("%")},io=h.__private__.putXRef=function(){var R="0000000000";X("xref"),X("0 "+(ee+1)),X("0000000000 65535 f ");for(var J=1;J<=ee;J++)typeof j[J]=="function"?X((R+j[J]()).slice(-10)+" 00000 n "):j[J]!==void 0?X((R+j[J]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Si=h.__private__.buildDocument=function(){var R;ee=0,ne=0,B=[],j=[],te=[],Rs=Or(),_i=Or(),V(B),qt.publish("buildDocument"),wr(),os(),function(){qt.publish("putAdditionalObjects");for(var we=0;we<te.length;we++){var Ee=te[we];mn(Ee.objId,!0),X(Ee.content),X("endobj")}qt.publish("postPutAdditionalObjects")}(),R=[],function(){for(var we in kt)kt.hasOwnProperty(we)&&(f===!1||f===!0&&m.hasOwnProperty(we))&&as(kt[we])}(),function(){var we;for(we in bt)bt.hasOwnProperty(we)&&Ps(bt[we])}(),function(){for(var we in En)En.hasOwnProperty(we)&&qo(En[we])}(),function(we){var Ee;for(Ee in mt)mt.hasOwnProperty(Ee)&&(mt[Ee]instanceof du?no(mt[Ee]):mt[Ee]instanceof Vc&&ls(mt[Ee],we))}(R),qt.publish("putResources"),R.forEach(Wo),Wo({resourcesOid:_i,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),c!==null&&(Ir.oid=vr(),X("<<"),X("/Filter /Standard"),X("/V "+Ir.v),X("/R "+Ir.r),X("/U <"+Ir.toHexString(Ir.U)+">"),X("/O <"+Ir.toHexString(Ir.O)+">"),X("/P "+Ir.P),X(">>"),X("endobj")),us(),oi();var J=ne;return io(),Ai(),X("startxref"),X(""+J),X("%%EOF"),V(Y[K]),B.join(`
`)},tr=h.__private__.getBlob=function(R){return new Blob([N(R)],{type:"application/pdf"})},$o=h.output=h.__private__.output=(ni=function(R,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",R){case void 0:return Si();case"save":h.save(J.filename);break;case"arraybuffer":return N(Si());case"blob":return tr(Si());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(tr(Si()))||void 0;gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ee=Si();try{we=GS(Ee)}catch{we=GS(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+J.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ie=J.pdfObjectUrl,Ue="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",st=Rt.open();return st!==null&&st.document.write(He),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',St=Rt.open();if(St!==null){St.document.write(ut);var wt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=J.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',br=Rt.open();if(br!==null&&(br.document.write(Wt),br.document.title=J.filename),br||typeof safari>"u")return br;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",J);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(we){var R=we.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var J="Error in function "+R.split(`
`)[0].split("<")[0]+": "+we.message;if(!Rt.console)throw new Error(J);Rt.console.error(J,we),Rt.alert&&alert(J)}},ni.foo.bar=ni,ni.foo),An=function(R){return Array.isArray(Ui)===!0&&Ui.indexOf(R)>-1};switch(n){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=An("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);xt=n}var Ir=null;he(),ae();var Ls=h.__private__.getPageInfo=h.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[R].objId,pageNumber:R,pageContext:gt[R]}},Yl=h.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in gt)if(gt[J].objId===R)break;return Ls(J)},Vh=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:gt[K].objId,pageNumber:K,pageContext:gt[K]}};h.addPage=function(){return Na.apply(this,arguments),this},h.setPage=function(){return Gl.apply(this,arguments),V.call(this,Y[K]),this},h.insertPage=function(R){return this.addPage(),this.movePage(K,R),this},h.movePage=function(R,J){var we,Ee;if(R>J){we=Y[R],Ee=gt[R];for(var Ie=R;Ie>J;Ie--)Y[Ie]=Y[Ie-1],gt[Ie]=gt[Ie-1];Y[J]=we,gt[J]=Ee,this.setPage(J)}else if(R<J){we=Y[R],Ee=gt[R];for(var Ue=R;Ue<J;Ue++)Y[Ue]=Y[Ue+1],gt[Ue]=gt[Ue+1];Y[J]=we,gt[J]=Ee,this.setPage(J)}return this},h.deletePage=function(){return Ho.apply(this,arguments),this},h.__private__.text=h.text=function(R,J,we,Ee,Ie){var Ue,He,st,ut,St,wt,Wt,br,dr,g=(Ee=Ee||{}).scope||this;if(typeof R=="number"&&typeof J=="number"&&(typeof we=="string"||Array.isArray(we))){var U=we;we=J,J=R,R=U}if(arguments[3]instanceof Et==0?(st=arguments[4],ut=arguments[5],ur(Wt=arguments[3])==="object"&&Wt!==null||(typeof st=="string"&&(ut=st,st=null),typeof Wt=="string"&&(ut=Wt,Wt=null),typeof Wt=="number"&&(st=Wt,Wt=null),Ee={flags:Wt,angle:st,align:ut})):(_("The transform parameter of text() with a Matrix value"),dr=Ie),isNaN(J)||isNaN(we)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return g;var G,pe="",ke=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Go,Oe=g.internal.scaleFactor;function Je(ir){return ir=ir.split("	").join(Array(Ee.TabLen||9).join(" ")),si(ir,Wt)}function Pt(ir){for(var pr,Jr=ir.concat(),gn=[],Jo=Jr.length;Jo--;)typeof(pr=Jr.shift())=="string"?gn.push(pr):Array.isArray(ir)&&(pr.length===1||pr[1]===void 0&&pr[2]===void 0)?gn.push(pr[0]):gn.push([pr[0],pr[1],pr[2]]);return gn}function xr(ir,pr){var Jr;if(typeof ir=="string")Jr=pr(ir)[0];else if(Array.isArray(ir)){for(var gn,Jo,Zh=ir.concat(),cc=[],op=Zh.length;op--;)typeof(gn=Zh.shift())=="string"?cc.push(pr(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(Jo=pr(gn[0],gn[1],gn[2]),cc.push([Jo[0],Jo[1],Jo[2]]));Jr=cc}return Jr}var Ht=!1,Er=!0;if(typeof R=="string")Ht=!0;else if(Array.isArray(R)){var Sn=R.concat();He=[];for(var Vn,Ar=Sn.length;Ar--;)(typeof(Vn=Sn.shift())!="string"||Array.isArray(Vn)&&typeof Vn[0]!="string")&&(Er=!1);Ht=Er}if(Ht===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var zn=F/g.internal.scaleFactor,ps=zn*(ke-1);switch(Ee.baseline){case"bottom":we-=ps;break;case"top":we+=zn-ps;break;case"hanging":we+=zn-2*ps;break;case"middle":we+=zn/2-ps}if((wt=Ee.maxWidth||0)>0&&(typeof R=="string"?R=g.splitTextToSize(R,wt):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(ir,pr){return ir.concat(g.splitTextToSize(pr,wt))},[]))),Ue={text:R,x:J,y:we,options:Ee,mutex:{pdfEscape:si,activeFontKey:tt,fonts:kt,activeFontSize:F}},qt.publish("preProcessText",Ue),R=Ue.text,st=(Ee=Ue.options).angle,dr instanceof Et==0&&st&&typeof st=="number"){st*=Math.PI/180,Ee.rotationDirection===0&&(st=-st),y===v&&(st=-st);var Xo=Math.cos(st),Hh=Math.sin(st);dr=new Et(Xo,Hh,-Hh,Xo,0,0)}else st&&st instanceof Et&&(dr=st);y!==v||dr||(dr=wi),(St=Ee.charSpace||fs)!==void 0&&(pe+=S(P(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(br=Ee.horizontalScale)!==void 0&&(pe+=S(100*br)+` Tz
`),Ee.lang;var ci=-1,Yo=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,lc=g.internal.getCurrentPageInfo().pageContext;switch(Yo){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var ip=lc.usedRenderingMode!==void 0?lc.usedRenderingMode:-1;ci!==-1?pe+=ci+` Tr
`:ip!==-1&&(pe+=`0 Tr
`),ci!==-1&&(lc.usedRenderingMode=ci),ut=Ee.align||"left";var ms,tu=F*ke,$h=g.internal.pageSize.getWidth(),Gh=kt[tt];St=Ee.charSpace||fs,wt=Ee.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Da=[],ru=function(ir){return g.getStringUnitWidth(ir,{font:Gh,charSpace:St,fontSize:F,doKerning:!1})*F/Oe};if(Object.prototype.toString.call(R)==="[object Array]"){var zi;He=Pt(R),ut!=="left"&&(ms=He.map(ru));var qi,Fa=0;if(ut==="right"){J-=ms[0],R=[],Ar=He.length;for(var Qo=0;Qo<Ar;Qo++)Qo===0?(qi=ai(J),zi=hs(we)):(qi=P(Fa-ms[Qo]),zi=-tu),R.push([He[Qo],qi,zi]),Fa=ms[Qo]}else if(ut==="center"){J-=ms[0]/2,R=[],Ar=He.length;for(var ja=0;ja<Ar;ja++)ja===0?(qi=ai(J),zi=hs(we)):(qi=P((Fa-ms[ja])/2),zi=-tu),R.push([He[ja],qi,zi]),Fa=ms[ja]}else if(ut==="left"){R=[],Ar=He.length;for(var Kh=0;Kh<Ar;Kh++)R.push(He[Kh])}else if(ut==="justify"&&Gh.encoding==="Identity-H"){R=[],Ar=He.length,wt=wt!==0?wt:$h;for(var uc=0,Qr=0;Qr<Ar;Qr++)if(zi=Qr===0?hs(we):-tu,qi=Qr===0?ai(J):uc,Qr<Ar-1){var sp=P((wt-ms[Qr])/(He[Qr].split(" ").length-1)),fo=He[Qr].split(" ");R.push([fo[0]+" ",qi,zi]),uc=0;for(var po=1;po<fo.length;po++){var Xh=(ru(fo[po-1]+" "+fo[po])-ru(fo[po]))*Oe+sp;po==fo.length-1?R.push([fo[po],Xh,0]):R.push([fo[po]+" ",Xh,0]),uc-=Xh}}else R.push([He[Qr],qi,zi]);R.push(["",uc,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ar=He.length,wt=wt!==0?wt:$h,Qr=0;Qr<Ar;Qr++){zi=Qr===0?hs(we):-tu,qi=Qr===0?ai(J):0;var Yh=He[Qr].split(" ").length-1,Qh=Yh>0?(wt-ms[Qr])/Yh:0;Qr<Ar-1?Da.push(S(P(Qh))):Da.push(0),R.push([He[Qr],qi,zi])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:me)===!0&&(R=xr(R,function(ir,pr,Jr){return[ir.split("").reverse().join(""),pr,Jr]})),Ue={text:R,x:J,y:we,options:Ee,mutex:{pdfEscape:si,activeFontKey:tt,fonts:kt,activeFontSize:F}},qt.publish("postProcessText",Ue),R=Ue.text,G=Ue.mutex.isHex||!1;var Jh=kt[tt].encoding;Jh!=="WinAnsiEncoding"&&Jh!=="StandardEncoding"||(R=xr(R,function(ir,pr,Jr){return[Je(ir),pr,Jr]})),He=Pt(R),R=[];for(var Ma,Ba,Ua,nu=Array.isArray(He[0])?1:0,Va="",iu=function(ir,pr,Jr){var gn="";return Jr instanceof Et?(Jr=typeof Ee.angle=="number"?Cs(Jr,new Et(1,0,0,1,ir,pr)):Cs(new Et(1,0,0,1,ir,pr),Jr),y===v&&(Jr=Cs(new Et(1,0,0,-1,0,0),Jr)),gn=Jr.join(" ")+` Tm
`):gn=S(ir)+" "+S(pr)+` Td
`,gn},gs=0;gs<He.length;gs++){switch(Va="",nu){case 1:Ua=(G?"<":"(")+He[gs][0]+(G?">":")"),Ma=parseFloat(He[gs][1]),Ba=parseFloat(He[gs][2]);break;case 0:Ua=(G?"<":"(")+He[gs]+(G?">":")"),Ma=ai(J),Ba=hs(we)}Da!==void 0&&Da[gs]!==void 0&&(Va=Da[gs]+` Tw
`),gs===0?R.push(Va+iu(Ma,Ba,dr)+Ua):nu===0?R.push(Va+Ua):nu===1&&R.push(Va+iu(Ma,Ba,dr)+Ua)}R=nu===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var mo=`BT
/`;return mo+=tt+" "+F+` Tf
`,mo+=S(F*ke)+` TL
`,mo+=ao+`
`,mo+=pe,mo+=R,X(mo+="ET"),m[tt]=!0,g};var zh=h.__private__.clip=h.clip=function(R){return X(R==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return zh("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var cs=h.__private__.isValidStyle=function(R){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(J=!0),J};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(R){return cs(R)&&(u=R),this};var ec=h.__private__.getStyle=h.getStyle=function(R){var J=u;switch(R){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=R}return J},so=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(R){return Ti("f",R),this},h.fillEvenOdd=function(R){return Ti("f*",R),this},h.fillStroke=function(R){return Ti("B",R),this},h.fillStrokeEvenOdd=function(R){return Ti("B*",R),this};var Ti=function(R,J){ur(J)==="object"?rc(J,R):X(R)},oo=function(R){R===null||y===v&&R===void 0||(R=ec(R),X(R))};function tc(R,J,we,Ee,Ie){var Ue=new Vc(J||this.boundingBox,we||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);Ue.stream=this.stream;var He=R+"$$"+this.cloneIndex+++"$$";return ri(He,Ue),Ue}var rc=function(R,J){var we=Jt[R.key],Ee=mt[we];if(Ee instanceof du)X("q"),X(nc(J)),Ee.gState&&h.setGState(Ee.gState),X(R.matrix.toString()+" cm"),X("/"+we+" sh"),X("Q");else if(Ee instanceof Vc){var Ie=new Et(1,0,0,-1,0,Ds());R.matrix&&(Ie=Ie.multiply(R.matrix||wi),we=tc.call(Ee,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),X("q"),X("/Pattern cs"),X("/"+we+" scn"),Ee.gState&&h.setGState(Ee.gState),X(J),X("Q")}},nc=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ia=h.moveTo=function(R,J){return X(S(P(R))+" "+S(C(J))+" m"),this},Os=h.lineTo=function(R,J){return X(S(P(R))+" "+S(C(J))+" l"),this},Vi=h.curveTo=function(R,J,we,Ee,Ie,Ue){return X([S(P(R)),S(C(J)),S(P(we)),S(C(Ee)),S(P(Ie)),S(C(Ue)),"c"].join(" ")),this};h.__private__.line=h.line=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!cs(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return y===w?this.lines([[we-R,Ee-J]],R,J,[1,1],Ie||"S"):this.lines([[we-R,Ee-J]],R,J,[1,1]).stroke()},h.__private__.lines=h.lines=function(R,J,we,Ee,Ie,Ue){var He,st,ut,St,wt,Wt,br,dr,g,U,G,pe;if(typeof R=="number"&&(pe=we,we=J,J=R,R=pe),Ee=Ee||[1,1],Ue=Ue||!1,isNaN(J)||isNaN(we)||!Array.isArray(R)||!Array.isArray(Ee)||!cs(Ie)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ia(J,we),He=Ee[0],st=Ee[1],St=R.length,U=J,G=we,ut=0;ut<St;ut++)(wt=R[ut]).length===2?(U=wt[0]*He+U,G=wt[1]*st+G,Os(U,G)):(Wt=wt[0]*He+U,br=wt[1]*st+G,dr=wt[2]*He+U,g=wt[3]*st+G,U=wt[4]*He+U,G=wt[5]*st+G,Vi(Wt,br,dr,g,U,G));return Ue&&so(),oo(Ie),this},h.path=function(R){for(var J=0;J<R.length;J++){var we=R[J],Ee=we.c;switch(we.op){case"m":Ia(Ee[0],Ee[1]);break;case"l":Os(Ee[0],Ee[1]);break;case"c":Vi.apply(this,Ee);break;case"h":so()}}return this},h.__private__.rect=h.rect=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!cs(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return y===w&&(Ee=-Ee),X([S(P(R)),S(C(J)),S(P(we)),S(P(Ee)),"re"].join(" ")),oo(Ie),this},h.__private__.triangle=h.triangle=function(R,J,we,Ee,Ie,Ue,He){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||isNaN(Ie)||isNaN(Ue)||!cs(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-R,Ee-J],[Ie-we,Ue-Ee],[R-Ie,J-Ue]],R,J,[1,1],He,!0),this},h.__private__.roundedRect=h.roundedRect=function(R,J,we,Ee,Ie,Ue,He){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||isNaN(Ie)||isNaN(Ue)||!cs(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),Ue=Math.min(Ue,.5*Ee),this.lines([[we-2*Ie,0],[Ie*st,0,Ie,Ue-Ue*st,Ie,Ue],[0,Ee-2*Ue],[0,Ue*st,-Ie*st,Ue,-Ie,Ue],[2*Ie-we,0],[-Ie*st,0,-Ie,-Ue*st,-Ie,-Ue],[0,2*Ue-Ee],[0,-Ue*st,Ie*st,-Ue,Ie,-Ue]],R+Ie,J,[1,1],He,!0),this},h.__private__.ellipse=h.ellipse=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!cs(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*we,He=4/3*(Math.SQRT2-1)*Ee;return Ia(R+we,J),Vi(R+we,J-He,R+Ue,J-Ee,R,J-Ee),Vi(R-Ue,J-Ee,R-we,J-He,R-we,J),Vi(R-we,J+He,R-Ue,J+Ee,R,J+Ee),Vi(R+Ue,J+Ee,R+we,J+He,R+we,J),oo(Ie),this},h.__private__.circle=h.circle=function(R,J,we,Ee){if(isNaN(R)||isNaN(J)||isNaN(we)||!cs(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,J,we,we,Ee)},h.setFont=function(R,J,we){return we&&(J=A(J,we)),tt=Xl(R,J,{disableWarning:!1}),this};var qh=h.__private__.getFont=h.getFont=function(){return kt[Xl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var R,J,we={};for(R in Ct)if(Ct.hasOwnProperty(R))for(J in we[R]=[],Ct[R])Ct[R].hasOwnProperty(J)&&we[R].push(J);return we},h.addFont=function(R,J,we,Ee,Ie){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(we=A(we,Ee)),$l.call(this,R,J,we,Ie=Ie||"Identity-H")};var Go,Ni=t.lineWidth||.200025,Wh=h.__private__.getLineWidth=h.getLineWidth=function(){return Ni},Tt=h.__private__.setLineWidth=h.setLineWidth=function(R){return Ni=R,X(S(P(R))+" w"),this};h.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(R,J){if(R=R||[],J=J||0,isNaN(J)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(we){return S(P(we))}).join(" "),J=S(P(J)),X("["+R+"] "+J+" d"),this};var ka=h.__private__.getLineHeight=h.getLineHeight=function(){return F*Go};h.__private__.getLineHeight=h.getLineHeight=function(){return F*Go};var ic=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Go=R),this},Ko=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Go};ic(t.lineHeight);var ai=h.__private__.getHorizontalCoordinate=function(R){return P(R)},hs=h.__private__.getVerticalCoordinate=function(R){return y===v?R:gt[K].mediaBox.topRightY-gt[K].mediaBox.bottomLeftY-P(R)},Ql=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(R){return S(ai(R))},_r=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(R){return S(hs(R))},Ca=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return bi(Ca)},h.__private__.setStrokeColor=h.setDrawColor=function(R,J,we,Ee){return Ca=ii({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"draw",precision:2}),X(Ca),this};var Jl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return bi(Jl)},h.__private__.setFillColor=h.setFillColor=function(R,J,we,Ee){return Jl=ii({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"fill",precision:2}),X(Jl),this};var ao=t.textColor||"0 g",sc=h.__private__.getTextColor=h.getTextColor=function(){return bi(ao)};h.__private__.setTextColor=h.setTextColor=function(R,J,we,Ee){return ao=ii({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"text",precision:3}),this};var fs=t.charSpace,Ra=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(fs||0)};h.__private__.setCharSpace=h.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=R,this};var Ii=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(R){var J=h.CapJoinStyles[R];if(J===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=J,X(J+" J"),this};var Pa=0;h.__private__.setLineJoin=h.setLineJoin=function(R){var J=h.CapJoinStyles[R];if(J===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=J,X(J+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(S(P(R))+" M"),this},h.GState=Mg,h.setGState=function(R){(R=typeof R=="string"?bt[At[R]]:oc(null,R)).equals(nr)||(X("/"+R.id+" gs"),nr=R)};var oc=function(R,J){if(!R||!At[R]){var we=!1;for(var Ee in bt)if(bt.hasOwnProperty(Ee)&&bt[Ee].equals(J)){we=!0;break}if(we)J=bt[Ee];else{var Ie="GS"+(Object.keys(bt).length+1).toString(10);bt[Ie]=J,J.id=Ie}return R&&(At[R]=J.id),qt.publish("addGState",J),J}};h.addGState=function(R,J){return oc(R,J),this},h.saveGraphicsState=function(){return X("q"),jt.push({key:tt,size:F,color:ao}),this},h.restoreGraphicsState=function(){X("Q");var R=jt.pop();return tt=R.key,F=R.size,ao=R.color,nr=null,this},h.setCurrentTransformationMatrix=function(R){return X(R.toString()+" cm"),this},h.comment=function(R){return X("#"+R),this};var li=function(R,J){var we=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Ue){isNaN(Ue)||(we=parseFloat(Ue))}});var Ee=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ue){isNaN(Ue)||(Ee=parseFloat(Ue))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ue){Ie=Ue.toString()}}),this},La=function(R,J,we,Ee){li.call(this,R,J),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(He){isNaN(He)||(Ie=parseFloat(He))}});var Ue=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(He){isNaN(He)||(Ue=parseFloat(He))}}),this},lo=function(){this.page=pt,this.currentPage=K,this.pages=Y.slice(0),this.pagesContext=gt.slice(0),this.x=rt,this.y=rr,this.matrix=ht,this.width=ho(K),this.height=Zl(K),this.outputDestination=xe,this.id="",this.objectNumber=-1};lo.prototype.restore=function(){pt=this.page,K=this.currentPage,gt=this.pagesContext,Y=this.pages,rt=this.x,rr=this.y,ht=this.matrix,ac(K,this.width),ui(K,this.height),xe=this.outputDestination};var uo=function(R,J,we,Ee,Ie){Cn.push(new lo),pt=K=0,Y=[],rt=R,rr=J,ht=Ie,Ta([we,Ee])};for(var co in h.beginFormObject=function(R,J,we,Ee,Ie){return uo(R,J,we,Ee,Ie),this},h.endFormObject=function(R){return function(J){if(ks[J])Cn.pop().restore();else{var we=new lo,Ee="Xo"+(Object.keys(En).length+1).toString(10);we.id=Ee,ks[J]=Ee,En[Ee]=we,qt.publish("addFormObject",we),Cn.pop().restore()}}(R),this},h.doFormObject=function(R,J){var we=En[ks[R]];return X("q"),X(J.toString()+" cm"),X("/"+we.id+" Do"),X("Q"),this},h.getFormObject=function(R){var J=En[ks[R]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},h.save=function(R,J){return R=R||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(fu(tr(Si()),R),typeof fu.unload=="function"&&Rt.setTimeout&&setTimeout(fu.unload,911),this):new Promise(function(we,Ee){try{var Ie=fu(tr(Si()),R);typeof fu.unload=="function"&&Rt.setTimeout&&setTimeout(fu.unload,911),we(Ie)}catch(Ue){Ee(Ue.message)}})},vt.API)vt.API.hasOwnProperty(co)&&(co==="events"&&vt.API.events.length?function(R,J){var we,Ee,Ie;for(Ie=J.length-1;Ie!==-1;Ie--)we=J[Ie][0],Ee=J[Ie][1],R.subscribe.apply(R,[we].concat(typeof Ee=="function"?[Ee]:Ee))}(qt,vt.API.events):h[co]=vt.API[co]);function ho(R){return gt[R].mediaBox.topRightX-gt[R].mediaBox.bottomLeftX}function ac(R,J){gt[R].mediaBox.topRightX=J+gt[R].mediaBox.bottomLeftX}function Zl(R){return gt[R].mediaBox.topRightY-gt[R].mediaBox.bottomLeftY}function ui(R,J){gt[R].mediaBox.topRightY=J+gt[R].mediaBox.bottomLeftY}var ds=h.getPageWidth=function(R){return ho(R=R||K)/xt},eu=h.setPageWidth=function(R,J){ac(R,J*xt)},Ds=h.getPageHeight=function(R){return Zl(R=R||K)/xt},Oa=h.setPageHeight=function(R,J){ui(R,J*xt)};return h.internal={pdfEscape:si,getStyle:ec,getFont:qh,getFontSize:ve,getCharSpace:Ra,getTextColor:sc,getLineHeight:ka,getLineHeightFactor:Ko,getLineWidth:Wh,write:H,getHorizontalCoordinate:ai,getVerticalCoordinate:hs,getCoordinateString:Ql,getVerticalCoordinateString:_r,collections:{},newObject:vr,newAdditionalObject:Un,newObjectDeferred:Or,newObjectDeferredBegin:mn,getFilters:xi,putStream:Ei,events:qt,scaleFactor:xt,pageSize:{getWidth:function(){return ds(K)},setWidth:function(R){eu(K,R)},getHeight:function(){return Ds(K)},setHeight:function(R){Oa(K,R)}},encryptionOptions:c,encryption:Ir,getEncryptor:function(R){return c!==null?Ir.encryptor(R,0):function(J){return J}},output:$o,getNumberOfPages:Kl,get pages(){return Y},out:X,f2:D,f3:I,getPageInfo:Ls,getPageInfoByObjId:Yl,getCurrentPageInfo:Vh,getPDFVersion:b,Point:li,Rectangle:La,Matrix:Et,hasHotfix:An},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ds(K)},set:function(R){eu(K,R)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ds(K)},set:function(R){Oa(K,R)},enumerable:!0,configurable:!0}),(function(R){for(var J=0,we=k.length;J<we;J++){var Ee=$l.call(this,R[J][0],R[J][1],R[J][2],k[J][3],!0);f===!1&&(m[Ee]=!0);var Ie=R[J][0].split("-");Zu({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}qt.publish("addFonts",{fonts:kt,dictionary:Ct})}).call(h,k),tt="F1",Na(i,r),qt.publish("initialized"),h}Sc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Sc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Sc.prototype.processOwnerPassword=function(t,e){return Mw(jw(e).substr(0,5),t)},Sc.prototype.encryptor=function(t,e){var r=jw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Mw(r,n)}},Mg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ur(t)!==ur(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},vt.API={events:[]},vt.version="3.0.4";var Gr=vt.API,ob=1,Ju=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Qa=function(t){return t.toFixed(5)};Gr.__acroform__={};var Bi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},QS=function(t){return t*ob},_o=function(t){var e=new u8,r=lt.internal.getHeight(t)||0,n=lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},IY=Gr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},kY=Gr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},CY=Gr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},nn=Gr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return CY(t,e-1)},sn=Gr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IY(t,e-1)},on=Gr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kY(t,e-1)},RY=Gr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(Ot(l.lowerLeft_X)),Number(Ot(l.lowerLeft_Y)),Number(Ot(l.upperRight_X)),Number(Ot(l.upperRight_Y))]},PY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Bw(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=_o(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Bw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=r,o=lt.internal.getHeight(t)||0;o=o<0?-o:o;var a=lt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(D,I,P){if(D+1<i.length){var C=I+" "+i[D+1][0];return fm(C,t,P).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,f=fm("3",t,s).height,m=t.multiline?o-s:(o-f)/2,h=m+=2,E=0,b=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+fm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var d="",w=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var y=!1;if(i[v].length!==1&&T!==i[v].length-1){if((f+2)*(w+2)+2>o)continue e;d+=i[v][T],y=!0,b=v,v--}else{d=(d+=i[v][T]+" ").substr(d.length-1)==" "?d.substr(0,d.length-1):d;var L=parseInt(v),W=l(L,d,s),A=v>=i.length-1;if(W&&!A){d+=" ",T=0;continue}if(W||A){if(A)b=L;else if(t.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>o)continue e;b=L}}for(var S="",_=E;_<=b;_++){var q=i[_];if(t.multiline){if(_===b){S+=q[T]+" ",T=(T+1)%q.length;continue}if(_===E){S+=q[q.length-1]+" ";continue}}S+=q[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,c=fm(S,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Ot(u)+" "+Ot(h)+` Td
`,e+="("+Ju(S)+`) Tj
`,e+=-Ot(u)+` 0 Td
`,h=-(s+2),c=0,E=y?b:b+1,w++,d=""}break}return n.text=e,n.fontSize=s,n},fm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},LY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OY=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},DY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(eo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(LY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ob=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new c8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&OY(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=RY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=lt.createDefaultAppearanceStream(a),ur(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=PY(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var h=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var E=h[o];typeof E=="function"&&(E=E.call(i,a)),f+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=h)=="function"&&(E=E.call(i,a)),f+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(b,T){for(var d in b)if(b.hasOwnProperty(d)){var w=d,v=b[d];T.internal.newObjectDeferredBegin(v.objId,!0),ur(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete b[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},l8=Gr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ur(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Ju(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hv=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ju(n(t))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:l8(i,this.objId,this.scope)}):i instanceof ko?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var u8=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Bi(u8,ko);var c8=function(){ko.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ju(r(t))+")"}},set:function(r){t=r}})};Bi(c8,ko);var eo=function t(){ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(d){if(isNaN(d))throw new Error('Invalid value "'+d+'" for attribute F supplied.');e=d}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(e,3)},set:function(d){d?this.F=sn(e,3):this.F=on(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(d){if(isNaN(d))throw new Error('Invalid value "'+d+'" for attribute Ff supplied.');r=d}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(d){n=d!==void 0?d:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(d){n[0]=d}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(d){n[1]=d}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(d){n[2]=d}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(d){n[3]=d}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(d){switch(d){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=d;break;default:throw new Error('Invalid value "'+d+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Bg)return;s="FieldObject"+t.FieldNum++}var d=function(w){return w};return this.scope&&(d=this.scope.internal.getEncryptor(this.objId)),"("+Ju(d(s))+")"},set:function(d){s=d.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(d){s=d}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(d){o=d}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(d){a=d}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(d){l=d}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ob:u},set:function(d){u=d}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(d){c=d}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Bg||this instanceof Su))return Hv(f,this.objId,this.scope)},set:function(d){d=d.toString(),f=d}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof In==0?Hv(m,this.objId,this.scope):m},set:function(d){d=d.toString(),m=this instanceof In==0?d.substr(0,1)==="("?yc(d.substr(1,d.length-2)):yc(d):d}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof In==1?yc(m.substr(1,m.length-1)):m},set:function(d){d=d.toString(),m=this instanceof In==1?"/"+d:d}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(d){this.V=d}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof In==0?Hv(h,this.objId,this.scope):h},set:function(d){d=d.toString(),h=this instanceof In==0?d.substr(0,1)==="("?yc(d.substr(1,d.length-2)):yc(d):d}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof In==1?yc(h.substr(1,h.length-1)):h},set:function(d){d=d.toString(),h=this instanceof In==1?"/"+d:d}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(d){d=!!d,b=d}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(d){E=d}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(d){d?this.Ff=sn(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(d){d?this.Ff=sn(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(d){d?this.Ff=sn(this.Ff,3):this.Ff=on(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(d){if([0,1,2].indexOf(d)===-1)throw new Error('Invalid value "'+d+'" for attribute Q supplied.');T=d}}),Object.defineProperty(this,"textAlign",{get:function(){var d;switch(T){case 0:default:d="left";break;case 1:d="center";break;case 2:d="right"}return d},configurable:!0,enumerable:!0,set:function(d){switch(d){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Bi(eo,ko);var ih=function(){eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return l8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(r){r?this.Ff=sn(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sn(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(r){r?(this.Ff=sn(this.Ff,20),e.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(r){r?this.Ff=sn(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(r){r?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(r){r?this.Ff=sn(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};Bi(ih,eo);var sh=function(){ih.call(this),this.fontName="helvetica",this.combo=!1};Bi(sh,ih);var oh=function(){sh.call(this),this.combo=!0};Bi(oh,sh);var Um=function(){oh.call(this),this.edit=!0};Bi(Um,oh);var In=function(){eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(r){r?this.Ff=sn(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(r){r?this.Ff=sn(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(r){r?this.Ff=sn(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(r){r?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ju(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ur(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Bi(In,eo);var Vm=function(){In.call(this),this.pushButton=!0};Bi(Vm,In);var ah=function(){In.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Bi(ah,In);var Bg=function(){var t,e;eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Ju(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ur(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bi(Bg,eo),ah.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ah.prototype.createOption=function(t){var e=new Bg;return e.Parent=this,e.optionName=t,this.Kids.push(e),FY.call(this.scope,e),e};var zm=function(){In.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Bi(zm,In);var Su=function(){eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(e){e?this.Ff=sn(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(e){e?this.Ff=sn(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(e){e?this.Ff=sn(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(e){e?this.Ff=sn(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bi(Su,eo);var qm=function(){Su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(t){t?this.Ff=sn(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};Bi(qm,Su);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Bw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(lt.internal.getWidth(t))+" "+Ot(lt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=lt.internal.getHeight(t),o=lt.internal.getWidth(t),a=Bw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ot(o)+" "+Ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ot(o-1)+" "+Ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ot(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(lt.internal.getWidth(t))+" "+Ot(lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Circle.YesNormal,e.D[t]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var r=[],n=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=lt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Qa(lt.internal.getWidth(t)/2)+" "+Qa(lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=[],n=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*lt.internal.Bezier_C).toFixed(5)),o=Number((n*lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qa(lt.internal.getWidth(t)/2)+" "+Qa(lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Qa(lt.internal.getWidth(t)/2)+" "+Qa(lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=[],n=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qa(lt.internal.getWidth(t)/2)+" "+Qa(lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Cross.YesNormal,e.D[t]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var r=[],n=lt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(lt.internal.getWidth(t)-2)+" "+Ot(lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=lt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(lt.internal.getWidth(t))+" "+Ot(lt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(lt.internal.getWidth(t)-2)+" "+Ot(lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(lt.internal.getWidth(t))+" "+Ot(lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=lt.internal.getWidth(t),r=lt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},lt.internal.getWidth=function(t){var e=0;return ur(t)==="object"&&(e=QS(t.Rect[2])),e},lt.internal.getHeight=function(t){var e=0;return ur(t)==="object"&&(e=QS(t.Rect[3])),e};var FY=Gr.addField=function(t){if(DY(this,t),!(t instanceof eo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=ih,Gr.AcroFormListBox=sh,Gr.AcroFormComboBox=oh,Gr.AcroFormEditBox=Um,Gr.AcroFormButton=In,Gr.AcroFormPushButton=Vm,Gr.AcroFormRadioButton=ah,Gr.AcroFormCheckBox=zm,Gr.AcroFormTextField=Su,Gr.AcroFormPasswordField=qm,Gr.AcroFormAppearance=lt,Gr.AcroForm={ChoiceField:ih,ListBox:sh,ComboBox:oh,EditBox:Um,Button:In,PushButton:Vm,RadioButton:ah,CheckBox:zm,TextField:Su,PasswordField:qm,Appearance:lt},vt.AcroForm={ChoiceField:ih,ListBox:sh,ComboBox:oh,EditBox:Um,Button:In,PushButton:Vm,RadioButton:ah,CheckBox:zm,TextField:Su,PasswordField:qm,Appearance:lt};vt.AcroForm;function h8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(D,I){var P,C,oe,ye,se,ae=r;if((I=I||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(W(D))for(se in n)for(oe=n[se],P=0;P<oe.length;P+=1){for(ye=!0,C=0;C<oe[P].length;C+=1)if(oe[P][C]!==void 0&&oe[P][C]!==D[C]){ye=!1;break}if(ye===!0){ae=se;break}}else for(se in n)for(oe=n[se],P=0;P<oe.length;P+=1){for(ye=!0,C=0;C<oe[P].length;C+=1)if(oe[P][C]!==void 0&&oe[P][C]!==D.charCodeAt(C)){ye=!1;break}if(ye===!0){ae=se;break}}return ae===r&&I!==r&&(ae=I),ae},s=function D(I){for(var P=this.internal.write,C=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:I.width}),ye.push({key:"Height",value:I.height}),I.colorSpace===d.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===d.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var se="",ae=0,de=I.transparency.length;ae<de;ae++)se+=I.transparency[ae]+" "+I.transparency[ae]+" ";ye.push({key:"Mask",value:"["+se+"]"})}I.sMask!==void 0&&ye.push({key:"SMask",value:I.objectId+1+" 0 R"});var Ae=I.filter!==void 0?["/"+I.filter]:void 0;if(C({data:I.data,additionalKeyValues:ye,alreadyAppliedFilters:Ae,objectId:I.objectId}),P("endobj"),"sMask"in I&&I.sMask!==void 0){var he,O=(he=I.sMaskBitsPerComponent)!==null&&he!==void 0?he:I.bitsPerComponent,K={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:I.sMask};"filter"in I&&(K.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(I.width),K.filter=I.filter),D.call(this,K)}if(I.colorSpace===d.INDEXED){var Q=this.internal.newObject();C({data:S(new Uint8Array(I.palette)),objectId:Q}),P("endobj")}},o=function(){var D=this.internal.collections[e+"images"];for(var I in D)s.call(this,D[I])},a=function(){var D,I=this.internal.collections[e+"images"],P=this.internal.write;for(var C in I)P("/I"+(D=I[C]).index,D.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var D=this.internal.collections[e+"images"];return l.call(this),D},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(D){return typeof t["process"+D.toUpperCase()]=="function"},m=function(D){return ur(D)==="object"&&D.nodeType===1},h=function(D,I){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var P=""+D.getAttribute("src");if(P.indexOf("data:image/")===0)return Bm(unescape(P).split("base64,").pop());var C=t.loadFile(P,!0);if(C!==void 0)return C}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var oe;switch(I){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return Bm(D.toDataURL(oe,1).split("base64,").pop())}},E=function(D){var I=this.internal.collections[e+"images"];if(I){for(var P in I)if(D===I[P].alias)return I[P]}},b=function(D,I,P){return D||I||(D=-96,I=-96),D<0&&(D=-1*P.width*72/D/this.internal.scaleFactor),I<0&&(I=-1*P.height*72/I/this.internal.scaleFactor),D===0&&(D=I*P.width/P.height),I===0&&(I=D*P.height/P.width),[D,I]},T=function(D,I,P,C,oe,ye){var se=b.call(this,P,C,oe),ae=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Ae=u.call(this);if(P=se[0],C=se[1],Ae[oe.index]=oe,ye){ye*=Math.PI/180;var he=Math.cos(ye),O=Math.sin(ye),K=function(ue){return ue.toFixed(4)},Q=[K(he),K(O),K(-1*O),K(he),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,ae(D),de(I+C),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ae(P),"0","0",ae(C),"0","0","cm"].join(" "))):this.internal.write([ae(P),"0","0",ae(C),ae(D),de(I+C),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},d=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(D){var I,P,C=0;if(typeof D=="string")for(P=D.length,I=0;I<P;I++)C=(C<<5)-C+D.charCodeAt(I),C|=0;else if(W(D))for(P=D.byteLength/2,I=0;I<P;I++)C=(C<<5)-C+D[I],C|=0;return C},y=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var I=!0;return D.length===0&&(I=!1),D.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(I=!1),I},L=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var I=D.indexOf(",");return I<0?null:D.substring(0,I).trim().endsWith("base64")?D.substring(I+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},A=t.__addimage__.binaryStringToUint8Array=function(D){for(var I=D.length,P=new Uint8Array(I),C=0;C<I;C++)P[C]=D.charCodeAt(C);return P},S=t.__addimage__.arrayBufferToBinaryString=function(D){for(var I="",P=W(D)?D:new Uint8Array(D),C=0;C<P.length;C+=8192)I+=String.fromCharCode.apply(null,P.subarray(C,C+8192));return I};t.addImage=function(){var D,I,P,C,oe,ye,se,ae,de;if(typeof arguments[1]=="number"?(I=r,P=arguments[1],C=arguments[2],oe=arguments[3],ye=arguments[4],se=arguments[5],ae=arguments[6],de=arguments[7]):(I=arguments[1],P=arguments[2],C=arguments[3],oe=arguments[4],ye=arguments[5],se=arguments[6],ae=arguments[7],de=arguments[8]),ur(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var Ae=D;D=Ae.imageData,I=Ae.format||I||r,P=Ae.x||P||0,C=Ae.y||C||0,oe=Ae.w||Ae.width||oe,ye=Ae.h||Ae.height||ye,se=Ae.alias||se,ae=Ae.compression||ae,de=Ae.rotation||Ae.angle||de}var he=this.internal.getFilters();if(ae===void 0&&he.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(P)||isNaN(C))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=_.call(this,D,I,se,ae);return T.call(this,P,C,oe,ye,O,de),this};var _=function(D,I,P,C){var oe,ye,se;if(typeof D=="string"&&i(D)===r){D=unescape(D);var ae=q(D,!1);(ae!==""||(ae=t.loadFile(D,!0))!==void 0)&&(D=ae)}if(m(D)&&(D=h(D,I)),I=i(D,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((se=P)==null||se.length===0)&&(P=function(de){return typeof de=="string"||W(de)?v(de):W(de.data)?v(de.data):null}(D)),(oe=E.call(this,P))||(D instanceof Uint8Array||I==="RGBA"||(ye=D,D=A(D)),oe=this["process"+I.toUpperCase()](D,c.call(this),P,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:w.NONE}(C),ye)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},q=t.__addimage__.convertBase64ToBinaryString=function(D,I){I=typeof I!="boolean"||I;var P,C="";if(typeof D=="string"){var oe;P=(oe=L(D))!==null&&oe!==void 0?oe:D;try{C=Bm(P)}catch(ye){if(I)throw y(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return C};t.getImageProperties=function(D){var I,P,C="";if(m(D)&&(D=h(D)),typeof D=="string"&&i(D)===r&&((C=q(D,!1))===""&&(C=t.loadFile(D)||""),D=C),P=i(D),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(D instanceof Uint8Array||(D=A(D)),!(I=this["process"+P.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=P,I}})(vt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),d=this.internal.getEncryptor(b.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+h(d(n.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(d(w))+") >>",b.content=s;var v=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(b.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(E(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var W=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+W+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(r,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,a,o,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var T=0,d=r,w="",v=0;for(T=0;T<b.length;T+=1)d[b.charCodeAt(T)]!==void 0?(v++,typeof(d=d[b.charCodeAt(T)])=="number"&&(w+=String.fromCharCode(d),d=r,v=0),T===b.length-1&&(d=r,w+=b.charAt(T-(v-1)),T-=v-1,v=0)):(d=r,w+=b.charAt(T-v),T-=v,v=0);return w};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,T,d){return o(b)?s(b)===!1?-1:!u(b)||!o(T)&&!o(d)||!o(d)&&a(T)||a(b)&&!o(T)||a(b)&&l(T)||a(b)&&a(T)?0:c(b)&&o(T)&&!a(T)&&o(d)&&u(d)?3:a(b)||!o(d)?1:2:-1},h=function(b){var T=0,d=0,w=0,v="",y="",L="",W=(b=b||"").split("\\s+"),A=[];for(T=0;T<W.length;T+=1){for(A.push(""),d=0;d<W[T].length;d+=1)v=W[T][d],y=W[T][d-1],L=W[T][d+1],o(v)?(w=m(v,y,L),A[T]+=w!==-1?String.fromCharCode(e[v.charCodeAt(0)][w]):v):A[T]+=v;A[T]=f(A[T])}return A.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var b,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,d=[];if(Array.isArray(T)){var w=0;for(d=[],w=0;w<T.length;w+=1)Array.isArray(T[w])?d.push([h(T[w][0]),T[w][1],T[w][2]]):d.push([h(T[w])]);b=d}else b=h(T);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",E])}(vt.API),vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(b){E=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,E=0,b=0,T=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var d=u.maxWidth;d>0?typeof l=="string"?l=this.splitTextToSize(l,d):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,y){return v.concat(T.splitTextToSize(y,d))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(b=this.getStringUnitWidth(l[w],{font:f})*c)&&(h=b);return h!==0&&(E=l.length),{w:h/=m,h:Math.max((E*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,m){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,E,b,T,d=[],w=[],v=[],y={},L={},W=[],A=[],S=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,q=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,D=m.margins||Object.assign({width:this.getPageWidth()},e),I=typeof m.padding=="number"?m.padding:3,P=m.headerBackgroundColor||"#c8c8c8",C=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=C,this.setFontSize(q),f==null)w=d=Object.keys(c[0]),v=d.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(d=f.map(function(Ae){return Ae.name}),w=f.map(function(Ae){return Ae.prompt||Ae.name||""}),v=f.map(function(Ae){return Ae.align||"left"}),h=0;h<f.length;h+=1)L[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=d=f,v=d.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<d.length;h+=1){for(y[T=d[h]]=c.map(function(Ae){return Ae[T]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=y[T],this.setFont(void 0,"normal"),b=0;b<E.length;b+=1)W.push(this.getTextDimensions(E[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[T]=Math.max.apply(null,W)+I+I,W=[]}if(_){var oe={};for(h=0;h<d.length;h+=1)oe[d[h]]={},oe[d[h]].text=w[h],oe[d[h]].align=v[h];var ye=a.call(this,oe,L);A=d.map(function(Ae){return new s(l,u,L[Ae],ye,oe[Ae].text,void 0,oe[Ae].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var se=f.reduce(function(Ae,he){return Ae[he.name]=he.align,Ae},{});for(h=0;h<c.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:c[h]},this);var ae=a.call(this,c[h],L);for(b=0;b<d.length;b+=1){var de=c[h][d[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:b,data:de},this),o.call(this,new s(l,u,L[d[b]],ae,de,h+2,se[d[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(h){var E=l[h];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+c+c},this).reduce(function(h,E){return Math.max(h,E)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=l;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(E)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(vt.API);var f8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},d8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Uw=h8(d8),p8=[100,200,300,400,500,600,700,800,900],jY=h8(p8);function $v(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return f8[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Uw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function JS(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var MY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function t6(t){return t.trimLeft()}function BY(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function UY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var dm,r6,n6,vc,pm,i6,s6,o6,Gv=["times"];function a6(t,e,r,n,i){var s=4,o=u6;switch(i){case vt.API.image_compression.FAST:s=1,o=l6;break;case vt.API.image_compression.MEDIUM:s=6,o=c6;break;case vt.API.image_compression.SLOW:s=9,o=h6}t=function(l,u,c,f){for(var m,h=l.length/u,E=new Uint8Array(l.length+h),b=[VY,l6,u6,c6,h6],T=0;T<h;T+=1){var d=T*u,w=l.subarray(d,d+u);if(f)E.set(f(w,c,m),d+T);else{for(var v=b.length,y=[],L=0;L<v;L+=1)y[L]=b[L](w,c,m);var W=qY(y.concat());E.set(y[W],d+T)}m=w}return E}(t,e,Math.ceil(r*n/8),o);var a=Lw(t,{level:s});return vt.API.__addimage__.arrayBufferToBinaryString(a)}function VY(t){var e=Array.apply([],t);return e.unshift(0),e}function l6(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function u6(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=t[s]-o+256&255}return i}function c6(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=t[s-e]||0,a=r&&r[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function h6(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=zY(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function zY(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function qY(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Kv(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return m8(t,i)>>s&o}function f6(t,e,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,l=(e&a)<<o;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var m=f>>8&255;u.setUint8(c,m)}})(t,s,m8(t,s)&~(a<<o)&65535|l)}function m8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function WY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],f=0,m=null,h=0,E=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),h=b>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,d=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++],L=y>>6&1,W=1<<1+(7&y),A=a,S=l,_=!1;y>>7&&(_=!0,A=e,S=W,e+=3*W);var q=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}c.push({x:T,y:d,width:w,height:v,has_local_palette:_,palette_offset:A,palette_size:S,data_offset:q,data_length:e-q,transparent_index:m,interlaced:!!L,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return E},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,P){var C=this.frameInfo(I),oe=C.width*C.height,ye=new Uint8Array(oe);d6(t,C.data_offset,ye,oe);var se=C.palette_offset,ae=C.transparent_index;ae===null&&(ae=256);var de=C.width,Ae=r-de,he=de,O=4*(C.y*r+C.x),K=4*((C.y+C.height)*r+C.x),Q=O,ue=4*Ae;C.interlaced===!0&&(ue+=4*r*7);for(var ee=8,j=0,B=ye.length;j<B;++j){var ne=ye[j];if(he===0&&(he=de,(Q+=ue)>=K&&(ue=4*Ae+4*r*(ee-1),Q=O+(de+Ae)*(ee<<1),ee>>=1)),ne===ae)Q+=4;else{var te=t[se+3*ne],Y=t[se+3*ne+1],re=t[se+3*ne+2];P[Q++]=re,P[Q++]=Y,P[Q++]=te,P[Q++]=255}--he}},this.decodeAndBlitFrameRGBA=function(I,P){var C=this.frameInfo(I),oe=C.width*C.height,ye=new Uint8Array(oe);d6(t,C.data_offset,ye,oe);var se=C.palette_offset,ae=C.transparent_index;ae===null&&(ae=256);var de=C.width,Ae=r-de,he=de,O=4*(C.y*r+C.x),K=4*((C.y+C.height)*r+C.x),Q=O,ue=4*Ae;C.interlaced===!0&&(ue+=4*r*7);for(var ee=8,j=0,B=ye.length;j<B;++j){var ne=ye[j];if(he===0&&(he=de,(Q+=ue)>=K&&(ue=4*Ae+4*r*(ee-1),Q=O+(de+Ae)*(ee<<1),ee>>=1)),ne===ae)Q+=4;else{var te=t[se+3*ne],Y=t[se+3*ne+1],re=t[se+3*ne+2];P[Q++]=te,P[Q++]=Y,P[Q++]=re,P[Q++]=255}--he}}}function d6(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,m=0,h=t[e++],E=new Int32Array(4096),b=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var T=f&u;if(f>>=l,c-=l,T!==s){if(T===o)break;for(var d=T<a?T:b,w=0,v=d;v>s;)v=E[v]>>8,++w;var y=v;if(m+w+(d!==T?1:0)>n)return void gr.log("Warning, gif stream longer than expected.");r[m++]=y;var L=m+=w;for(d!==T&&(r[m++]=y),v=d;w--;)v=E[v],r[--L]=255&v,v>>=8;b!==null&&a<4096&&(E[a++]=b<<8|y,a>=u+1&&l<12&&(++l,u=u<<1|1)),b=T}else a=o+1,u=(1<<(l=i+1))-1,b=null}return m!==n&&gr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xv(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),E=new Array(64),b=[],T=0,d=7,w=new Array(64),v=new Array(64),y=new Array(64),L=new Array(256),W=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(O,K){for(var Q=0,ue=0,ee=new Array,j=1;j<=16;j++){for(var B=1;B<=O[j];B++)ee[K[ue]]=[],ee[K[ue]][0]=Q,ee[K[ue]][1]=j,ue++,Q++;Q*=2}return ee}function se(O){for(var K=O[0],Q=O[1]-1;Q>=0;)K&1<<Q&&(T|=1<<d),Q--,--d<0&&(T==255?(ae(255),ae(0)):ae(T),d=7,T=0)}function ae(O){b.push(O)}function de(O){ae(O>>8&255),ae(255&O)}function Ae(O,K,Q,ue,ee){for(var j,B=ee[0],ne=ee[240],te=function(F,ce){var ve,me,Te,De,Re,Be,Ke,Ze,tt,xt,rt=0;for(tt=0;tt<8;++tt){ve=F[rt],me=F[rt+1],Te=F[rt+2],De=F[rt+3],Re=F[rt+4],Be=F[rt+5],Ke=F[rt+6];var rr=ve+(Ze=F[rt+7]),ht=ve-Ze,kt=me+Ke,Ct=me-Ke,jt=Te+Be,mt=Te-Be,Jt=De+Re,bt=De-Re,At=rr+Jt,nr=rr-Jt,pt=kt+jt,gt=kt-jt;F[rt]=At+pt,F[rt+4]=At-pt;var qt=.707106781*(gt+nr);F[rt+2]=nr+qt,F[rt+6]=nr-qt;var Ui=.382683433*((At=bt+mt)-(gt=Ct+ht)),En=.5411961*At+Ui,ks=1.306562965*gt+Ui,Cn=.707106781*(pt=mt+Ct),Et=ht+Cn,Cs=ht-Cn;F[rt+5]=Cs+En,F[rt+3]=Cs-En,F[rt+1]=Et+ks,F[rt+7]=Et-ks,rt+=8}for(rt=0,tt=0;tt<8;++tt){ve=F[rt],me=F[rt+8],Te=F[rt+16],De=F[rt+24],Re=F[rt+32],Be=F[rt+40],Ke=F[rt+48];var wi=ve+(Ze=F[rt+56]),ri=ve-Ze,ni=me+Ke,vr=me-Ke,Or=Te+Be,mn=Te-Be,Un=De+Re,Rs=De-Re,_i=wi+Un,bi=wi-Un,ii=ni+Or,xi=ni-Or;F[rt]=_i+ii,F[rt+32]=_i-ii;var Ei=.707106781*(xi+bi);F[rt+16]=bi+Ei,F[rt+48]=bi-Ei;var ro=.382683433*((_i=Rs+mn)-(xi=vr+ri)),os=.5411961*_i+ro,as=1.306562965*xi+ro,qo=.707106781*(ii=mn+vr),no=ri+qo,ls=ri-qo;F[rt+40]=ls+os,F[rt+24]=ls-os,F[rt+8]=no+as,F[rt+56]=no-as,rt++}for(tt=0;tt<64;++tt)xt=F[tt]*ce[tt],h[tt]=xt>0?xt+.5|0:xt-.5|0;return h}(O,K),Y=0;Y<64;++Y)E[A[Y]]=te[Y];var re=E[0]-Q;Q=E[0],re==0?se(ue[0]):(se(ue[m[j=32767+re]]),se(f[j]));for(var xe=63;xe>0&&E[xe]==0;)xe--;if(xe==0)return se(B),Q;for(var V,X=1;X<=xe;){for(var H=X;E[X]==0&&X<=xe;)++X;var N=X-H;if(N>=16){V=N>>4;for(var k=1;k<=V;++k)se(ne);N&=15}j=32767+E[X],se(ee[(N<<4)+m[j]]),se(f[j]),X++}return xe!=63&&se(B),Q}function he(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(K){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ee=o((Q[ue]*K+50)/100);ee=Math.min(Math.max(ee,1),255),a[A[ue]]=ee}for(var j=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],B=0;B<64;B++){var ne=o((j[B]*K+50)/100);ne=Math.min(Math.max(ne,1),255),l[A[B]]=ne}for(var te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Y=0,re=0;re<8;re++)for(var xe=0;xe<8;xe++)u[Y]=1/(a[A[Y]]*te[re]*te[xe]*8),c[Y]=1/(l[A[Y]]*te[re]*te[xe]*8),Y++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,K){K&&he(K),b=new Array,T=0,d=7,de(65496),de(65504),de(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),de(1),de(1),ae(0),ae(0),function(){de(65499),de(132),ae(0);for(var me=0;me<64;me++)ae(a[me]);ae(1);for(var Te=0;Te<64;Te++)ae(l[Te])}(),function(me,Te){de(65472),de(17),ae(8),de(Te),de(me),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}(O.width,O.height),function(){de(65476),de(418),ae(0);for(var me=0;me<16;me++)ae(S[me+1]);for(var Te=0;Te<=11;Te++)ae(_[Te]);ae(16);for(var De=0;De<16;De++)ae(q[De+1]);for(var Re=0;Re<=161;Re++)ae(D[Re]);ae(1);for(var Be=0;Be<16;Be++)ae(I[Be+1]);for(var Ke=0;Ke<=11;Ke++)ae(P[Ke]);ae(17);for(var Ze=0;Ze<16;Ze++)ae(C[Ze+1]);for(var tt=0;tt<=161;tt++)ae(oe[tt])}(),de(65498),de(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var Q=0,ue=0,ee=0;T=0,d=7,this.encode.displayName="_encode_";for(var j,B,ne,te,Y,re,xe,V,X,H=O.data,N=O.width,k=O.height,F=4*N,ce=0;ce<k;){for(j=0;j<F;){for(Y=F*ce+j,xe=-1,V=0,X=0;X<64;X++)re=Y+(V=X>>3)*F+(xe=4*(7&X)),ce+V>=k&&(re-=F*(ce+1+V-k)),j+xe>=F&&(re-=j+xe-F+4),B=H[re++],ne=H[re++],te=H[re++],w[X]=(W[B]+W[ne+256|0]+W[te+512|0]>>16)-128,v[X]=(W[B+768|0]+W[ne+1024|0]+W[te+1280|0]>>16)-128,y[X]=(W[B+1280|0]+W[ne+1536|0]+W[te+1792|0]>>16)-128;Q=Ae(w,u,Q,e,n),ue=Ae(v,c,ue,r,i),ee=Ae(y,c,ee,r,i),j+=32}ce+=8}if(d>=0){var ve=[];ve[1]=d+1,ve[0]=(1<<d+1)-1,se(ve)}return de(65497),new Uint8Array(b)},t=t||50,function(){for(var O=String.fromCharCode,K=0;K<256;K++)L[K]=O(K)}(),e=ye(S,_),r=ye(I,P),n=ye(q,D),i=ye(C,oe),function(){for(var O=1,K=2,Q=1;Q<=15;Q++){for(var ue=O;ue<K;ue++)m[32767+ue]=Q,f[32767+ue]=[],f[32767+ue][1]=Q,f[32767+ue][0]=ue;for(var ee=-(K-1);ee<=-O;ee++)m[32767+ee]=Q,f[32767+ee]=[],f[32767+ee][1]=Q,f[32767+ee][0]=K-1+ee;O<<=1,K<<=1}}(),function(){for(var O=0;O<256;O++)W[O]=19595*O,W[O+256|0]=38470*O,W[O+512|0]=7471*O+32768,W[O+768|0]=-11059*O,W[O+1024|0]=-21709*O,W[O+1280|0]=32768*O+8421375,W[O+1536|0]=-27439*O,W[O+1792|0]=-5329*O}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p6(t){function e(_){if(!_)throw Error("assert :P")}function r(_,q,D){for(var I=0;4>I;I++)if(_[q+I]!=D.charCodeAt(I))return!0;return!1}function n(_,q,D,I,P){for(var C=0;C<P;C++)_[q+C]=D[I+C]}function i(_,q,D,I){for(var P=0;P<I;P++)_[q+P]=D}function s(_){return new Int32Array(_)}function o(_,q){for(var D=[],I=0;I<_;I++)D.push(new q);return D}function a(_,q){var D=[];return function I(P,C,oe){for(var ye=oe[C],se=0;se<ye&&(P.push(oe.length>C+1?[]:new q),!(oe.length<C+1));se++)I(P[se],C+1,oe)}(D,0,_),D}var l=function(){var _=this;function q(p,x){for(var M=1<<x-1>>>0;p&M;)M>>>=1;return M?(p&M-1)+M:p}function D(p,x,M,$,Z){e(!($%M));do p[x+($-=M)]=Z;while(0<$)}function I(p,x,M,$,Z){if(e(2328>=Z),512>=Z)var ie=s(512);else if((ie=s(Z))==null)return 0;return function(le,fe,ge,_e,Se,Le){var be,Ne,Ce=fe,je=1<<ge,Pe=s(16),Ve=s(16);for(e(Se!=0),e(_e!=null),e(le!=null),e(0<ge),Ne=0;Ne<Se;++Ne){if(15<_e[Ne])return 0;++Pe[_e[Ne]]}if(Pe[0]==Se)return 0;for(Ve[1]=0,be=1;15>be;++be){if(Pe[be]>1<<be)return 0;Ve[be+1]=Ve[be]+Pe[be]}for(Ne=0;Ne<Se;++Ne)be=_e[Ne],0<_e[Ne]&&(Le[Ve[be]++]=Ne);if(Ve[15]==1)return(_e=new P).g=0,_e.value=Le[0],D(le,Ce,1,je,_e),je;var ze,Xe=-1,$e=je-1,yt=0,at=1,Mt=1,ft=1<<ge;for(Ne=0,be=1,Se=2;be<=ge;++be,Se<<=1){if(at+=Mt<<=1,0>(Mt-=Pe[be]))return 0;for(;0<Pe[be];--Pe[be])(_e=new P).g=be,_e.value=Le[Ne++],D(le,Ce+yt,Se,ft,_e),yt=q(yt,be)}for(be=ge+1,Se=2;15>=be;++be,Se<<=1){if(at+=Mt<<=1,0>(Mt-=Pe[be]))return 0;for(;0<Pe[be];--Pe[be]){if(_e=new P,(yt&$e)!=Xe){for(Ce+=ft,ze=1<<(Xe=be)-ge;15>Xe&&!(0>=(ze-=Pe[Xe]));)++Xe,ze<<=1;je+=ft=1<<(ze=Xe-ge),le[fe+(Xe=yt&$e)].g=ze+ge,le[fe+Xe].value=Ce-fe-Xe}_e.g=be-ge,_e.value=Le[Ne++],D(le,Ce+(yt>>ge),Se,ft,_e),yt=q(yt,be)}}return at!=2*Ve[15]-1?0:je}(p,x,M,$,Z,ie)}function P(){this.value=this.g=0}function C(){this.value=this.g=0}function oe(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ru,C)}function ye(p,x,M,$){e(p!=null),e(x!=null),e(2147483648>$),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=x,p.pa=M,p.Jd=x,p.Yc=M+$,p.Zc=4<=$?M+$-4+1:M,B(p)}function se(p,x){for(var M=0;0<x--;)M|=te(p,128)<<x;return M}function ae(p,x){var M=se(p,x);return ne(p)?-M:M}function de(p,x,M,$){var Z,ie=0;for(e(p!=null),e(x!=null),e(4294967288>$),p.Sb=$,p.Ra=0,p.u=0,p.h=0,4<$&&($=4),Z=0;Z<$;++Z)ie+=x[M+Z]<<8*Z;p.Ra=ie,p.bb=$,p.oa=x,p.pa=M}function Ae(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Fa-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function he(p,x){if(e(0<=x),!p.h&&x<=qi){var M=Q(p)&zi[x];return p.u+=x,Ae(p),M}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&Fa-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Fa}function ee(p,x){p.u=x,p.h=ue(p)}function j(p){p.u>=Qo&&(e(p.u>=Qo),Ae(p))}function B(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ne(p){return se(p,1)}function te(p,x){var M=p.Ca;0>p.b&&B(p);var $=p.b,Z=M*x>>>8,ie=(p.I>>>$>Z)+0;for(ie?(M-=Z,p.I-=Z+1<<$>>>0):M=Z+1,$=M,Z=0;256<=$;)Z+=8,$>>=8;return $=7^Z+ja[$],p.b-=$,p.Ca=(M<<$)-1,ie}function Y(p,x,M){p[x+0]=M>>24&255,p[x+1]=M>>16&255,p[x+2]=M>>8&255,p[x+3]=255&M}function re(p,x){return p[x+0]|p[x+1]<<8}function xe(p,x){return re(p,x)|p[x+2]<<16}function V(p,x){return re(p,x)|re(p,x+2)<<16}function X(p,x){var M=1<<x;return e(p!=null),e(0<x),p.X=s(M),p.X==null?0:(p.Mb=32-x,p.Xa=x,1)}function H(p,x){e(p!=null),e(x!=null),e(p.Xa==x.Xa),n(x.X,0,p.X,0,1<<x.Xa)}function N(){this.X=[],this.Xa=this.Mb=0}function k(p,x,M,$){e(M!=null),e($!=null);var Z=M[0],ie=$[0];return Z==0&&(Z=(p*ie+x/2)/x),ie==0&&(ie=(x*Z+p/2)/p),0>=Z||0>=ie?0:(M[0]=Z,$[0]=ie,1)}function F(p,x){return p+(1<<x)-1>>>x}function ce(p,x){return((4278255360&p)+(4278255360&x)>>>0&4278255360)+((16711935&p)+(16711935&x)>>>0&16711935)>>>0}function ve(p,x){_[x]=function(M,$,Z,ie,le,fe,ge){var _e;for(_e=0;_e<le;++_e){var Se=_[p](fe[ge+_e-1],Z,ie+_e);fe[ge+_e]=ce(M[$+_e],Se)}}}function me(){this.ud=this.hd=this.jd=0}function Te(p,x){return((4278124286&(p^x))>>>1)+(p&x)>>>0}function De(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Re(p,x){return De(p+(p-x+.5>>1))}function Be(p,x,M){return Math.abs(x-M)-Math.abs(p-M)}function Ke(p,x,M,$,Z,ie,le){for($=ie[le-1],M=0;M<Z;++M)ie[le+M]=$=ce(p[x+M],$)}function Ze(p,x,M,$,Z){var ie;for(ie=0;ie<M;++ie){var le=p[x+ie],fe=le>>8&255,ge=16711935&(ge=(ge=16711935&le)+((fe<<16)+fe));$[Z+ie]=(4278255360&le)+ge>>>0}}function tt(p,x){x.jd=255&p,x.hd=p>>8&255,x.ud=p>>16&255}function xt(p,x,M,$,Z,ie){var le;for(le=0;le<$;++le){var fe=x[M+le],ge=fe>>>8,_e=fe,Se=255&(Se=(Se=fe>>>16)+((p.jd<<24>>24)*(ge<<24>>24)>>>5));_e=255&(_e=(_e+=(p.hd<<24>>24)*(ge<<24>>24)>>>5)+((p.ud<<24>>24)*(Se<<24>>24)>>>5)),Z[ie+le]=(4278255360&fe)+(Se<<16)+_e}}function rt(p,x,M,$,Z){_[x]=function(ie,le,fe,ge,_e,Se,Le,be,Ne){for(ge=Le;ge<be;++ge)for(Le=0;Le<Ne;++Le)_e[Se++]=Z(fe[$(ie[le++])])},_[p]=function(ie,le,fe,ge,_e,Se,Le){var be=8>>ie.b,Ne=ie.Ea,Ce=ie.K[0],je=ie.w;if(8>be)for(ie=(1<<ie.b)-1,je=(1<<be)-1;le<fe;++le){var Pe,Ve=0;for(Pe=0;Pe<Ne;++Pe)Pe&ie||(Ve=$(ge[_e++])),Se[Le++]=Z(Ce[Ve&je]),Ve>>=be}else _["VP8LMapColor"+M](ge,_e,Ce,je,Se,Le,le,fe,Ne)}}function rr(p,x,M,$,Z){for(M=x+M;x<M;){var ie=p[x++];$[Z++]=ie>>16&255,$[Z++]=ie>>8&255,$[Z++]=255&ie}}function ht(p,x,M,$,Z){for(M=x+M;x<M;){var ie=p[x++];$[Z++]=ie>>16&255,$[Z++]=ie>>8&255,$[Z++]=255&ie,$[Z++]=ie>>24&255}}function kt(p,x,M,$,Z){for(M=x+M;x<M;){var ie=(le=p[x++])>>16&240|le>>12&15,le=240&le|le>>28&15;$[Z++]=ie,$[Z++]=le}}function Ct(p,x,M,$,Z){for(M=x+M;x<M;){var ie=(le=p[x++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;$[Z++]=ie,$[Z++]=le}}function jt(p,x,M,$,Z){for(M=x+M;x<M;){var ie=p[x++];$[Z++]=255&ie,$[Z++]=ie>>8&255,$[Z++]=ie>>16&255}}function mt(p,x,M,$,Z,ie){if(ie==0)for(M=x+M;x<M;)Y($,((ie=p[x++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else n($,Z,p,x,M)}function Jt(p,x){_[x][0]=_[p+"0"],_[x][1]=_[p+"1"],_[x][2]=_[p+"2"],_[x][3]=_[p+"3"],_[x][4]=_[p+"4"],_[x][5]=_[p+"5"],_[x][6]=_[p+"6"],_[x][7]=_[p+"7"],_[x][8]=_[p+"8"],_[x][9]=_[p+"9"],_[x][10]=_[p+"10"],_[x][11]=_[p+"11"],_[x][12]=_[p+"12"],_[x][13]=_[p+"13"],_[x][14]=_[p+"0"],_[x][15]=_[p+"0"]}function bt(p){return p==M1||p==B1||p==fp||p==U1}function At(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new nr,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ui(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function En(p,x){var M=p.T,$=x.ba.f.RGBA,Z=$.eb,ie=$.fb+p.ka*$.A,le=vs[x.ba.S],fe=p.y,ge=p.O,_e=p.f,Se=p.N,Le=p.ea,be=p.W,Ne=x.cc,Ce=x.dc,je=x.Mc,Pe=x.Nc,Ve=p.ka,ze=p.ka+p.T,Xe=p.U,$e=Xe+1>>1;for(Ve==0?le(fe,ge,null,null,_e,Se,Le,be,_e,Se,Le,be,Z,ie,null,null,Xe):(le(x.ec,x.fc,fe,ge,Ne,Ce,je,Pe,_e,Se,Le,be,Z,ie-$.A,Z,ie,Xe),++M);Ve+2<ze;Ve+=2)Ne=_e,Ce=Se,je=Le,Pe=be,Se+=p.Rc,be+=p.Rc,ie+=2*$.A,le(fe,(ge+=2*p.fa)-p.fa,fe,ge,Ne,Ce,je,Pe,_e,Se,Le,be,Z,ie-$.A,Z,ie,Xe);return ge+=p.fa,p.j+ze<p.o?(n(x.ec,x.fc,fe,ge,Xe),n(x.cc,x.dc,_e,Se,$e),n(x.Mc,x.Nc,Le,be,$e),M--):1&ze||le(fe,ge,null,null,_e,Se,Le,be,_e,Se,Le,be,Z,ie+$.A,null,null,Xe),M}function ks(p,x,M){var $=p.F,Z=[p.J];if($!=null){var ie=p.U,le=x.ba.S,fe=le==hp||le==fp;x=x.ba.f.RGBA;var ge=[0],_e=p.ka;ge[0]=p.T,p.Kb&&(_e==0?--ge[0]:(--_e,Z[0]-=p.width),p.j+p.ka+p.T==p.o&&(ge[0]=p.o-p.j-_e));var Se=x.eb;_e=x.fb+_e*x.A,p=pb($,Z[0],p.width,ie,ge,Se,_e+(fe?0:3),x.A),e(M==ge),p&&bt(le)&&ef(Se,_e,fe,ie,ge,x.A)}return 0}function Cn(p){var x=p.ma,M=x.ba.S,$=11>M,Z=M==up||M==cp||M==hp||M==j1||M==12||bt(M);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!$h(x.Oa,p,Z?11:12))return 0;if(Z&&bt(M)&&Pt(),p.da)alert("todo:use_scaling");else{if($){if(x.Ib=Ui,p.Kb){if(M=p.U+1>>1,x.memory=s(p.U+2*M),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+p.U,x.Mc=x.cc,x.Nc=x.dc+M,x.Ib=En,Pt()}}else alert("todo:EmitYUV");Z&&(x.Jb=ks,$&&Oe())}if($&&!Cb){for(p=0;256>p;++p)F8[p]=89858*(p-128)+pp>>dp,B8[p]=-22014*(p-128)+pp,M8[p]=-45773*(p-128),j8[p]=113618*(p-128)+pp>>dp;for(p=rf;p<q1;++p)x=76283*(p-16)+pp>>dp,U8[p-rf]=us(x,255),V8[p-rf]=us(x+8>>4,15);Cb=1}return 1}function Et(p){var x=p.ma,M=p.U,$=p.T;return e(!(1&p.ka)),0>=M||0>=$?0:(M=x.Ib(p,x),x.Jb!=null&&x.Jb(p,x,M),x.Dc+=M,1)}function Cs(p){p.ma.memory=null}function wi(p,x,M,$){return he(p,8)!=47?0:(x[0]=he(p,14)+1,M[0]=he(p,14)+1,$[0]=he(p,1),he(p,3)!=0?0:!p.h)}function ri(p,x){if(4>p)return p+1;var M=p-2>>1;return(2+(1&p)<<M)+he(x,M)+1}function ni(p,x){return 120<x?x-120:1<=(M=((M=x8[x-1])>>4)*p+(8-(15&M)))?M:1;var M}function vr(p,x,M){var $=Q(M),Z=p[x+=255&$].g-8;return 0<Z&&(ee(M,M.u+8),$=Q(M),x+=p[x].value,x+=$&(1<<Z)-1),ee(M,M.u+p[x].g),p[x].value}function Or(p,x,M){return M.g+=p.g,M.value+=p.value<<x>>>0,e(8>=M.g),p.g}function mn(p,x,M){var $=p.xc;return e((x=$==0?0:p.vc[p.md*(M>>$)+(x>>$)])<p.Wb),p.Ya[x]}function Un(p,x,M,$){var Z=p.ab,ie=p.c*x,le=p.C;x=le+x;var fe=M,ge=$;for($=p.Ta,M=p.Ua;0<Z--;){var _e=p.gc[Z],Se=le,Le=x,be=fe,Ne=ge,Ce=(ge=$,fe=M,_e.Ea);switch(e(Se<Le),e(Le<=_e.nc),_e.hc){case 2:Qr(be,Ne,(Le-Se)*Ce,ge,fe);break;case 0:var je=Se,Pe=Le,Ve=ge,ze=fe,Xe=(ft=_e).Ea;je==0&&(Kh(be,Ne,null,null,1,Ve,ze),Ke(be,Ne+1,0,0,Xe-1,Ve,ze+1),Ne+=Xe,ze+=Xe,++je);for(var $e=1<<ft.b,yt=$e-1,at=F(Xe,ft.b),Mt=ft.K,ft=ft.w+(je>>ft.b)*at;je<Pe;){var Xt=Mt,yn=ft,Bt=1;for(uc(be,Ne,Ve,ze-Xe,1,Ve,ze);Bt<Xe;){var dt=(Bt&~yt)+$e;dt>Xe&&(dt=Xe),(0,Yh[Xt[yn++]>>8&15])(be,Ne+ +Bt,Ve,ze+Bt-Xe,dt-Bt,Ve,ze+Bt),Bt=dt}Ne+=Xe,ze+=Xe,++je&yt||(ft+=at)}Le!=_e.nc&&n(ge,fe-Ce,ge,fe+(Le-Se-1)*Ce,Ce);break;case 1:for(Ce=be,Pe=Ne,Xe=(be=_e.Ea)-(ze=be&~(Ve=(Ne=1<<_e.b)-1)),je=F(be,_e.b),$e=_e.K,_e=_e.w+(Se>>_e.b)*je;Se<Le;){for(yt=$e,at=_e,Mt=new me,ft=Pe+ze,Xt=Pe+be;Pe<ft;)tt(yt[at++],Mt),Qh(Mt,Ce,Pe,Ne,ge,fe),Pe+=Ne,fe+=Ne;Pe<Xt&&(tt(yt[at++],Mt),Qh(Mt,Ce,Pe,Xe,ge,fe),Pe+=Xe,fe+=Xe),++Se&Ve||(_e+=je)}break;case 3:if(be==ge&&Ne==fe&&0<_e.b){for(Pe=ge,be=Ce=fe+(Le-Se)*Ce-(ze=(Le-Se)*F(_e.Ea,_e.b)),Ne=ge,Ve=fe,je=[],ze=(Xe=ze)-1;0<=ze;--ze)je[ze]=Ne[Ve+ze];for(ze=Xe-1;0<=ze;--ze)Pe[be+ze]=je[ze];sp(_e,Se,Le,ge,Ce,ge,fe)}else sp(_e,Se,Le,be,Ne,ge,fe)}fe=$,ge=M}ge!=M&&n($,M,fe,ge,ie)}function Rs(p,x){var M=p.V,$=p.Ba+p.c*p.C,Z=x-p.C;if(e(x<=p.l.o),e(16>=Z),0<Z){var ie=p.l,le=p.Ta,fe=p.Ua,ge=ie.width;if(Un(p,Z,M,$),Z=fe=[fe],e((M=p.C)<($=x)),e(ie.v<ie.va),$>ie.o&&($=ie.o),M<ie.j){var _e=ie.j-M;M=ie.j,Z[0]+=_e*ge}if(M>=$?M=0:(Z[0]+=4*ie.v,ie.ka=M-ie.j,ie.U=ie.va-ie.v,ie.T=$-M,M=1),M){if(fe=fe[0],11>(M=p.ca).S){var Se=M.f.RGBA,Le=($=M.S,Z=ie.U,ie=ie.T,_e=Se.eb,Se.A),be=ie;for(Se=Se.fb+p.Ma*Se.A;0<be--;){var Ne=le,Ce=fe,je=Z,Pe=_e,Ve=Se;switch($){case lp:Jh(Ne,Ce,je,Pe,Ve);break;case up:Ma(Ne,Ce,je,Pe,Ve);break;case M1:Ma(Ne,Ce,je,Pe,Ve),ef(Pe,Ve,0,je,1,0);break;case bb:nu(Ne,Ce,je,Pe,Ve);break;case cp:mt(Ne,Ce,je,Pe,Ve,1);break;case B1:mt(Ne,Ce,je,Pe,Ve,1),ef(Pe,Ve,0,je,1,0);break;case hp:mt(Ne,Ce,je,Pe,Ve,0);break;case fp:mt(Ne,Ce,je,Pe,Ve,0),ef(Pe,Ve,1,je,1,0);break;case j1:Ba(Ne,Ce,je,Pe,Ve);break;case U1:Ba(Ne,Ce,je,Pe,Ve),db(Pe,Ve,je,1,0);break;case xb:Ua(Ne,Ce,je,Pe,Ve);break;default:e(0)}fe+=ge,Se+=Le}p.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=M.height)}}p.C=x,e(p.C<=p.i)}function _i(p){var x;if(0<p.ua)return 0;for(x=0;x<p.Wb;++x){var M=p.Ya[x].G,$=p.Ya[x].H;if(0<M[1][$[1]+0].g||0<M[2][$[2]+0].g||0<M[3][$[3]+0].g)return 0}return 1}function bi(p,x,M,$,Z,ie){if(p.Z!=0){var le=p.qd,fe=p.rd;for(e(qa[p.Z]!=null);x<M;++x)qa[p.Z](le,fe,$,Z,$,Z,ie),le=$,fe=Z,Z+=ie;p.qd=le,p.rd=fe}}function ii(p,x){var M=p.l.ma,$=M.Z==0||M.Z==1?p.l.j:p.C;if($=p.C<$?$:p.C,e(x<=p.l.o),x>$){var Z=p.l.width,ie=M.ca,le=M.tb+Z*$,fe=p.V,ge=p.Ba+p.c*$,_e=p.gc;e(p.ab==1),e(_e[0].hc==3),po(_e[0],$,x,fe,ge,ie,le),bi(M,$,x,ie,le,Z)}p.C=p.Ma=x}function xi(p,x,M,$,Z,ie,le){var fe=p.$/$,ge=p.$%$,_e=p.m,Se=p.s,Le=M+p.$,be=Le;Z=M+$*Z;var Ne=M+$*ie,Ce=280+Se.ua,je=p.Pb?fe:16777216,Pe=0<Se.ua?Se.Wa:null,Ve=Se.wc,ze=Le<Ne?mn(Se,ge,fe):null;e(p.C<ie),e(Ne<=Z);var Xe=!1;e:for(;;){for(;Xe||Le<Ne;){var $e=0;if(fe>=je){var yt=Le-M;e((je=p).Pb),je.wd=je.m,je.xd=yt,0<je.s.ua&&H(je.s.Wa,je.s.vb),je=fe+A8}if(ge&Ve||(ze=mn(Se,ge,fe)),e(ze!=null),ze.Qb&&(x[Le]=ze.qb,Xe=!0),!Xe)if(j(_e),ze.jc){$e=_e,yt=x;var at=Le,Mt=ze.pd[Q($e)&ru-1];e(ze.jc),256>Mt.g?(ee($e,$e.u+Mt.g),yt[at]=Mt.value,$e=0):(ee($e,$e.u+Mt.g-256),e(256<=Mt.value),$e=Mt.value),$e==0&&(Xe=!0)}else $e=vr(ze.G[0],ze.H[0],_e);if(_e.h)break;if(Xe||256>$e){if(!Xe)if(ze.nd)x[Le]=(ze.qb|$e<<8)>>>0;else{if(j(_e),Xe=vr(ze.G[1],ze.H[1],_e),j(_e),yt=vr(ze.G[2],ze.H[2],_e),at=vr(ze.G[3],ze.H[3],_e),_e.h)break;x[Le]=(at<<24|Xe<<16|$e<<8|yt)>>>0}if(Xe=!1,++Le,++ge>=$&&(ge=0,++fe,le!=null&&fe<=ie&&!(fe%16)&&le(p,fe),Pe!=null))for(;be<Le;)$e=x[be++],Pe.X[(506832829*$e&4294967295)>>>Pe.Mb]=$e}else if(280>$e){if($e=ri($e-256,_e),yt=vr(ze.G[4],ze.H[4],_e),j(_e),yt=ni($,yt=ri(yt,_e)),_e.h)break;if(Le-M<yt||Z-Le<$e)break e;for(at=0;at<$e;++at)x[Le+at]=x[Le+at-yt];for(Le+=$e,ge+=$e;ge>=$;)ge-=$,++fe,le!=null&&fe<=ie&&!(fe%16)&&le(p,fe);if(e(Le<=Z),ge&Ve&&(ze=mn(Se,ge,fe)),Pe!=null)for(;be<Le;)$e=x[be++],Pe.X[(506832829*$e&4294967295)>>>Pe.Mb]=$e}else{if(!($e<Ce))break e;for(Xe=$e-280,e(Pe!=null);be<Le;)$e=x[be++],Pe.X[(506832829*$e&4294967295)>>>Pe.Mb]=$e;$e=Le,e(!(Xe>>>(yt=Pe).Xa)),x[$e]=yt.X[Xe],Xe=!0}Xe||e(_e.h==ue(_e))}if(p.Pb&&_e.h&&Le<Z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&H(p.s.vb,p.s.Wa);else{if(_e.h)break e;le!=null&&le(p,fe>ie?ie:fe),p.a=0,p.$=Le-M}return 1}return p.a=3,0}function Ei(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var x=p.Wa;x!=null&&(x.X=null),p.vb=null,e(p!=null)}function ro(){var p=new St;return p==null?null:(p.a=0,p.xb=Sb,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),Qr=Ze,Qh=xt,Jh=rr,Ma=ht,Ba=kt,Ua=Ct,nu=jt,_.VP8LMapColor32b=fo,_.VP8LMapColor8b=Xh,p)}function os(p,x,M,$,Z){var ie=1,le=[p],fe=[x],ge=$.m,_e=$.s,Se=null,Le=0;e:for(;;){if(M)for(;ie&&he(ge,1);){var be=le,Ne=fe,Ce=$,je=1,Pe=Ce.m,Ve=Ce.gc[Ce.ab],ze=he(Pe,2);if(Ce.Oc&1<<ze)ie=0;else{switch(Ce.Oc|=1<<ze,Ve.hc=ze,Ve.Ea=be[0],Ve.nc=Ne[0],Ve.K=[null],++Ce.ab,e(4>=Ce.ab),ze){case 0:case 1:Ve.b=he(Pe,3)+2,je=os(F(Ve.Ea,Ve.b),F(Ve.nc,Ve.b),0,Ce,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,$e=he(Pe,8)+1,yt=16<$e?0:4<$e?1:2<$e?2:3;if(be[0]=F(Ve.Ea,yt),Ve.b=yt,Xe=je=os($e,1,0,Ce,Ve.K)){var at,Mt=$e,ft=Ve,Xt=1<<(8>>ft.b),yn=s(Xt);if(yn==null)Xe=0;else{var Bt=ft.K[0],dt=ft.w;for(yn[0]=ft.K[0][0],at=1;at<1*Mt;++at)yn[at]=ce(Bt[dt+at],yn[at-1]);for(;at<4*Xt;++at)yn[at]=0;ft.K[0]=null,ft.K[0]=yn,Xe=1}}je=Xe;break;case 2:break;default:e(0)}ie=je}}if(le=le[0],fe=fe[0],ie&&he(ge,1)&&!(ie=1<=(Le=he(ge,4))&&11>=Le)){$.a=3;break e}var et;if(et=ie)t:{var Zr,Ft,Yt,kr=$,Rn=le,hi=fe,zr=Le,qn=M,fi=kr.m,vn=kr.s,Zt=[null],or=1,qr=0,ar=E8[zr];r:for(;;){if(qn&&he(fi,1)){var Pn=he(fi,3)+2,js=F(Rn,Pn),en=F(hi,Pn),ki=js*en;if(!os(js,en,0,kr,Zt))break r;for(Zt=Zt[0],vn.xc=Pn,Zr=0;Zr<ki;++Zr){var mr=Zt[Zr]>>8&65535;Zt[Zr]=mr,mr>=or&&(or=mr+1)}}if(fi.h)break r;for(Ft=0;5>Ft;++Ft){var wn=Eb[Ft];!Ft&&0<zr&&(wn+=1<<zr),qr<wn&&(qr=wn)}var Hi=o(or*ar,P),di=or,$i=o(di,oe);if($i==null)var Gi=null;else e(65536>=di),Gi=$i;var Ci=s(qr);if(Gi==null||Ci==null||Hi==null){kr.a=1;break r}var Ki=Hi;for(Zr=Yt=0;Zr<or;++Zr){var Sr=Gi[Zr],Xi=Sr.G,Ms=Sr.H,su=0,ea=1,Ln=0;for(Ft=0;5>Ft;++Ft){wn=Eb[Ft],Xi[Ft]=Ki,Ms[Ft]=Yt,!Ft&&0<zr&&(wn+=1<<zr);i:{var gp,W1=wn,yp=kr,nf=Ci,W8=Ki,H8=Yt,H1=0,Wa=yp.m,$8=he(Wa,1);if(i(nf,0,0,W1),$8){var G8=he(Wa,1)+1,K8=he(Wa,1),Lb=he(Wa,K8==0?1:8);nf[Lb]=1,G8==2&&(nf[Lb=he(Wa,8)]=1);var vp=1}else{var Ob=s(19),Db=he(Wa,4)+4;if(19<Db){yp.a=3;var wp=0;break i}for(gp=0;gp<Db;++gp)Ob[b8[gp]]=he(Wa,3);var $1=void 0,sf=void 0,Fb=yp,X8=Ob,_p=W1,jb=nf,G1=0,Ha=Fb.m,Mb=8,Bb=o(128,P);n:for(;I(Bb,0,7,X8,19);){if(he(Ha,1)){var Y8=2+2*he(Ha,3);if(($1=2+he(Ha,Y8))>_p)break n}else $1=_p;for(sf=0;sf<_p&&$1--;){j(Ha);var Ub=Bb[0+(127&Q(Ha))];ee(Ha,Ha.u+Ub.g);var hc=Ub.value;if(16>hc)jb[sf++]=hc,hc!=0&&(Mb=hc);else{var Q8=hc==16,Vb=hc-16,J8=w8[Vb],zb=he(Ha,v8[Vb])+J8;if(sf+zb>_p)break n;for(var Z8=Q8?Mb:0;0<zb--;)jb[sf++]=Z8}}G1=1;break n}G1||(Fb.a=3),vp=G1}(vp=vp&&!Wa.h)&&(H1=I(W8,H8,8,nf,W1)),vp&&H1!=0?wp=H1:(yp.a=3,wp=0)}if(wp==0)break r;if(ea&&_8[Ft]==1&&(ea=Ki[Yt].g==0),su+=Ki[Yt].g,Yt+=wp,3>=Ft){var of,K1=Ci[0];for(of=1;of<wn;++of)Ci[of]>K1&&(K1=Ci[of]);Ln+=K1}}if(Sr.nd=ea,Sr.Qb=0,ea&&(Sr.qb=(Xi[3][Ms[3]+0].value<<24|Xi[1][Ms[1]+0].value<<16|Xi[2][Ms[2]+0].value)>>>0,su==0&&256>Xi[0][Ms[0]+0].value&&(Sr.Qb=1,Sr.qb+=Xi[0][Ms[0]+0].value<<8)),Sr.jc=!Sr.Qb&&6>Ln,Sr.jc){var bp,ta=Sr;for(bp=0;bp<ru;++bp){var $a=bp,Ga=ta.pd[$a],xp=ta.G[0][ta.H[0]+$a];256<=xp.value?(Ga.g=xp.g+256,Ga.value=xp.value):(Ga.g=0,Ga.value=0,$a>>=Or(xp,8,Ga),$a>>=Or(ta.G[1][ta.H[1]+$a],16,Ga),$a>>=Or(ta.G[2][ta.H[2]+$a],0,Ga),Or(ta.G[3][ta.H[3]+$a],24,Ga))}}}vn.vc=Zt,vn.Wb=or,vn.Ya=Gi,vn.yc=Hi,et=1;break t}et=0}if(!(ie=et)){$.a=3;break e}if(0<Le){if(_e.ua=1<<Le,!X(_e.Wa,Le)){$.a=1,ie=0;break e}}else _e.ua=0;var X1=$,qb=le,eP=fe,Y1=X1.s,Q1=Y1.xc;if(X1.c=qb,X1.i=eP,Y1.md=F(qb,Q1),Y1.wc=Q1==0?-1:(1<<Q1)-1,M){$.xb=R8;break e}if((Se=s(le*fe))==null){$.a=1,ie=0;break e}ie=(ie=xi($,Se,0,le,fe,fe,null))&&!ge.h;break e}return ie?(Z!=null?Z[0]=Se:(e(Se==null),e(M)),$.$=0,M||Ei(_e)):Ei(_e),ie}function as(p,x){var M=p.c*p.i,$=M+x+16*x;return e(p.c<=x),p.V=s($),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+M+x,1)}function qo(p,x){var M=p.C,$=x-M,Z=p.V,ie=p.Ba+p.c*M;for(e(x<=p.l.o);0<$;){var le=16<$?16:$,fe=p.l.ma,ge=p.l.width,_e=ge*le,Se=fe.ca,Le=fe.tb+ge*M,be=p.Ta,Ne=p.Ua;Un(p,le,Z,ie),mb(be,Ne,Se,Le,_e),bi(fe,M,M+le,Se,Le,ge),$-=le,Z+=le*p.c,M+=le}e(M==x),p.C=p.Ma=x}function no(){this.ub=this.yd=this.td=this.Rb=0}function ls(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ps(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Wo(){this.Yb=function(){var p=[];return function x(M,$,Z){for(var ie=Z[$],le=0;le<ie&&(M.push(Z.length>$+1?[]:0),!(Z.length<$+1));le++)x(M[le],$+1,Z)}(p,0,[3,11]),p}()}function Zu(){this.jb=s(3),this.Wc=a([4,8],Wo),this.Xc=a([4,17],Wo)}function $l(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function si(){this.ld=this.La=this.dd=this.tc=0}function Ta(){this.Na=this.la=0}function Na(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ho(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new si),this.Y=0,this.ya=Array(new Ho),this.aa=0,this.l=new oi}function Kl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xl(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new no,this.Kc=new ls,this.ed=new $l,this.Qa=new Ps,this.Ic=this.$c=this.Aa=0,this.D=new Gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,Na),this.Pa=new Zu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kl),this.Hd=0,this.rb=Array(new Ta),this.sb=0,this.wa=Array(new si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ho),this.L=this.aa=0,this.gd=a([4,2],si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function us(p,x){return 0>p?0:p>x?x:p}function oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ai(){var p=new Xl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,tf||(tf=tr)),p}function wr(p,x,M){return p.a==0&&(p.a=x,p.sc=M,p.cb=0),0}function io(p,x,M){return 3<=M&&p[x+0]==157&&p[x+1]==1&&p[x+2]==42}function Si(p,x){if(p==null)return 0;if(p.a=0,p.sc="OK",x==null)return wr(p,2,"null VP8Io passed to VP8GetHeaders()");var M=x.data,$=x.w,Z=x.ha;if(4>Z)return wr(p,7,"Truncated header.");var ie=M[$+0]|M[$+1]<<8|M[$+2]<<16,le=p.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return wr(p,3,"Incorrect keyframe parameters.");if(!le.yd)return wr(p,4,"Frame not displayable.");$+=3,Z-=3;var fe=p.Kc;if(le.Rb){if(7>Z)return wr(p,7,"cannot parse picture header");if(!io(M,$,Z))return wr(p,3,"Bad code word");fe.c=16383&(M[$+4]<<8|M[$+3]),fe.Td=M[$+4]>>6,fe.i=16383&(M[$+6]<<8|M[$+5]),fe.Ud=M[$+6]>>6,$+=7,Z-=7,p.za=fe.c+15>>4,p.Ub=fe.i+15>>4,x.width=fe.c,x.height=fe.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((ie=p.Pa).jb,0,255,ie.jb.length),e((ie=p.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(le.ub>Z)return wr(p,7,"bad partition length");ye(ie=p.m,M,$,le.ub),$+=le.ub,Z-=le.ub,le.Rb&&(fe.Ld=ne(ie),fe.Kd=ne(ie)),fe=p.Qa;var ge,_e=p.Pa;if(e(ie!=null),e(fe!=null),fe.Cb=ne(ie),fe.Cb){if(fe.Bb=ne(ie),ne(ie)){for(fe.Fb=ne(ie),ge=0;4>ge;++ge)fe.Zb[ge]=ne(ie)?ae(ie,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=ne(ie)?ae(ie,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)_e.jb[ge]=ne(ie)?se(ie,8):255}else fe.Bb=0;if(ie.Ka)return wr(p,3,"cannot parse segment header");if((fe=p.ed).zd=ne(ie),fe.Tb=se(ie,6),fe.wb=se(ie,3),fe.Pc=ne(ie),fe.Pc&&ne(ie)){for(_e=0;4>_e;++_e)ne(ie)&&(fe.vd[_e]=ae(ie,6));for(_e=0;4>_e;++_e)ne(ie)&&(fe.od[_e]=ae(ie,6))}if(p.L=fe.Tb==0?0:fe.zd?1:2,ie.Ka)return wr(p,3,"cannot parse filter header");var Se=Z;if(Z=ge=$,$=ge+Se,fe=Se,p.Xb=(1<<se(p.m,2))-1,Se<3*(_e=p.Xb))M=7;else{for(ge+=3*_e,fe-=3*_e,Se=0;Se<_e;++Se){var Le=M[Z+0]|M[Z+1]<<8|M[Z+2]<<16;Le>fe&&(Le=fe),ye(p.Jc[+Se],M,ge,Le),ge+=Le,fe-=Le,Z+=3}ye(p.Jc[+_e],M,ge,fe),M=ge<$?0:5}if(M!=0)return wr(p,M,"cannot parse partitions");for(M=se(ge=p.m,7),Z=ne(ge)?ae(ge,4):0,$=ne(ge)?ae(ge,4):0,fe=ne(ge)?ae(ge,4):0,_e=ne(ge)?ae(ge,4):0,ge=ne(ge)?ae(ge,4):0,Se=p.Qa,Le=0;4>Le;++Le){if(Se.Cb){var be=Se.Zb[Le];Se.Fb||(be+=M)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}be=M}var Ne=p.pb[Le];Ne.Sc[0]=V1[us(be+Z,127)],Ne.Sc[1]=z1[us(be+0,127)],Ne.Eb[0]=2*V1[us(be+$,127)],Ne.Eb[1]=101581*z1[us(be+fe,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=V1[us(be+_e,117)],Ne.Qc[1]=z1[us(be+ge,127)],Ne.lc=be+ge}if(!le.Rb)return wr(p,4,"Not a key frame.");for(ne(ie),le=p.Pa,M=0;4>M;++M){for(Z=0;8>Z;++Z)for($=0;3>$;++$)for(fe=0;11>fe;++fe)_e=te(ie,k8[M][Z][$][fe])?se(ie,8):N8[M][Z][$][fe],le.Wc[M][Z].Yb[$][fe]=_e;for(Z=0;17>Z;++Z)le.Xc[M][Z]=le.Wc[M][C8[Z]]}return p.kc=ne(ie),p.kc&&(p.Bd=se(ie,8)),p.cb=1}function tr(p,x,M,$,Z,ie,le){var fe=x[Z].Yb[M];for(M=0;16>Z;++Z){if(!te(p,fe[M+0]))return Z;for(;!te(p,fe[M+1]);)if(fe=x[++Z].Yb[0],M=0,Z==16)return 16;var ge=x[Z+1].Yb;if(te(p,fe[M+2])){var _e=p,Se=0;if(te(_e,(be=fe)[(Le=M)+3]))if(te(_e,be[Le+6])){for(fe=0,Le=2*(Se=te(_e,be[Le+8]))+(be=te(_e,be[Le+9+Se])),Se=0,be=S8[Le];be[fe];++fe)Se+=Se+te(_e,be[fe]);Se+=3+(8<<Le)}else te(_e,be[Le+7])?(Se=7+2*te(_e,165),Se+=te(_e,145)):Se=5+te(_e,159);else Se=te(_e,be[Le+4])?3+te(_e,be[Le+5]):2;fe=ge[2]}else Se=1,fe=ge[1];ge=le+T8[Z],0>(_e=p).b&&B(_e);var Le,be=_e.b,Ne=(Le=_e.Ca>>1)-(_e.I>>be)>>31;--_e.b,_e.Ca+=Ne,_e.Ca|=1,_e.I-=(Le+1&Ne)<<be,ie[ge]=((Se^Ne)-Ne)*$[(0<Z)+0]}return 16}function $o(p){var x=p.rb[p.sb-1];x.la=0,x.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function An(p,x,M,$,Z){Z=p[x+M+32*$]+(Z>>3),p[x+M+32*$]=-256&Z?0>Z?0:255:Z}function Ir(p,x,M,$,Z,ie){An(p,x,0,M,$+Z),An(p,x,1,M,$+ie),An(p,x,2,M,$-ie),An(p,x,3,M,$-Z)}function Ls(p){return(20091*p>>16)+p}function Yl(p,x,M,$){var Z,ie=0,le=s(16);for(Z=0;4>Z;++Z){var fe=p[x+0]+p[x+8],ge=p[x+0]-p[x+8],_e=(35468*p[x+4]>>16)-Ls(p[x+12]),Se=Ls(p[x+4])+(35468*p[x+12]>>16);le[ie+0]=fe+Se,le[ie+1]=ge+_e,le[ie+2]=ge-_e,le[ie+3]=fe-Se,ie+=4,x++}for(Z=ie=0;4>Z;++Z)fe=(p=le[ie+0]+4)+le[ie+8],ge=p-le[ie+8],_e=(35468*le[ie+4]>>16)-Ls(le[ie+12]),An(M,$,0,0,fe+(Se=Ls(le[ie+4])+(35468*le[ie+12]>>16))),An(M,$,1,0,ge+_e),An(M,$,2,0,ge-_e),An(M,$,3,0,fe-Se),ie++,$+=32}function Vh(p,x,M,$){var Z=p[x+0]+4,ie=35468*p[x+4]>>16,le=Ls(p[x+4]),fe=35468*p[x+1]>>16;Ir(M,$,0,Z+le,p=Ls(p[x+1]),fe),Ir(M,$,1,Z+ie,p,fe),Ir(M,$,2,Z-ie,p,fe),Ir(M,$,3,Z-le,p,fe)}function zh(p,x,M,$,Z){Yl(p,x,M,$),Z&&Yl(p,x+16,M,$+4)}function cs(p,x,M,$){iu(p,x+0,M,$,1),iu(p,x+32,M,$+128,1)}function ec(p,x,M,$){var Z;for(p=p[x+0]+4,Z=0;4>Z;++Z)for(x=0;4>x;++x)An(M,$,x,Z,p)}function so(p,x,M,$){p[x+0]&&ir(p,x+0,M,$),p[x+16]&&ir(p,x+16,M,$+4),p[x+32]&&ir(p,x+32,M,$+128),p[x+48]&&ir(p,x+48,M,$+128+4)}function Ti(p,x,M,$){var Z,ie=s(16);for(Z=0;4>Z;++Z){var le=p[x+0+Z]+p[x+12+Z],fe=p[x+4+Z]+p[x+8+Z],ge=p[x+4+Z]-p[x+8+Z],_e=p[x+0+Z]-p[x+12+Z];ie[0+Z]=le+fe,ie[8+Z]=le-fe,ie[4+Z]=_e+ge,ie[12+Z]=_e-ge}for(Z=0;4>Z;++Z)le=(p=ie[0+4*Z]+3)+ie[3+4*Z],fe=ie[1+4*Z]+ie[2+4*Z],ge=ie[1+4*Z]-ie[2+4*Z],_e=p-ie[3+4*Z],M[$+0]=le+fe>>3,M[$+16]=_e+ge>>3,M[$+32]=le-fe>>3,M[$+48]=_e-ge>>3,$+=64}function oo(p,x,M){var $,Z=x-32,ie=Wi,le=255-p[Z-1];for($=0;$<M;++$){var fe,ge=ie,_e=le+p[x-1];for(fe=0;fe<M;++fe)p[x+fe]=ge[_e+p[Z+fe]];x+=32}}function tc(p,x){oo(p,x,4)}function rc(p,x){oo(p,x,8)}function nc(p,x){oo(p,x,16)}function Ia(p,x){var M;for(M=0;16>M;++M)n(p,x+32*M,p,x-32,16)}function Os(p,x){var M;for(M=16;0<M;--M)i(p,x,p[x-1],16),x+=32}function Vi(p,x,M){var $;for($=0;16>$;++$)i(x,M+32*$,p,16)}function qh(p,x){var M,$=16;for(M=0;16>M;++M)$+=p[x-1+32*M]+p[x+M-32];Vi($>>5,p,x)}function Go(p,x){var M,$=8;for(M=0;16>M;++M)$+=p[x-1+32*M];Vi($>>4,p,x)}function Ni(p,x){var M,$=8;for(M=0;16>M;++M)$+=p[x+M-32];Vi($>>4,p,x)}function Wh(p,x){Vi(128,p,x)}function Tt(p,x,M){return p+2*x+M+2>>2}function ka(p,x){var M,$=x-32;for($=new Uint8Array([Tt(p[$-1],p[$+0],p[$+1]),Tt(p[$+0],p[$+1],p[$+2]),Tt(p[$+1],p[$+2],p[$+3]),Tt(p[$+2],p[$+3],p[$+4])]),M=0;4>M;++M)n(p,x+32*M,$,0,$.length)}function ic(p,x){var M=p[x-1],$=p[x-1+32],Z=p[x-1+64],ie=p[x-1+96];Y(p,x+0,16843009*Tt(p[x-1-32],M,$)),Y(p,x+32,16843009*Tt(M,$,Z)),Y(p,x+64,16843009*Tt($,Z,ie)),Y(p,x+96,16843009*Tt(Z,ie,ie))}function Ko(p,x){var M,$=4;for(M=0;4>M;++M)$+=p[x+M-32]+p[x-1+32*M];for($>>=3,M=0;4>M;++M)i(p,x+32*M,$,4)}function ai(p,x){var M=p[x-1+0],$=p[x-1+32],Z=p[x-1+64],ie=p[x-1-32],le=p[x+0-32],fe=p[x+1-32],ge=p[x+2-32],_e=p[x+3-32];p[x+0+96]=Tt($,Z,p[x-1+96]),p[x+1+96]=p[x+0+64]=Tt(M,$,Z),p[x+2+96]=p[x+1+64]=p[x+0+32]=Tt(ie,M,$),p[x+3+96]=p[x+2+64]=p[x+1+32]=p[x+0+0]=Tt(le,ie,M),p[x+3+64]=p[x+2+32]=p[x+1+0]=Tt(fe,le,ie),p[x+3+32]=p[x+2+0]=Tt(ge,fe,le),p[x+3+0]=Tt(_e,ge,fe)}function hs(p,x){var M=p[x+1-32],$=p[x+2-32],Z=p[x+3-32],ie=p[x+4-32],le=p[x+5-32],fe=p[x+6-32],ge=p[x+7-32];p[x+0+0]=Tt(p[x+0-32],M,$),p[x+1+0]=p[x+0+32]=Tt(M,$,Z),p[x+2+0]=p[x+1+32]=p[x+0+64]=Tt($,Z,ie),p[x+3+0]=p[x+2+32]=p[x+1+64]=p[x+0+96]=Tt(Z,ie,le),p[x+3+32]=p[x+2+64]=p[x+1+96]=Tt(ie,le,fe),p[x+3+64]=p[x+2+96]=Tt(le,fe,ge),p[x+3+96]=Tt(fe,ge,ge)}function Ql(p,x){var M=p[x-1+0],$=p[x-1+32],Z=p[x-1+64],ie=p[x-1-32],le=p[x+0-32],fe=p[x+1-32],ge=p[x+2-32],_e=p[x+3-32];p[x+0+0]=p[x+1+64]=ie+le+1>>1,p[x+1+0]=p[x+2+64]=le+fe+1>>1,p[x+2+0]=p[x+3+64]=fe+ge+1>>1,p[x+3+0]=ge+_e+1>>1,p[x+0+96]=Tt(Z,$,M),p[x+0+64]=Tt($,M,ie),p[x+0+32]=p[x+1+96]=Tt(M,ie,le),p[x+1+32]=p[x+2+96]=Tt(ie,le,fe),p[x+2+32]=p[x+3+96]=Tt(le,fe,ge),p[x+3+32]=Tt(fe,ge,_e)}function _r(p,x){var M=p[x+0-32],$=p[x+1-32],Z=p[x+2-32],ie=p[x+3-32],le=p[x+4-32],fe=p[x+5-32],ge=p[x+6-32],_e=p[x+7-32];p[x+0+0]=M+$+1>>1,p[x+1+0]=p[x+0+64]=$+Z+1>>1,p[x+2+0]=p[x+1+64]=Z+ie+1>>1,p[x+3+0]=p[x+2+64]=ie+le+1>>1,p[x+0+32]=Tt(M,$,Z),p[x+1+32]=p[x+0+96]=Tt($,Z,ie),p[x+2+32]=p[x+1+96]=Tt(Z,ie,le),p[x+3+32]=p[x+2+96]=Tt(ie,le,fe),p[x+3+64]=Tt(le,fe,ge),p[x+3+96]=Tt(fe,ge,_e)}function Ca(p,x){var M=p[x-1+0],$=p[x-1+32],Z=p[x-1+64],ie=p[x-1+96];p[x+0+0]=M+$+1>>1,p[x+2+0]=p[x+0+32]=$+Z+1>>1,p[x+2+32]=p[x+0+64]=Z+ie+1>>1,p[x+1+0]=Tt(M,$,Z),p[x+3+0]=p[x+1+32]=Tt($,Z,ie),p[x+3+32]=p[x+1+64]=Tt(Z,ie,ie),p[x+3+64]=p[x+2+64]=p[x+0+96]=p[x+1+96]=p[x+2+96]=p[x+3+96]=ie}function Jl(p,x){var M=p[x-1+0],$=p[x-1+32],Z=p[x-1+64],ie=p[x-1+96],le=p[x-1-32],fe=p[x+0-32],ge=p[x+1-32],_e=p[x+2-32];p[x+0+0]=p[x+2+32]=M+le+1>>1,p[x+0+32]=p[x+2+64]=$+M+1>>1,p[x+0+64]=p[x+2+96]=Z+$+1>>1,p[x+0+96]=ie+Z+1>>1,p[x+3+0]=Tt(fe,ge,_e),p[x+2+0]=Tt(le,fe,ge),p[x+1+0]=p[x+3+32]=Tt(M,le,fe),p[x+1+32]=p[x+3+64]=Tt($,M,le),p[x+1+64]=p[x+3+96]=Tt(Z,$,M),p[x+1+96]=Tt(ie,Z,$)}function ao(p,x){var M;for(M=0;8>M;++M)n(p,x+32*M,p,x-32,8)}function sc(p,x){var M;for(M=0;8>M;++M)i(p,x,p[x-1],8),x+=32}function fs(p,x,M){var $;for($=0;8>$;++$)i(x,M+32*$,p,8)}function Ra(p,x){var M,$=8;for(M=0;8>M;++M)$+=p[x+M-32]+p[x-1+32*M];fs($>>4,p,x)}function Ii(p,x){var M,$=4;for(M=0;8>M;++M)$+=p[x+M-32];fs($>>3,p,x)}function Pa(p,x){var M,$=4;for(M=0;8>M;++M)$+=p[x-1+32*M];fs($>>3,p,x)}function oc(p,x){fs(128,p,x)}function li(p,x,M){var $=p[x-M],Z=p[x+0],ie=3*(Z-$)+F1[1020+p[x-2*M]-p[x+M]],le=ap[112+(ie+4>>3)];p[x-M]=Wi[255+$+ap[112+(ie+3>>3)]],p[x+0]=Wi[255+Z-le]}function La(p,x,M,$){var Z=p[x+0],ie=p[x+M];return ys[255+p[x-2*M]-p[x-M]]>$||ys[255+ie-Z]>$}function lo(p,x,M,$){return 4*ys[255+p[x-M]-p[x+0]]+ys[255+p[x-2*M]-p[x+M]]<=$}function uo(p,x,M,$,Z){var ie=p[x-3*M],le=p[x-2*M],fe=p[x-M],ge=p[x+0],_e=p[x+M],Se=p[x+2*M],Le=p[x+3*M];return 4*ys[255+fe-ge]+ys[255+le-_e]>$?0:ys[255+p[x-4*M]-ie]<=Z&&ys[255+ie-le]<=Z&&ys[255+le-fe]<=Z&&ys[255+Le-Se]<=Z&&ys[255+Se-_e]<=Z&&ys[255+_e-ge]<=Z}function co(p,x,M,$){var Z=2*$+1;for($=0;16>$;++$)lo(p,x+$,M,Z)&&li(p,x+$,M)}function ho(p,x,M,$){var Z=2*$+1;for($=0;16>$;++$)lo(p,x+$*M,1,Z)&&li(p,x+$*M,1)}function ac(p,x,M,$){var Z;for(Z=3;0<Z;--Z)co(p,x+=4*M,M,$)}function Zl(p,x,M,$){var Z;for(Z=3;0<Z;--Z)ho(p,x+=4,M,$)}function ui(p,x,M,$,Z,ie,le,fe){for(ie=2*ie+1;0<Z--;){if(uo(p,x,M,ie,le))if(La(p,x,M,fe))li(p,x,M);else{var ge=p,_e=x,Se=M,Le=ge[_e-2*Se],be=ge[_e-Se],Ne=ge[_e+0],Ce=ge[_e+Se],je=ge[_e+2*Se],Pe=27*(ze=F1[1020+3*(Ne-be)+F1[1020+Le-Ce]])+63>>7,Ve=18*ze+63>>7,ze=9*ze+63>>7;ge[_e-3*Se]=Wi[255+ge[_e-3*Se]+ze],ge[_e-2*Se]=Wi[255+Le+Ve],ge[_e-Se]=Wi[255+be+Pe],ge[_e+0]=Wi[255+Ne-Pe],ge[_e+Se]=Wi[255+Ce-Ve],ge[_e+2*Se]=Wi[255+je-ze]}x+=$}}function ds(p,x,M,$,Z,ie,le,fe){for(ie=2*ie+1;0<Z--;){if(uo(p,x,M,ie,le))if(La(p,x,M,fe))li(p,x,M);else{var ge=p,_e=x,Se=M,Le=ge[_e-Se],be=ge[_e+0],Ne=ge[_e+Se],Ce=ap[112+(4+(je=3*(be-Le))>>3)],je=ap[112+(je+3>>3)],Pe=Ce+1>>1;ge[_e-2*Se]=Wi[255+ge[_e-2*Se]+Pe],ge[_e-Se]=Wi[255+Le+je],ge[_e+0]=Wi[255+be-Ce],ge[_e+Se]=Wi[255+Ne-Pe]}x+=$}}function eu(p,x,M,$,Z,ie){ui(p,x,M,1,16,$,Z,ie)}function Ds(p,x,M,$,Z,ie){ui(p,x,1,M,16,$,Z,ie)}function Oa(p,x,M,$,Z,ie){var le;for(le=3;0<le;--le)ds(p,x+=4*M,M,1,16,$,Z,ie)}function R(p,x,M,$,Z,ie){var le;for(le=3;0<le;--le)ds(p,x+=4,1,M,16,$,Z,ie)}function J(p,x,M,$,Z,ie,le,fe){ui(p,x,Z,1,8,ie,le,fe),ui(M,$,Z,1,8,ie,le,fe)}function we(p,x,M,$,Z,ie,le,fe){ui(p,x,1,Z,8,ie,le,fe),ui(M,$,1,Z,8,ie,le,fe)}function Ee(p,x,M,$,Z,ie,le,fe){ds(p,x+4*Z,Z,1,8,ie,le,fe),ds(M,$+4*Z,Z,1,8,ie,le,fe)}function Ie(p,x,M,$,Z,ie,le,fe){ds(p,x+4,1,Z,8,ie,le,fe),ds(M,$+4,1,Z,8,ie,le,fe)}function Ue(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ut(){this.ua=0,this.Wa=new N,this.vb=new N,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new P}function St(){this.xb=this.a=0,this.l=new oi,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ut,this.ab=0,this.gc=o(4,st),this.Oc=0}function wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(p,x,M,$,Z,ie,le){for(p=p==null?0:p[x+0],x=0;x<le;++x)Z[ie+x]=p+M[$+x]&255,p=Z[ie+x]}function br(p,x,M,$,Z,ie,le){var fe;if(p==null)Wt(null,null,M,$,Z,ie,le);else for(fe=0;fe<le;++fe)Z[ie+fe]=p[x+fe]+M[$+fe]&255}function dr(p,x,M,$,Z,ie,le){if(p==null)Wt(null,null,M,$,Z,ie,le);else{var fe,ge=p[x+0],_e=ge,Se=ge;for(fe=0;fe<le;++fe)_e=Se+(ge=p[x+fe])-_e,Se=M[$+fe]+(-256&_e?0>_e?0:255:_e)&255,_e=ge,Z[ie+fe]=Se}}function g(p,x,M,$){var Z=x.width,ie=x.o;if(e(p!=null&&x!=null),0>M||0>=$||M+$>ie)return null;if(!p.Cc){if(p.ga==null){var le;if(p.ga=new wt,(le=p.ga==null)||(le=x.width*x.o,e(p.Gb.length==0),p.Gb=s(le),p.Uc=0,p.Gb==null?le=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,le=1),le=!le),!le){le=p.ga;var fe=p.Fa,ge=p.P,_e=p.qc,Se=p.mb,Le=p.nb,be=ge+1,Ne=_e-1,Ce=le.l;if(e(fe!=null&&Se!=null&&x!=null),qa[0]=null,qa[1]=Wt,qa[2]=br,qa[3]=dr,le.ca=Se,le.tb=Le,le.c=x.width,le.i=x.height,e(0<le.c&&0<le.i),1>=_e)x=0;else if(le.$a=3&fe[ge+0],le.Z=fe[ge+0]>>2&3,le.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ge)x=0;else if(Ce.put=Et,Ce.ac=Cn,Ce.bc=Cs,Ce.ma=le,Ce.width=x.width,Ce.height=x.height,Ce.Da=x.Da,Ce.v=x.v,Ce.va=x.va,Ce.j=x.j,Ce.o=x.o,le.$a)e:{e(le.$a==1),x=ro();t:for(;;){if(x==null){x=0;break e}if(e(le!=null),le.mc=x,x.c=le.c,x.i=le.i,x.l=le.l,x.l.ma=le,x.l.width=le.c,x.l.height=le.i,x.a=0,de(x.m,fe,be,Ne),!os(le.c,le.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&_i(x.s)?(le.ic=1,fe=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(fe),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(le.ic=0,x=as(x,le.c)),!x))break t;x=1;break e}le.mc=null,x=0}else x=Ne>=le.c*le.i;le=!x}if(le)return null;p.ga.Lc!=1?p.Ga=0:$=ie-M}e(p.ga!=null),e(M+$<=ie);e:{if(x=(fe=p.ga).c,ie=fe.l.o,fe.$a==0){if(be=p.rc,Ne=p.Vc,Ce=p.Fa,ge=p.P+1+M*x,_e=p.mb,Se=p.nb+M*x,e(ge<=p.P+p.qc),fe.Z!=0)for(e(qa[fe.Z]!=null),le=0;le<$;++le)qa[fe.Z](be,Ne,Ce,ge,_e,Se,x),be=_e,Ne=Se,Se+=x,ge+=x;else for(le=0;le<$;++le)n(_e,Se,Ce,ge,x),be=_e,Ne=Se,Se+=x,ge+=x;p.rc=be,p.Vc=Ne}else{if(e(fe.mc!=null),x=M+$,e((le=fe.mc)!=null),e(x<=le.i),le.C>=x)x=1;else if(fe.ic||Oe(),fe.ic){fe=le.V,be=le.Ba,Ne=le.c;var je=le.i,Pe=(Ce=1,ge=le.$/Ne,_e=le.$%Ne,Se=le.m,Le=le.s,le.$),Ve=Ne*je,ze=Ne*x,Xe=Le.wc,$e=Pe<ze?mn(Le,_e,ge):null;e(Pe<=Ve),e(x<=je),e(_i(Le));t:for(;;){for(;!Se.h&&Pe<ze;){if(_e&Xe||($e=mn(Le,_e,ge)),e($e!=null),j(Se),256>(je=vr($e.G[0],$e.H[0],Se)))fe[be+Pe]=je,++Pe,++_e>=Ne&&(_e=0,++ge<=x&&!(ge%16)&&ii(le,ge));else{if(!(280>je)){Ce=0;break t}je=ri(je-256,Se);var yt,at=vr($e.G[4],$e.H[4],Se);if(j(Se),!(Pe>=(at=ni(Ne,at=ri(at,Se)))&&Ve-Pe>=je)){Ce=0;break t}for(yt=0;yt<je;++yt)fe[be+Pe+yt]=fe[be+Pe+yt-at];for(Pe+=je,_e+=je;_e>=Ne;)_e-=Ne,++ge<=x&&!(ge%16)&&ii(le,ge);Pe<ze&&_e&Xe&&($e=mn(Le,_e,ge))}e(Se.h==ue(Se))}ii(le,ge>x?x:ge);break t}!Ce||Se.h&&Pe<Ve?(Ce=0,le.a=Se.h?5:3):le.$=Pe,x=Ce}else x=xi(le,le.V,le.Ba,le.c,le.i,x,qo);if(!x){$=0;break e}}M+$>=ie&&(p.Cc=1),$=1}if(!$)return null;if(p.Cc&&(($=p.ga)!=null&&($.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+M*Z}function U(p,x,M,$,Z,ie){for(;0<Z--;){var le,fe=p,ge=x+(M?1:0),_e=p,Se=x+(M?0:3);for(le=0;le<$;++le){var Le=_e[Se+4*le];Le!=255&&(Le*=32897,fe[ge+4*le+0]=fe[ge+4*le+0]*Le>>23,fe[ge+4*le+1]=fe[ge+4*le+1]*Le>>23,fe[ge+4*le+2]=fe[ge+4*le+2]*Le>>23)}x+=ie}}function G(p,x,M,$,Z){for(;0<$--;){var ie;for(ie=0;ie<M;++ie){var le=p[x+2*ie+0],fe=15&(_e=p[x+2*ie+1]),ge=4369*fe,_e=(240&_e|_e>>4)*ge>>16;p[x+2*ie+0]=(240&le|le>>4)*ge>>16&240|(15&le|le<<4)*ge>>16>>4&15,p[x+2*ie+1]=240&_e|fe}x+=Z}}function pe(p,x,M,$,Z,ie,le,fe){var ge,_e,Se=255;for(_e=0;_e<Z;++_e){for(ge=0;ge<$;++ge){var Le=p[x+ge];ie[le+4*ge]=Le,Se&=Le}x+=M,le+=fe}return Se!=255}function ke(p,x,M,$,Z){var ie;for(ie=0;ie<Z;++ie)M[$+ie]=p[x+ie]>>8}function Oe(){ef=U,db=G,pb=pe,mb=ke}function Je(p,x,M){_[p]=function($,Z,ie,le,fe,ge,_e,Se,Le,be,Ne,Ce,je,Pe,Ve,ze,Xe){var $e,yt=Xe-1>>1,at=fe[ge+0]|_e[Se+0]<<16,Mt=Le[be+0]|Ne[Ce+0]<<16;e($!=null);var ft=3*at+Mt+131074>>2;for(x($[Z+0],255&ft,ft>>16,je,Pe),ie!=null&&(ft=3*Mt+at+131074>>2,x(ie[le+0],255&ft,ft>>16,Ve,ze)),$e=1;$e<=yt;++$e){var Xt=fe[ge+$e]|_e[Se+$e]<<16,yn=Le[be+$e]|Ne[Ce+$e]<<16,Bt=at+Xt+Mt+yn+524296,dt=Bt+2*(Xt+Mt)>>3;ft=dt+at>>1,at=(Bt=Bt+2*(at+yn)>>3)+Xt>>1,x($[Z+2*$e-1],255&ft,ft>>16,je,Pe+(2*$e-1)*M),x($[Z+2*$e-0],255&at,at>>16,je,Pe+(2*$e-0)*M),ie!=null&&(ft=Bt+Mt>>1,at=dt+yn>>1,x(ie[le+2*$e-1],255&ft,ft>>16,Ve,ze+(2*$e-1)*M),x(ie[le+2*$e+0],255&at,at>>16,Ve,ze+(2*$e+0)*M)),at=Xt,Mt=yn}1&Xe||(ft=3*at+Mt+131074>>2,x($[Z+Xe-1],255&ft,ft>>16,je,Pe+(Xe-1)*M),ie!=null&&(ft=3*Mt+at+131074>>2,x(ie[le+Xe-1],255&ft,ft>>16,Ve,ze+(Xe-1)*M)))}}function Pt(){vs[lp]=P8,vs[up]=Tb,vs[bb]=L8,vs[cp]=Nb,vs[hp]=Ib,vs[j1]=kb,vs[xb]=O8,vs[M1]=Tb,vs[B1]=Nb,vs[fp]=Ib,vs[U1]=kb}function xr(p){return p&-16384?0>p?0:255:p>>D8}function Ht(p,x){return xr((19077*p>>8)+(26149*x>>8)-14234)}function Er(p,x,M){return xr((19077*p>>8)-(6419*x>>8)-(13320*M>>8)+8708)}function Sn(p,x){return xr((19077*p>>8)+(33050*x>>8)-17685)}function Vn(p,x,M,$,Z){$[Z+0]=Ht(p,M),$[Z+1]=Er(p,x,M),$[Z+2]=Sn(p,x)}function Ar(p,x,M,$,Z){$[Z+0]=Sn(p,x),$[Z+1]=Er(p,x,M),$[Z+2]=Ht(p,M)}function zn(p,x,M,$,Z){var ie=Er(p,x,M);x=ie<<3&224|Sn(p,x)>>3,$[Z+0]=248&Ht(p,M)|ie>>5,$[Z+1]=x}function ps(p,x,M,$,Z){var ie=240&Sn(p,x)|15;$[Z+0]=240&Ht(p,M)|Er(p,x,M)>>4,$[Z+1]=ie}function Xo(p,x,M,$,Z){$[Z+0]=255,Vn(p,x,M,$,Z+1)}function Hh(p,x,M,$,Z){Ar(p,x,M,$,Z),$[Z+3]=255}function ci(p,x,M,$,Z){Vn(p,x,M,$,Z),$[Z+3]=255}function Yo(p,x,M){_[p]=function($,Z,ie,le,fe,ge,_e,Se,Le){for(var be=Se+(-2&Le)*M;Se!=be;)x($[Z+0],ie[le+0],fe[ge+0],_e,Se),x($[Z+1],ie[le+0],fe[ge+0],_e,Se+M),Z+=2,++le,++ge,Se+=2*M;1&Le&&x($[Z+0],ie[le+0],fe[ge+0],_e,Se)}}function lc(p,x,M){return M==0?p==0?x==0?6:5:x==0?4:0:M}function ip(p,x,M,$,Z){switch(p>>>30){case 3:iu(x,M,$,Z,0);break;case 2:gs(x,M,$,Z);break;case 1:ir(x,M,$,Z)}}function ms(p,x){var M,$,Z=x.M,ie=x.Nb,le=p.oc,fe=p.pc+40,ge=p.oc,_e=p.pc+584,Se=p.oc,Le=p.pc+600;for(M=0;16>M;++M)le[fe+32*M-1]=129;for(M=0;8>M;++M)ge[_e+32*M-1]=129,Se[Le+32*M-1]=129;for(0<Z?le[fe-1-32]=ge[_e-1-32]=Se[Le-1-32]=129:(i(le,fe-32-1,127,21),i(ge,_e-32-1,127,9),i(Se,Le-32-1,127,9)),$=0;$<p.za;++$){var be=x.ya[x.aa+$];if(0<$){for(M=-1;16>M;++M)n(le,fe+32*M-4,le,fe+32*M+12,4);for(M=-1;8>M;++M)n(ge,_e+32*M-4,ge,_e+32*M+4,4),n(Se,Le+32*M-4,Se,Le+32*M+4,4)}var Ne=p.Gd,Ce=p.Hd+$,je=be.ad,Pe=be.Hc;if(0<Z&&(n(le,fe-32,Ne[Ce].y,0,16),n(ge,_e-32,Ne[Ce].f,0,8),n(Se,Le-32,Ne[Ce].ea,0,8)),be.Za){var Ve=le,ze=fe-32+16;for(0<Z&&($>=p.za-1?i(Ve,ze,Ne[Ce].y[15],4):n(Ve,ze,Ne[Ce+1].y,0,4)),M=0;4>M;M++)Ve[ze+128+M]=Ve[ze+256+M]=Ve[ze+384+M]=Ve[ze+0+M];for(M=0;16>M;++M,Pe<<=2)Ve=le,ze=fe+Rb[M],Fs[be.Ob[M]](Ve,ze),ip(Pe,je,16*+M,Ve,ze)}else if(Ve=lc($,Z,be.Ob[0]),za[Ve](le,fe),Pe!=0)for(M=0;16>M;++M,Pe<<=2)ip(Pe,je,16*+M,le,fe+Rb[M]);for(M=be.Gc,Ve=lc($,Z,be.Dd),Zo[Ve](ge,_e),Zo[Ve](Se,Le),Pe=je,Ve=ge,ze=_e,255&(be=0|M)&&(170&be?mo(Pe,256,Ve,ze):pr(Pe,256,Ve,ze)),be=Se,Pe=Le,255&(M>>=8)&&(170&M?mo(je,320,be,Pe):pr(je,320,be,Pe)),Z<p.Ub-1&&(n(Ne[Ce].y,0,le,fe+480,16),n(Ne[Ce].f,0,ge,_e+224,8),n(Ne[Ce].ea,0,Se,Le+224,8)),M=8*ie*p.B,Ne=p.sa,Ce=p.ta+16*$+16*ie*p.R,je=p.qa,be=p.ra+8*$+M,Pe=p.Ha,Ve=p.Ia+8*$+M,M=0;16>M;++M)n(Ne,Ce+M*p.R,le,fe+32*M,16);for(M=0;8>M;++M)n(je,be+M*p.B,ge,_e+32*M,8),n(Pe,Ve+M*p.B,Se,Le+32*M,8)}}function tu(p,x,M,$,Z,ie,le,fe,ge){var _e=[0],Se=[0],Le=0,be=ge!=null?ge.kd:0,Ne=ge??new He;if(p==null||12>M)return 7;Ne.data=p,Ne.w=x,Ne.ha=M,x=[x],M=[M],Ne.gb=[Ne.gb];e:{var Ce=x,je=M,Pe=Ne.gb;if(e(p!=null),e(je!=null),e(Pe!=null),Pe[0]=0,12<=je[0]&&!r(p,Ce[0],"RIFF")){if(r(p,Ce[0]+8,"WEBP")){Pe=3;break e}var Ve=V(p,Ce[0]+4);if(12>Ve||4294967286<Ve){Pe=3;break e}if(be&&Ve>je[0]-8){Pe=7;break e}Pe[0]=Ve,Ce[0]+=12,je[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Ve=0<Ne.gb[0],M=M[0];;){e:{var ze=p;je=x,Pe=M;var Xe=_e,$e=Se,yt=Ce=[0];if((ft=Le=[Le])[0]=0,8>Pe[0])Pe=7;else{if(!r(ze,je[0],"VP8X")){if(V(ze,je[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var at=V(ze,je[0]+8),Mt=1+xe(ze,je[0]+12);if(2147483648<=Mt*(ze=1+xe(ze,je[0]+15))){Pe=3;break e}yt!=null&&(yt[0]=at),Xe!=null&&(Xe[0]=Mt),$e!=null&&($e[0]=ze),je[0]+=18,Pe[0]-=18,ft[0]=1}Pe=0}}if(Le=Le[0],Ce=Ce[0],Pe!=0)return Pe;if(je=!!(2&Ce),!Ve&&Le)return 3;if(ie!=null&&(ie[0]=!!(16&Ce)),le!=null&&(le[0]=je),fe!=null&&(fe[0]=0),le=_e[0],Ce=Se[0],Le&&je&&ge==null){Pe=0;break}if(4>M){Pe=7;break}if(Ve&&Le||!Ve&&!Le&&!r(p,x[0],"ALPH")){M=[M],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{at=p,Pe=x,Ve=M;var ft=Ne.gb;Xe=Ne.na,$e=Ne.P,yt=Ne.Sa,Mt=22,e(at!=null),e(Ve!=null),ze=Pe[0];var Xt=Ve[0];for(e(Xe!=null),e(yt!=null),Xe[0]=null,$e[0]=null,yt[0]=0;;){if(Pe[0]=ze,Ve[0]=Xt,8>Xt){Pe=7;break e}var yn=V(at,ze+4);if(4294967286<yn){Pe=3;break e}var Bt=8+yn+1&-2;if(Mt+=Bt,0<ft&&Mt>ft){Pe=3;break e}if(!r(at,ze,"VP8 ")||!r(at,ze,"VP8L")){Pe=0;break e}if(Xt[0]<Bt){Pe=7;break e}r(at,ze,"ALPH")||(Xe[0]=at,$e[0]=ze+8,yt[0]=yn),ze+=Bt,Xt-=Bt}}if(M=M[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Pe!=0)break}M=[M],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(ft=p,Pe=x,Ve=M,Xe=Ne.gb[0],$e=Ne.Ja,yt=Ne.xa,at=Pe[0],ze=!r(ft,at,"VP8 "),Mt=!r(ft,at,"VP8L"),e(ft!=null),e(Ve!=null),e($e!=null),e(yt!=null),8>Ve[0])Pe=7;else{if(ze||Mt){if(ft=V(ft,at+4),12<=Xe&&ft>Xe-12){Pe=3;break e}if(be&&ft>Ve[0]-8){Pe=7;break e}$e[0]=ft,Pe[0]+=8,Ve[0]-=8,yt[0]=Mt}else yt[0]=5<=Ve[0]&&ft[at+0]==47&&!(ft[at+4]>>5),$e[0]=Ve[0];Pe=0}if(M=M[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],x=x[0],Pe!=0)break;if(4294967286<Ne.Ja)return 3;if(fe==null||je||(fe[0]=Ne.xa?2:1),le=[le],Ce=[Ce],Ne.xa){if(5>M){Pe=7;break}fe=le,be=Ce,je=ie,p==null||5>M?p=0:5<=M&&p[x+0]==47&&!(p[x+4]>>5)?(Ve=[0],ft=[0],Xe=[0],de($e=new K,p,x,M),wi($e,Ve,ft,Xe)?(fe!=null&&(fe[0]=Ve[0]),be!=null&&(be[0]=ft[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>M){Pe=7;break}fe=Ce,p==null||10>M||!io(p,x+3,M-3)?p=0:(be=p[x+0]|p[x+1]<<8|p[x+2]<<16,je=16383&(p[x+7]<<8|p[x+6]),p=16383&(p[x+9]<<8|p[x+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Ne.Ja||!je||!p?p=0:(le&&(le[0]=je),fe&&(fe[0]=p),p=1))}if(!p||(le=le[0],Ce=Ce[0],Le&&(_e[0]!=le||Se[0]!=Ce)))return 3;ge!=null&&(ge[0]=Ne,ge.offset=x-ge.w,e(4294967286>x-ge.w),e(ge.offset==ge.ha-M));break}return Pe==0||Pe==7&&Le&&ge==null?(ie!=null&&(ie[0]|=Ne.na!=null&&0<Ne.na.length),$!=null&&($[0]=le),Z!=null&&(Z[0]=Ce),0):Pe}function $h(p,x,M){var $=x.width,Z=x.height,ie=0,le=0,fe=$,ge=Z;if(x.Da=p!=null&&0<p.Da,x.Da&&(fe=p.cd,ge=p.bd,ie=p.v,le=p.j,11>M||(ie&=-2,le&=-2),0>ie||0>le||0>=fe||0>=ge||ie+fe>$||le+ge>Z))return 0;if(x.v=ie,x.j=le,x.va=ie+fe,x.o=le+ge,x.U=fe,x.T=ge,x.da=p!=null&&0<p.da,x.da){if(!k(fe,ge,M=[p.ib],ie=[p.hb]))return 0;x.ib=M[0],x.hb=ie[0]}return x.ob=p!=null&&p.ob,x.Kb=p==null||!p.Sd,x.da&&(x.ob=x.ib<3*$/4&&x.hb<3*Z/4,x.Kb=0),1}function Gh(p){if(p==null)return 2;if(11>p.S){var x=p.f.RGBA;x.fb+=(p.height-1)*x.A,x.A=-x.A}else x=p.f.kb,p=p.height,x.O+=(p-1)*x.fa,x.fa=-x.fa,x.N+=(p-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(p-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(p-1)*x.lb,x.lb=-x.lb);return 0}function Da(p,x,M,$){if($==null||0>=p||0>=x)return 2;if(M!=null){if(M.Da){var Z=M.cd,ie=M.bd,le=-2&M.v,fe=-2&M.j;if(0>le||0>fe||0>=Z||0>=ie||le+Z>p||fe+ie>x)return 2;p=Z,x=ie}if(M.da){if(!k(p,x,Z=[M.ib],ie=[M.hb]))return 2;p=Z[0],x=ie[0]}}$.width=p,$.height=x;e:{var ge=$.width,_e=$.height;if(p=$.S,0>=ge||0>=_e||!(p>=lp&&13>p))p=2;else{if(0>=$.Rd&&$.sd==null){le=ie=Z=x=0;var Se=(fe=ge*Pb[p])*_e;if(11>p||(ie=(_e+1)/2*(x=(ge+1)/2),p==12&&(le=(Z=ge)*_e)),(_e=s(Se+2*ie+le))==null){p=1;break e}$.sd=_e,11>p?((ge=$.f.RGBA).eb=_e,ge.fb=0,ge.A=fe,ge.size=Se):((ge=$.f.kb).y=_e,ge.O=0,ge.fa=fe,ge.Fd=Se,ge.f=_e,ge.N=0+Se,ge.Ab=x,ge.Cd=ie,ge.ea=_e,ge.W=0+Se+ie,ge.Db=x,ge.Ed=ie,p==12&&(ge.F=_e,ge.J=0+Se+2*ie),ge.Tc=le,ge.lb=Z)}if(x=1,Z=$.S,ie=$.width,le=$.height,Z>=lp&&13>Z)if(11>Z)p=$.f.RGBA,x&=(fe=Math.abs(p.A))*(le-1)+ie<=p.size,x&=fe>=ie*Pb[Z],x&=p.eb!=null;else{p=$.f.kb,fe=(ie+1)/2,Se=(le+1)/2,ge=Math.abs(p.fa),_e=Math.abs(p.Ab);var Le=Math.abs(p.Db),be=Math.abs(p.lb),Ne=be*(le-1)+ie;x&=ge*(le-1)+ie<=p.Fd,x&=_e*(Se-1)+fe<=p.Cd,x=(x&=Le*(Se-1)+fe<=p.Ed)&ge>=ie&_e>=fe&Le>=fe,x&=p.y!=null,x&=p.f!=null,x&=p.ea!=null,Z==12&&(x&=be>=ie,x&=Ne<=p.Tc,x&=p.F!=null)}else x=0;p=x?0:2}}return p!=0||M!=null&&M.fd&&(p=Gh($)),p}var ru=64,zi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qi=24,Fa=32,Qo=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(p){return p},_.Predictor2=function(p,x,M){return x[M+0]},_.Predictor3=function(p,x,M){return x[M+1]},_.Predictor4=function(p,x,M){return x[M-1]},_.Predictor5=function(p,x,M){return Te(Te(p,x[M+1]),x[M+0])},_.Predictor6=function(p,x,M){return Te(p,x[M-1])},_.Predictor7=function(p,x,M){return Te(p,x[M+0])},_.Predictor8=function(p,x,M){return Te(x[M-1],x[M+0])},_.Predictor9=function(p,x,M){return Te(x[M+0],x[M+1])},_.Predictor10=function(p,x,M){return Te(Te(p,x[M-1]),Te(x[M+0],x[M+1]))},_.Predictor11=function(p,x,M){var $=x[M+0];return 0>=Be($>>24&255,p>>24&255,(x=x[M-1])>>24&255)+Be($>>16&255,p>>16&255,x>>16&255)+Be($>>8&255,p>>8&255,x>>8&255)+Be(255&$,255&p,255&x)?$:p},_.Predictor12=function(p,x,M){var $=x[M+0];return(De((p>>24&255)+($>>24&255)-((x=x[M-1])>>24&255))<<24|De((p>>16&255)+($>>16&255)-(x>>16&255))<<16|De((p>>8&255)+($>>8&255)-(x>>8&255))<<8|De((255&p)+(255&$)-(255&x)))>>>0},_.Predictor13=function(p,x,M){var $=x[M-1];return(Re((p=Te(p,x[M+0]))>>24&255,$>>24&255)<<24|Re(p>>16&255,$>>16&255)<<16|Re(p>>8&255,$>>8&255)<<8|Re(255&p,255&$))>>>0};var Kh=_.PredictorAdd0;_.PredictorAdd1=Ke,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var uc=_.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Qr,sp=_.ColorIndexInverseTransform,fo=_.MapARGB,po=_.VP8LColorIndexInverseTransformAlpha,Xh=_.MapAlpha,Yh=_.VP8LPredictorsAdd=[];Yh.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Qh,Jh,Ma,Ba,Ua,nu,Va,iu,gs,mo,ir,pr,Jr,gn,Jo,Zh,cc,op,ab,lb,ub,cb,hb,fb,ef,db,pb,mb,gb=s(511),yb=s(2041),vb=s(225),wb=s(767),_b=0,F1=yb,ap=vb,Wi=wb,ys=gb,lp=0,up=1,bb=2,cp=3,hp=4,j1=5,xb=6,M1=7,B1=8,fp=9,U1=10,v8=[2,3,7],w8=[3,3,11],Eb=[280,256,256,256,40],_8=[0,1,1,1,0],b8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],x8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],E8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A8=8,V1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],z1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tf=null,S8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],T8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ab=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],N8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],I8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],k8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],C8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],za=[],Fs=[],Zo=[],R8=1,Sb=2,qa=[],vs=[];Je("UpsampleRgbLinePair",Vn,3),Je("UpsampleBgrLinePair",Ar,3),Je("UpsampleRgbaLinePair",ci,4),Je("UpsampleBgraLinePair",Hh,4),Je("UpsampleArgbLinePair",Xo,4),Je("UpsampleRgba4444LinePair",ps,2),Je("UpsampleRgb565LinePair",zn,2);var P8=_.UpsampleRgbLinePair,L8=_.UpsampleBgrLinePair,Tb=_.UpsampleRgbaLinePair,Nb=_.UpsampleBgraLinePair,Ib=_.UpsampleArgbLinePair,kb=_.UpsampleRgba4444LinePair,O8=_.UpsampleRgb565LinePair,dp=16,pp=1<<dp-1,rf=-227,q1=482,D8=6,Cb=0,F8=s(256),j8=s(256),M8=s(256),B8=s(256),U8=s(q1-rf),V8=s(q1-rf);Yo("YuvToRgbRow",Vn,3),Yo("YuvToBgrRow",Ar,3),Yo("YuvToRgbaRow",ci,4),Yo("YuvToBgraRow",Hh,4),Yo("YuvToArgbRow",Xo,4),Yo("YuvToRgba4444Row",ps,2),Yo("YuvToRgb565Row",zn,2);var Rb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mp=[0,2,8],z8=[8,7,6,4,4,2,2,2,1,1,1,1],q8=1;this.WebPDecodeRGBA=function(p,x,M,$,Z){var ie=up,le=new Ue,fe=new pt;le.ba=fe,fe.S=ie,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,_e=fe.height,Se=new gt;if(Se==null||p==null)var Le=2;else e(Se!=null),Le=tu(p,x,M,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Le!=0?ge=0:(ge!=null&&(ge[0]=Se.width[0]),_e!=null&&(_e[0]=Se.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],$!=null&&($[0]=fe.width),Z!=null&&(Z[0]=fe.height);e:{if($=new oi,(Z=new He).data=p,Z.w=x,Z.ha=M,Z.kd=1,x=[0],e(Z!=null),((p=tu(Z.data,Z.w,Z.ha,null,null,null,x,null,Z))==0||p==7)&&x[0]&&(p=4),(x=p)==0){if(e(le!=null),$.data=Z.data,$.w=Z.w+Z.offset,$.ha=Z.ha-Z.offset,$.put=Et,$.ac=Cn,$.bc=Cs,$.ma=le,Z.xa){if((p=ro())==null){le=1;break e}if(function(be,Ne){var Ce=[0],je=[0],Pe=[0];t:for(;;){if(be==null)return 0;if(Ne==null)return be.a=2,0;if(be.l=Ne,be.a=0,de(be.m,Ne.data,Ne.w,Ne.ha),!wi(be.m,Ce,je,Pe)){be.a=3;break t}if(be.xb=Sb,Ne.width=Ce[0],Ne.height=je[0],!os(Ce[0],je[0],1,be,null))break t;return 1}return e(be.a!=0),0}(p,$)){if($=(x=Da($.width,$.height,le.Oa,le.ba))==0){t:{$=p;r:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((M=$.l)!=null),e((Z=M.ma)!=null),$.xb!=0){if($.ca=Z.ba,$.tb=Z.tb,e($.ca!=null),!$h(Z.Oa,M,cp)){$.a=2;break r}if(!as($,M.width)||M.da)break r;if((M.da||bt($.ca.S))&&Oe(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Oe()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!X($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!xi($,$.V,$.Ba,$.c,$.i,M.o,Rs))break r;Z.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(x=p.a)}else x=p.a}else{if((p=new Ai)==null){le=1;break e}if(p.Fa=Z.na,p.P=Z.P,p.qc=Z.Sa,Si(p,$)){if((x=Da($.width,$.height,le.Oa,le.ba))==0){if(p.Aa=0,M=le.Oa,e((Z=p)!=null),M!=null){if(0<(ge=0>(ge=M.Md)?0:100<ge?255:255*ge/100)){for(_e=Se=0;4>_e;++_e)12>(Le=Z.pb[_e]).lc&&(Le.ia=ge*z8[0>Le.lc?0:Le.lc]>>3),Se|=Le.ia;Se&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=M.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(be,Ne){if(be==null)return 0;if(Ne==null)return wr(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Si(be,Ne))return 0;if(e(be.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(be.L=0);var Ce=mp[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Ne.v-Ce>>4,be.zb=Ne.j-Ce>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Ne.o+15+Ce>>4,be.Hb=Ne.va+15+Ce>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var je=be.ed;for(Ce=0;4>Ce;++Ce){var Pe;if(be.Qa.Cb){var Ve=be.Qa.Lb[Ce];be.Qa.Fb||(Ve+=je.Tb)}else Ve=je.Tb;for(Pe=0;1>=Pe;++Pe){var ze=be.gd[Ce][Pe],Xe=Ve;if(je.Pc&&(Xe+=je.vd[0],Pe&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var $e=Xe;0<je.wb&&($e=4<je.wb?$e>>2:$e>>1)>9-je.wb&&($e=9-je.wb),1>$e&&($e=1),ze.dd=$e,ze.tc=2*Xe+$e,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=Pe}}}Ce=0}else wr(be,6,"Frame setup failed"),Ce=be.a;if(Ce=Ce==0){if(Ce){be.$c=0,0<be.Aa||(be.Ic=q8);t:{Ce=be.Ic,je=4*($e=be.za);var yt=32*$e,at=$e+1,Mt=0<be.L?$e*(0<be.Aa?2:1):0,ft=(be.Aa==2?2:1)*$e;if((ze=je+832+(Pe=3*(16*Ce+mp[be.L])/2*yt)+(Ve=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=ze)Ce=0;else{if(ze>be.Vb){if(be.Vb=0,be.Ec=s(ze),be.Fc=0,be.Ec==null){Ce=wr(be,1,"no memory during frame initialization.");break t}be.Vb=ze}ze=be.Ec,Xe=be.Fc,be.Ac=ze,be.Bc=Xe,Xe+=je,be.Gd=o(yt,Kl),be.Hd=0,be.rb=o(at+1,Ta),be.sb=1,be.wa=Mt?o(Mt,si):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=$e),e(!0),be.oc=ze,be.pc=Xe,Xe+=832,be.ya=o(ft,Ho),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=$e),be.R=16*$e,be.B=8*$e,$e=(yt=mp[be.L])*be.R,yt=yt/2*be.B,be.sa=ze,be.ta=Xe+$e,be.qa=be.sa,be.ra=be.ta+16*Ce*be.R+yt,be.Ha=be.qa,be.Ia=be.ra+8*Ce*be.B+yt,be.$c=0,Xe+=Pe,be.mb=Ve?ze:null,be.nb=Ve?Xe:null,e(Xe+Ve<=be.Fc+be.Vb),$o(be),i(be.Ac,be.Bc,0,je),Ce=1}}if(Ce){if(Ne.ka=0,Ne.y=be.sa,Ne.O=be.ta,Ne.f=be.qa,Ne.N=be.ra,Ne.ea=be.Ha,Ne.Vd=be.Ia,Ne.fa=be.R,Ne.Rc=be.B,Ne.F=null,Ne.J=0,!_b){for(Ce=-255;255>=Ce;++Ce)gb[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)yb[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)vb[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)wb[255+Ce]=0>Ce?0:255<Ce?255:Ce;_b=1}Va=Ti,iu=zh,mo=cs,ir=ec,pr=so,gs=Vh,Jr=eu,gn=Ds,Jo=J,Zh=we,cc=Oa,op=R,ab=Ee,lb=Ie,ub=co,cb=ho,hb=ac,fb=Zl,Fs[0]=Ko,Fs[1]=tc,Fs[2]=ka,Fs[3]=ic,Fs[4]=ai,Fs[5]=Ql,Fs[6]=hs,Fs[7]=_r,Fs[8]=Jl,Fs[9]=Ca,za[0]=qh,za[1]=nc,za[2]=Ia,za[3]=Os,za[4]=Go,za[5]=Ni,za[6]=Wh,Zo[0]=Ra,Zo[1]=rc,Zo[2]=ao,Zo[3]=sc,Zo[4]=Pa,Zo[5]=Ii,Zo[6]=oc,Ce=1}else Ce=0}Ce&&(Ce=function(Xt,yn){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Bt,dt=Xt.Jc[Xt.M&Xt.Xb],et=Xt.m,Zr=Xt;for(Bt=0;Bt<Zr.za;++Bt){var Ft=et,Yt=Zr,kr=Yt.Ac,Rn=Yt.Bc+4*Bt,hi=Yt.zc,zr=Yt.ya[Yt.aa+Bt];if(Yt.Qa.Bb?zr.$b=te(Ft,Yt.Pa.jb[0])?2+te(Ft,Yt.Pa.jb[2]):te(Ft,Yt.Pa.jb[1]):zr.$b=0,Yt.kc&&(zr.Ad=te(Ft,Yt.Bd)),zr.Za=!te(Ft,145)+0,zr.Za){var qn=zr.Ob,fi=0;for(Yt=0;4>Yt;++Yt){var vn,Zt=hi[0+Yt];for(vn=0;4>vn;++vn){Zt=I8[kr[Rn+vn]][Zt];for(var or=Ab[te(Ft,Zt[0])];0<or;)or=Ab[2*or+te(Ft,Zt[or])];Zt=-or,kr[Rn+vn]=Zt}n(qn,fi,kr,Rn,4),fi+=4,hi[0+Yt]=Zt}}else Zt=te(Ft,156)?te(Ft,128)?1:3:te(Ft,163)?2:0,zr.Ob[0]=Zt,i(kr,Rn,Zt,4),i(hi,0,Zt,4);zr.Dd=te(Ft,142)?te(Ft,114)?te(Ft,183)?1:3:2:0}if(Zr.m.Ka)return wr(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Zr=dt,Ft=(et=Xt).rb[et.sb-1],kr=et.rb[et.sb+et.ja],Bt=et.ya[et.aa+et.ja],Rn=et.kc?Bt.Ad:0)Ft.la=kr.la=0,Bt.Za||(Ft.Na=kr.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var qr,ar;if(Ft=kr,kr=Zr,Rn=et.Pa.Xc,hi=et.ya[et.aa+et.ja],zr=et.pb[hi.$b],Yt=hi.ad,qn=0,fi=et.rb[et.sb-1],Zt=vn=0,i(Yt,qn,0,384),hi.Za)var Pn=0,js=Rn[3];else{or=s(16);var en=Ft.Na+fi.Na;if(en=tf(kr,Rn[1],en,zr.Eb,0,or,0),Ft.Na=fi.Na=(0<en)+0,1<en)Va(or,0,Yt,qn);else{var ki=or[0]+3>>3;for(or=0;256>or;or+=16)Yt[qn+or]=ki}Pn=1,js=Rn[0]}var mr=15&Ft.la,wn=15&fi.la;for(or=0;4>or;++or){var Hi=1&wn;for(ki=ar=0;4>ki;++ki)mr=mr>>1|(Hi=(en=tf(kr,js,en=Hi+(1&mr),zr.Sc,Pn,Yt,qn))>Pn)<<7,ar=ar<<2|(3<en?3:1<en?2:Yt[qn+0]!=0),qn+=16;mr>>=4,wn=wn>>1|Hi<<7,vn=(vn<<8|ar)>>>0}for(js=mr,Pn=wn>>4,qr=0;4>qr;qr+=2){for(ar=0,mr=Ft.la>>4+qr,wn=fi.la>>4+qr,or=0;2>or;++or){for(Hi=1&wn,ki=0;2>ki;++ki)en=Hi+(1&mr),mr=mr>>1|(Hi=0<(en=tf(kr,Rn[2],en,zr.Qc,0,Yt,qn)))<<3,ar=ar<<2|(3<en?3:1<en?2:Yt[qn+0]!=0),qn+=16;mr>>=2,wn=wn>>1|Hi<<5}Zt|=ar<<4*qr,js|=mr<<4<<qr,Pn|=(240&wn)<<qr}Ft.la=js,fi.la=Pn,hi.Hc=vn,hi.Gc=Zt,hi.ia=43690&Zt?0:zr.ia,Rn=!(vn|Zt)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Bt.$b][Bt.Za],et.wa[et.Y+et.ja].La|=!Rn),Zr.Ka)return wr(Xt,7,"Premature end-of-file encountered.")}if($o(Xt),et=yn,Zr=1,Bt=(dt=Xt).D,Ft=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Bt.M=dt.M,Bt.uc=Ft,ms(dt,Bt),Zr=1,Bt=(ar=dt.D).Nb,Ft=(Zt=mp[dt.L])*dt.R,kr=Zt/2*dt.B,or=16*Bt*dt.R,ki=8*Bt*dt.B,Rn=dt.sa,hi=dt.ta-Ft+or,zr=dt.qa,Yt=dt.ra-kr+ki,qn=dt.Ha,fi=dt.Ia-kr+ki,wn=(mr=ar.M)==0,vn=mr>=dt.Va-1,dt.Aa==2&&ms(dt,ar),ar.uc)for(Hi=(en=dt).D.M,e(en.D.uc),ar=en.yb;ar<en.Hb;++ar){Pn=ar,js=Hi;var di=($i=(Ln=en).D).Nb;qr=Ln.R;var $i=$i.wa[$i.Y+Pn],Gi=Ln.sa,Ci=Ln.ta+16*di*qr+16*Pn,Ki=$i.dd,Sr=$i.tc;if(Sr!=0)if(e(3<=Sr),Ln.L==1)0<Pn&&cb(Gi,Ci,qr,Sr+4),$i.La&&fb(Gi,Ci,qr,Sr),0<js&&ub(Gi,Ci,qr,Sr+4),$i.La&&hb(Gi,Ci,qr,Sr);else{var Xi=Ln.B,Ms=Ln.qa,su=Ln.ra+8*di*Xi+8*Pn,ea=Ln.Ha,Ln=Ln.Ia+8*di*Xi+8*Pn;di=$i.ld,0<Pn&&(gn(Gi,Ci,qr,Sr+4,Ki,di),Zh(Ms,su,ea,Ln,Xi,Sr+4,Ki,di)),$i.La&&(op(Gi,Ci,qr,Sr,Ki,di),lb(Ms,su,ea,Ln,Xi,Sr,Ki,di)),0<js&&(Jr(Gi,Ci,qr,Sr+4,Ki,di),Jo(Ms,su,ea,Ln,Xi,Sr+4,Ki,di)),$i.La&&(cc(Gi,Ci,qr,Sr,Ki,di),ab(Ms,su,ea,Ln,Xi,Sr,Ki,di))}}if(dt.ia&&alert("todo:DitherRow"),et.put!=null){if(ar=16*mr,mr=16*(mr+1),wn?(et.y=dt.sa,et.O=dt.ta+or,et.f=dt.qa,et.N=dt.ra+ki,et.ea=dt.Ha,et.W=dt.Ia+ki):(ar-=Zt,et.y=Rn,et.O=hi,et.f=zr,et.N=Yt,et.ea=qn,et.W=fi),vn||(mr-=Zt),mr>et.o&&(mr=et.o),et.F=null,et.J=null,dt.Fa!=null&&0<dt.Fa.length&&ar<mr&&(et.J=g(dt,et,ar,mr-ar),et.F=dt.mb,et.F==null&&et.F.length==0)){Zr=wr(dt,3,"Could not decode alpha data.");break t}ar<et.j&&(Zt=et.j-ar,ar=et.j,e(!(1&Zt)),et.O+=dt.R*Zt,et.N+=dt.B*(Zt>>1),et.W+=dt.B*(Zt>>1),et.F!=null&&(et.J+=et.width*Zt)),ar<mr&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=ar-et.j,et.U=et.va-et.v,et.T=mr-ar,Zr=et.put(et))}Bt+1!=dt.Ic||vn||(n(dt.sa,dt.ta-Ft,Rn,hi+16*dt.R,Ft),n(dt.qa,dt.ra-kr,zr,Yt+8*dt.B,kr),n(dt.Ha,dt.Ia-kr,qn,fi+8*dt.B,kr))}if(!Zr)return wr(Xt,6,"Output aborted.")}return 1}(be,Ne)),Ne.bc!=null&&Ne.bc(Ne),Ce&=1}return Ce?(be.cb=0,Ce):0})(p,$)||(x=p.a)}}else x=p.a}x==0&&le.Oa!=null&&le.Oa.fd&&(x=Gh(le.ba))}le=x}ie=le!=0?null:11>ie?fe.f.RGBA.eb:fe.f.kb.y}else ie=null;return ie};var Pb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(_,q){for(var D="",I=0;I<4;I++)D+=String.fromCharCode(_[q++]);return D}function c(_,q){return _[q+0]|_[q+1]<<8}function f(_,q){return(_[q+0]|_[q+1]<<8|_[q+2]<<16)>>>0}function m(_,q){return(_[q+0]|_[q+1]<<8|_[q+2]<<16|_[q+3]<<24)>>>0}new l;var h=[0],E=[0],b=[],T=new l,d=t,w=function(_,q){var D={},I=0,P=!1,C=0,oe=0;if(D.frames=[],!function(O,K){for(var Q=0;Q<4;Q++)if(O[K+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(_,q)){for(m(_,q+=4),q+=8;q<_.length;){var ye=u(_,q),se=m(_,q+=4);q+=4;var ae=se+(1&se);switch(ye){case"VP8 ":case"VP8L":D.frames[I]===void 0&&(D.frames[I]={}),(he=D.frames[I]).src_off=P?oe:q-8,he.src_size=C+se+8,I++,P&&(P=!1,C=0,oe=0);break;case"VP8X":(he=D.header={}).feature_flags=_[q];var de=q+4;he.canvas_width=1+f(_,de),de+=3,he.canvas_height=1+f(_,de),de+=3;break;case"ALPH":P=!0,C=ae+8,oe=q-8;break;case"ANIM":(he=D.header).bgcolor=m(_,q),de=q+4,he.loop_count=c(_,de),de+=2;break;case"ANMF":var Ae,he;(he=D.frames[I]={}).offset_x=2*f(_,q),q+=3,he.offset_y=2*f(_,q),q+=3,he.width=1+f(_,q),q+=3,he.height=1+f(_,q),q+=3,he.duration=f(_,q),q+=3,Ae=_[q++],he.dispose=1&Ae,he.blend=Ae>>1&1}ye!="ANMF"&&(q+=ae)}return D}}(d,0);w.response=d,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,y=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],E=[v.canvas_width];for(var L=0;L<y.length&&y[L].blend!=0;L++);}var W=y[0],A=T.WebPDecodeRGBA(d,W.src_off,W.src_size,E,h);W.rgba=A,W.imgwidth=E[0],W.imgheight=h[0];for(var S=0;S<E[0]*h[0]*4;S++)b[S]=A[S];return this.width=E,this.height=h,this.data=b,this}(function(t){var e,r,n,i,s,o,a,l,u,c=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=O;Object.defineProperty(this,"pdf",{get:function(){return K}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(X){Q=!!X}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(X){ue=!!X}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(X){isNaN(X)||(ee=X)}});var j=0;Object.defineProperty(this,"posY",{get:function(){return j},set:function(X){isNaN(X)||(j=X)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(X){var H;typeof X=="number"?H=[X,X,X,X]:((H=new Array(4))[0]=X[0],H[1]=X.length>=2?X[1]:H[0],H[2]=X.length>=3?X[2]:H[0],H[3]=X.length>=4?X[3]:H[1]),u.margin=H}});var B=!1;Object.defineProperty(this,"autoPaging",{get:function(){return B},set:function(X){B=X}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(X){ne=X}});var te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return te},set:function(X){te=X}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(X){X instanceof c&&(u=X)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(X){u.path=X}});var Y=[];Object.defineProperty(this,"ctxStack",{get:function(){return Y},set:function(X){Y=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var H;H=m(X),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var H=m(X);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var re=null,xe=null,V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(X){re=null,xe=null,V=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var H;if(this.ctx.font=X,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var N=H[1];H[2];var k=H[3],F=H[4];H[5];var ce=H[6],ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(F)[2];F=Math.floor(ve==="px"?parseFloat(F)*this.pdf.internal.scaleFactor:ve==="em"?parseFloat(F)*this.pdf.getFontSize():parseFloat(F)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(F);var me=function(rt){var rr,ht,kt=[],Ct=rt.trim();if(Ct==="")return Gv;if(Ct in ZS)return[ZS[Ct]];for(;Ct!=="";){switch(ht=null,rr=(Ct=t6(Ct)).charAt(0)){case'"':case"'":ht=BY(Ct.substring(1),rr);break;default:ht=UY(Ct)}if(ht===null||(kt.push(ht[0]),(Ct=t6(ht[1]))!==""&&Ct.charAt(0)!==","))return Gv;Ct=Ct.replace(/^,/,"")}return kt}(ce);if(this.fontFaces){var Te=function(rt,rr){var ht=rt.getFontList(),kt=JSON.stringify(ht);if(re===null||xe!==kt){var Ct=function(jt){var mt=[];return Object.keys(jt).forEach(function(Jt){jt[Jt].forEach(function(bt){var At=null;switch(bt){case"bold":At={family:Jt,weight:"bold"};break;case"italic":At={family:Jt,style:"italic"};break;case"bolditalic":At={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:Jt}}At!==null&&(At.ref={name:Jt,style:bt},mt.push(At))})}),mt}(ht);re=function(jt){for(var mt={},Jt=0;Jt<jt.length;++Jt){var bt=$v(jt[Jt]),At=bt.family,nr=bt.stretch,pt=bt.style,gt=bt.weight;mt[At]=mt[At]||{},mt[At][nr]=mt[At][nr]||{},mt[At][nr][pt]=mt[At][nr][pt]||{},mt[At][nr][pt][gt]=bt}return mt}(Ct.concat(rr)),xe=kt}return re}(this.pdf,this.fontFaces),De=me.map(function(rt){return{family:rt,stretch:"normal",weight:k,style:N}}),Re=function(rt,rr,ht){for(var kt=(ht=ht||{}).defaultFontFamily||"times",Ct=Object.assign({},MY,ht.genericFontFamilies||{}),jt=null,mt=null,Jt=0;Jt<rr.length;++Jt)if(Ct[(jt=$v(rr[Jt])).family]&&(jt.family=Ct[jt.family]),rt.hasOwnProperty(jt.family)){mt=rt[jt.family];break}if(!(mt=mt||rt[kt]))throw new Error("Could not find a font-family for the rule '"+e6(jt)+"' and default family '"+kt+"'.");if(mt=function(bt,At){if(At[bt])return At[bt];var nr=Uw[bt],pt=nr<=Uw.normal?-1:1,gt=JS(At,d8,nr,pt);if(!gt)throw new Error("Could not find a matching font-stretch value for "+bt);return gt}(jt.stretch,mt),mt=function(bt,At){if(At[bt])return At[bt];for(var nr=f8[bt],pt=0;pt<nr.length;++pt)if(At[nr[pt]])return At[nr[pt]];throw new Error("Could not find a matching font-style for "+bt)}(jt.style,mt),!(mt=function(bt,At){if(At[bt])return At[bt];if(bt===400&&At[500])return At[500];if(bt===500&&At[400])return At[400];var nr=jY[bt],pt=JS(At,p8,nr,bt<400?-1:1);if(!pt)throw new Error("Could not find a matching font-weight for value "+bt);return pt}(jt.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+e6(jt)+"'.");return mt}(Te,De);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Be="";(k==="bold"||parseInt(k,10)>=700||N==="bold")&&(Be="bold"),N==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var Ke="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<me.length;tt++){if(this.pdf.internal.getFont(me[tt],Be,{noFallback:!0,disableWarning:!0})!==void 0){Ke=me[tt];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(me[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=me[tt],Be="bold";else if(this.pdf.internal.getFont(me[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=me[tt],Be="normal";break}}if(Ke===""){for(var xt=0;xt<me.length;xt++)if(Ze[me[xt]]){Ke=Ze[me[xt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){y.call(this,"fill",!1)},f.prototype.stroke=function(){y.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,K){if(isNaN(O)||isNaN(K))throw gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(O,K)},f.prototype.closePath=function(){var O=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ur(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){O=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},f.prototype.lineTo=function(O,K){if(isNaN(O)||isNaN(K))throw gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,K,Q,ue){if(isNaN(Q)||isNaN(ue)||isNaN(O)||isNaN(K))throw gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(Q,ue)),j=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"qct",x1:j.x,y1:j.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},f.prototype.bezierCurveTo=function(O,K,Q,ue,ee,j){if(isNaN(ee)||isNaN(j)||isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue))throw gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var B=this.ctx.transform.applyToPoint(new o(ee,j)),ne=this.ctx.transform.applyToPoint(new o(O,K)),te=this.ctx.transform.applyToPoint(new o(Q,ue));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:te.x,y2:te.y,x:B.x,y:B.y}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.arc=function(O,K,Q,ue,ee,j){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue)||isNaN(ee))throw gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(j=!!j,!this.ctx.transform.isIdentity){var B=this.ctx.transform.applyToPoint(new o(O,K));O=B.x,K=B.y;var ne=this.ctx.transform.applyToPoint(new o(0,Q)),te=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ne.x-te.x,2)+Math.pow(ne.y-te.y,2))}Math.abs(ee-ue)>=2*Math.PI&&(ue=0,ee=2*Math.PI),this.path.push({type:"arc",x:O,y:K,radius:Q,startAngle:ue,endAngle:ee,counterclockwise:j})},f.prototype.arcTo=function(O,K,Q,ue,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,K,Q,ue){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue))throw gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,K),this.lineTo(O+Q,K),this.lineTo(O+Q,K+ue),this.lineTo(O,K+ue),this.lineTo(O,K),this.lineTo(O+Q,K),this.lineTo(O,K)},f.prototype.fillRect=function(O,K,Q,ue){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue))throw gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,K,Q,ue),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(O,K,Q,ue){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue))throw gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(O,K,Q,ue),this.stroke())},f.prototype.clearRect=function(O,K,Q,ue){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue))throw gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,K,Q,ue))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(O){var K,Q,ue,ee;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))K=0,Q=0,ue=0,ee=0;else{var j=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(j!==null)K=parseInt(j[1]),Q=parseInt(j[2]),ue=parseInt(j[3]),ee=1;else if((j=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)K=parseInt(j[1]),Q=parseInt(j[2]),ue=parseInt(j[3]),ee=parseFloat(j[4]);else{if(ee=1,typeof O=="string"&&O.charAt(0)!=="#"){var B=new s8(O);O=B.ok?B.toHex():"#000000"}O.length===4?(K=O.substring(1,2),K+=K,Q=O.substring(2,3),Q+=Q,ue=O.substring(3,4),ue+=ue):(K=O.substring(1,3),Q=O.substring(3,5),ue=O.substring(5,7)),K=parseInt(K,16),Q=parseInt(Q,16),ue=parseInt(ue,16)}}return{r:K,g:Q,b:ue,a:ee,style:O}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,K,Q,ue){if(isNaN(K)||isNaN(Q)||typeof O!="string")throw gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!h.call(this)){var ee=ae(this.ctx.transform.rotation),j=this.ctx.transform.scaleX;I.call(this,{text:O,x:K,y:Q,scale:j,angle:ee,align:this.textAlign,maxWidth:ue})}},f.prototype.strokeText=function(O,K,Q,ue){if(isNaN(K)||isNaN(Q)||typeof O!="string")throw gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ue=isNaN(ue)?void 0:ue;var ee=ae(this.ctx.transform.rotation),j=this.ctx.transform.scaleX;I.call(this,{text:O,x:K,y:Q,scale:j,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:ue})}},f.prototype.measureText=function(O){if(typeof O!="string")throw gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Q=this.pdf.internal.scaleFactor,ue=K.internal.getFontSize(),ee=K.getStringUnitWidth(O)*ue/K.internal.scaleFactor;return new function(j){var B=(j=j||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return B}}),this}({width:ee*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(O,K){if(isNaN(O)||isNaN(K))throw gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(O,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(O){if(isNaN(O))throw gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(O,K){if(isNaN(O)||isNaN(K))throw gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,O,K);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(O,K,Q,ue,ee,j){if(isNaN(O)||isNaN(K)||isNaN(Q)||isNaN(ue)||isNaN(ee)||isNaN(j))throw gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var B=new l(O,K,Q,ue,ee,j);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.setTransform=function(O,K,Q,ue,ee,j){O=isNaN(O)?1:O,K=isNaN(K)?0:K,Q=isNaN(Q)?0:Q,ue=isNaN(ue)?1:ue,ee=isNaN(ee)?0:ee,j=isNaN(j)?0:j,this.ctx.transform=new l(O,K,Q,ue,ee,j)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,K,Q,ue,ee,j,B,ne,te){var Y=this.pdf.getImageProperties(O),re=1,xe=1,V=1,X=1;ue!==void 0&&ne!==void 0&&(V=ne/ue,X=te/ee,re=Y.width/ue*ne/ue,xe=Y.height/ee*te/ee),j===void 0&&(j=K,B=Q,K=0,Q=0),ue!==void 0&&ne===void 0&&(ne=ue,te=ee),ue===void 0&&ne===void 0&&(ne=Y.width,te=Y.height);var H=this.ctx.transform.decompose(),N=ae(H.rotate.shx),k=new l,F=(k=(k=(k=k.multiply(H.translate)).multiply(H.skew)).multiply(H.scale)).applyToRectangle(new a(j-K*V,B-Q*X,ue*re,ee*xe));if(this.autoPaging){for(var ce,ve=T.call(this,F),me=[],Te=0;Te<ve.length;Te+=1)me.indexOf(ve[Te])===-1&&me.push(ve[Te]);v(me);for(var De=me[0],Re=me[me.length-1],Be=De;Be<Re+1;Be++){this.pdf.setPage(Be);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Be===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Be===1?0:tt+(Be-2)*xt;if(this.ctx.clip_path.length!==0){var rr=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ce,this.posX+this.margin[3],-rt+Ze+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=rr}var ht=JSON.parse(JSON.stringify(F));ht=w([ht],this.posX+this.margin[3],-rt+Ze+this.ctx.prevPageLastElemOffset)[0];var kt=(Be>De||Be<Re)&&b.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,xt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,N),kt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",F.x,F.y,F.w,F.h,null,null,N)};var T=function(O,K,Q){var ue=[];K=K||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ue.push(Math.floor((O.y+ee)/Q)+1);break;case"arc":ue.push(Math.floor((O.y+ee-O.radius)/Q)+1),ue.push(Math.floor((O.y+ee+O.radius)/Q)+1);break;case"qct":var j=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ue.push(Math.floor((j.y+ee)/Q)+1),ue.push(Math.floor((j.y+j.h+ee)/Q)+1);break;case"bct":var B=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ue.push(Math.floor((B.y+ee)/Q)+1),ue.push(Math.floor((B.y+B.h+ee)/Q)+1);break;case"rect":ue.push(Math.floor((O.y+ee)/Q)+1),ue.push(Math.floor((O.y+O.h+ee)/Q)+1)}for(var ne=0;ne<ue.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ne];)d.call(this);return ue},d=function(){var O=this.fillStyle,K=this.strokeStyle,Q=this.font,ue=this.lineCap,ee=this.lineWidth,j=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=K,this.font=Q,this.lineCap=ue,this.lineWidth=ee,this.lineJoin=j},w=function(O,K,Q){for(var ue=0;ue<O.length;ue++)switch(O[ue].type){case"bct":O[ue].x2+=K,O[ue].y2+=Q;case"qct":O[ue].x1+=K,O[ue].y1+=Q;default:O[ue].x+=K,O[ue].y+=Q}return O},v=function(O){return O.sort(function(K,Q){return K-Q})},y=function(O,K){var Q=this.fillStyle,ue=this.strokeStyle,ee=this.lineCap,j=this.lineWidth,B=Math.abs(j*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var te,Y,re=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),V=[],X=0;X<xe.length;X++)if(xe[X].x!==void 0)for(var H=T.call(this,xe[X]),N=0;N<H.length;N+=1)V.indexOf(H[N])===-1&&V.push(H[N]);for(var k=0;k<V.length;k++)for(;this.pdf.internal.getNumberOfPages()<V[k];)d.call(this);v(V);for(var F=V[0],ce=V[V.length-1],ve=F;ve<ce+1;ve++){this.pdf.setPage(ve),this.fillStyle=Q,this.strokeStyle=ue,this.lineCap=ee,this.lineWidth=B,this.lineJoin=ne;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=ve===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ve===1?0:De+(ve-2)*Re;if(this.ctx.clip_path.length!==0){var Ke=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(te,this.posX+this.margin[3],-Be+Te+this.ctx.prevPageLastElemOffset),L.call(this,O,!0),this.path=Ke}if(Y=JSON.parse(JSON.stringify(re)),this.path=w(Y,this.posX+this.margin[3],-Be+Te+this.ctx.prevPageLastElemOffset),K===!1||ve===0){var Ze=(ve>F||ve<ce)&&b.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Re,null).clip().discardPath()),L.call(this,O,K),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=j}this.path=re}else this.lineWidth=B,L.call(this,O,K),this.lineWidth=j},L=function(O,K){if((O!=="stroke"||K||!E.call(this))&&(O==="stroke"||K||!h.call(this))){for(var Q,ue,ee=[],j=this.path,B=0;B<j.length;B++){var ne=j[B];switch(ne.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ne,deltas:[],abs:[]});break;case"lt":var te=ee.length;if(j[B-1]&&!isNaN(j[B-1].x)&&(Q=[ne.x-j[B-1].x,ne.y-j[B-1].y],te>0)){for(;te>=0;te--)if(ee[te-1].close!==!0&&ee[te-1].begin!==!0){ee[te-1].deltas.push(Q),ee[te-1].abs.push(ne);break}}break;case"bct":Q=[ne.x1-j[B-1].x,ne.y1-j[B-1].y,ne.x2-j[B-1].x,ne.y2-j[B-1].y,ne.x-j[B-1].x,ne.y-j[B-1].y],ee[ee.length-1].deltas.push(Q);break;case"qct":var Y=j[B-1].x+2/3*(ne.x1-j[B-1].x),re=j[B-1].y+2/3*(ne.y1-j[B-1].y),xe=ne.x+2/3*(ne.x1-ne.x),V=ne.y+2/3*(ne.y1-ne.y),X=ne.x,H=ne.y;Q=[Y-j[B-1].x,re-j[B-1].y,xe-j[B-1].x,V-j[B-1].y,X-j[B-1].x,H-j[B-1].y],ee[ee.length-1].deltas.push(Q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ne)}}ue=K?null:O==="stroke"?"stroke":"fill";for(var N=!1,k=0;k<ee.length;k++)if(ee[k].arc)for(var F=ee[k].abs,ce=0;ce<F.length;ce++){var ve=F[ce];ve.type==="arc"?S.call(this,ve.x,ve.y,ve.radius,ve.startAngle,ve.endAngle,ve.counterclockwise,void 0,K,!N):P.call(this,ve.x,ve.y),N=!0}else if(ee[k].close===!0)this.pdf.internal.out("h"),N=!1;else if(ee[k].begin!==!0){var me=ee[k].start.x,Te=ee[k].start.y;C.call(this,ee[k].deltas,me,Te),N=!0}ue&&_.call(this,ue),K&&q.call(this)}},W=function(O){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+K-Q;case"hanging":return O+K-2*Q;case"middle":return O+K/2-Q;default:return O}},A=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(K,Q){this.colorStops.push([K,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,K,Q,ue,ee,j,B,ne,te){for(var Y=ye.call(this,Q,ue,ee,j),re=0;re<Y.length;re++){var xe=Y[re];re===0&&(te?D.call(this,xe.x1+O,xe.y1+K):P.call(this,xe.x1+O,xe.y1+K)),oe.call(this,O,K,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}ne?q.call(this):_.call(this,B)},_=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(O,K){this.pdf.internal.out(r(O)+" "+n(K)+" m")},I=function(O){var K;switch(O.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Q,ue,ee,j=this.pdf.getTextDimensions(O.text),B=W.call(this,O.y),ne=A.call(this,B)-j.h,te=this.ctx.transform.applyToPoint(new o(O.x,B));if(this.autoPaging){var Y=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale);for(var xe=this.ctx.transform.applyToRectangle(new a(O.x,B,j.w,j.h)),V=re.applyToRectangle(new a(O.x,ne,j.w,j.h)),X=T.call(this,V),H=[],N=0;N<X.length;N+=1)H.indexOf(X[N])===-1&&H.push(X[N]);v(H);for(var k=H[0],F=H[H.length-1],ce=k;ce<F+1;ce++){this.pdf.setPage(ce);var ve=ce===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],De=Te-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Be=Re-this.margin[3],Ke=ce===1?0:me+(ce-2)*De;if(this.ctx.clip_path.length!==0){var Ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Q,this.posX+this.margin[3],-1*Ke+ve),L.call(this,"fill",!0),this.path=Ze}var tt=w([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-Ke+ve+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*O.scale),ee=this.lineWidth,this.lineWidth=ee*O.scale);var xt=this.autoPaging!=="text";if(xt||tt.y+tt.h<=Te){if(xt||tt.y>=ve&&tt.x<=Re){var rt=xt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Re-tt.x)[0],rr=w([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ke+ve+this.ctx.prevPageLastElemOffset)[0],ht=xt&&(ce>k||ce<F)&&b.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,De,null).clip().discardPath()),this.pdf.text(rt,rr.x,rr.y,{angle:O.angle,align:K,renderingMode:O.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else tt.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-tt.y);O.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ee)}}else O.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*O.scale),ee=this.lineWidth,this.lineWidth=ee*O.scale),this.pdf.text(O.text,te.x+this.posX,te.y+this.posY,{angle:O.angle,align:K,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ee)},P=function(O,K,Q,ue){Q=Q||0,ue=ue||0,this.pdf.internal.out(r(O+Q)+" "+n(K+ue)+" l")},C=function(O,K,Q){return this.pdf.lines(O,K,Q,null,null)},oe=function(O,K,Q,ue,ee,j,B,ne){this.pdf.internal.out([e(i(Q+O)),e(s(ue+K)),e(i(ee+O)),e(s(j+K)),e(i(B+O)),e(s(ne+K)),"c"].join(" "))},ye=function(O,K,Q,ue){for(var ee=2*Math.PI,j=Math.PI/2;K>Q;)K-=ee;var B=Math.abs(Q-K);B<ee&&ue&&(B=ee-B);for(var ne=[],te=ue?-1:1,Y=K;B>1e-5;){var re=Y+te*Math.min(B,j);ne.push(se.call(this,O,Y,re)),B-=Math.abs(re-Y),Y=re}return ne},se=function(O,K,Q){var ue=(Q-K)/2,ee=O*Math.cos(ue),j=O*Math.sin(ue),B=ee,ne=-j,te=B*B+ne*ne,Y=te+B*ee+ne*j,re=4/3*(Math.sqrt(2*te*Y)-Y)/(B*j-ne*ee),xe=B-re*ne,V=ne+re*B,X=xe,H=-V,N=ue+K,k=Math.cos(N),F=Math.sin(N);return{x1:O*Math.cos(K),y1:O*Math.sin(K),x2:xe*k-V*F,y2:xe*F+V*k,x3:X*k-H*F,y3:X*F+H*k,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},ae=function(O){return 180*O/Math.PI},de=function(O,K,Q,ue,ee,j){var B=O+.5*(Q-O),ne=K+.5*(ue-K),te=ee+.5*(Q-ee),Y=j+.5*(ue-j),re=Math.min(O,ee,B,te),xe=Math.max(O,ee,B,te),V=Math.min(K,j,ne,Y),X=Math.max(K,j,ne,Y);return new a(re,V,xe-re,X-V)},Ae=function(O,K,Q,ue,ee,j,B,ne){var te,Y,re,xe,V,X,H,N,k,F,ce,ve,me,Te,De=Q-O,Re=ue-K,Be=ee-Q,Ke=j-ue,Ze=B-ee,tt=ne-j;for(Y=0;Y<41;Y++)k=(H=(re=O+(te=Y/40)*De)+te*((V=Q+te*Be)-re))+te*(V+te*(ee+te*Ze-V)-H),F=(N=(xe=K+te*Re)+te*((X=ue+te*Ke)-xe))+te*(X+te*(j+te*tt-X)-N),Y==0?(ce=k,ve=F,me=k,Te=F):(ce=Math.min(ce,k),ve=Math.min(ve,F),me=Math.max(me,k),Te=Math.max(Te,F));return new a(Math.round(ce),Math.round(ve),Math.round(me-ce),Math.round(Te-ve))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,K,Q=(O=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:K}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(vt.API),function(t){var e=function(o){var a,l,u,c,f,m,h,E,b,T;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(T=f%85))/85)-(b=f%85))/85)-(E=f%85))/85)-(h=f%85))/85)%85,l.push(m+33,h+33,E+33,b+33,T+33)):l.push(122);return function(d,w){for(var v=w;v>0;v--)d.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,u,c,f,m=String,h="length",E=255,b="charCodeAt",T="slice",d="replace";for(o[T](-2),o=o[T](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),u=[],c=0,f=(o+=a="uuuuu"[T](o[h]%5||5))[h];f>c;c+=5)l=52200625*(o[b](c)-33)+614125*(o[b](c+1)-33)+7225*(o[b](c+2)-33)+85*(o[b](c+3)-33)+(o[b](c+4)-33),u.push(E&l>>24,E&l>>16,E&l>>8,E&l);return function(w,v){for(var y=v;y>0;y--)w.pop()}(u,a[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Lw(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(vt.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var f=new XMLHttpRequest,m=0,h=function(E){var b=E.length,T=[],d=String.fromCharCode;for(m=0;m<b;m+=1)T.push(d(255&E.charCodeAt(m)));return T.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(vt.API),function(t){function e(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):Iv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):Iv(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=ur(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(a(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var E=c[h],b=E.src.find(function(T){return T.format==="truetype"});b&&u.addFont(b.url,E.ref.name,E.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,c),m}).then(c,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),m=u.call(f,a,l);return o.convert(m,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,vt.getPageSize=function(a,l,u){if(ur(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var E,b=0,T=0;if(h.hasOwnProperty(m))b=h[m][1]/f,T=h[m][0]/f;else try{b=u[1],T=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",T>b&&(E=T,T=b,b=E);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>T&&(E=T,T=b,b=E)}return{width:T,height:b,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($v):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(vt.API),vt.API.addJS=function(t){return n6=t,this.internal.events.subscribe("postPutResources",function(){dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dm!==void 0&&r6!==void 0&&this.internal.out("/Names <</JavaScript "+dm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var f=r.internal.newObject();c.push(f);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),E=f.length,b={width:0,height:0,numcomponents:1},T=4;T<E;T+=2){if(T+=h,e.indexOf(f.charCodeAt(T+1))!==-1){m=256*f.charCodeAt(T+5)+f.charCodeAt(T+6),b={width:256*f.charCodeAt(T+7)+f.charCodeAt(T+8),height:m,numcomponents:f.charCodeAt(T+9)};break}h=256*f.charCodeAt(T+2)+f.charCodeAt(T+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(vt.API),vt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=EY(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(S){for(var _=S.width,q=S.height,D=S.data,I=S.palette,P=S.depth,C=!1,oe=[],ye=[],se=void 0,ae=!1,de=0,Ae=0;Ae<I.length;Ae++){var he=aS(I[Ae],4),O=he[0],K=he[1],Q=he[2],ue=he[3];oe.push(O,K,Q),ue!=null&&(ue===0?(de++,ye.length<1&&ye.push(Ae)):ue<255&&(ae=!0))}if(ae||de>1){C=!0,ye=void 0;var ee=_*q;se=new Uint8Array(ee);for(var j=new DataView(D.buffer),B=0;B<ee;B++){var ne=Kv(j,B,P),te=aS(I[ne],4)[3];se[B]=te}}else de===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:C?8:void 0,colorBytes:D,alphaBytes:se,needSMask:C,palette:oe,mask:ye}}(s):l===2||l===4?function(S){for(var _=S.data,q=S.width,D=S.height,I=S.channels,P=S.depth,C=I===2?"DeviceGray":"DeviceRGB",oe=I-1,ye=q*D,se=oe,ae=ye*se,de=1*ye,Ae=Math.ceil(ae*P/8),he=Math.ceil(de*P/8),O=new Uint8Array(Ae),K=new Uint8Array(he),Q=new DataView(_.buffer),ue=new DataView(O.buffer),ee=new DataView(K.buffer),j=!1,B=0;B<ye;B++){for(var ne=B*I,te=0;te<se;te++)f6(ue,Kv(Q,ne+te,P),B*se+te,P);var Y=Kv(Q,ne+se,P);Y<(1<<P)-1&&(j=!0),f6(ee,Y,1*B,P)}return{colorSpace:C,colorsPerPixel:oe,sMaskBitsPerComponent:j?P:void 0,colorBytes:O,alphaBytes:K,needSMask:j}}(s):function(S){var _=S.data,q=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?function(D){for(var I=D.length,P=new Uint8Array(2*I),C=new DataView(P.buffer,P.byteOffset,P.byteLength),oe=0;oe<I;oe++)C.setUint16(2*oe,D[oe],!1);return P}(_):_,needSMask:!1}}(s);var f,m,h,E=i,b=E.colorSpace,T=E.colorsPerPixel,d=E.sMaskBitsPerComponent,w=E.colorBytes,v=E.alphaBytes,y=E.needSMask,L=E.palette,W=E.mask,A=null;return n!==vt.API.image_compression.NONE&&typeof Lw=="function"?(A=function(S){var _;switch(S){case vt.API.image_compression.FAST:_=11;break;case vt.API.image_compression.MEDIUM:_=13;break;case vt.API.image_compression.SLOW:_=14;break;default:_=12}return _}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(A," /Colors ").concat(T," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=a6(w,Math.ceil(o*T*c/8),T,c,n),y&&(h=a6(v,Math.ceil(o*d/8),1,d,n))):(f=void 0,m=void 0,t=w,y&&(h=v)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:m,transparency:W,palette:L,sMask:h,predictor:A,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:d,colorSpace:b}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new WY(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new Xv(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(vt.API),Vs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){gr.log("bit decode error:"+r)}},Vs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Vs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Vs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Vs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Vs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Vs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Vs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Vs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Xv(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(vt.API),p6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new p6(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Xv(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(vt.API),vt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],m=n[u+2],h=n[u+3];s[a++]=c,s[a++]=f,s[a++]=m,o[l++]=h}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vc=vt.API,pm=vc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=t.length,E=0,b=a[0]||l,T=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(m=f&&ur(u[n])==="object"&&!isNaN(parseInt(u[n][E],10))?u[n][E]/c:0,T.push((a[n]||b)/l+m)),E=n;return T},i6=vc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return vc.processArabic&&(t=vc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:pm.apply(this,arguments).reduce(function(s,o){return s+o},0)},s6=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},o6=function(t,e,r){r||(r={});var n,i,s,o,a,l,u,c=[],f=[c],m=r.textIndent||0,h=0,E=0,b=t.split(" "),T=pm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var d=Array(l).join(" "),w=[];b.map(function(y){(y=y.split(/\s*\n/)).length>1?w=w.concat(y.map(function(L,W){return(W&&L.length?`
`:"")+L})):w.push(y[0])}),b=w,l=i6.apply(this,[d,r])}for(s=0,o=b.length;s<o;s++){var v=0;if(n=b[s],l&&n[0]==`
`&&(n=n.substr(1),v=1),m+h+(E=(i=pm.apply(this,[n,r])).reduce(function(y,L){return y+L},0))>e||v){if(E>e){for(a=s6.apply(this,[n,i,e-(m+h),e]),c.push(a.shift()),c=[a.pop()];a.length;)f.push([a.shift()]);E=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(y,L){return y+L},0)}else c=[n];f.push(c),m=E+l,h=T}else c.push(n),m+=h+E,h=T}return u=l?function(y,L){return(L?d:"")+y.join(" ")}:function(y){return y.join(" ")},f.map(u)},vc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,u=[];for(a=0,l=n.length;a<l;a++)u=u.concat(o6.apply(this,[n[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var h,E,b,T,d=["{"];for(var w in m){if(h=m[w],isNaN(parseInt(w,10))?E="'"+w+"'":(w=parseInt(w,10),E=(E=o(w).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof h=="number")h<0?(b=o(h).slice(3),T="-"):(b=o(h).slice(2),T=""),b=T+b.slice(0,-1)+i[b.slice(-1)];else{if(ur(h)!=="object")throw new Error("Don't know what to do with value type "+ur(h)+".");b=a(h)}d.push(E+b)}return d.push("}"),d.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,E,b,T,d={},w=1,v=d,y=[],L="",W="",A=m.length-1,S=1;S<A;S+=1)(T=m[S])=="'"?h?(b=h.join(""),h=void 0):h=[]:h?h.push(T):T=="{"?(y.push([v,b]),v={},b=void 0):T=="}"?((E=y.pop())[0][E[1]]=v,b=void 0,v=E[0]):T=="-"?w=-1:b===void 0?n.hasOwnProperty(T)?(L+=n[T],b=parseInt(L,16)*w,w=1,L=""):L+=T:n.hasOwnProperty(T)?(W+=n[T],v[b]=parseInt(W,16)*w,w=1,b=void 0,W=""):W+=T;return d},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var h=m.font,E=f.Unicode[h.postScriptName];E&&(h.metadata.Unicode={},h.metadata.Unicode.widths=E.widths,h.metadata.Unicode.kerning=E.kerning);var b=c.Unicode[h.postScriptName];b&&(h.metadata.Unicode.encoding=b,h.encoding=b.codePages[0])}])}(vt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Bm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(vt),vt.API.addSvgAsImage=function(t,e,r,n,i,s,o,a){if(isNaN(e)||isNaN(r))throw gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Rt.canvg?Promise.resolve(Rt.canvg):Iv(()=>import("./index.es-DT2j5Pux.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,a)})},vt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},vt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,f=0;function m(E,b){var T,d=!1;for(T=0;T<E.length;T+=1)E[T]===b&&(d=!0);return d}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)r[a[f]].value=r[a[f]].defaultValue,r[a[f]].explicitSet=!1}if(ur(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,b=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?b.push("/"+E+" /"+r[E].value):b.push("/"+E+" "+r[E].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(vt.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,m=s.length;f<m;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},n=function(s){var o,a,l,u,c,f,m;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(s).sort(function(h,E){return h-E})).length;f<m;f++)o=a[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",E=0;E<m.length;E++)h+=String.fromCharCode(m[E]);var b=u();c({data:h,addLength1:!0,objectId:b}),l("endobj");var T=u();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var d=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tc(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tc(a.fontName)),l("/FontDescriptor "+d+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+T+" 0 R"),l("/BaseFont /"+Tc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var E=u();c({data:m,addLength1:!0,objectId:E}),l("endobj");var b=u();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var T=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+E+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Tc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var d=0;d<a.metadata.hmtx.widths.length;d++)a.metadata.hmtx.widths[d]=parseInt(a.metadata.hmtx.widths[d]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Tc(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},f=s.mutex||{},m=f.pdfEscape,h=f.activeFontKey,E=f.fonts,b=h,T="",d=0,w="",v=E[b].encoding;if(E[b].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:f};for(w=a,b=h,Array.isArray(a)&&(w=a[0]),d=0;d<w.length;d+=1)E[b].metadata.hasOwnProperty("cmap")&&(o=E[b].metadata.cmap.unicode.codeMap[w[d].charCodeAt(0)]),o||w[d].charCodeAt(0)<256&&E[b].metadata.hasOwnProperty("Unicode")?T+=w[d]:T+="";var y="";return parseInt(b.slice(1))<14||v==="WinAnsiEncoding"?y=m(T,b).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(y=r(T,E[b])),f.isHex=!0,{text:y,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,l,u,c,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,v=0;this.__bidiEngine__={};var y=function(D){var I=D.charCodeAt(),P=I>>8,C=b[P];return C!==void 0?f[256*C+(255&I)]:P===252||P===253?"AL":d.test(P)?"L":P===8?"R":"N"},L=function(D){for(var I,P=0;P<D.length;P++){if((I=y(D.charAt(P)))==="L")return!1;if(I==="R")return!0}return!1},W=function(D,I,P,C){var oe,ye,se,ae,de=I[C];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(de="AN");break;case"AL":w=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":C<1||C+1>=I.length||(oe=P[C-1])!=="EN"&&oe!=="AN"||(ye=I[C+1])!=="EN"&&ye!=="AN"?de="N":w&&(ye="AN"),de=ye===oe?ye:"N";break;case"ES":de=(oe=C>0?P[C-1]:"B")==="EN"&&C+1<I.length&&I[C+1]==="EN"?"EN":"N";break;case"ET":if(C>0&&P[C-1]==="EN"){de="EN";break}if(w){de="N";break}for(se=C+1,ae=I.length;se<ae&&I[se]==="ET";)se++;de=se<ae&&I[se]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ae=I.length,se=C+1;se<ae&&I[se]==="NSM";)se++;if(se<ae){var Ae=D[C],he=Ae>=1425&&Ae<=2303||Ae===64286;if(oe=I[se],he&&(oe==="R"||oe==="AL")){de="R";break}}}de=C<1||(oe=I[C-1])==="B"?"N":P[C-1];break;case"B":w=!1,i=!0,de=v;break;case"S":s=!0,de="N"}return de},A=function(D,I,P){var C=D.split("");return P&&S(C,P,{hiLevel:v}),C.reverse(),I&&I.reverse(),C.join("")},S=function(D,I,P){var C,oe,ye,se,ae,de=-1,Ae=D.length,he=0,O=[],K=v?h:m,Q=[];for(w=!1,i=!1,s=!1,oe=0;oe<Ae;oe++)Q[oe]=y(D[oe]);for(ye=0;ye<Ae;ye++){if(ae=he,O[ye]=W(D,Q,O,ye),C=240&(he=K[ae][E[O[ye]]]),he&=15,I[ye]=se=K[he][5],C>0)if(C===16){for(oe=de;oe<ye;oe++)I[oe]=1;de=-1}else de=-1;if(K[he][6])de===-1&&(de=ye);else if(de>-1){for(oe=de;oe<ye;oe++)I[oe]=se;de=-1}Q[ye]==="B"&&(I[ye]=0),P.hiLevel|=se}s&&function(ue,ee,j){for(var B=0;B<j;B++)if(ue[B]==="S"){ee[B]=v;for(var ne=B-1;ne>=0&&ue[ne]==="WS";ne--)ee[ne]=v}}(Q,I,Ae)},_=function(D,I,P,C,oe){if(!(oe.hiLevel<D)){if(D===1&&v===1&&!i)return I.reverse(),void(P&&P.reverse());for(var ye,se,ae,de,Ae=I.length,he=0;he<Ae;){if(C[he]>=D){for(ae=he+1;ae<Ae&&C[ae]>=D;)ae++;for(de=he,se=ae-1;de<se;de++,se--)ye=I[de],I[de]=I[se],I[se]=ye,P&&(ye=P[de],P[de]=P[se],P[se]=ye);he=ae}he++}}},q=function(D,I,P){var C=D.split(""),oe={hiLevel:v};return P||(P=[]),S(C,P,oe),function(ye,se,ae){if(ae.hiLevel!==0&&c)for(var de,Ae=0;Ae<ye.length;Ae++)se[Ae]===1&&(de=T.indexOf(ye[Ae]))>=0&&(ye[Ae]=T[de+1])}(C,P,oe),_(2,C,I,P,oe),_(1,C,I,P,oe),C.join("")};return this.__bidiEngine__.doBidiReorder=function(D,I,P){if(function(oe,ye){if(ye)for(var se=0;se<oe.length;se++)ye[se]=se;a===void 0&&(a=L(oe)),u===void 0&&(u=L(oe))}(D,I),o||!l||u)if(o&&l&&a^u)v=a?1:0,D=A(D,I,P);else if(!o&&l&&u)v=a?1:0,D=q(D,I,P),D=A(D,I);else if(!o||a||l||u){if(o&&!l&&a^u)D=A(D,I),a?(v=0,D=q(D,I,P)):(v=1,D=q(D,I,P),D=A(D,I));else if(o&&a&&!l&&u)v=1,D=q(D,I,P),D=A(D,I);else if(!o&&!l&&a^u){var C=c;a?(v=1,D=q(D,I,P),v=0,c=!1,D=q(D,I,P),c=C):(v=0,D=q(D,I,P),D=A(D,I),v=1,c=!1,D=q(D,I,P),c=C,D=A(D,I))}}else v=0,D=q(D,I,P);else v=a?1:0,D=q(D,I,P);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,l=D.isOutputVisual,a=D.isInputRtl,u=D.isOutputRtl,c=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Fl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new HY(this.contents),this.head=new GY(this),this.name=new JY(this),this.cmap=new g8(this),this.toUnicode={},this.hhea=new KY(this),this.maxp=new ZY(this),this.hmtx=new eQ(this),this.post=new YY(this),this.os2=new XY(this),this.loca=new iQ(this),this.glyf=new tQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var to,Fl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),HY=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,l,u,c,f,m,h,E,b;for(b in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),c=16*h-f,(i=new Fl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(c),s=16*h,u=i.pos+s,a=null,E=[],r)for(m=r[b],i.writeString(b),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),E=E.concat(m),b==="head"&&(a=u),u+=m.length;u%4;)E.push(0),u++;return i.write(E),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=y8.call(r);r.length%4;)r.push(0);for(s=new Fl(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),$Y={}.hasOwnProperty,zo=function(t,e){for(var r in e)$Y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};to=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var GY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Fl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),m6=function(){function t(e,r){var n,i,s,o,a,l,u,c,f,m,h,E,b,T,d,w,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,s=function(){var y,L;for(L=[],l=y=0;0<=m?y<m:y>m;l=0<=m?++y:--y)L.push(e.readUInt16());return L}(),e.pos+=2,b=function(){var y,L;for(L=[],l=y=0;0<=m?y<m:y>m;l=0<=m?++y:--y)L.push(e.readUInt16());return L}(),u=function(){var y,L;for(L=[],l=y=0;0<=m?y<m:y>m;l=0<=m?++y:--y)L.push(e.readUInt16());return L}(),c=function(){var y,L;for(L=[],l=y=0;0<=m?y<m:y>m;l=0<=m?++y:--y)L.push(e.readUInt16());return L}(),i=(this.length-e.pos+this.offset)/2,a=function(){var y,L;for(L=[],l=y=0;0<=i?y<i:y>i;l=0<=i?++y:--y)L.push(e.readUInt16());return L}(),l=d=0,v=s.length;d<v;l=++d)for(T=s[l],n=w=E=b[l];E<=T?w<=T:w>=T;n=E<=T?++w:--w)c[l]===0?o=n+u[l]:(o=a[c[l]/2+(n-E)-(m-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,i,s,o,a,l,u,c,f,m,h,E,b,T,d,w,v,y,L,W,A,S,_,q,D,I,P,C,oe,ye,se,ae,de,Ae,he,O,K,Q,ue,ee,j,B,ne,te,Y,re;switch(C=new Fl,o=Object.keys(e).sort(function(xe,V){return xe-V}),r){case"macroman":for(b=0,T=function(){var xe=[];for(E=0;E<256;++E)xe.push(0);return xe}(),w={0:0},s={},oe=0,de=o.length;oe<de;oe++)w[ne=e[i=o[oe]]]==null&&(w[ne]=++b),s[i]={old:e[i],new:w[e[i]]},T[i]=w[e[i]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(T),{charMap:s,subtable:C.data,maxGlyphID:b+1};case"unicode":for(I=[],f=[],v=0,w={},n={},d=u=null,ye=0,Ae=o.length;ye<Ae;ye++)w[L=e[i=o[ye]]]==null&&(w[L]=++v),n[i]={old:L,new:w[L]},a=w[L]-i,d!=null&&a===u||(d&&f.push(d),I.push(i),u=a),d=i;for(d&&f.push(d),f.push(65535),I.push(65535),q=2*(_=I.length),S=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(S/2)/Math.LN2,A=2*_-S,l=[],W=[],h=[],E=se=0,he=I.length;se<he;E=++se){if(D=I[E],c=f[E],D===65535){l.push(0),W.push(0);break}if(D-(P=n[D].new)>=32768)for(l.push(0),W.push(2*(h.length+_-E)),i=ae=D;D<=c?ae<=c:ae>=c;i=D<=c?++ae:--ae)h.push(n[i].new);else l.push(P-D),W.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*_+2*h.length),C.writeUInt16(0),C.writeUInt16(q),C.writeUInt16(S),C.writeUInt16(m),C.writeUInt16(A),j=0,O=f.length;j<O;j++)i=f[j],C.writeUInt16(i);for(C.writeUInt16(0),B=0,K=I.length;B<K;B++)i=I[B],C.writeUInt16(i);for(te=0,Q=l.length;te<Q;te++)a=l[te],C.writeUInt16(a);for(Y=0,ue=W.length;Y<ue;Y++)y=W[Y],C.writeUInt16(y);for(re=0,ee=h.length;re<ee;re++)b=h[re],C.writeUInt16(b);return{charMap:n,subtable:C.data,maxGlyphID:v+1}}},t}(),g8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new m6(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=m6.encode(e,r),(i=new Fl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),KY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),XY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),YY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),QY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},JY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,o,a,l,u,c,f,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,f=n.length;c<f;s=++c)i=n[s],e.pos=i.offset,u=e.readString(i.length),o=new QY(u,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),ZY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),eQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,m;for(m=[],u=0,c=(f=this.metrics).length;u<c;u++)s=f[u],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),y8=[].slice,tQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,o,a,l,u,c,f;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(a=new Fl(r.read(i))).readShort(),u=a.readShort(),f=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new nQ(a,u,f,l,c):new rQ(a,o,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,o,a,l;for(o=[],s=[],a=0,l=r.length;a<l;a++)i=e[r[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},t}(),rQ=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),nQ=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Fl(y8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),iQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,to),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},t}(),sQ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,l,u,c,f,m,h,E,b,T,d;for(i in n=g8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},d=n.charMap)h[(l=d[i]).old]=l.new;for(E in m=n.maxGlyphID,o)E in h||(h[E]=m++);return c=function(w){var v,y;for(v in y={},w)y[w[v]]=v;return y}(h),f=Object.keys(c).sort(function(w,v){return w-v}),b=function(){var w,v,y;for(y=[],w=0,v=f.length;w<v;w++)a=f[w],y.push(c[a]);return y}(),s=this.font.glyf.encode(o,b,h),u=this.font.loca.encode(s.offsets,b),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();vt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,u;for(u=[],a=0,l=r.length;a<l;a++)n=r[a],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();function oQ({documents:t,onUpdate:e,onDelete:r}){const[n,i]=Ye.useState(""),[s,o]=Ye.useState("all"),[a,l]=Ye.useState("all"),[u,c]=Ye.useState(null),[f,m]=Ye.useState(null),h=t.filter(A=>{const S=A.title.toLowerCase().includes(n.toLowerCase())||A.feature.toLowerCase().includes(n.toLowerCase()),_=s==="all"||A.status===s,q=a==="all"||A.testType===a;return S&&_&&q}),E=A=>{const S=L(A),_=new Blob([S],{type:"text/plain"}),q=URL.createObjectURL(_),D=document.createElement("a");D.href=q,D.download=`teste-${A.title.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(q),m(null)},b=A=>{const S=T(A),_=new Blob([S],{type:"text/markdown"}),q=URL.createObjectURL(_),D=document.createElement("a");D.href=q,D.download=`teste-${A.title.replace(/\s+/g,"-").toLowerCase()}.md`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(q),m(null)},T=A=>{let S=`# ${A.title}

`;return S+=`## Informaes Gerais

`,S+=`| Campo | Valor |
|-------|-------|
`,S+=`| Feature | ${A.feature} |
`,S+=`| Mdulo | ${A.module||"N/A"} |
`,S+=`| Tipo | ${A.testType} |
`,S+=`| Prioridade | ${A.priority} |
`,S+=`| Status | **${A.status.toUpperCase()}** |
`,S+=`| Testador | ${A.tester} |
`,S+=`| Ambiente | ${A.environment||"N/A"} |
`,S+=`| Data | ${new Date(A.createdAt).toLocaleString("pt-BR")} |

`,A.preconditions&&(S+=`## Pr-condies

${A.preconditions}

`),S+=`## Passos do Teste

`,A.steps.forEach((_,q)=>{S+=`### Passo ${q+1}

`,S+=`- **Ao:** ${_.action}
`,S+=`- **Esperado:** ${_.expectedResult}
`,S+=`- **Obtido:** ${_.actualResult}
`,S+=`- **Status:** ${_.status}

`}),A.elements&&A.elements.length>0&&A.elements[0].name&&(S+=`## Elementos da Interface

`,S+=`| Nome | Selector | Tipo |
|------|----------|------|
`,A.elements.forEach(_=>{_.name&&(S+=`| ${_.name} | \`${_.selector}\` | ${_.type} |
`)}),S+=`
`),A.screenshots&&A.screenshots.length>0&&(S+=`## Screenshots / Evidncias

`,A.screenshots.forEach((_,q)=>{S+=`![${_.name}](${_.url})

`})),A.observations&&(S+=`## Observaes

${A.observations}

`),S},d=async A=>{try{const _=await(await fetch(A)).blob();return new Promise(q=>{const D=new FileReader;D.onloadend=()=>q(D.result),D.readAsDataURL(_)})}catch(S){return console.error("Erro ao carregar imagem:",S),null}},w=async A=>{try{return await(await(await fetch(A)).blob()).arrayBuffer()}catch(S){return console.error("Erro ao carregar imagem:",S),null}},v=async A=>{const S=[new Hr({text:A.title,heading:dc.TITLE}),new Hr({text:`Feature: ${A.feature} | Mdulo: ${A.module||"N/A"}`,spacing:{after:200}}),new Hr({text:`Status: ${A.status.toUpperCase()} | Tipo: ${A.testType} | Prioridade: ${A.priority}`,spacing:{after:200}}),new Hr({text:`Testador: ${A.tester} | Ambiente: ${A.environment||"N/A"}`,spacing:{after:200}}),new Hr({text:`Data: ${new Date(A.createdAt).toLocaleString("pt-BR")}`,spacing:{after:400}})];if(A.preconditions&&S.push(new Hr({text:"Pr-condies",heading:dc.HEADING_1}),new Hr({text:A.preconditions,spacing:{after:300}})),S.push(new Hr({text:"Passos do Teste",heading:dc.HEADING_1})),A.steps.forEach((D,I)=>{S.push(new Hr({text:`Passo ${I+1}`,heading:dc.HEADING_2}),new Hr({children:[new xo({text:"Ao: ",bold:!0}),new xo(D.action)]}),new Hr({children:[new xo({text:"Esperado: ",bold:!0}),new xo(D.expectedResult)]}),new Hr({children:[new xo({text:"Obtido: ",bold:!0}),new xo(D.actualResult)]}),new Hr({children:[new xo({text:"Status: ",bold:!0}),new xo(D.status)],spacing:{after:200}}))}),A.screenshots&&A.screenshots.length>0){S.push(new Hr({text:"Screenshots / Evidncias",heading:dc.HEADING_1}));for(const D of A.screenshots)try{const I=await w(D.url);I&&S.push(new Hr({children:[new OH({data:I,transformation:{width:400,height:300},type:"jpg"})],spacing:{after:200}}),new Hr({text:D.name,spacing:{after:300}}))}catch{S.push(new Hr({text:`[Imagem: ${D.name}] - ${D.url}`,spacing:{after:200}}))}}A.observations&&S.push(new Hr({text:"Observaes",heading:dc.HEADING_1}),new Hr({text:A.observations}));const _=new ZG({sections:[{children:S}]}),q=await pK.toBlob(_);mK.saveAs(q,`teste-${A.title.replace(/\s+/g,"-").toLowerCase()}.docx`),m(null)},y=async A=>{const S=new vt;let _=20;const q=7,D=S.internal.pageSize.height,I=20,P=(C,oe=!1,ye=12)=>{_>D-20&&(S.addPage(),_=20),S.setFontSize(ye),S.setFont("helvetica",oe?"bold":"normal"),S.splitTextToSize(C,170).forEach(ae=>{_>D-20&&(S.addPage(),_=20),S.text(ae,I,_),_+=q})};if(P(A.title,!0,18),_+=5,P(`Feature: ${A.feature} | Mdulo: ${A.module||"N/A"}`),P(`Status: ${A.status.toUpperCase()} | Tipo: ${A.testType} | Prioridade: ${A.priority}`),P(`Testador: ${A.tester} | Ambiente: ${A.environment||"N/A"}`),P(`Data: ${new Date(A.createdAt).toLocaleString("pt-BR")}`),_+=10,A.preconditions&&(P("Pr-condies",!0,14),P(A.preconditions),_+=5),P("Passos do Teste",!0,14),A.steps.forEach((C,oe)=>{_+=3,P(`Passo ${oe+1}`,!0),P(`Ao: ${C.action}`),P(`Esperado: ${C.expectedResult}`),P(`Obtido: ${C.actualResult}`),P(`Status: ${C.status}`)}),A.screenshots&&A.screenshots.length>0){_+=10,P("Screenshots / Evidncias",!0,14),_+=5;for(const C of A.screenshots)try{const oe=await d(C.url);oe&&(_>D-80&&(S.addPage(),_=20),S.addImage(oe,"JPEG",I,_,80,60),_+=65,P(C.name),_+=5)}catch{P(`[Imagem: ${C.name}]`)}}A.observations&&(_+=5,P("Observaes",!0,14),P(A.observations)),S.save(`teste-${A.title.replace(/\s+/g,"-").toLowerCase()}.pdf`),m(null)},L=A=>{let S=`DOCUMENTO DE TESTE DE HOMOLOGAO
`;return S+=`${"=".repeat(50)}

`,S+=`Ttulo: ${A.title}
`,S+=`Feature: ${A.feature}
`,S+=`Mdulo: ${A.module||"N/A"}
`,S+=`Tipo: ${A.testType}
`,S+=`Prioridade: ${A.priority}
`,S+=`Status: ${A.status.toUpperCase()}
`,S+=`Testador: ${A.tester}
`,S+=`Ambiente: ${A.environment||"N/A"}
`,S+=`Data: ${new Date(A.createdAt).toLocaleString("pt-BR")}

`,A.preconditions&&(S+=`PR-CONDIES:
${"-".repeat(30)}
${A.preconditions}

`),S+=`PASSOS DO TESTE:
${"-".repeat(30)}
`,A.steps.forEach((_,q)=>{S+=`
Passo ${q+1}:
`,S+=`  Ao: ${_.action}
`,S+=`  Esperado: ${_.expectedResult}
`,S+=`  Obtido: ${_.actualResult}
`,S+=`  Status: ${_.status}
`}),A.elements&&A.elements.length>0&&A.elements[0].name&&(S+=`
ELEMENTOS DA INTERFACE:
${"-".repeat(30)}
`,A.elements.forEach(_=>{_.name&&(S+=`  - ${_.name}: ${_.selector} (${_.type})
`)})),A.observations&&(S+=`
OBSERVAES:
${"-".repeat(30)}
${A.observations}
`),A.evidences&&(S+=`
EVIDNCIAS:
${"-".repeat(30)}
${A.evidences}
`),S},W=({status:A})=>{switch(A){case"aprovado":return z.jsx($2,{className:"w-5 h-5 text-green-500"});case"reprovado":return z.jsx(HO,{className:"w-5 h-5 text-red-500"});default:return z.jsx(zN,{className:"w-5 h-5 text-yellow-500"})}};return z.jsxs("div",{className:"space-y-6",children:[z.jsx("div",{className:"flex items-center justify-between",children:z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documentos de Teste"}),z.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," documento(s) registrado(s)"]})]})}),z.jsx("div",{className:"card",children:z.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[z.jsxs("div",{className:"flex-1 relative",children:[z.jsx(qO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),z.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),className:"input-field pl-10",placeholder:"Buscar por ttulo ou feature..."})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"input-field w-40",children:[z.jsx("option",{value:"all",children:"Todos Status"}),z.jsx("option",{value:"pendente",children:"Pendente"}),z.jsx("option",{value:"aprovado",children:"Aprovado"}),z.jsx("option",{value:"reprovado",children:"Reprovado"}),z.jsx("option",{value:"bloqueado",children:"Bloqueado"})]}),z.jsxs("select",{value:a,onChange:A=>l(A.target.value),className:"input-field w-40",children:[z.jsx("option",{value:"all",children:"Todos Tipos"}),z.jsx("option",{value:"funcional",children:"Funcional"}),z.jsx("option",{value:"exploratorio",children:"Exploratrio"}),z.jsx("option",{value:"regressao",children:"Regresso"}),z.jsx("option",{value:"integracao",children:"Integrao"})]})]})]})}),h.length===0?z.jsxs("div",{className:"card text-center py-12",children:[z.jsx(i1,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.length===0?"Nenhum documento registrado":"Nenhum resultado encontrado"}),z.jsx("p",{className:"text-gray-600 mt-1",children:t.length===0?"Registre um teste para comear":"Tente ajustar os filtros de busca"})]}):z.jsx("div",{className:"grid gap-4",children:h.map(A=>z.jsx("div",{className:"card hover:shadow-md transition-shadow",children:z.jsxs("div",{className:"flex items-start justify-between",children:[z.jsxs("div",{className:"flex items-start space-x-3",children:[z.jsx(W,{status:A.status}),z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),z.jsxs("p",{className:"text-sm text-gray-600",children:[A.feature," ",A.module&&` ${A.module}`]}),z.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.jsx("span",{className:`badge ${A.status==="aprovado"?"badge-success":A.status==="reprovado"?"badge-error":"badge-warning"}`,children:A.status}),z.jsx("span",{className:"badge badge-info",children:A.testType}),z.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.createdAt).toLocaleDateString("pt-BR")})]})]})]}),z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx("button",{onClick:()=>c(A),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg",title:"Visualizar",children:z.jsx(jO,{className:"w-4 h-4"})}),z.jsxs("div",{className:"relative",children:[z.jsxs("button",{onClick:()=>m(f===A.id?null:A.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded-lg flex items-center",title:"Exportar",children:[z.jsx(vd,{className:"w-4 h-4"}),z.jsx(lE,{className:"w-3 h-3 ml-1"})]}),f===A.id&&z.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[z.jsx("button",{onClick:()=>E(A),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".txt"}),z.jsx("button",{onClick:()=>b(A),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".md (Markdown)"}),z.jsx("button",{onClick:()=>v(A),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".docx (Word)"}),z.jsx("button",{onClick:()=>y(A),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".pdf"})]})]}),z.jsx("button",{onClick:()=>r(A.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded-lg",title:"Excluir",children:z.jsx(Xc,{className:"w-4 h-4"})})]})]})},A.id))}),u&&z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:z.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[z.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[z.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u.title}),z.jsx("button",{onClick:()=>c(null),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:""})]}),z.jsxs("div",{className:"p-6 space-y-6",children:[z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Feature"}),z.jsx("p",{className:"font-medium",children:u.feature})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Mdulo"}),z.jsx("p",{className:"font-medium",children:u.module||"N/A"})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Tipo"}),z.jsx("p",{className:"font-medium capitalize",children:u.testType})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),z.jsx("span",{className:`badge ${u.status==="aprovado"?"badge-success":u.status==="reprovado"?"badge-error":"badge-warning"}`,children:u.status})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Testador"}),z.jsx("p",{className:"font-medium",children:u.tester})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Ambiente"}),z.jsx("p",{className:"font-medium",children:u.environment||"N/A"})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Prioridade"}),z.jsx("p",{className:"font-medium capitalize",children:u.priority})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500",children:"Data"}),z.jsx("p",{className:"font-medium",children:new Date(u.createdAt).toLocaleDateString("pt-BR")})]})]}),u.preconditions&&z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Pr-condies"}),z.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.preconditions})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Passos do Teste"}),z.jsx("div",{className:"space-y-3",children:u.steps.map((A,S)=>z.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[z.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Passo ",S+1]}),z.jsx("span",{className:`badge ${A.status==="passou"?"badge-success":A.status==="falhou"?"badge-error":"badge-warning"}`,children:A.status})]}),z.jsxs("div",{className:"space-y-1 text-sm",children:[z.jsxs("p",{children:[z.jsx("strong",{children:"Ao:"})," ",A.action]}),z.jsxs("p",{children:[z.jsx("strong",{children:"Esperado:"})," ",A.expectedResult]}),z.jsxs("p",{children:[z.jsx("strong",{children:"Obtido:"})," ",A.actualResult]})]})]},S))})]}),u.elements&&u.elements.some(A=>A.name)&&z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Elementos da Interface"}),z.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:z.jsxs("table",{className:"w-full text-sm",children:[z.jsx("thead",{children:z.jsxs("tr",{className:"text-left text-gray-500",children:[z.jsx("th",{className:"pb-2",children:"Nome"}),z.jsx("th",{className:"pb-2",children:"Selector"}),z.jsx("th",{className:"pb-2",children:"Tipo"})]})}),z.jsx("tbody",{children:u.elements.filter(A=>A.name).map((A,S)=>z.jsxs("tr",{children:[z.jsx("td",{className:"py-1",children:A.name}),z.jsx("td",{className:"py-1 font-mono text-xs",children:A.selector}),z.jsx("td",{className:"py-1",children:A.type})]},S))})]})})]}),u.screenshots&&u.screenshots.length>0&&z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Screenshots / Prints"}),z.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.screenshots.map((A,S)=>z.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:[z.jsx("img",{src:A.url,alt:A.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200 hover:border-primary-500 transition-colors"}),z.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:A.name})]},S))})]}),u.observations&&z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Observaes"}),z.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.observations})]})]}),z.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-4 flex justify-end space-x-2",children:[z.jsxs("div",{className:"relative",children:[z.jsxs("button",{onClick:()=>m(f==="modal"?null:"modal"),className:"btn-secondary flex items-center space-x-1",children:[z.jsx(vd,{className:"w-4 h-4"}),z.jsx("span",{children:"Exportar"}),z.jsx(lE,{className:"w-3 h-3"})]}),f==="modal"&&z.jsxs("div",{className:"absolute bottom-full right-0 mb-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[z.jsx("button",{onClick:()=>E(u),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".txt"}),z.jsx("button",{onClick:()=>b(u),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".md (Markdown)"}),z.jsx("button",{onClick:()=>v(u),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".docx (Word)"}),z.jsx("button",{onClick:()=>y(u),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:".pdf"})]})]}),z.jsx("button",{onClick:()=>c(null),className:"btn-primary",children:"Fechar"})]})]})})]})}function aQ({documents:t}){const[e,r]=Ye.useState(null),[n,i]=Ye.useState(""),[s,o]=Ye.useState(""),[a,l]=Ye.useState({gherkin:!1,playwright:!1}),u=m=>{var T;r(m);let h=`# language: pt

`;h+=`Funcionalidade: ${m.feature}
`,m.module&&(h+=`  # Mdulo: ${m.module}
`),h+=`  # Prioridade: ${m.priority}
`,h+=`  # Tipo: ${m.testType}

`,h+=`  Cenrio: ${m.title}
`,m.preconditions&&m.preconditions.split(`
`).filter(w=>w.trim()).forEach((w,v)=>{h+=`    ${v===0?"Dado":"E"} ${w.trim()}
`}),m.steps.forEach((d,w)=>{if(d.action){const v=w===0&&!m.preconditions?"Dado":"Quando";h+=`    ${v} ${d.action}
`}d.expectedResult&&(h+=`    Ento ${d.expectedResult}
`)}),i(h);let E=`import { test, expect } from '@playwright/test';

`;E+=`test.describe('${m.feature}', () => {
`,E+=`  test('${m.title}', async ({ page }) => {
`;const b=((T=m.elements)==null?void 0:T.filter(d=>d.name&&d.selector))||[];b.length>0&&(E+=`    // Selectors
`,b.forEach(d=>{const w=d.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase();E+=`    const ${w} = '${d.selector}';
`}),E+=`
`),E+=`    // Pr-condies
`,m.preconditions&&(E+=`    // ${m.preconditions.replace(/\n/g,`
    // `)}
`),E+=`    await page.goto('URL_DA_APLICACAO');

`,m.steps.forEach((d,w)=>{E+=`    // Passo ${w+1}: ${d.action||"N/A"}
`;const v=b.find(y=>{var L;return(L=d.action)==null?void 0:L.toLowerCase().includes(y.name.toLowerCase())});if(v){const y=v.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase();switch(v.type){case"button":E+=`    await page.click(${y});
`;break;case"input":E+=`    await page.fill(${y}, 'VALOR');
`;break;case"link":E+=`    await page.click(${y});
`;break;case"select":E+=`    await page.selectOption(${y}, 'VALOR');
`;break;case"checkbox":case"radio":E+=`    await page.check(${y});
`;break;case"text":E+=`    await expect(page.locator(${y})).toBeVisible();
`;break;default:E+=`    await page.locator(${y}).click();
`}}else E+=`    // TODO: Implementar ao
`;d.expectedResult&&(E+=`    // Esperado: ${d.expectedResult}
`,E+=`    // await expect(page.locator('SELECTOR')).toHaveText('TEXTO');
`),E+=`
`}),E+=`  });
`,E+=`});
`,o(E)},c=async(m,h)=>{await navigator.clipboard.writeText(m),l({...a,[h]:!0}),setTimeout(()=>l({...a,[h]:!1}),2e3)},f=(m,h)=>{const E=new Blob([m],{type:"text/plain"}),b=URL.createObjectURL(E),T=document.createElement("a");T.href=b,T.download=h,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(b)};return z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerador Gherkin & Playwright"}),z.jsx("p",{className:"text-gray-600 mt-1",children:"Selecione um documento de teste para gerar cenrios Gherkin e cdigo Playwright"})]}),z.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[z.jsx("div",{className:"lg:col-span-1",children:z.jsxs("div",{className:"card",children:[z.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Documentos Disponveis"}),t.length===0?z.jsxs("div",{className:"text-center py-8 text-gray-500",children:[z.jsx(i1,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),z.jsx("p",{className:"text-sm",children:"Nenhum documento disponvel"})]}):z.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:t.map(m=>z.jsxs("button",{onClick:()=>u(m),className:`w-full text-left p-3 rounded-lg border transition-colors ${(e==null?void 0:e.id)===m.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[z.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:m.title}),z.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.feature}),z.jsx("div",{className:"flex items-center gap-2 mt-2",children:z.jsx("span",{className:`badge text-xs ${m.status==="aprovado"?"badge-success":m.status==="reprovado"?"badge-error":"badge-warning"}`,children:m.status})})]},m.id))})]})}),z.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx(Bc,{className:"w-5 h-5 text-purple-600"}),z.jsx("h2",{className:"font-semibold text-gray-900",children:"Cenrio Gherkin"})]}),n&&z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx("button",{onClick:()=>c(n,"gherkin"),className:"btn-secondary text-sm flex items-center space-x-1",children:a.gherkin?z.jsxs(z.Fragment,{children:[z.jsx(G2,{className:"w-4 h-4 text-green-500"}),z.jsx("span",{children:"Copiado!"})]}):z.jsxs(z.Fragment,{children:[z.jsx(uE,{className:"w-4 h-4"}),z.jsx("span",{children:"Copiar"})]})}),z.jsxs("button",{onClick:()=>f(n,`${(e==null?void 0:e.feature)||"feature"}.feature`),className:"btn-secondary text-sm flex items-center space-x-1",children:[z.jsx(vd,{className:"w-4 h-4"}),z.jsx("span",{children:"Download"})]})]})]}),n?z.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:z.jsx("code",{children:n})}):z.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center text-gray-500",children:[z.jsx(Bc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),z.jsx("p",{children:"Selecione um documento para gerar o cenrio Gherkin"})]})]}),z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx(Bc,{className:"w-5 h-5 text-green-600"}),z.jsx("h2",{className:"font-semibold text-gray-900",children:"Cdigo Playwright"})]}),s&&z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx("button",{onClick:()=>c(s,"playwright"),className:"btn-secondary text-sm flex items-center space-x-1",children:a.playwright?z.jsxs(z.Fragment,{children:[z.jsx(G2,{className:"w-4 h-4 text-green-500"}),z.jsx("span",{children:"Copiado!"})]}):z.jsxs(z.Fragment,{children:[z.jsx(uE,{className:"w-4 h-4"}),z.jsx("span",{children:"Copiar"})]})}),z.jsxs("button",{onClick:()=>{var m;return f(s,`${((m=e==null?void 0:e.feature)==null?void 0:m.replace(/\s+/g,"-").toLowerCase())||"test"}.spec.ts`)},className:"btn-secondary text-sm flex items-center space-x-1",children:[z.jsx(vd,{className:"w-4 h-4"}),z.jsx("span",{children:"Download"})]})]})]}),s?z.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:z.jsx("code",{children:s})}):z.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center text-gray-500",children:[z.jsx(Bc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),z.jsx("p",{children:"Selecione um documento para gerar o cdigo Playwright"})]})]})]})]})]})}function lQ({requirements:t,onAdd:e,onUpdate:r,onDelete:n}){const[i,s]=Ye.useState(!1),[o,a]=Ye.useState(null),[l,u]=Ye.useState({name:"",description:"",inputClasses:[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:[{class:"",expectedResult:""}],boundaryValues:""}),c=()=>{u({name:"",description:"",inputClasses:[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:[{class:"",expectedResult:""}],boundaryValues:""})},f=(W,A,S)=>{const _=[...l.inputClasses];_[W][A]=S,u({...l,inputClasses:_})},m=()=>{u({...l,inputClasses:[...l.inputClasses,{class:"",validValues:"",invalidValues:"",representative:""}]})},h=W=>{l.inputClasses.length>1&&u({...l,inputClasses:l.inputClasses.filter((A,S)=>S!==W)})},E=(W,A,S)=>{const _=[...l.outputClasses];_[W][A]=S,u({...l,outputClasses:_})},b=()=>{u({...l,outputClasses:[...l.outputClasses,{class:"",expectedResult:""}]})},T=W=>{l.outputClasses.length>1&&u({...l,outputClasses:l.outputClasses.filter((A,S)=>S!==W)})},d=W=>{W.preventDefault(),o?(r(o,l),a(null)):e(l),c(),s(!1)},w=W=>{u({name:W.name,description:W.description,inputClasses:W.inputClasses||[{class:"",validValues:"",invalidValues:"",representative:""}],outputClasses:W.outputClasses||[{class:"",expectedResult:""}],boundaryValues:W.boundaryValues||""}),a(W.id),s(!0)},v=()=>{c(),a(null),s(!1)},y=W=>{var S;let A=`# language: pt

`;return A+=`# Requisito: ${W.name}
`,A+=`# ${W.description}

`,A+=`Funcionalidade: ${W.name}

`,(S=W.inputClasses)==null||S.forEach((_,q)=>{_.validValues&&(A+=`  @valido
`,A+=`  Esquema do Cenrio: ${W.name} - Valores vlidos para ${_.class}
`,A+=`    Dado que o usurio est na tela de ${W.name.toLowerCase()}
`,A+=`    Quando o usurio informa <valor> no campo "${_.class}"
`,A+=`    Ento o sistema deve aceitar o valor

`,A+=`    Exemplos:
`,A+=`      | valor |
`,_.validValues.split(",").forEach(D=>{A+=`      | ${D.trim()} |
`}),A+=`
`),_.invalidValues&&(A+=`  @invalido
`,A+=`  Esquema do Cenrio: ${W.name} - Valores invlidos para ${_.class}
`,A+=`    Dado que o usurio est na tela de ${W.name.toLowerCase()}
`,A+=`    Quando o usurio informa <valor> no campo "${_.class}"
`,A+=`    Ento o sistema deve rejeitar o valor
`,A+=`    E exibir mensagem de erro apropriada

`,A+=`    Exemplos:
`,A+=`      | valor |
`,_.invalidValues.split(",").forEach(D=>{A+=`      | ${D.trim()} |
`}),A+=`
`)}),W.boundaryValues&&(A+=`  @limite
`,A+=`  Cenrio: ${W.name} - Teste de valores limite
`,A+=`    # Valores limite: ${W.boundaryValues}
`,A+=`    Dado que o usurio est na tela de ${W.name.toLowerCase()}
`,A+=`    Quando o usurio testa os valores limite
`,A+=`    Ento o sistema deve comportar-se corretamente nos limites

`),A},L=W=>{const A=y(W),S=new Blob([A],{type:"text/plain"}),_=URL.createObjectURL(S),q=document.createElement("a");q.href=_,q.download=`${W.name.replace(/\s+/g,"-").toLowerCase()}.feature`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(_)};return z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tabela de Partio de Equivalncia"}),z.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie requisitos com classes de equivalncia e valores limite"})]}),!i&&z.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[z.jsx(X2,{className:"w-4 h-4"}),z.jsx("span",{children:"Novo Requisito"})]})]}),i&&z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:o?"Editar Requisito":"Novo Requisito"}),z.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700",children:z.jsx(M5,{className:"w-5 h-5"})})]}),z.jsxs("form",{onSubmit:d,className:"space-y-6",children:[z.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Requisito *"}),z.jsx("input",{type:"text",value:l.name,onChange:W=>u({...l,name:W.target.value}),className:"input-field",placeholder:"Ex: Validao de CPF",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),z.jsx("input",{type:"text",value:l.description,onChange:W=>u({...l,description:W.target.value}),className:"input-field",placeholder:"Descrio breve do requisito"})]})]}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-3",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classes de Entrada (Partio)"}),z.jsx("button",{type:"button",onClick:m,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"+ Adicionar Classe"})]}),z.jsx("div",{className:"space-y-3",children:l.inputClasses.map((W,A)=>z.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[z.jsxs("div",{className:"flex items-center justify-between mb-3",children:[z.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Classe ",A+1]}),l.inputClasses.length>1&&z.jsx("button",{type:"button",onClick:()=>h(A),className:"text-red-500 hover:text-red-700",children:z.jsx(Xc,{className:"w-4 h-4"})})]}),z.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Nome da Classe"}),z.jsx("input",{type:"text",value:W.class,onChange:S=>f(A,"class",S.target.value),className:"input-field",placeholder:"Ex: Idade"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valor Representativo"}),z.jsx("input",{type:"text",value:W.representative,onChange:S=>f(A,"representative",S.target.value),className:"input-field",placeholder:"Ex: 25"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valores Vlidos (separados por vrgula)"}),z.jsx("input",{type:"text",value:W.validValues,onChange:S=>f(A,"validValues",S.target.value),className:"input-field",placeholder:"Ex: 18, 25, 30, 65"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valores Invlidos (separados por vrgula)"}),z.jsx("input",{type:"text",value:W.invalidValues,onChange:S=>f(A,"invalidValues",S.target.value),className:"input-field",placeholder:"Ex: -1, 0, 150, abc"})]})]})]},A))})]}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-3",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classes de Sada"}),z.jsx("button",{type:"button",onClick:b,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"+ Adicionar Sada"})]}),z.jsx("div",{className:"space-y-3",children:l.outputClasses.map((W,A)=>z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("input",{type:"text",value:W.class,onChange:S=>E(A,"class",S.target.value),className:"input-field flex-1",placeholder:"Classe de sada"}),z.jsx("input",{type:"text",value:W.expectedResult,onChange:S=>E(A,"expectedResult",S.target.value),className:"input-field flex-1",placeholder:"Resultado esperado"}),l.outputClasses.length>1&&z.jsx("button",{type:"button",onClick:()=>T(A),className:"text-red-500 hover:text-red-700",children:z.jsx(Xc,{className:"w-4 h-4"})})]},A))})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valores Limite (Boundary)"}),z.jsx("textarea",{value:l.boundaryValues,onChange:W=>u({...l,boundaryValues:W.target.value}),className:"textarea-field",rows:"2",placeholder:"Ex: Mnimo: 0, Mximo: 120, Logo abaixo: -1, Logo acima: 121"})]}),z.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[z.jsx("button",{type:"button",onClick:v,className:"btn-secondary",children:"Cancelar"}),z.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[z.jsx(qN,{className:"w-4 h-4"}),z.jsx("span",{children:o?"Atualizar":"Salvar"})]})]})]})]}),t.length===0&&!i?z.jsxs("div",{className:"card text-center py-12",children:[z.jsx(j5,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum requisito cadastrado"}),z.jsx("p",{className:"text-gray-600 mt-1",children:"Adicione um requisito para criar tabelas de partio"})]}):z.jsx("div",{className:"space-y-4",children:t.map(W=>z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"flex items-start justify-between mb-4",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:W.name}),W.description&&z.jsx("p",{className:"text-gray-600 text-sm mt-1",children:W.description})]}),z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx("button",{onClick:()=>L(W),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded-lg",title:"Exportar Gherkin",children:z.jsx(vd,{className:"w-4 h-4"})}),z.jsx("button",{onClick:()=>w(W),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:z.jsx(zO,{className:"w-4 h-4"})}),z.jsx("button",{onClick:()=>n(W.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded-lg",title:"Excluir",children:z.jsx(Xc,{className:"w-4 h-4"})})]})]}),W.inputClasses&&W.inputClasses.some(A=>A.class)&&z.jsxs("div",{className:"mb-4",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Classes de Entrada"}),z.jsx("div",{className:"overflow-x-auto",children:z.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg",children:[z.jsx("thead",{className:"bg-gray-50",children:z.jsxs("tr",{children:[z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Classe"}),z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Valores Vlidos"}),z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Valores Invlidos"}),z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Representativo"})]})}),z.jsx("tbody",{children:W.inputClasses.filter(A=>A.class).map((A,S)=>z.jsxs("tr",{className:"border-t border-gray-200",children:[z.jsx("td",{className:"px-3 py-2 font-medium",children:A.class}),z.jsx("td",{className:"px-3 py-2 text-green-700",children:A.validValues||"-"}),z.jsx("td",{className:"px-3 py-2 text-red-700",children:A.invalidValues||"-"}),z.jsx("td",{className:"px-3 py-2",children:A.representative||"-"})]},S))})]})})]}),W.outputClasses&&W.outputClasses.some(A=>A.class)&&z.jsxs("div",{className:"mb-4",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Classes de Sada"}),z.jsx("div",{className:"overflow-x-auto",children:z.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg",children:[z.jsx("thead",{className:"bg-gray-50",children:z.jsxs("tr",{children:[z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Classe"}),z.jsx("th",{className:"px-3 py-2 text-left text-gray-600 font-medium",children:"Resultado Esperado"})]})}),z.jsx("tbody",{children:W.outputClasses.filter(A=>A.class).map((A,S)=>z.jsxs("tr",{className:"border-t border-gray-200",children:[z.jsx("td",{className:"px-3 py-2 font-medium",children:A.class}),z.jsx("td",{className:"px-3 py-2",children:A.expectedResult||"-"})]},S))})]})})]}),W.boundaryValues&&z.jsxs("div",{children:[z.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Valores Limite"}),z.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:W.boundaryValues})]})]},W.id))})]})}function uQ({onLogin:t}){const[e,r]=Ye.useState(""),[n,i]=Ye.useState(""),[s,o]=Ye.useState(!1),[a,l]=Ye.useState(null),u=async c=>{c.preventDefault(),o(!0),l(null);try{await Rz(e,n),t()}catch(f){console.error("Erro no login:",f),f.code==="auth/user-not-found"||f.code==="auth/wrong-password"||f.code==="auth/invalid-credential"?l("Email ou senha invlidos"):f.code==="auth/too-many-requests"?l("Muitas tentativas. Tente novamente mais tarde."):l("Erro ao fazer login. Tente novamente.")}finally{o(!1)}};return z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[z.jsxs("div",{className:"text-center mb-8",children:[z.jsx("img",{src:"/DocSimplesReports/logo.jpg",alt:"Logo",className:"w-16 h-16 mx-auto mb-4 rounded-full object-contain"}),z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DocSimples Reports"}),z.jsx("p",{className:"text-gray-500 mt-1",children:"Sistema de Documentao de Testes"})]}),z.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a&&z.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2",children:[z.jsx(VN,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),z.jsx("p",{className:"text-sm text-red-700",children:a})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),z.jsxs("div",{className:"relative",children:[z.jsx(UO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z.jsx("input",{type:"email",value:e,onChange:c=>r(c.target.value),className:"input-field pl-10",placeholder:"seu@email.com",required:!0,disabled:s})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),z.jsxs("div",{className:"relative",children:[z.jsx(BO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z.jsx("input",{type:"password",value:n,onChange:c=>i(c.target.value),className:"input-field pl-10",placeholder:"",required:!0,disabled:s})]})]}),z.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-3 flex items-center justify-center space-x-2",children:s?z.jsxs(z.Fragment,{children:[z.jsx(mg,{className:"w-5 h-5 animate-spin"}),z.jsx("span",{children:"Entrando..."})]}):z.jsx("span",{children:"Entrar"})})]}),z.jsx("p",{className:"text-center text-xs text-gray-400 mt-6",children:"Acesso restrito a colaboradores autorizados"})]})})}function cQ({user:t,onLogout:e}){const[r,n]=Ye.useState(!1),i=jd(),s=[{path:"/",label:"Incio",icon:MO},{path:"/registro",label:"Registrar Teste",icon:K2},{path:"/documentos",label:"Documentos",icon:i1},{path:"/gherkin",label:"Gerar Gherkin",icon:Bc},{path:"/particao",label:"Tabela Partio",icon:j5}];return z.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:z.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"flex justify-between h-16",children:[z.jsx("div",{className:"flex items-center",children:z.jsxs(Kc,{to:"/",className:"flex items-center space-x-2",children:[z.jsx("img",{src:"/DocSimplesReports/logo.jpg",alt:"Logo",className:"w-8 h-8 rounded-lg object-contain"}),z.jsx("span",{className:"font-bold text-xl text-gray-900",children:"DocSimples"})]})}),z.jsx("div",{className:"hidden md:flex items-center space-x-1",children:s.map(o=>{const a=o.icon,l=i.pathname===o.path;return z.jsxs(Kc,{to:o.path,className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[z.jsx(a,{className:"w-4 h-4"}),z.jsx("span",{children:o.label})]},o.path)})}),z.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[z.jsx("span",{className:"text-sm text-gray-600",children:t==null?void 0:t.email}),z.jsxs("button",{onClick:e,className:"flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[z.jsx(cE,{className:"w-4 h-4"}),z.jsx("span",{children:"Sair"})]})]}),z.jsx("div",{className:"md:hidden flex items-center",children:z.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:r?z.jsx(M5,{className:"w-6 h-6"}):z.jsx(VO,{className:"w-6 h-6"})})})]}),r&&z.jsxs("div",{className:"md:hidden pb-4",children:[s.map(o=>{const a=o.icon,l=i.pathname===o.path;return z.jsxs(Kc,{to:o.path,onClick:()=>n(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ${l?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"}`,children:[z.jsx(a,{className:"w-4 h-4"}),z.jsx("span",{children:o.label})]},o.path)}),z.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2",children:[z.jsx("p",{className:"px-3 py-1 text-xs text-gray-500",children:t==null?void 0:t.email}),z.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 w-full",children:[z.jsx(cE,{className:"w-4 h-4"}),z.jsx("span",{children:"Sair"})]})]})]})]})})}function hQ(){const[t,e]=Ye.useState(null),[r,n]=Ye.useState(!0),[i,s]=Ye.useState([]),[o,a]=Ye.useState([]),[l,u]=Ye.useState(!0),[c,f]=Ye.useState(null);Ye.useEffect(()=>{const v=Lz(y=>{e(y),n(!1)});return()=>v()},[]),Ye.useEffect(()=>{if(!t){u(!1);return}let v,y;try{v=Sz(L=>{s(L),u(!1)}),y=kz(L=>{a(L)})}catch(L){console.error("Erro ao conectar com Firebase:",L),f("Erro ao conectar com o banco de dados. Verifique a configurao do Firebase."),u(!1)}return()=>{v&&v(),y&&y()}},[t]);const m=async()=>{try{await Pz()}catch(v){console.error("Erro ao fazer logout:",v)}},h=async v=>{try{await xz(v)}catch(y){console.error("Erro ao adicionar documento:",y),alert("Erro ao salvar. Verifique a conexo.")}},E=async(v,y)=>{try{await Ez(v,y)}catch(L){console.error("Erro ao atualizar documento:",L)}},b=async v=>{try{await Az(v)}catch(y){console.error("Erro ao excluir documento:",y)}},T=async v=>{try{await Tz(v)}catch(y){console.error("Erro ao adicionar requisito:",y)}},d=async(v,y)=>{try{await Nz(v,y)}catch(L){console.error("Erro ao atualizar requisito:",L)}},w=async v=>{try{await Iz(v)}catch(y){console.error("Erro ao excluir requisito:",y)}};return r?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx(mg,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),z.jsx("p",{className:"text-gray-600",children:"Verificando autenticao..."})]})}):t?l?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx(mg,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),z.jsx("p",{className:"text-gray-600",children:"Conectando ao banco de dados..."})]})}):c?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"card max-w-md text-center",children:[z.jsx("p",{className:"text-red-600 font-medium",children:c}),z.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Configure as credenciais do Firebase em src/firebase.js"})]})}):z.jsx(CO,{children:z.jsxs("div",{className:"min-h-screen bg-gray-50",children:[z.jsx(cQ,{user:t,onLogout:m}),z.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:z.jsxs(EO,{children:[z.jsx(wc,{path:"/",element:z.jsx($O,{testDocuments:i,requirements:o})}),z.jsx(wc,{path:"/registro",element:z.jsx(Oz,{onSave:h})}),z.jsx(wc,{path:"/documentos",element:z.jsx(oQ,{documents:i,onUpdate:E,onDelete:b})}),z.jsx(wc,{path:"/gherkin",element:z.jsx(aQ,{documents:i})}),z.jsx(wc,{path:"/particao",element:z.jsx(lQ,{requirements:o,onAdd:T,onUpdate:d,onDelete:w})})]})})]})}):z.jsx(uQ,{onLogin:()=>{}})}Yv.createRoot(document.getElementById("root")).render(z.jsx(T6.StrictMode,{children:z.jsx(hQ,{})}));export{ur as _,af as c,iP as g};
